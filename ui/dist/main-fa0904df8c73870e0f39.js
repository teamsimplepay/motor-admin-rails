/*! For license information please see main-fa0904df8c73870e0f39.js.LICENSE.txt */
(()=>{var e={7757:(e,t,n)=>{e.exports=n(5666)},9292:function(e,t){!function(e){"use strict";var t,n=(function(e,t){e.exports=function(e){var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],i=e[1],r=e[2],o=e[3];i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+t[0]-680876936|0)<<7|n>>>25)+i|0)&i|~n&r)+t[1]-389564586|0)<<12|o>>>20)+n|0)&n|~o&i)+t[2]+606105819|0)<<17|r>>>15)+o|0)&o|~r&n)+t[3]-1044525330|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+t[4]-176418897|0)<<7|n>>>25)+i|0)&i|~n&r)+t[5]+1200080426|0)<<12|o>>>20)+n|0)&n|~o&i)+t[6]-1473231341|0)<<17|r>>>15)+o|0)&o|~r&n)+t[7]-45705983|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+t[8]+1770035416|0)<<7|n>>>25)+i|0)&i|~n&r)+t[9]-1958414417|0)<<12|o>>>20)+n|0)&n|~o&i)+t[10]-42063|0)<<17|r>>>15)+o|0)&o|~r&n)+t[11]-1990404162|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+t[12]+1804603682|0)<<7|n>>>25)+i|0)&i|~n&r)+t[13]-40341101|0)<<12|o>>>20)+n|0)&n|~o&i)+t[14]-1502002290|0)<<17|r>>>15)+o|0)&o|~r&n)+t[15]+1236535329|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+t[1]-165796510|0)<<5|n>>>27)+i|0)&r|i&~r)+t[6]-1069501632|0)<<9|o>>>23)+n|0)&i|n&~i)+t[11]+643717713|0)<<14|r>>>18)+o|0)&n|o&~n)+t[0]-373897302|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+t[5]-701558691|0)<<5|n>>>27)+i|0)&r|i&~r)+t[10]+38016083|0)<<9|o>>>23)+n|0)&i|n&~i)+t[15]-660478335|0)<<14|r>>>18)+o|0)&n|o&~n)+t[4]-405537848|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+t[9]+568446438|0)<<5|n>>>27)+i|0)&r|i&~r)+t[14]-1019803690|0)<<9|o>>>23)+n|0)&i|n&~i)+t[3]-187363961|0)<<14|r>>>18)+o|0)&n|o&~n)+t[8]+1163531501|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+t[13]-1444681467|0)<<5|n>>>27)+i|0)&r|i&~r)+t[2]-51403784|0)<<9|o>>>23)+n|0)&i|n&~i)+t[7]+1735328473|0)<<14|r>>>18)+o|0)&n|o&~n)+t[12]-1926607734|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+t[5]-378558|0)<<4|n>>>28)+i|0)^i^r)+t[8]-2022574463|0)<<11|o>>>21)+n|0)^n^i)+t[11]+1839030562|0)<<16|r>>>16)+o|0)^o^n)+t[14]-35309556|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+t[1]-1530992060|0)<<4|n>>>28)+i|0)^i^r)+t[4]+1272893353|0)<<11|o>>>21)+n|0)^n^i)+t[7]-155497632|0)<<16|r>>>16)+o|0)^o^n)+t[10]-1094730640|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+t[13]+681279174|0)<<4|n>>>28)+i|0)^i^r)+t[0]-358537222|0)<<11|o>>>21)+n|0)^n^i)+t[3]-722521979|0)<<16|r>>>16)+o|0)^o^n)+t[6]+76029189|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+t[9]-640364487|0)<<4|n>>>28)+i|0)^i^r)+t[12]-421815835|0)<<11|o>>>21)+n|0)^n^i)+t[15]+530742520|0)<<16|r>>>16)+o|0)^o^n)+t[2]-995338651|0)<<23|i>>>9)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+t[0]-198630844|0)<<6|n>>>26)+i|0)|~r))+t[7]+1126891415|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+t[14]-1416354905|0)<<15|r>>>17)+o|0)|~n))+t[5]-57434055|0)<<21|i>>>11)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+t[12]+1700485571|0)<<6|n>>>26)+i|0)|~r))+t[3]-1894986606|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+t[10]-1051523|0)<<15|r>>>17)+o|0)|~n))+t[1]-2054922799|0)<<21|i>>>11)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+t[8]+1873313359|0)<<6|n>>>26)+i|0)|~r))+t[15]-30611744|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+t[6]-1560198380|0)<<15|r>>>17)+o|0)|~n))+t[13]+1309151649|0)<<21|i>>>11)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+t[4]-145523070|0)<<6|n>>>26)+i|0)|~r))+t[11]-1120210379|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+t[2]+718787259|0)<<15|r>>>17)+o|0)|~n))+t[9]-343485551|0)<<21|i>>>11)+r|0,e[0]=n+e[0]|0,e[1]=i+e[1]|0,e[2]=r+e[2]|0,e[3]=o+e[3]|0}function i(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function o(e){var t,r,o,s,a,l,c=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)n(u,i(e.substring(t-64,t)));for(r=(e=e.substring(t-64)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(u,o),t=0;t<16;t+=1)o[t]=0;return s=(s=8*c).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),l=parseInt(s[1],16)||0,o[14]=a,o[15]=l,n(u,o),u}function s(e){var t,i,o,s,a,l,c=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)n(u,r(e.subarray(t-64,t)));for(i=(e=t-64<c?e.subarray(t-64):new Uint8Array(0)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<i;t+=1)o[t>>2]|=e[t]<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(u,o),t=0;t<16;t+=1)o[t]=0;return s=(s=8*c).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),l=parseInt(s[1],16)||0,o[14]=a,o[15]=l,n(u,o),u}function a(e){var n,i="";for(n=0;n<4;n+=1)i+=t[e>>8*n+4&15]+t[e>>8*n&15];return i}function l(e){var t;for(t=0;t<e.length;t+=1)e[t]=a(e[t]);return e.join("")}function c(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function u(e,t){var n,i=e.length,r=new ArrayBuffer(i),o=new Uint8Array(r);for(n=0;n<i;n+=1)o[n]=e.charCodeAt(n);return t?o:r}function d(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function h(e,t,n){var i=new Uint8Array(e.byteLength+t.byteLength);return i.set(new Uint8Array(e)),i.set(new Uint8Array(t),e.byteLength),n?i:i.buffer}function p(e){var t,n=[],i=e.length;for(t=0;t<i-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function f(){this.reset()}return l(o("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,i){var r,o,s,a,l=this.byteLength,c=t(n,l),u=l;return i!==e&&(u=t(i,l)),c>u?new ArrayBuffer(0):(r=u-c,o=new ArrayBuffer(r),s=new Uint8Array(o),a=new Uint8Array(this,c,r),s.set(a),o)}}(),f.prototype.append=function(e){return this.appendBinary(c(e)),this},f.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,r=this._buff.length;for(t=64;t<=r;t+=64)n(this._hash,i(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},f.prototype.end=function(e){var t,n,i=this._buff,r=i.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)o[t>>2]|=i.charCodeAt(t)<<(t%4<<3);return this._finish(o,r),n=l(this._hash),e&&(n=p(n)),this.reset(),n},f.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},f.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},f.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},f.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},f.prototype._finish=function(e,t){var i,r,o,s=t;if(e[s>>2]|=128<<(s%4<<3),s>55)for(n(this._hash,e),s=0;s<16;s+=1)e[s]=0;i=(i=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(i[2],16),o=parseInt(i[1],16)||0,e[14]=r,e[15]=o,n(this._hash,e)},f.hash=function(e,t){return f.hashBinary(c(e),t)},f.hashBinary=function(e,t){var n=l(o(e));return t?p(n):n},f.ArrayBuffer=function(){this.reset()},f.ArrayBuffer.prototype.append=function(e){var t,i=h(this._buff.buffer,e,!0),o=i.length;for(this._length+=e.byteLength,t=64;t<=o;t+=64)n(this._hash,r(i.subarray(t-64,t)));return this._buff=t-64<o?new Uint8Array(i.buffer.slice(t-64)):new Uint8Array(0),this},f.ArrayBuffer.prototype.end=function(e){var t,n,i=this._buff,r=i.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)o[t>>2]|=i[t]<<(t%4<<3);return this._finish(o,r),n=l(this._hash),e&&(n=p(n)),this.reset(),n},f.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},f.ArrayBuffer.prototype.getState=function(){var e=f.prototype.getState.call(this);return e.buff=d(e.buff),e},f.ArrayBuffer.prototype.setState=function(e){return e.buff=u(e.buff,!0),f.prototype.setState.call(this,e)},f.ArrayBuffer.prototype.destroy=f.prototype.destroy,f.ArrayBuffer.prototype._finish=f.prototype._finish,f.ArrayBuffer.hash=function(e,t){var n=l(s(new Uint8Array(e)));return t?p(n):n},f}()}(t={exports:{}},t.exports),t.exports),i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,s=function(){function e(t){i(this,e),this.file=t,this.chunkSize=2097152,this.chunkCount=Math.ceil(this.file.size/this.chunkSize),this.chunkIndex=0}return r(e,null,[{key:"create",value:function(t,n){new e(t).create(n)}}]),r(e,[{key:"create",value:function(e){var t=this;this.callback=e,this.md5Buffer=new n.ArrayBuffer,this.fileReader=new FileReader,this.fileReader.addEventListener("load",(function(e){return t.fileReaderDidLoad(e)})),this.fileReader.addEventListener("error",(function(e){return t.fileReaderDidError(e)})),this.readNextChunk()}},{key:"fileReaderDidLoad",value:function(e){if(this.md5Buffer.append(e.target.result),!this.readNextChunk()){var t=this.md5Buffer.end(!0),n=btoa(t);this.callback(null,n)}}},{key:"fileReaderDidError",value:function(e){this.callback("Error reading "+this.file.name)}},{key:"readNextChunk",value:function(){if(this.chunkIndex<this.chunkCount||0==this.chunkIndex&&0==this.chunkCount){var e=this.chunkIndex*this.chunkSize,t=Math.min(e+this.chunkSize,this.file.size),n=o.call(this.file,e,t);return this.fileReader.readAsArrayBuffer(n),this.chunkIndex++,!0}return!1}}]),e}();function a(e,t){return"string"==typeof e&&(t=e,e=document),e.querySelector(t)}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.disabled,r=n.bubbles,o=n.cancelable,s=n.detail,a=document.createEvent("Event");a.initEvent(t,r||!0,o||!0),a.detail=s||{};try{e.disabled=!1,e.dispatchEvent(a)}finally{e.disabled=i}return a}function c(e){return Array.isArray(e)?e:Array.from?Array.from(e):[].slice.call(e)}var u=function(){function e(t,n,r){var o=this;i(this,e),this.file=t,this.attributes={filename:t.name,content_type:t.type||"application/octet-stream",byte_size:t.size,checksum:n},this.xhr=new XMLHttpRequest,this.xhr.open("POST",r,!0),this.xhr.responseType="json",this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.setRequestHeader("Accept","application/json"),this.xhr.setRequestHeader("X-Requested-With","XMLHttpRequest");var s=function(e){var t=a(document.head,'meta[name="'+e+'"]');if(t)return t.getAttribute("content")}("csrf-token");null!=s&&this.xhr.setRequestHeader("X-CSRF-Token",s),this.xhr.addEventListener("load",(function(e){return o.requestDidLoad(e)})),this.xhr.addEventListener("error",(function(e){return o.requestDidError(e)}))}return r(e,[{key:"create",value:function(e){this.callback=e,this.xhr.send(JSON.stringify({blob:this.attributes}))}},{key:"requestDidLoad",value:function(e){if(this.status>=200&&this.status<300){var t=this.response,n=t.direct_upload;delete t.direct_upload,this.attributes=t,this.directUploadData=n,this.callback(null,this.toJSON())}else this.requestDidError(e)}},{key:"requestDidError",value:function(e){this.callback('Error creating Blob for "'+this.file.name+'". Status: '+this.status)}},{key:"toJSON",value:function(){var e={};for(var t in this.attributes)e[t]=this.attributes[t];return e}},{key:"status",get:function(){return this.xhr.status}},{key:"response",get:function(){var e=this.xhr,t=e.responseType,n=e.response;return"json"==t?n:JSON.parse(n)}}]),e}(),d=function(){function e(t){var n=this;i(this,e),this.blob=t,this.file=t.file;var r=t.directUploadData,o=r.url,s=r.headers;for(var a in this.xhr=new XMLHttpRequest,this.xhr.open("PUT",o,!0),this.xhr.responseType="text",s)this.xhr.setRequestHeader(a,s[a]);this.xhr.addEventListener("load",(function(e){return n.requestDidLoad(e)})),this.xhr.addEventListener("error",(function(e){return n.requestDidError(e)}))}return r(e,[{key:"create",value:function(e){this.callback=e,this.xhr.send(this.file.slice())}},{key:"requestDidLoad",value:function(e){var t=this.xhr,n=t.status,i=t.response;n>=200&&n<300?this.callback(null,i):this.requestDidError(e)}},{key:"requestDidError",value:function(e){this.callback('Error storing "'+this.file.name+'". Status: '+this.xhr.status)}}]),e}(),h=0,p=function(){function e(t,n,r){i(this,e),this.id=++h,this.file=t,this.url=n,this.delegate=r}return r(e,[{key:"create",value:function(e){var t=this;s.create(this.file,(function(n,i){if(n)e(n);else{var r=new u(t.file,i,t.url);f(t.delegate,"directUploadWillCreateBlobWithXHR",r.xhr),r.create((function(n){if(n)e(n);else{var i=new d(r);f(t.delegate,"directUploadWillStoreFileWithXHR",i.xhr),i.create((function(t){t?e(t):e(null,r.toJSON())}))}}))}}))}}]),e}();function f(e,t){if(e&&"function"==typeof e[t]){for(var n=arguments.length,i=Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return e[t].apply(e,i)}}var m=function(){function e(t,n){i(this,e),this.input=t,this.file=n,this.directUpload=new p(this.file,this.url,this),this.dispatch("initialize")}return r(e,[{key:"start",value:function(e){var t=this,n=document.createElement("input");n.type="hidden",n.name=this.input.name,this.input.insertAdjacentElement("beforebegin",n),this.dispatch("start"),this.directUpload.create((function(i,r){i?(n.parentNode.removeChild(n),t.dispatchError(i)):n.value=r.signed_id,t.dispatch("end"),e(i)}))}},{key:"uploadRequestDidProgress",value:function(e){var t=e.loaded/e.total*100;t&&this.dispatch("progress",{progress:t})}},{key:"dispatch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.file=this.file,t.id=this.directUpload.id,l(this.input,"direct-upload:"+e,{detail:t})}},{key:"dispatchError",value:function(e){this.dispatch("error",{error:e}).defaultPrevented||alert(e)}},{key:"directUploadWillCreateBlobWithXHR",value:function(e){this.dispatch("before-blob-request",{xhr:e})}},{key:"directUploadWillStoreFileWithXHR",value:function(e){var t=this;this.dispatch("before-storage-request",{xhr:e}),e.upload.addEventListener("progress",(function(e){return t.uploadRequestDidProgress(e)}))}},{key:"url",get:function(){return this.input.getAttribute("data-direct-upload-url")}}]),e}(),g=function(){function e(t){var n,r;i(this,e),this.form=t,this.inputs=(n=t,r="input[type=file][data-direct-upload-url]:not([disabled])","string"==typeof n&&(r=n,n=document),c(n.querySelectorAll(r))).filter((function(e){return e.files.length}))}return r(e,[{key:"start",value:function(e){var t=this,n=this.createDirectUploadControllers();this.dispatch("start"),function i(){var r=n.shift();r?r.start((function(n){n?(e(n),t.dispatch("end")):i()})):(e(),t.dispatch("end"))}()}},{key:"createDirectUploadControllers",value:function(){var e=[];return this.inputs.forEach((function(t){c(t.files).forEach((function(n){var i=new m(t,n);e.push(i)}))})),e}},{key:"dispatch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l(this.form,"direct-uploads:"+e,{detail:t})}}]),e}(),v="data-direct-uploads-processing",y=new WeakMap,b=!1;function w(){b||(b=!0,document.addEventListener("click",_,!0),document.addEventListener("submit",x),document.addEventListener("ajax:before",k))}function _(e){var t=e.target;"INPUT"!=t.tagName&&"BUTTON"!=t.tagName||"submit"!=t.type||!t.form||y.set(t.form,t)}function x(e){C(e)}function k(e){"FORM"==e.target.tagName&&C(e)}function C(e){var t=e.target;if(t.hasAttribute(v))e.preventDefault();else{var n=new g(t),i=n.inputs;i.length&&(e.preventDefault(),t.setAttribute(v,""),i.forEach(S),n.start((function(e){t.removeAttribute(v),e?i.forEach(A):function(e){var t=y.get(e)||a(e,"input[type=submit], button[type=submit]");if(t){var n=t.disabled;t.disabled=!1,t.focus(),t.click(),t.disabled=n}else(t=document.createElement("input")).type="submit",t.style.display="none",e.appendChild(t),t.click(),e.removeChild(t);y.delete(e)}(t)})))}}function S(e){e.disabled=!0}function A(e){e.disabled=!1}setTimeout((function(){window.ActiveStorage&&w()}),1),e.start=w,e.DirectUpload=p,Object.defineProperty(e,"__esModule",{value:!0})}(t)},2262:(e,t,n)=>{"use strict";n.d(t,{Bj:()=>s,qq:()=>v,Fl:()=>Fe,X3:()=>_e,PG:()=>be,dq:()=>De,Xl:()=>ke,Jd:()=>_,WL:()=>Le,qj:()=>me,iH:()=>Oe,lk:()=>x,Um:()=>ge,XI:()=>Te,IU:()=>xe,j:()=>k,X$:()=>A,SU:()=>Me});var i=n(3577);let r;const o=[];class s{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&r&&(this.parent=r,this.index=(r.scopes||(r.scopes=[])).push(this)-1)}run(e){if(this.active)try{return this.on(),e()}finally{this.off()}}on(){this.active&&(o.push(this),r=this)}off(){this.active&&(o.pop(),r=o[o.length-1])}stop(e){if(this.active){if(this.effects.forEach((e=>e.stop())),this.cleanups.forEach((e=>e())),this.scopes&&this.scopes.forEach((e=>e.stop(!0))),this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.active=!1}}}const a=e=>{const t=new Set(e);return t.w=0,t.n=0,t},l=e=>(e.w&h)>0,c=e=>(e.n&h)>0,u=new WeakMap;let d=0,h=1;const p=[];let f;const m=Symbol(""),g=Symbol("");class v{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],function(e,t){(t=t||r)&&t.active&&t.effects.push(e)}(this,n)}run(){if(!this.active)return this.fn();if(!p.includes(this))try{return p.push(f=this),w.push(b),b=!0,h=1<<++d,d<=30?(({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=h})(this):y(this),this.fn()}finally{d<=30&&(e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const r=t[i];l(r)&&!c(r)?r.delete(e):t[n++]=r,r.w&=~h,r.n&=~h}t.length=n}})(this),h=1<<--d,x(),p.pop();const e=p.length;f=e>0?p[e-1]:void 0}}stop(){this.active&&(y(this),this.onStop&&this.onStop(),this.active=!1)}}function y(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let b=!0;const w=[];function _(){w.push(b),b=!1}function x(){const e=w.pop();b=void 0===e||e}function k(e,t,n){if(!C())return;let i=u.get(e);i||u.set(e,i=new Map);let r=i.get(n);r||i.set(n,r=a()),S(r)}function C(){return b&&void 0!==f}function S(e,t){let n=!1;d<=30?c(e)||(e.n|=h,n=!l(e)):n=!e.has(f),n&&(e.add(f),f.deps.push(e))}function A(e,t,n,r,o,s){const l=u.get(e);if(!l)return;let c=[];if("clear"===t)c=[...l.values()];else if("length"===n&&(0,i.kJ)(e))l.forEach(((e,t)=>{("length"===t||t>=r)&&c.push(e)}));else switch(void 0!==n&&c.push(l.get(n)),t){case"add":(0,i.kJ)(e)?(0,i.S0)(n)&&c.push(l.get("length")):(c.push(l.get(m)),(0,i._N)(e)&&c.push(l.get(g)));break;case"delete":(0,i.kJ)(e)||(c.push(l.get(m)),(0,i._N)(e)&&c.push(l.get(g)));break;case"set":(0,i._N)(e)&&c.push(l.get(m))}if(1===c.length)c[0]&&D(c[0]);else{const e=[];for(const t of c)t&&e.push(...t);D(a(e))}}function D(e,t){for(const t of(0,i.kJ)(e)?e:[...e])(t!==f||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const O=(0,i.fY)("__proto__,__v_isRef,__isVue"),T=new Set(Object.getOwnPropertyNames(Symbol).map((e=>Symbol[e])).filter(i.yk)),E=P(),$=P(!1,!0),M=P(!0),R=L();function L(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=xe(this);for(let e=0,t=this.length;e<t;e++)k(n,0,e+"");const i=n[t](...e);return-1===i||!1===i?n[t](...e.map(xe)):i}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){_();const n=xe(this)[t].apply(this,e);return x(),n}})),e}function P(e=!1,t=!1){return function(n,r,o){if("__v_isReactive"===r)return!e;if("__v_isReadonly"===r)return e;if("__v_raw"===r&&o===(e?t?fe:pe:t?he:de).get(n))return n;const s=(0,i.kJ)(n);if(!e&&s&&(0,i.RI)(R,r))return Reflect.get(R,r,o);const a=Reflect.get(n,r,o);return((0,i.yk)(r)?T.has(r):O(r))?a:(e||k(n,0,r),t?a:De(a)?s&&(0,i.S0)(r)?a:a.value:(0,i.Kn)(a)?e?ve(a):me(a):a)}}const F=j(),I=j(!0);function j(e=!1){return function(t,n,r,o){let s=t[n];if(!e&&(r=xe(r),s=xe(s),!(0,i.kJ)(t)&&De(s)&&!De(r)))return s.value=r,!0;const a=(0,i.kJ)(t)&&(0,i.S0)(n)?Number(n)<t.length:(0,i.RI)(t,n),l=Reflect.set(t,n,r,o);return t===xe(o)&&(a?(0,i.aU)(r,s)&&A(t,"set",n,r):A(t,"add",n,r)),l}}const N={get:E,set:F,deleteProperty:function(e,t){const n=(0,i.RI)(e,t),r=(e[t],Reflect.deleteProperty(e,t));return r&&n&&A(e,"delete",t,void 0),r},has:function(e,t){const n=Reflect.has(e,t);return(0,i.yk)(t)&&T.has(t)||k(e,0,t),n},ownKeys:function(e){return k(e,0,(0,i.kJ)(e)?"length":m),Reflect.ownKeys(e)}},V={get:M,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},B=(0,i.l7)({},N,{get:$,set:I}),q=e=>(0,i.Kn)(e)?me(e):e,z=e=>(0,i.Kn)(e)?ve(e):e,W=e=>e,U=e=>Reflect.getPrototypeOf(e);function H(e,t,n=!1,i=!1){const r=xe(e=e.__v_raw),o=xe(t);t!==o&&!n&&k(r,0,t),!n&&k(r,0,o);const{has:s}=U(r),a=i?W:n?z:q;return s.call(r,t)?a(e.get(t)):s.call(r,o)?a(e.get(o)):void(e!==r&&e.get(t))}function K(e,t=!1){const n=this.__v_raw,i=xe(n),r=xe(e);return e!==r&&!t&&k(i,0,e),!t&&k(i,0,r),e===r?n.has(e):n.has(e)||n.has(r)}function Z(e,t=!1){return e=e.__v_raw,!t&&k(xe(e),0,m),Reflect.get(e,"size",e)}function G(e){e=xe(e);const t=xe(this);return U(t).has.call(t,e)||(t.add(e),A(t,"add",e,e)),this}function Y(e,t){t=xe(t);const n=xe(this),{has:r,get:o}=U(n);let s=r.call(n,e);s||(e=xe(e),s=r.call(n,e));const a=o.call(n,e);return n.set(e,t),s?(0,i.aU)(t,a)&&A(n,"set",e,t):A(n,"add",e,t),this}function Q(e){const t=xe(this),{has:n,get:i}=U(t);let r=n.call(t,e);r||(e=xe(e),r=n.call(t,e)),i&&i.call(t,e);const o=t.delete(e);return r&&A(t,"delete",e,void 0),o}function J(){const e=xe(this),t=0!==e.size,n=e.clear();return t&&A(e,"clear",void 0,void 0),n}function X(e,t){return function(n,i){const r=this,o=r.__v_raw,s=xe(o),a=t?W:e?z:q;return!e&&k(s,0,m),o.forEach(((e,t)=>n.call(i,a(e),a(t),r)))}}function ee(e,t,n){return function(...r){const o=this.__v_raw,s=xe(o),a=(0,i._N)(s),l="entries"===e||e===Symbol.iterator&&a,c="keys"===e&&a,u=o[e](...r),d=n?W:t?z:q;return!t&&k(s,0,c?g:m),{next(){const{value:e,done:t}=u.next();return t?{value:e,done:t}:{value:l?[d(e[0]),d(e[1])]:d(e),done:t}},[Symbol.iterator](){return this}}}}function te(e){return function(...t){return"delete"!==e&&this}}function ne(){const e={get(e){return H(this,e)},get size(){return Z(this)},has:K,add:G,set:Y,delete:Q,clear:J,forEach:X(!1,!1)},t={get(e){return H(this,e,!1,!0)},get size(){return Z(this)},has:K,add:G,set:Y,delete:Q,clear:J,forEach:X(!1,!0)},n={get(e){return H(this,e,!0)},get size(){return Z(this,!0)},has(e){return K.call(this,e,!0)},add:te("add"),set:te("set"),delete:te("delete"),clear:te("clear"),forEach:X(!0,!1)},i={get(e){return H(this,e,!0,!0)},get size(){return Z(this,!0)},has(e){return K.call(this,e,!0)},add:te("add"),set:te("set"),delete:te("delete"),clear:te("clear"),forEach:X(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((r=>{e[r]=ee(r,!1,!1),n[r]=ee(r,!0,!1),t[r]=ee(r,!1,!0),i[r]=ee(r,!0,!0)})),[e,n,t,i]}const[ie,re,oe,se]=ne();function ae(e,t){const n=t?e?se:oe:e?re:ie;return(t,r,o)=>"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get((0,i.RI)(n,r)&&r in t?n:t,r,o)}const le={get:ae(!1,!1)},ce={get:ae(!1,!0)},ue={get:ae(!0,!1)},de=new WeakMap,he=new WeakMap,pe=new WeakMap,fe=new WeakMap;function me(e){return e&&e.__v_isReadonly?e:ye(e,!1,N,le,de)}function ge(e){return ye(e,!1,B,ce,he)}function ve(e){return ye(e,!0,V,ue,pe)}function ye(e,t,n,r,o){if(!(0,i.Kn)(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const s=o.get(e);if(s)return s;const a=(l=e).__v_skip||!Object.isExtensible(l)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((0,i.W7)(l));var l;if(0===a)return e;const c=new Proxy(e,2===a?r:n);return o.set(e,c),c}function be(e){return we(e)?be(e.__v_raw):!(!e||!e.__v_isReactive)}function we(e){return!(!e||!e.__v_isReadonly)}function _e(e){return be(e)||we(e)}function xe(e){const t=e&&e.__v_raw;return t?xe(t):e}function ke(e){return(0,i.Nj)(e,"__v_skip",!0),e}function Ce(e){C()&&((e=xe(e)).dep||(e.dep=a()),S(e.dep))}function Se(e,t){(e=xe(e)).dep&&D(e.dep)}const Ae=e=>(0,i.Kn)(e)?me(e):e;function De(e){return Boolean(e&&!0===e.__v_isRef)}function Oe(e){return $e(e)}function Te(e){return $e(e,!0)}class Ee{constructor(e,t=!1){this._shallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:xe(e),this._value=t?e:Ae(e)}get value(){return Ce(this),this._value}set value(e){e=this._shallow?e:xe(e),(0,i.aU)(e,this._rawValue)&&(this._rawValue=e,this._value=this._shallow?e:Ae(e),Se(this))}}function $e(e,t=!1){return De(e)?e:new Ee(e,t)}function Me(e){return De(e)?e.value:e}const Re={get:(e,t,n)=>Me(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const r=e[t];return De(r)&&!De(n)?(r.value=n,!0):Reflect.set(e,t,n,i)}};function Le(e){return be(e)?e:new Proxy(e,Re)}class Pe{constructor(e,t,n){this._setter=t,this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this.effect=new v(e,(()=>{this._dirty||(this._dirty=!0,Se(this))})),this.__v_isReadonly=n}get value(){const e=xe(this);return Ce(e),e._dirty&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Fe(e,t){let n,r;return(0,i.mf)(e)?(n=e,r=i.dG):(n=e.get,r=e.set),new Pe(n,r,(0,i.mf)(e)||!e.set)}Promise.resolve()},6252:(e,t,n)=>{"use strict";n.d(t,{P$:()=>D,HY:()=>We,Ob:()=>N,$d:()=>Pt,j4:()=>tt,kq:()=>dt,iD:()=>et,_:()=>at,Us:()=>Re,Uk:()=>ut,Wm:()=>lt,RC:()=>F,aZ:()=>L,FN:()=>St,Q6:()=>R,h:()=>hn,f3:()=>C,dG:()=>mt,Y3:()=>Yt,ic:()=>J,wg:()=>Ye,Cn:()=>v,JJ:()=>k,dD:()=>g,Ko:()=>gt,WI:()=>vt,up:()=>je,Q2:()=>Be,LL:()=>Ve,U2:()=>T,qZ:()=>Je,nK:()=>M,Y8:()=>S,YP:()=>an,m0:()=>on,w5:()=>y,wy:()=>De});var i=n(2262),r=n(3577);let o;new Set,new Map;const s=c("component:added"),a=c("component:updated"),l=c("component:removed");function c(e){return t=>{o&&o.emit(e,t.appContext.app,t.uid,t.parent?t.parent.uid:void 0,t)}}function u(e,t,...n){const i=e.vnode.props||r.kT;let s=n;const a=t.startsWith("update:"),l=a&&t.slice(7);if(l&&l in i){const e=`${"modelValue"===l?"model":l}Modifiers`,{number:t,trim:o}=i[e]||r.kT;o?s=n.map((e=>e.trim())):t&&(s=n.map(r.He))}let c;__VUE_PROD_DEVTOOLS__&&function(e,t,n){o&&o.emit("component:emit",e.appContext.app,e,t,n)}(e,t,s);let u=i[c=(0,r.hR)(t)]||i[c=(0,r.hR)((0,r._A)(t))];!u&&a&&(u=i[c=(0,r.hR)((0,r.rs)(t))]),u&&Pt(u,e,6,s);const d=i[c+"Once"];if(d){if(e.emitted){if(e.emitted[c])return}else e.emitted={};e.emitted[c]=!0,Pt(d,e,6,s)}}function d(e,t,n=!1){const i=t.emitsCache,o=i.get(e);if(void 0!==o)return o;const s=e.emits;let a={},l=!1;if(__VUE_OPTIONS_API__&&!(0,r.mf)(e)){const i=e=>{const n=d(e,t,!0);n&&(l=!0,(0,r.l7)(a,n))};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}return s||l?((0,r.kJ)(s)?s.forEach((e=>a[e]=null)):(0,r.l7)(a,s),i.set(e,a),a):(i.set(e,null),null)}function h(e,t){return!(!e||!(0,r.F7)(t))&&(t=t.slice(2).replace(/Once$/,""),(0,r.RI)(e,t[0].toLowerCase()+t.slice(1))||(0,r.RI)(e,(0,r.rs)(t))||(0,r.RI)(e,t))}Object.create(null),Object.create(null);let p=null,f=null;function m(e){const t=p;return p=e,f=e&&e.type.__scopeId||null,t}function g(e){f=e}function v(){f=null}function y(e,t=p,n){if(!t)return e;if(e._n)return e;const i=(...n)=>{i._d&&Je(-1);const r=m(t),o=e(...n);return m(r),i._d&&Je(1),__VUE_PROD_DEVTOOLS__&&a(t),o};return i._n=!0,i._c=!0,i._d=!0,i}function b(e){const{type:t,vnode:n,proxy:i,withProxy:o,props:s,propsOptions:[a],slots:l,attrs:c,emit:u,render:d,renderCache:h,data:p,setupState:f,ctx:g,inheritAttrs:v}=e;let y;const b=m(e);try{let e;if(4&n.shapeFlag){const t=o||i;y=ht(d.call(t,t,h,s,f,p,g)),e=c}else{const n=t;y=ht(n.length>1?n(s,{attrs:c,slots:l,emit:u}):n(s,null)),e=t.props?c:w(c)}let m=y;if(e&&!1!==v){const t=Object.keys(e),{shapeFlag:n}=m;t.length&&(1&n||6&n)&&(a&&t.some(r.tR)&&(e=_(e,a)),m=ct(m,e))}n.dirs&&(m.dirs=m.dirs?m.dirs.concat(n.dirs):n.dirs),n.transition&&(m.transition=n.transition),y=m}catch(t){Ze.length=0,Ft(t,e,1),y=lt(He)}return m(b),y}const w=e=>{let t;for(const n in e)("class"===n||"style"===n||(0,r.F7)(n))&&((t||(t={}))[n]=e[n]);return t},_=(e,t)=>{const n={};for(const i in e)(0,r.tR)(i)&&i.slice(9)in t||(n[i]=e[i]);return n};function x(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const o=i[r];if(t[o]!==e[o]&&!h(n,o))return!0}return!1}function k(e,t){if(Ct){let n=Ct.provides;const i=Ct.parent&&Ct.parent.provides;i===n&&(n=Ct.provides=Object.create(i)),n[e]=t}}function C(e,t,n=!1){const i=Ct||p;if(i){const o=null==i.parent?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&(0,r.mf)(t)?t.call(i.proxy):t}}function S(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Y((()=>{e.isMounted=!0})),X((()=>{e.isUnmounting=!0})),e}const A=[Function,Array],D={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:A,onEnter:A,onAfterEnter:A,onEnterCancelled:A,onBeforeLeave:A,onLeave:A,onAfterLeave:A,onLeaveCancelled:A,onBeforeAppear:A,onAppear:A,onAfterAppear:A,onAppearCancelled:A},setup(e,{slots:t}){const n=St(),r=S();let o;return()=>{const s=t.default&&R(t.default(),!0);if(!s||!s.length)return;const a=(0,i.IU)(e),{mode:l}=a,c=s[0];if(r.isLeaving)return E(c);const u=$(c);if(!u)return E(c);const d=T(u,a,r,n);M(u,d);const h=n.subTree,p=h&&$(h);let f=!1;const{getTransitionKey:m}=u.type;if(m){const e=m();void 0===o?o=e:e!==o&&(o=e,f=!0)}if(p&&p.type!==He&&(!it(u,p)||f)){const e=T(p,a,r,n);if(M(p,e),"out-in"===l)return r.isLeaving=!0,e.afterLeave=()=>{r.isLeaving=!1,n.update()},E(c);"in-out"===l&&u.type!==He&&(e.delayLeave=(e,t,n)=>{O(r,p)[String(p.key)]=p,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=n})}return c}}};function O(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function T(e,t,n,i){const{appear:r,mode:o,persisted:s=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:d,onLeave:h,onAfterLeave:p,onLeaveCancelled:f,onBeforeAppear:m,onAppear:g,onAfterAppear:v,onAppearCancelled:y}=t,b=String(e.key),w=O(n,e),_=(e,t)=>{e&&Pt(e,i,9,t)},x={mode:o,persisted:s,beforeEnter(t){let i=a;if(!n.isMounted){if(!r)return;i=m||a}t._leaveCb&&t._leaveCb(!0);const o=w[b];o&&it(e,o)&&o.el._leaveCb&&o.el._leaveCb(),_(i,[t])},enter(e){let t=l,i=c,o=u;if(!n.isMounted){if(!r)return;t=g||l,i=v||c,o=y||u}let s=!1;const a=e._enterCb=t=>{s||(s=!0,_(t?o:i,[e]),x.delayedLeave&&x.delayedLeave(),e._enterCb=void 0)};t?(t(e,a),t.length<=1&&a()):a()},leave(t,i){const r=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return i();_(d,[t]);let o=!1;const s=t._leaveCb=n=>{o||(o=!0,i(),_(n?f:p,[t]),t._leaveCb=void 0,w[r]===e&&delete w[r])};w[r]=e,h?(h(t,s),h.length<=1&&s()):s()},clone:e=>T(e,t,n,i)};return x}function E(e){if(j(e))return(e=ct(e)).children=null,e}function $(e){return j(e)?e.children?e.children[0]:void 0:e}function M(e,t){6&e.shapeFlag&&e.component?M(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function R(e,t=!1){let n=[],i=0;for(let r=0;r<e.length;r++){const o=e[r];o.type===We?(128&o.patchFlag&&i++,n=n.concat(R(o.children,t))):(t||o.type!==He)&&n.push(o)}if(i>1)for(let e=0;e<n.length;e++)n[e].patchFlag=-2;return n}function L(e){return(0,r.mf)(e)?{setup:e,name:e.name}:e}const P=e=>!!e.type.__asyncLoader;function F(e){(0,r.mf)(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:o,delay:s=200,timeout:a,suspensible:l=!0,onError:c}=e;let u,d=null,h=0;const p=()=>{let e;return d||(e=d=t().catch((e=>{if(e=e instanceof Error?e:new Error(String(e)),c)return new Promise(((t,n)=>{c(e,(()=>t((h++,d=null,p()))),(()=>n(e)),h+1)}));throw e})).then((t=>e!==d&&d?d:(t&&(t.__esModule||"Module"===t[Symbol.toStringTag])&&(t=t.default),u=t,t))))};return L({name:"AsyncComponentWrapper",__asyncLoader:p,get __asyncResolved(){return u},setup(){const e=Ct;if(u)return()=>I(u,e);const t=t=>{d=null,Ft(t,e,13,!o)};if(l&&e.suspense)return p().then((t=>()=>I(t,e))).catch((e=>(t(e),()=>o?lt(o,{error:e}):null)));const r=(0,i.iH)(!1),c=(0,i.iH)(),h=(0,i.iH)(!!s);return s&&setTimeout((()=>{h.value=!1}),s),null!=a&&setTimeout((()=>{if(!r.value&&!c.value){const e=new Error(`Async component timed out after ${a}ms.`);t(e),c.value=e}}),a),p().then((()=>{r.value=!0,e.parent&&j(e.parent.vnode)&&Qt(e.parent.update)})).catch((e=>{t(e),c.value=e})),()=>r.value&&u?I(u,e):c.value&&o?lt(o,{error:c.value}):n&&!h.value?lt(n):void 0}})}function I(e,{vnode:{ref:t,props:n,children:i}}){const r=lt(e,n,i);return r.ref=t,r}const j=e=>e.type.__isKeepAlive,N={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=St(),i=n.ctx;if(!i.renderer)return t.default;const o=new Map,a=new Set;let l=null;__VUE_PROD_DEVTOOLS__&&(n.__v_cache=o);const c=n.suspense,{renderer:{p:u,m:d,um:h,o:{createElement:p}}}=i,f=p("div");function m(e){U(e),h(e,n,c)}function g(e){o.forEach(((t,n)=>{const i=Rt(t.type);!i||e&&e(i)||v(n)}))}function v(e){const t=o.get(e);l&&t.type===l.type?l&&U(l):m(t),o.delete(e),a.delete(e)}i.activate=(e,t,n,i,o)=>{const a=e.component;d(e,t,n,0,c),u(a.vnode,e,t,n,a,c,i,e.slotScopeIds,o),Me((()=>{a.isDeactivated=!1,a.a&&(0,r.ir)(a.a);const t=e.props&&e.props.onVnodeMounted;t&&Pe(t,a.parent,e)}),c),__VUE_PROD_DEVTOOLS__&&s(a)},i.deactivate=e=>{const t=e.component;d(e,f,null,1,c),Me((()=>{t.da&&(0,r.ir)(t.da);const n=e.props&&e.props.onVnodeUnmounted;n&&Pe(n,t.parent,e),t.isDeactivated=!0}),c),__VUE_PROD_DEVTOOLS__&&s(t)},an((()=>[e.include,e.exclude]),(([e,t])=>{e&&g((t=>V(e,t))),t&&g((e=>!V(t,e)))}),{flush:"post",deep:!0});let y=null;const b=()=>{null!=y&&o.set(y,H(n.subTree))};return Y(b),J(b),X((()=>{o.forEach((e=>{const{subTree:t,suspense:i}=n,r=H(t);if(e.type!==r.type)m(e);else{U(r);const e=r.component.da;e&&Me(e,i)}}))})),()=>{if(y=null,!t.default)return null;const n=t.default(),i=n[0];if(n.length>1)return l=null,n;if(!nt(i)||!(4&i.shapeFlag||128&i.shapeFlag))return l=null,i;let r=H(i);const s=r.type,c=Rt(P(r)?r.type.__asyncResolved||{}:s),{include:u,exclude:d,max:h}=e;if(u&&(!c||!V(u,c))||d&&c&&V(d,c))return l=r,i;const p=null==r.key?s:r.key,f=o.get(p);return r.el&&(r=ct(r),128&i.shapeFlag&&(i.ssContent=r)),y=p,f?(r.el=f.el,r.component=f.component,r.transition&&M(r,r.transition),r.shapeFlag|=512,a.delete(p),a.add(p)):(a.add(p),h&&a.size>parseInt(h,10)&&v(a.values().next().value)),r.shapeFlag|=256,l=r,i}}};function V(e,t){return(0,r.kJ)(e)?e.some((e=>V(e,t))):(0,r.HD)(e)?e.split(",").indexOf(t)>-1:!!e.test&&e.test(t)}function B(e,t){z(e,"a",t)}function q(e,t){z(e,"da",t)}function z(e,t,n=Ct){const i=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}e()});if(K(t,i,n),n){let e=n.parent;for(;e&&e.parent;)j(e.parent.vnode)&&W(i,t,n,e),e=e.parent}}function W(e,t,n,i){const o=K(t,e,i,!0);ee((()=>{(0,r.Od)(i[t],o)}),n)}function U(e){let t=e.shapeFlag;256&t&&(t-=256),512&t&&(t-=512),e.shapeFlag=t}function H(e){return 128&e.shapeFlag?e.ssContent:e}function K(e,t,n=Ct,r=!1){if(n){const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...r)=>{if(n.isUnmounted)return;(0,i.Jd)(),At(n);const o=Pt(t,n,e,r);return Dt(),(0,i.lk)(),o});return r?o.unshift(s):o.push(s),s}}const Z=e=>(t,n=Ct)=>(!Tt||"sp"===e)&&K(e,t,n),G=Z("bm"),Y=Z("m"),Q=Z("bu"),J=Z("u"),X=Z("bum"),ee=Z("um"),te=Z("sp"),ne=Z("rtg"),ie=Z("rtc");function re(e,t=Ct){K("ec",e,t)}let oe=!0;function se(e,t,n){Pt((0,r.kJ)(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function ae(e,t,n,i){const o=i.includes(".")?un(n,i):()=>n[i];if((0,r.HD)(e)){const n=t[e];(0,r.mf)(n)&&an(o,n)}else if((0,r.mf)(e))an(o,e.bind(n));else if((0,r.Kn)(e))if((0,r.kJ)(e))e.forEach((e=>ae(e,t,n,i)));else{const i=(0,r.mf)(e.handler)?e.handler.bind(n):t[e.handler];(0,r.mf)(i)&&an(o,i,e)}}function le(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:r,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,a=o.get(t);let l;return a?l=a:r.length||n||i?(l={},r.length&&r.forEach((e=>ce(l,e,s,!0))),ce(l,t,s)):l=t,o.set(t,l),l}function ce(e,t,n,i=!1){const{mixins:r,extends:o}=t;o&&ce(e,o,n,!0),r&&r.forEach((t=>ce(e,t,n,!0)));for(const r in t)if(i&&"expose"===r);else{const i=ue[r]||n&&n[r];e[r]=i?i(e[r],t[r]):t[r]}return e}const ue={data:de,props:fe,emits:fe,methods:fe,computed:fe,beforeCreate:pe,created:pe,beforeMount:pe,mounted:pe,beforeUpdate:pe,updated:pe,beforeDestroy:pe,destroyed:pe,activated:pe,deactivated:pe,errorCaptured:pe,serverPrefetch:pe,components:fe,directives:fe,watch:function(e,t){if(!e)return t;if(!t)return e;const n=(0,r.l7)(Object.create(null),e);for(const i in t)n[i]=pe(e[i],t[i]);return n},provide:de,inject:function(e,t){return fe(he(e),he(t))}};function de(e,t){return t?e?function(){return(0,r.l7)((0,r.mf)(e)?e.call(this,this):e,(0,r.mf)(t)?t.call(this,this):t)}:t:e}function he(e){if((0,r.kJ)(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function pe(e,t){return e?[...new Set([].concat(e,t))]:t}function fe(e,t){return e?(0,r.l7)((0,r.l7)(Object.create(null),e),t):t}function me(e,t,n,o){const[s,a]=e.propsOptions;let l,c=!1;if(t)for(let i in t){if((0,r.Gg)(i))continue;const u=t[i];let d;s&&(0,r.RI)(s,d=(0,r._A)(i))?a&&a.includes(d)?(l||(l={}))[d]=u:n[d]=u:h(e.emitsOptions,i)||u!==o[i]&&(o[i]=u,c=!0)}if(a){const t=(0,i.IU)(n),o=l||r.kT;for(let i=0;i<a.length;i++){const l=a[i];n[l]=ge(s,t,l,o[l],e,!(0,r.RI)(o,l))}}return c}function ge(e,t,n,i,o,s){const a=e[n];if(null!=a){const e=(0,r.RI)(a,"default");if(e&&void 0===i){const e=a.default;if(a.type!==Function&&(0,r.mf)(e)){const{propsDefaults:r}=o;n in r?i=r[n]:(At(o),i=r[n]=e.call(null,t),Dt())}else i=e}a[0]&&(s&&!e?i=!1:!a[1]||""!==i&&i!==(0,r.rs)(n)||(i=!0))}return i}function ve(e,t,n=!1){const i=t.propsCache,o=i.get(e);if(o)return o;const s=e.props,a={},l=[];let c=!1;if(__VUE_OPTIONS_API__&&!(0,r.mf)(e)){const i=e=>{c=!0;const[n,i]=ve(e,t,!0);(0,r.l7)(a,n),i&&l.push(...i)};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}if(!s&&!c)return i.set(e,r.Z6),r.Z6;if((0,r.kJ)(s))for(let e=0;e<s.length;e++){const t=(0,r._A)(s[e]);ye(t)&&(a[t]=r.kT)}else if(s)for(const e in s){const t=(0,r._A)(e);if(ye(t)){const n=s[e],i=a[t]=(0,r.kJ)(n)||(0,r.mf)(n)?{type:n}:n;if(i){const e=_e(Boolean,i.type),n=_e(String,i.type);i[0]=e>-1,i[1]=n<0||e<n,(e>-1||(0,r.RI)(i,"default"))&&l.push(t)}}}const u=[a,l];return i.set(e,u),u}function ye(e){return"$"!==e[0]}function be(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:null===e?"null":""}function we(e,t){return be(e)===be(t)}function _e(e,t){return(0,r.kJ)(t)?t.findIndex((t=>we(t,e))):(0,r.mf)(t)&&we(t,e)?0:-1}const xe=e=>"_"===e[0]||"$stable"===e,ke=e=>(0,r.kJ)(e)?e.map(ht):[ht(e)],Ce=(e,t,n)=>{const i=y((e=>ke(t(e))),n);return i._c=!1,i},Se=(e,t,n)=>{const i=e._ctx;for(const n in e){if(xe(n))continue;const o=e[n];if((0,r.mf)(o))t[n]=Ce(0,o,i);else if(null!=o){const e=ke(o);t[n]=()=>e}}},Ae=(e,t)=>{const n=ke(t);e.slots.default=()=>n};function De(e,t){if(null===p)return e;const n=p.proxy,i=e.dirs||(e.dirs=[]);for(let e=0;e<t.length;e++){let[o,s,a,l=r.kT]=t[e];(0,r.mf)(o)&&(o={mounted:o,updated:o}),o.deep&&dn(s),i.push({dir:o,instance:n,value:s,oldValue:void 0,arg:a,modifiers:l})}return e}function Oe(e,t,n,r){const o=e.dirs,s=t&&t.dirs;for(let a=0;a<o.length;a++){const l=o[a];s&&(l.oldValue=s[a].value);let c=l.dir[r];c&&((0,i.Jd)(),Pt(c,n,8,[e.el,l,e,t]),(0,i.lk)())}}function Te(){return{app:null,config:{isNativeTag:r.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ee=0;function $e(e,t){return function(n,i=null){null==i||(0,r.Kn)(i)||(i=null);const s=Te(),a=new Set;let l=!1;const c=s.app={_uid:Ee++,_component:n,_props:i,_container:null,_context:s,_instance:null,version:pn,get config(){return s.config},set config(e){},use:(e,...t)=>(a.has(e)||(e&&(0,r.mf)(e.install)?(a.add(e),e.install(c,...t)):(0,r.mf)(e)&&(a.add(e),e(c,...t))),c),mixin:e=>(__VUE_OPTIONS_API__&&(s.mixins.includes(e)||s.mixins.push(e)),c),component:(e,t)=>t?(s.components[e]=t,c):s.components[e],directive:(e,t)=>t?(s.directives[e]=t,c):s.directives[e],mount(r,a,u){if(!l){const d=lt(n,i);return d.appContext=s,a&&t?t(d,r):e(d,r,u),l=!0,c._container=r,r.__vue_app__=c,__VUE_PROD_DEVTOOLS__&&(c._instance=d.component,function(e,t){o&&o.emit("app:init",e,t,{Fragment:We,Text:Ue,Comment:He,Static:Ke})}(c,pn)),d.component.proxy}},unmount(){l&&(e(null,c._container),__VUE_PROD_DEVTOOLS__&&(c._instance=null,function(e){o&&o.emit("app:unmount",e)}(c)),delete c._container.__vue_app__)},provide:(e,t)=>(s.provides[e]=t,c)};return c}}const Me=function(e,t){t&&t.pendingBranch?(0,r.kJ)(e)?t.effects.push(...e):t.effects.push(e):Xt(e,Ut,Wt,Ht)};function Re(e){return function(e,t){if(function(){let e=!1;"boolean"!=typeof __VUE_OPTIONS_API__&&(e=!0,(0,r.E9)().__VUE_OPTIONS_API__=!0),"boolean"!=typeof __VUE_PROD_DEVTOOLS__&&(e=!0,(0,r.E9)().__VUE_PROD_DEVTOOLS__=!1)}(),__VUE_PROD_DEVTOOLS__){const e=(0,r.E9)();e.__VUE__=!0,n=e.__VUE_DEVTOOLS_GLOBAL_HOOK__,o=n}var n;const{insert:c,remove:p,patchProp:f,createElement:m,createText:g,createComment:v,setText:y,setElementText:w,parentNode:_,nextSibling:k,setScopeId:C=r.dG,cloneNode:S,insertStaticContent:A}=e,D=(e,t,n,i=null,r=null,o=null,s=!1,a=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!it(e,t)&&(i=ne(e),Q(e,r,o,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:d}=t;switch(c){case Ue:O(e,t,n,i);break;case He:T(e,t,n,i);break;case Ke:null==e&&E(t,n,i,s);break;case We:B(e,t,n,i,r,o,s,a,l);break;default:1&d?M(e,t,n,i,r,o,s,a,l):6&d?q(e,t,n,i,r,o,s,a,l):(64&d||128&d)&&c.process(e,t,n,i,r,o,s,a,l,re)}null!=u&&r&&Le(u,e&&e.ref,o,t||e,!t)},O=(e,t,n,i)=>{if(null==e)c(t.el=g(t.children),n,i);else{const n=t.el=e.el;t.children!==e.children&&y(n,t.children)}},T=(e,t,n,i)=>{null==e?c(t.el=v(t.children||""),n,i):t.el=e.el},E=(e,t,n,i)=>{[e.el,e.anchor]=A(e.children,t,n,i)},$=({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=k(e),p(e),e=n;p(t)},M=(e,t,n,i,r,o,s,a,l)=>{s=s||"svg"===t.type,null==e?R(t,n,i,r,o,s,a,l):I(e,t,r,o,s,a,l)},R=(e,t,n,i,o,s,a,l)=>{let u,d;const{type:h,props:p,shapeFlag:g,transition:v,patchFlag:y,dirs:b}=e;if(e.el&&void 0!==S&&-1===y)u=e.el=S(e.el);else{if(u=e.el=m(e.type,s,p&&p.is,p),8&g?w(u,e.children):16&g&&F(e.children,u,null,i,o,s&&"foreignObject"!==h,a,l),b&&Oe(e,null,i,"created"),p){for(const t in p)"value"===t||(0,r.Gg)(t)||f(u,t,null,p[t],s,e.children,i,o,te);"value"in p&&f(u,"value",null,p.value),(d=p.onVnodeBeforeMount)&&Pe(d,i,e)}L(u,e,e.scopeId,a,i)}__VUE_PROD_DEVTOOLS__&&(Object.defineProperty(u,"__vnode",{value:e,enumerable:!1}),Object.defineProperty(u,"__vueParentComponent",{value:i,enumerable:!1})),b&&Oe(e,null,i,"beforeMount");const _=(!o||o&&!o.pendingBranch)&&v&&!v.persisted;_&&v.beforeEnter(u),c(u,t,n),((d=p&&p.onVnodeMounted)||_||b)&&Me((()=>{d&&Pe(d,i,e),_&&v.enter(u),b&&Oe(e,null,i,"mounted")}),o)},L=(e,t,n,i,r)=>{if(n&&C(e,n),i)for(let t=0;t<i.length;t++)C(e,i[t]);if(r&&t===r.subTree){const t=r.vnode;L(e,t,t.scopeId,t.slotScopeIds,r.parent)}},F=(e,t,n,i,r,o,s,a,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=a?pt(e[c]):ht(e[c]);D(null,l,t,n,i,r,o,s,a)}},I=(e,t,n,i,o,s,a)=>{const l=t.el=e.el;let{patchFlag:c,dynamicChildren:u,dirs:d}=t;c|=16&e.patchFlag;const h=e.props||r.kT,p=t.props||r.kT;let m;if((m=p.onVnodeBeforeUpdate)&&Pe(m,n,t,e),d&&Oe(t,e,n,"beforeUpdate"),c>0){if(16&c)V(l,t,h,p,n,i,o);else if(2&c&&h.class!==p.class&&f(l,"class",null,p.class,o),4&c&&f(l,"style",h.style,p.style,o),8&c){const r=t.dynamicProps;for(let t=0;t<r.length;t++){const s=r[t],a=h[s],c=p[s];c===a&&"value"!==s||f(l,s,a,c,o,e.children,n,i,te)}}1&c&&e.children!==t.children&&w(l,t.children)}else a||null!=u||V(l,t,h,p,n,i,o);const g=o&&"foreignObject"!==t.type;u?N(e.dynamicChildren,u,l,n,i,g,s):a||K(e,t,l,null,n,i,g,s,!1),((m=p.onVnodeUpdated)||d)&&Me((()=>{m&&Pe(m,n,t,e),d&&Oe(t,e,n,"updated")}),i)},N=(e,t,n,i,r,o,s)=>{for(let a=0;a<t.length;a++){const l=e[a],c=t[a],u=l.el&&(l.type===We||!it(l,c)||6&l.shapeFlag||64&l.shapeFlag)?_(l.el):n;D(l,c,u,null,i,r,o,s,!0)}},V=(e,t,n,i,o,s,a)=>{if(n!==i){for(const l in i){if((0,r.Gg)(l))continue;const c=i[l],u=n[l];c!==u&&"value"!==l&&f(e,l,u,c,a,t.children,o,s,te)}if(n!==r.kT)for(const l in n)(0,r.Gg)(l)||l in i||f(e,l,n[l],null,a,t.children,o,s,te);"value"in i&&f(e,"value",n.value,i.value)}},B=(e,t,n,i,r,o,s,a,l)=>{const u=t.el=e?e.el:g(""),d=t.anchor=e?e.anchor:g("");let{patchFlag:h,dynamicChildren:p,slotScopeIds:f}=t;f&&(a=a?a.concat(f):f),null==e?(c(u,n,i),c(d,n,i),F(t.children,n,d,r,o,s,a,l)):h>0&&64&h&&p&&e.dynamicChildren?(N(e.dynamicChildren,p,n,r,o,s,a),(null!=t.key||r&&t===r.subTree)&&Fe(e,t,!0)):K(e,t,n,d,r,o,s,a,l)},q=(e,t,n,i,r,o,s,a,l)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?r.ctx.activate(t,n,i,s,l):z(t,n,i,r,o,s,l):W(e,t,l)},z=(e,t,n,o,s,a,l)=>{const c=e.component=function(e,t,n){const o=e.type,s=(t?t.appContext:e.appContext)||xt,a={uid:kt++,vnode:e,type:o,parent:t,appContext:s,root:null,next:null,subTree:null,update:null,scope:new i.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ve(o,s),emitsOptions:d(o,s),emit:null,emitted:null,propsDefaults:r.kT,inheritAttrs:o.inheritAttrs,ctx:r.kT,data:r.kT,props:r.kT,attrs:r.kT,slots:r.kT,refs:r.kT,setupState:r.kT,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=u.bind(null,a),e.ce&&e.ce(a),a}(e,o,s);if(j(e)&&(c.ctx.renderer=re),function(e,t=!1){Tt=t;const{props:n,children:o}=e.vnode,s=Ot(e);!function(e,t,n,o=!1){const s={},a={};(0,r.Nj)(a,rt,1),e.propsDefaults=Object.create(null),me(e,t,s,a);for(const t in e.propsOptions[0])t in s||(s[t]=void 0);n?e.props=o?s:(0,i.Um)(s):e.type.props?e.props=s:e.props=a,e.attrs=a}(e,n,s,t),((e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=(0,i.IU)(t),(0,r.Nj)(t,"_",n)):Se(t,e.slots={})}else e.slots={},t&&Ae(e,t);(0,r.Nj)(e.slots,rt,1)})(e,o);const a=s?function(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=(0,i.Xl)(new Proxy(e.ctx,_t));const{setup:o}=n;if(o){const n=e.setupContext=o.length>1?function(e){const t=t=>{e.exposed=t||{}};let n;return{get attrs(){return n||(n=function(e){return new Proxy(e.attrs,{get:(t,n)=>((0,i.j)(e,"get","$attrs"),t[n])})}(e))},slots:e.slots,emit:e.emit,expose:t}}(e):null;At(e),(0,i.Jd)();const s=Lt(o,e,0,[e.props,n]);if((0,i.lk)(),Dt(),(0,r.tI)(s)){if(s.then(Dt,Dt),t)return s.then((n=>{Et(e,n,t)})).catch((t=>{Ft(t,e,0)}));e.asyncDep=s}else Et(e,s,t)}else $t(e)}(e,t):void 0;Tt=!1}(c),c.asyncDep){if(s&&s.registerDep(c,U),!e.el){const e=c.subTree=lt(He);T(null,e,t,n)}}else U(c,e,t,n,s,a,l)},W=(e,t,n)=>{const i=t.component=e.component;if(function(e,t,n){const{props:i,children:r,component:o}=e,{props:s,children:a,patchFlag:l}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!r&&!a||a&&a.$stable)||i!==s&&(i?!s||x(i,s,c):!!s);if(1024&l)return!0;if(16&l)return i?x(i,s,c):!!s;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(s[n]!==i[n]&&!h(c,n))return!0}}return!1}(e,t,n)){if(i.asyncDep&&!i.asyncResolved)return void H(i,t,n);i.next=t,function(e){const t=Nt.indexOf(e);t>Vt&&Nt.splice(t,1)}(i.update),i.update()}else t.component=e.component,t.el=e.el,i.vnode=t},U=(e,t,n,o,l,c,u)=>{const d=new i.qq((()=>{if(e.isMounted){let t,{next:n,bu:i,u:o,parent:s,vnode:h}=e,p=n;n?(n.el=h.el,H(e,n,u)):n=h,d.allowRecurse=!1,i&&(0,r.ir)(i),(t=n.props&&n.props.onVnodeBeforeUpdate)&&Pe(t,s,n,h),d.allowRecurse=!0;const f=b(e),m=e.subTree;e.subTree=f,D(m,f,_(m.el),ne(m),e,l,c),n.el=f.el,null===p&&function({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}(e,f.el),o&&Me(o,l),(t=n.props&&n.props.onVnodeUpdated)&&Me((()=>Pe(t,s,n,h)),l),__VUE_PROD_DEVTOOLS__&&a(e)}else{let i;const{el:a,props:u}=t,{bm:h,m:p,parent:f}=e;if(d.allowRecurse=!1,h&&(0,r.ir)(h),(i=u&&u.onVnodeBeforeMount)&&Pe(i,f,t),d.allowRecurse=!0,a&&se){const n=()=>{e.subTree=b(e),se(a,e.subTree,e,l,null)};P(t)?t.type.__asyncLoader().then((()=>!e.isUnmounted&&n())):n()}else{const i=e.subTree=b(e);D(null,i,n,o,e,l,c),t.el=i.el}if(p&&Me(p,l),i=u&&u.onVnodeMounted){const e=t;Me((()=>Pe(i,f,e)),l)}256&t.shapeFlag&&e.a&&Me(e.a,l),e.isMounted=!0,__VUE_PROD_DEVTOOLS__&&s(e),t=n=o=null}}),(()=>Qt(e.update)),e.scope),h=e.update=d.run.bind(d);h.id=e.uid,d.allowRecurse=h.allowRecurse=!0,h()},H=(e,t,n)=>{t.component=e;const o=e.vnode.props;e.vnode=t,e.next=null,function(e,t,n,o){const{props:s,attrs:a,vnode:{patchFlag:l}}=e,c=(0,i.IU)(s),[u]=e.propsOptions;let d=!1;if(!(o||l>0)||16&l){let i;me(e,t,s,a)&&(d=!0);for(const o in c)t&&((0,r.RI)(t,o)||(i=(0,r.rs)(o))!==o&&(0,r.RI)(t,i))||(u?!n||void 0===n[o]&&void 0===n[i]||(s[o]=ge(u,c,o,void 0,e,!0)):delete s[o]);if(a!==c)for(const e in a)t&&(0,r.RI)(t,e)||(delete a[e],d=!0)}else if(8&l){const n=e.vnode.dynamicProps;for(let i=0;i<n.length;i++){let o=n[i];const l=t[o];if(u)if((0,r.RI)(a,o))l!==a[o]&&(a[o]=l,d=!0);else{const t=(0,r._A)(o);s[t]=ge(u,c,t,l,e,!1)}else l!==a[o]&&(a[o]=l,d=!0)}}d&&(0,i.X$)(e,"set","$attrs")}(e,t.props,o,n),((e,t,n)=>{const{vnode:i,slots:o}=e;let s=!0,a=r.kT;if(32&i.shapeFlag){const e=t._;e?n&&1===e?s=!1:((0,r.l7)(o,t),n||1!==e||delete o._):(s=!t.$stable,Se(t,o)),a=t}else t&&(Ae(e,t),a={default:1});if(s)for(const e in o)xe(e)||e in a||delete o[e]})(e,t.children,n),(0,i.Jd)(),en(void 0,e.update),(0,i.lk)()},K=(e,t,n,i,r,o,s,a,l=!1)=>{const c=e&&e.children,u=e?e.shapeFlag:0,d=t.children,{patchFlag:h,shapeFlag:p}=t;if(h>0){if(128&h)return void G(c,d,n,i,r,o,s,a,l);if(256&h)return void Z(c,d,n,i,r,o,s,a,l)}8&p?(16&u&&te(c,r,o),d!==c&&w(n,d)):16&u?16&p?G(c,d,n,i,r,o,s,a,l):te(c,r,o,!0):(8&u&&w(n,""),16&p&&F(d,n,i,r,o,s,a,l))},Z=(e,t,n,i,o,s,a,l,c)=>{e=e||r.Z6,t=t||r.Z6;const u=e.length,d=t.length,h=Math.min(u,d);let p;for(p=0;p<h;p++){const i=t[p]=c?pt(t[p]):ht(t[p]);D(e[p],i,n,null,o,s,a,l,c)}u>d?te(e,o,s,!0,!1,h):F(t,n,i,o,s,a,l,c,h)},G=(e,t,n,i,o,s,a,l,c)=>{let u=0;const d=t.length;let h=e.length-1,p=d-1;for(;u<=h&&u<=p;){const i=e[u],r=t[u]=c?pt(t[u]):ht(t[u]);if(!it(i,r))break;D(i,r,n,null,o,s,a,l,c),u++}for(;u<=h&&u<=p;){const i=e[h],r=t[p]=c?pt(t[p]):ht(t[p]);if(!it(i,r))break;D(i,r,n,null,o,s,a,l,c),h--,p--}if(u>h){if(u<=p){const e=p+1,r=e<d?t[e].el:i;for(;u<=p;)D(null,t[u]=c?pt(t[u]):ht(t[u]),n,r,o,s,a,l,c),u++}}else if(u>p)for(;u<=h;)Q(e[u],o,s,!0),u++;else{const f=u,m=u,g=new Map;for(u=m;u<=p;u++){const e=t[u]=c?pt(t[u]):ht(t[u]);null!=e.key&&g.set(e.key,u)}let v,y=0;const b=p-m+1;let w=!1,_=0;const x=new Array(b);for(u=0;u<b;u++)x[u]=0;for(u=f;u<=h;u++){const i=e[u];if(y>=b){Q(i,o,s,!0);continue}let r;if(null!=i.key)r=g.get(i.key);else for(v=m;v<=p;v++)if(0===x[v-m]&&it(i,t[v])){r=v;break}void 0===r?Q(i,o,s,!0):(x[r-m]=u+1,r>=_?_=r:w=!0,D(i,t[r],n,null,o,s,a,l,c),y++)}const k=w?function(e){const t=e.slice(),n=[0];let i,r,o,s,a;const l=e.length;for(i=0;i<l;i++){const l=e[i];if(0!==l){if(r=n[n.length-1],e[r]<l){t[i]=r,n.push(i);continue}for(o=0,s=n.length-1;o<s;)a=o+s>>1,e[n[a]]<l?o=a+1:s=a;l<e[n[o]]&&(o>0&&(t[i]=n[o-1]),n[o]=i)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=t[s];return n}(x):r.Z6;for(v=k.length-1,u=b-1;u>=0;u--){const e=m+u,r=t[e],h=e+1<d?t[e+1].el:i;0===x[u]?D(null,r,n,h,o,s,a,l,c):w&&(v<0||u!==k[v]?Y(r,n,h,2):v--)}}},Y=(e,t,n,i,r=null)=>{const{el:o,type:s,transition:a,children:l,shapeFlag:u}=e;if(6&u)Y(e.component.subTree,t,n,i);else if(128&u)e.suspense.move(t,n,i);else if(64&u)s.move(e,t,n,re);else if(s!==We)if(s!==Ke)if(2!==i&&1&u&&a)if(0===i)a.beforeEnter(o),c(o,t,n),Me((()=>a.enter(o)),r);else{const{leave:e,delayLeave:i,afterLeave:r}=a,s=()=>c(o,t,n),l=()=>{e(o,(()=>{s(),r&&r()}))};i?i(o,s,l):l()}else c(o,t,n);else(({el:e,anchor:t},n,i)=>{let r;for(;e&&e!==t;)r=k(e),c(e,n,i),e=r;c(t,n,i)})(e,t,n);else{c(o,t,n);for(let e=0;e<l.length;e++)Y(l[e],t,n,i);c(e.anchor,t,n)}},Q=(e,t,n,i=!1,r=!1)=>{const{type:o,props:s,ref:a,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:d,dirs:h}=e;if(null!=a&&Le(a,null,n,e,!0),256&u)return void t.ctx.deactivate(e);const p=1&u&&h;let f;if((f=s&&s.onVnodeBeforeUnmount)&&Pe(f,t,e),6&u)ee(e.component,n,i);else{if(128&u)return void e.suspense.unmount(n,i);p&&Oe(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,n,r,re,i):c&&(o!==We||d>0&&64&d)?te(c,t,n,!1,!0):(o===We&&(128&d||256&d)||!r&&16&u)&&te(l,t,n),i&&J(e)}((f=s&&s.onVnodeUnmounted)||p)&&Me((()=>{f&&Pe(f,t,e),p&&Oe(e,null,t,"unmounted")}),n)},J=e=>{const{type:t,el:n,anchor:i,transition:r}=e;if(t===We)return void X(n,i);if(t===Ke)return void $(e);const o=()=>{p(n),r&&!r.persisted&&r.afterLeave&&r.afterLeave()};if(1&e.shapeFlag&&r&&!r.persisted){const{leave:t,delayLeave:i}=r,s=()=>t(n,o);i?i(e.el,o,s):s()}else o()},X=(e,t)=>{let n;for(;e!==t;)n=k(e),p(e),e=n;p(t)},ee=(e,t,n)=>{const{bum:i,scope:o,update:s,subTree:a,um:c}=e;i&&(0,r.ir)(i),o.stop(),s&&(s.active=!1,Q(a,e,t,n)),c&&Me(c,t),Me((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve()),__VUE_PROD_DEVTOOLS__&&l(e)},te=(e,t,n,i=!1,r=!1,o=0)=>{for(let s=o;s<e.length;s++)Q(e[s],t,n,i,r)},ne=e=>6&e.shapeFlag?ne(e.component.subTree):128&e.shapeFlag?e.suspense.next():k(e.anchor||e.el),ie=(e,t,n)=>{null==e?t._vnode&&Q(t._vnode,null,null,!0):D(t._vnode||null,e,t,null,null,null,n),tn(),t._vnode=e},re={p:D,um:Q,m:Y,r:J,mt:z,mc:F,pc:K,pbc:N,n:ne,o:e};let oe,se;return t&&([oe,se]=t(re)),{render:ie,hydrate:oe,createApp:$e(ie,oe)}}(e)}function Le(e,t,n,o,s=!1){if((0,r.kJ)(e))return void e.forEach(((e,i)=>Le(e,t&&((0,r.kJ)(t)?t[i]:t),n,o,s)));if(P(o)&&!s)return;const a=4&o.shapeFlag?Mt(o.component)||o.component.proxy:o.el,l=s?null:a,{i:c,r:u}=e,d=t&&t.r,h=c.refs===r.kT?c.refs={}:c.refs,p=c.setupState;if(null!=d&&d!==u&&((0,r.HD)(d)?(h[d]=null,(0,r.RI)(p,d)&&(p[d]=null)):(0,i.dq)(d)&&(d.value=null)),(0,r.HD)(u)){const e=()=>{h[u]=l,(0,r.RI)(p,u)&&(p[u]=l)};l?(e.id=-1,Me(e,n)):e()}else if((0,i.dq)(u)){const e=()=>{u.value=l};l?(e.id=-1,Me(e,n)):e()}else(0,r.mf)(u)&&Lt(u,c,12,[l,h])}function Pe(e,t,n,i=null){Pt(e,t,7,[n,i])}function Fe(e,t,n=!1){const i=e.children,o=t.children;if((0,r.kJ)(i)&&(0,r.kJ)(o))for(let e=0;e<i.length;e++){const t=i[e];let r=o[e];1&r.shapeFlag&&!r.dynamicChildren&&((r.patchFlag<=0||32===r.patchFlag)&&(r=o[e]=pt(o[e]),r.el=t.el),n||Fe(t,r))}}const Ie="components";function je(e,t){return qe(Ie,e,!0,t)||e}const Ne=Symbol();function Ve(e){return(0,r.HD)(e)?qe(Ie,e,!1)||e:e||Ne}function Be(e){return qe("directives",e)}function qe(e,t,n=!0,i=!1){const o=p||Ct;if(o){const n=o.type;if(e===Ie){const e=Rt(n);if(e&&(e===t||e===(0,r._A)(t)||e===(0,r.kC)((0,r._A)(t))))return n}const s=ze(o[e]||n[e],t)||ze(o.appContext[e],t);return!s&&i?n:s}}function ze(e,t){return e&&(e[t]||e[(0,r._A)(t)]||e[(0,r.kC)((0,r._A)(t))])}const We=Symbol(void 0),Ue=Symbol(void 0),He=Symbol(void 0),Ke=Symbol(void 0),Ze=[];let Ge=null;function Ye(e=!1){Ze.push(Ge=e?null:[])}let Qe=1;function Je(e){Qe+=e}function Xe(e){return e.dynamicChildren=Qe>0?Ge||r.Z6:null,Ze.pop(),Ge=Ze[Ze.length-1]||null,Qe>0&&Ge&&Ge.push(e),e}function et(e,t,n,i,r,o){return Xe(at(e,t,n,i,r,o,!0))}function tt(e,t,n,i,r){return Xe(lt(e,t,n,i,r,!0))}function nt(e){return!!e&&!0===e.__v_isVNode}function it(e,t){return e.type===t.type&&e.key===t.key}const rt="__vInternal",ot=({key:e})=>null!=e?e:null,st=({ref:e})=>null!=e?(0,r.HD)(e)||(0,i.dq)(e)||(0,r.mf)(e)?{i:p,r:e}:e:null;function at(e,t=null,n=null,i=0,o=null,s=(e===We?0:1),a=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ot(t),ref:t&&st(t),scopeId:f,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null};return l?(ft(c,n),128&s&&e.normalize(c)):n&&(c.shapeFlag|=(0,r.HD)(n)?8:16),Qe>0&&!a&&Ge&&(c.patchFlag>0||6&s)&&32!==c.patchFlag&&Ge.push(c),c}const lt=function(e,t=null,n=null,o=0,s=null,a=!1){if(e&&e!==Ne||(e=He),nt(e)){const i=ct(e,t,!0);return n&&ft(i,n),i}if(l=e,(0,r.mf)(l)&&"__vccOpts"in l&&(e=e.__vccOpts),t){t=function(e){return e?(0,i.X3)(e)||rt in e?(0,r.l7)({},e):e:null}(t);let{class:e,style:n}=t;e&&!(0,r.HD)(e)&&(t.class=(0,r.C_)(e)),(0,r.Kn)(n)&&((0,i.X3)(n)&&!(0,r.kJ)(n)&&(n=(0,r.l7)({},n)),t.style=(0,r.j5)(n))}var l;return at(e,t,n,o,s,(0,r.HD)(e)?1:(e=>e.__isSuspense)(e)?128:(e=>e.__isTeleport)(e)?64:(0,r.Kn)(e)?4:(0,r.mf)(e)?2:0,a,!0)};function ct(e,t,n=!1){const{props:i,ref:o,patchFlag:s,children:a}=e,l=t?mt(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&ot(l),ref:t&&t.ref?n&&o?(0,r.kJ)(o)?o.concat(st(t)):[o,st(t)]:st(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==We?-1===s?16:16|s:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ct(e.ssContent),ssFallback:e.ssFallback&&ct(e.ssFallback),el:e.el,anchor:e.anchor}}function ut(e=" ",t=0){return lt(Ue,null,e,t)}function dt(e="",t=!1){return t?(Ye(),tt(He,null,e)):lt(He,null,e)}function ht(e){return null==e||"boolean"==typeof e?lt(He):(0,r.kJ)(e)?lt(We,null,e.slice()):"object"==typeof e?pt(e):lt(Ue,null,String(e))}function pt(e){return null===e.el||e.memo?e:ct(e)}function ft(e,t){let n=0;const{shapeFlag:i}=e;if(null==t)t=null;else if((0,r.kJ)(t))n=16;else if("object"==typeof t){if(1&i||64&i){const n=t.default;return void(n&&(n._c&&(n._d=!1),ft(e,n()),n._c&&(n._d=!0)))}{n=32;const i=t._;i||rt in t?3===i&&p&&(1===p.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=p}}else(0,r.mf)(t)?(t={default:t,_ctx:p},n=32):(t=String(t),64&i?(n=16,t=[ut(t)]):n=8);e.children=t,e.shapeFlag|=n}function mt(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const e in i)if("class"===e)t.class!==i.class&&(t.class=(0,r.C_)([t.class,i.class]));else if("style"===e)t.style=(0,r.j5)([t.style,i.style]);else if((0,r.F7)(e)){const n=t[e],r=i[e];n!==r&&(t[e]=n?[].concat(n,r):r)}else""!==e&&(t[e]=i[e])}return t}function gt(e,t,n,i){let o;const s=n&&n[i];if((0,r.kJ)(e)||(0,r.HD)(e)){o=new Array(e.length);for(let n=0,i=e.length;n<i;n++)o[n]=t(e[n],n,void 0,s&&s[n])}else if("number"==typeof e){o=new Array(e);for(let n=0;n<e;n++)o[n]=t(n+1,n,void 0,s&&s[n])}else if((0,r.Kn)(e))if(e[Symbol.iterator])o=Array.from(e,((e,n)=>t(e,n,void 0,s&&s[n])));else{const n=Object.keys(e);o=new Array(n.length);for(let i=0,r=n.length;i<r;i++){const r=n[i];o[i]=t(e[r],r,i,s&&s[i])}}else o=[];return n&&(n[i]=o),o}function vt(e,t,n={},i,r){if(p.isCE)return lt("slot","default"===t?null:{name:t},i&&i());let o=e[t];o&&o._c&&(o._d=!1),Ye();const s=o&&yt(o(n)),a=tt(We,{key:n.key||`_${t}`},s||(i?i():[]),s&&1===e._?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function yt(e){return e.some((e=>!nt(e)||e.type!==He&&!(e.type===We&&!yt(e.children))))?e:null}const bt=e=>e?Ot(e)?Mt(e)||e.proxy:bt(e.parent):null,wt=(0,r.l7)(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>bt(e.parent),$root:e=>bt(e.root),$emit:e=>e.emit,$options:e=>__VUE_OPTIONS_API__?le(e):e.type,$forceUpdate:e=>()=>Qt(e.update),$nextTick:e=>Yt.bind(e.proxy),$watch:e=>__VUE_OPTIONS_API__?cn.bind(e):r.dG}),_t={get({_:e},t){const{ctx:n,setupState:o,data:s,props:a,accessCache:l,type:c,appContext:u}=e;let d;if("$"!==t[0]){const i=l[t];if(void 0!==i)switch(i){case 0:return o[t];case 1:return s[t];case 3:return n[t];case 2:return a[t]}else{if(o!==r.kT&&(0,r.RI)(o,t))return l[t]=0,o[t];if(s!==r.kT&&(0,r.RI)(s,t))return l[t]=1,s[t];if((d=e.propsOptions[0])&&(0,r.RI)(d,t))return l[t]=2,a[t];if(n!==r.kT&&(0,r.RI)(n,t))return l[t]=3,n[t];__VUE_OPTIONS_API__&&!oe||(l[t]=4)}}const h=wt[t];let p,f;return h?("$attrs"===t&&(0,i.j)(e,"get",t),h(e)):(p=c.__cssModules)&&(p=p[t])?p:n!==r.kT&&(0,r.RI)(n,t)?(l[t]=3,n[t]):(f=u.config.globalProperties,(0,r.RI)(f,t)?f[t]:void 0)},set({_:e},t,n){const{data:i,setupState:o,ctx:s}=e;if(o!==r.kT&&(0,r.RI)(o,t))o[t]=n;else if(i!==r.kT&&(0,r.RI)(i,t))i[t]=n;else if((0,r.RI)(e.props,t))return!1;return!("$"===t[0]&&t.slice(1)in e||(s[t]=n,0))},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:o,propsOptions:s}},a){let l;return void 0!==n[a]||e!==r.kT&&(0,r.RI)(e,a)||t!==r.kT&&(0,r.RI)(t,a)||(l=s[0])&&(0,r.RI)(l,a)||(0,r.RI)(i,a)||(0,r.RI)(wt,a)||(0,r.RI)(o.config.globalProperties,a)}},xt=Te();let kt=0;let Ct=null;const St=()=>Ct||p,At=e=>{Ct=e,e.scope.on()},Dt=()=>{Ct&&Ct.scope.off(),Ct=null};function Ot(e){return 4&e.vnode.shapeFlag}let Tt=!1;function Et(e,t,n){(0,r.mf)(t)?e.render=t:(0,r.Kn)(t)&&(__VUE_PROD_DEVTOOLS__&&(e.devtoolsRawSetupState=t),e.setupState=(0,i.WL)(t)),$t(e)}function $t(e,t,n){const o=e.type;e.render||(e.render=o.render||r.dG),__VUE_OPTIONS_API__&&(At(e),(0,i.Jd)(),function(e){const t=le(e),n=e.proxy,o=e.ctx;oe=!1,t.beforeCreate&&se(t.beforeCreate,e,"bc");const{data:s,computed:a,methods:l,watch:c,provide:u,inject:d,created:h,beforeMount:p,mounted:f,beforeUpdate:m,updated:g,activated:v,deactivated:y,beforeDestroy:b,beforeUnmount:w,destroyed:_,unmounted:x,render:S,renderTracked:A,renderTriggered:D,errorCaptured:O,serverPrefetch:T,expose:E,inheritAttrs:$,components:M,directives:R,filters:L}=t;if(d&&function(e,t,n=r.dG,o=!1){(0,r.kJ)(e)&&(e=he(e));for(const n in e){const s=e[n];let a;a=(0,r.Kn)(s)?"default"in s?C(s.from||n,s.default,!0):C(s.from||n):C(s),(0,i.dq)(a)&&o?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>a.value,set:e=>a.value=e}):t[n]=a}}(d,o,null,e.appContext.config.unwrapInjectedRef),l)for(const e in l){const t=l[e];(0,r.mf)(t)&&(o[e]=t.bind(n))}if(s){const t=s.call(n,n);(0,r.Kn)(t)&&(e.data=(0,i.qj)(t))}if(oe=!0,a)for(const e in a){const t=a[e],s=(0,r.mf)(t)?t.bind(n,n):(0,r.mf)(t.get)?t.get.bind(n,n):r.dG,l=!(0,r.mf)(t)&&(0,r.mf)(t.set)?t.set.bind(n):r.dG,c=(0,i.Fl)({get:s,set:l});Object.defineProperty(o,e,{enumerable:!0,configurable:!0,get:()=>c.value,set:e=>c.value=e})}if(c)for(const e in c)ae(c[e],o,n,e);if(u){const e=(0,r.mf)(u)?u.call(n):u;Reflect.ownKeys(e).forEach((t=>{k(t,e[t])}))}function P(e,t){(0,r.kJ)(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(h&&se(h,e,"c"),P(G,p),P(Y,f),P(Q,m),P(J,g),P(B,v),P(q,y),P(re,O),P(ie,A),P(ne,D),P(X,w),P(ee,x),P(te,T),(0,r.kJ)(E))if(E.length){const t=e.exposed||(e.exposed={});E.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});S&&e.render===r.dG&&(e.render=S),null!=$&&(e.inheritAttrs=$),M&&(e.components=M),R&&(e.directives=R)}(e),(0,i.lk)(),Dt())}function Mt(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy((0,i.WL)((0,i.Xl)(e.exposed)),{get:(t,n)=>n in t?t[n]:n in wt?wt[n](e):void 0}))}function Rt(e){return(0,r.mf)(e)&&e.displayName||e.name}function Lt(e,t,n,i){let r;try{r=i?e(...i):e()}catch(e){Ft(e,t,n)}return r}function Pt(e,t,n,i){if((0,r.mf)(e)){const o=Lt(e,t,n,i);return o&&(0,r.tI)(o)&&o.catch((e=>{Ft(e,t,n)})),o}const o=[];for(let r=0;r<e.length;r++)o.push(Pt(e[r],t,n,i));return o}function Ft(e,t,n,i=!0){if(t&&t.vnode,t){let i=t.parent;const r=t.proxy,o=n;for(;i;){const t=i.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,r,o))return;i=i.parent}const s=t.appContext.config.errorHandler;if(s)return void Lt(s,null,10,[e,r,o])}!function(e,t,n,i=!0){console.error(e)}(e,0,0,i)}let It=!1,jt=!1;const Nt=[];let Vt=0;const Bt=[];let qt=null,zt=0;const Wt=[];let Ut=null,Ht=0;const Kt=Promise.resolve();let Zt=null,Gt=null;function Yt(e){const t=Zt||Kt;return e?t.then(this?e.bind(this):e):t}function Qt(e){Nt.length&&Nt.includes(e,It&&e.allowRecurse?Vt+1:Vt)||e===Gt||(null==e.id?Nt.push(e):Nt.splice(function(e){let t=Vt+1,n=Nt.length;for(;t<n;){const i=t+n>>>1;nn(Nt[i])<e?t=i+1:n=i}return t}(e.id),0,e),Jt())}function Jt(){It||jt||(jt=!0,Zt=Kt.then(rn))}function Xt(e,t,n,i){(0,r.kJ)(e)?n.push(...e):t&&t.includes(e,e.allowRecurse?i+1:i)||n.push(e),Jt()}function en(e,t=null){if(Bt.length){for(Gt=t,qt=[...new Set(Bt)],Bt.length=0,zt=0;zt<qt.length;zt++)qt[zt]();qt=null,zt=0,Gt=null,en(e,t)}}function tn(e){if(Wt.length){const e=[...new Set(Wt)];if(Wt.length=0,Ut)return void Ut.push(...e);for(Ut=e,Ut.sort(((e,t)=>nn(e)-nn(t))),Ht=0;Ht<Ut.length;Ht++)Ut[Ht]();Ut=null,Ht=0}}const nn=e=>null==e.id?1/0:e.id;function rn(e){jt=!1,It=!0,en(e),Nt.sort(((e,t)=>nn(e)-nn(t)));try{for(Vt=0;Vt<Nt.length;Vt++){const e=Nt[Vt];e&&!1!==e.active&&Lt(e,null,14)}}finally{Vt=0,Nt.length=0,tn(),It=!1,Zt=null,(Nt.length||Bt.length||Wt.length)&&rn(e)}}function on(e,t){return ln(e,null,t)}const sn={};function an(e,t,n){return ln(e,t,n)}function ln(e,t,{immediate:n,deep:o,flush:s,onTrack:a,onTrigger:l}=r.kT){const c=Ct;let u,d,h=!1,p=!1;if((0,i.dq)(e)?(u=()=>e.value,h=!!e._shallow):(0,i.PG)(e)?(u=()=>e,o=!0):(0,r.kJ)(e)?(p=!0,h=e.some(i.PG),u=()=>e.map((e=>(0,i.dq)(e)?e.value:(0,i.PG)(e)?dn(e):(0,r.mf)(e)?Lt(e,c,2):void 0))):u=(0,r.mf)(e)?t?()=>Lt(e,c,2):()=>{if(!c||!c.isUnmounted)return d&&d(),Pt(e,c,3,[f])}:r.dG,t&&o){const e=u;u=()=>dn(e())}let f=e=>{d=y.onStop=()=>{Lt(e,c,4)}},m=p?[]:sn;const g=()=>{if(y.active)if(t){const e=y.run();(o||h||(p?e.some(((e,t)=>(0,r.aU)(e,m[t]))):(0,r.aU)(e,m)))&&(d&&d(),Pt(t,c,3,[e,m===sn?void 0:m,f]),m=e)}else y.run()};let v;g.allowRecurse=!!t,v="sync"===s?g:"post"===s?()=>Me(g,c&&c.suspense):()=>{!c||c.isMounted?function(e){Xt(e,qt,Bt,zt)}(g):g()};const y=new i.qq(u,v);return t?n?g():m=y.run():"post"===s?Me(y.run.bind(y),c&&c.suspense):y.run(),()=>{y.stop(),c&&c.scope&&(0,r.Od)(c.scope.effects,y)}}function cn(e,t,n){const i=this.proxy,o=(0,r.HD)(e)?e.includes(".")?un(i,e):()=>i[e]:e.bind(i,i);let s;(0,r.mf)(t)?s=t:(s=t.handler,n=t);const a=Ct;At(this);const l=ln(o,s.bind(i),n);return a?At(a):Dt(),l}function un(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function dn(e,t=new Set){if(!(0,r.Kn)(e)||e.__v_skip)return e;if((t=t||new Set).has(e))return e;if(t.add(e),(0,i.dq)(e))dn(e.value,t);else if((0,r.kJ)(e))for(let n=0;n<e.length;n++)dn(e[n],t);else if((0,r.DM)(e)||(0,r._N)(e))e.forEach((e=>{dn(e,t)}));else if((0,r.PO)(e))for(const n in e)dn(e[n],t);return e}function hn(e,t,n){const i=arguments.length;return 2===i?(0,r.Kn)(t)&&!(0,r.kJ)(t)?nt(t)?lt(e,null,[t]):lt(e,t):lt(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):3===i&&nt(n)&&(n=[n]),lt(e,t,n))}Symbol("");const pn="3.2.1"},9963:(e,t,n)=>{"use strict";n.d(t,{uT:()=>k,ri:()=>Q,e8:()=>N,nr:()=>j,F8:()=>K,D2:()=>H,iM:()=>W});var i=n(3577),r=n(6252);n(2262);const o="undefined"!=typeof document?document:null,s=new Map,a={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const r=t?o.createElementNS("http://www.w3.org/2000/svg",e):o.createElement(e,n?{is:n}:void 0);return"select"===e&&i&&null!=i.multiple&&r.setAttribute("multiple",i.multiple),r},createText:e=>o.createTextNode(e),createComment:e=>o.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>o.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,i){const r=n?n.previousSibling:t.lastChild;let a=s.get(e);if(!a){const t=o.createElement("template");if(t.innerHTML=i?`<svg>${e}</svg>`:e,a=t.content,i){const e=a.firstChild;for(;e.firstChild;)a.appendChild(e.firstChild);a.removeChild(e)}s.set(e,a)}return t.insertBefore(a.cloneNode(!0),n),[r?r.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},l=/\s*!important$/;function c(e,t,n){if((0,i.kJ)(n))n.forEach((n=>c(e,t,n)));else if(t.startsWith("--"))e.setProperty(t,n);else{const r=function(e,t){const n=d[t];if(n)return n;let r=(0,i._A)(t);if("filter"!==r&&r in e)return d[t]=r;r=(0,i.kC)(r);for(let n=0;n<u.length;n++){const i=u[n]+r;if(i in e)return d[t]=i}return t}(e,t);l.test(n)?e.setProperty((0,i.rs)(r),n.replace(l,""),"important"):e[r]=n}}const u=["Webkit","Moz","ms"],d={},h="http://www.w3.org/1999/xlink";let p=Date.now,f=!1;if("undefined"!=typeof window){p()>document.createEvent("Event").timeStamp&&(p=()=>performance.now());const e=navigator.userAgent.match(/firefox\/(\d+)/i);f=!!(e&&Number(e[1])<=53)}let m=0;const g=Promise.resolve(),v=()=>{m=0};function y(e,t,n,i){e.addEventListener(t,n,i)}const b=/(?:Once|Passive|Capture)$/,w=/^on[a-z]/;"undefined"!=typeof HTMLElement&&HTMLElement;const _="transition",x="animation",k=(e,{slots:t})=>(0,r.h)(r.P$,function(e){const t={};for(const n in e)n in C||(t[n]=e[n]);if(!1===e.css)return t;const{name:n="v",type:r,duration:o,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=s,appearActiveClass:u=a,appearToClass:d=l,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=e,m=function(e){if(null==e)return null;if((0,i.Kn)(e))return[D(e.enter),D(e.leave)];{const t=D(e);return[t,t]}}(o),g=m&&m[0],v=m&&m[1],{onBeforeEnter:y,onEnter:b,onEnterCancelled:w,onLeave:_,onLeaveCancelled:x,onBeforeAppear:k=y,onAppear:$=b,onAppearCancelled:R=w}=t,L=(e,t,n)=>{T(e,t?d:l),T(e,t?u:a),n&&n()},P=(e,t)=>{T(e,f),T(e,p),t&&t()},F=e=>(t,n)=>{const i=e?$:b,o=()=>L(t,e,n);S(i,[t,o]),E((()=>{T(t,e?c:s),O(t,e?d:l),A(i)||M(t,r,g,o)}))};return(0,i.l7)(t,{onBeforeEnter(e){S(y,[e]),O(e,s),O(e,a)},onBeforeAppear(e){S(k,[e]),O(e,c),O(e,u)},onEnter:F(!1),onAppear:F(!0),onLeave(e,t){const n=()=>P(e,t);O(e,h),document.body.offsetHeight,O(e,p),E((()=>{T(e,h),O(e,f),A(_)||M(e,r,v,n)})),S(_,[e,n])},onEnterCancelled(e){L(e,!1),S(w,[e])},onAppearCancelled(e){L(e,!0),S(R,[e])},onLeaveCancelled(e){P(e),S(x,[e])}})}(e),t);k.displayName="Transition";const C={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},S=(k.props=(0,i.l7)({},r.P$.props,C),(e,t=[])=>{(0,i.kJ)(e)?e.forEach((e=>e(...t))):e&&e(...t)}),A=e=>!!e&&((0,i.kJ)(e)?e.some((e=>e.length>1)):e.length>1);function D(e){return(0,i.He)(e)}function O(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e._vtc||(e._vtc=new Set)).add(t)}function T(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function E(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let $=0;function M(e,t,n,i){const r=e._endId=++$,o=()=>{r===e._endId&&i()};if(n)return setTimeout(o,n);const{type:s,timeout:a,propCount:l}=function(e,t){const n=window.getComputedStyle(e),i=e=>(n[e]||"").split(", "),r=i("transitionDelay"),o=i("transitionDuration"),s=R(r,o),a=i("animationDelay"),l=i("animationDuration"),c=R(a,l);let u=null,d=0,h=0;return t===_?s>0&&(u=_,d=s,h=o.length):t===x?c>0&&(u=x,d=c,h=l.length):(d=Math.max(s,c),u=d>0?s>c?_:x:null,h=u?u===_?o.length:l.length:0),{type:u,timeout:d,propCount:h,hasTransform:u===_&&/\b(transform|all)(,|$)/.test(n.transitionProperty)}}(e,t);if(!s)return i();const c=s+"end";let u=0;const d=()=>{e.removeEventListener(c,h),o()},h=t=>{t.target===e&&++u>=l&&d()};setTimeout((()=>{u<l&&d()}),a+1),e.addEventListener(c,h)}function R(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map(((t,n)=>L(t)+L(e[n]))))}function L(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}new WeakMap,new WeakMap;const P=e=>{const t=e.props["onUpdate:modelValue"];return(0,i.kJ)(t)?e=>(0,i.ir)(t,e):t};function F(e){e.target.composing=!0}function I(e){const t=e.target;t.composing&&(t.composing=!1,function(e,t){const n=document.createEvent("HTMLEvents");n.initEvent("input",!0,!0),e.dispatchEvent(n)}(t))}const j={created(e,{modifiers:{lazy:t,trim:n,number:r}},o){e._assign=P(o);const s=r||o.props&&"number"===o.props.type;y(e,t?"change":"input",(t=>{if(t.target.composing)return;let r=e.value;n?r=r.trim():s&&(r=(0,i.He)(r)),e._assign(r)})),n&&y(e,"change",(()=>{e.value=e.value.trim()})),t||(y(e,"compositionstart",F),y(e,"compositionend",I),y(e,"change",I))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:o}},s){if(e._assign=P(s),e.composing)return;if(document.activeElement===e){if(n)return;if(r&&e.value.trim()===t)return;if((o||"number"===e.type)&&(0,i.He)(e.value)===t)return}const a=null==t?"":t;e.value!==a&&(e.value=a)}},N={deep:!0,created(e,t,n){e._assign=P(n),y(e,"change",(()=>{const t=e._modelValue,n=function(e){return"_value"in e?e._value:e.value}(e),r=e.checked,o=e._assign;if((0,i.kJ)(t)){const e=(0,i.hq)(t,n),s=-1!==e;if(r&&!s)o(t.concat(n));else if(!r&&s){const n=[...t];n.splice(e,1),o(n)}}else if((0,i.DM)(t)){const e=new Set(t);r?e.add(n):e.delete(n),o(e)}else o(B(e,r))}))},mounted:V,beforeUpdate(e,t,n){e._assign=P(n),V(e,t,n)}};function V(e,{value:t,oldValue:n},r){e._modelValue=t,(0,i.kJ)(t)?e.checked=(0,i.hq)(t,r.props.value)>-1:(0,i.DM)(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=(0,i.WV)(t,B(e,!0)))}function B(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const q=["ctrl","shift","alt","meta"],z={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>q.some((n=>e[`${n}Key`]&&!t.includes(n)))},W=(e,t)=>(n,...i)=>{for(let e=0;e<t.length;e++){const i=z[t[e]];if(i&&i(n,t))return}return e(n,...i)},U={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},H=(e,t)=>n=>{if(!("key"in n))return;const r=(0,i.rs)(n.key);return t.some((e=>e===r||U[e]===r))?e(n):void 0},K={beforeMount(e,{value:t},{transition:n}){e._vod="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):Z(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),Z(e,!0),i.enter(e)):i.leave(e,(()=>{Z(e,!1)})):Z(e,t))},beforeUnmount(e,{value:t}){Z(e,t)}};function Z(e,t){e.style.display=t?e._vod:"none"}const G=(0,i.l7)({patchProp:(e,t,n,o,s=!1,a,l,u,d)=>{"class"===t?function(e,t,n){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}(e,o,s):"style"===t?function(e,t,n){const r=e.style;if(n)if((0,i.HD)(n)){if(t!==n){const t=r.display;r.cssText=n,"_vod"in e&&(r.display=t)}}else{for(const e in n)c(r,e,n[e]);if(t&&!(0,i.HD)(t))for(const e in t)null==n[e]&&c(r,e,"")}else e.removeAttribute("style")}(e,n,o):(0,i.F7)(t)?(0,i.tR)(t)||function(e,t,n,o,s=null){const a=e._vei||(e._vei={}),l=a[t];if(o&&l)l.value=o;else{const[n,c]=function(e){let t;if(b.test(e)){let n;for(t={};n=e.match(b);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[(0,i.rs)(e.slice(2)),t]}(t);o?y(e,n,a[t]=function(e,t){const n=e=>{const o=e.timeStamp||p();(f||o>=n.attached-1)&&(0,r.$d)(function(e,t){if((0,i.kJ)(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e(t)))}return t}(e,n.value),t,5,[e])};return n.value=e,n.attached=m||(g.then(v),m=p()),n}(o,s),c):l&&(function(e,t,n,i){e.removeEventListener(t,n,i)}(e,n,l,c),a[t]=void 0)}}(e,t,0,o,l):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):function(e,t,n,r){return r?"innerHTML"===t||!!(t in e&&w.test(t)&&(0,i.mf)(n)):"spellcheck"!==t&&"draggable"!==t&&("form"!==t&&(("list"!==t||"INPUT"!==e.tagName)&&(("type"!==t||"TEXTAREA"!==e.tagName)&&((!w.test(t)||!(0,i.HD)(n))&&t in e))))}(e,t,o,s))?function(e,t,n,i,r,o,s){if("innerHTML"===t||"textContent"===t)return i&&s(i,r,o),void(e[t]=null==n?"":n);if("value"===t&&"PROGRESS"!==e.tagName){e._value=n;const i=null==n?"":n;return e.value!==i&&(e.value=i),void(null==n&&e.removeAttribute(t))}if(""===n||null==n){const i=typeof e[t];if(""===n&&"boolean"===i)return void(e[t]=!0);if(null==n&&"string"===i)return e[t]="",void e.removeAttribute(t);if("number"===i){try{e[t]=0}catch(e){}return void e.removeAttribute(t)}}try{e[t]=n}catch(e){}}(e,t,o,a,l,u,d):("true-value"===t?e._trueValue=o:"false-value"===t&&(e._falseValue=o),function(e,t,n,r,o){if(r&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(h,t.slice(6,t.length)):e.setAttributeNS(h,t,n);else{const r=(0,i.Pq)(t);null==n||r&&!1===n?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}(e,t,o,s))}},a);let Y;const Q=(...e)=>{const t=(Y||(Y=(0,r.Us)(G))).createApp(...e),{mount:n}=t;return t.mount=e=>{const r=function(e){if((0,i.HD)(e))return document.querySelector(e);return e}(e);if(!r)return;const o=t._component;(0,i.mf)(o)||o.render||o.template||(o.template=r.innerHTML),r.innerHTML="";const s=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),s},t}},3577:(e,t,n)=>{"use strict";function i(e,t){const n=Object.create(null),i=e.split(",");for(let e=0;e<i.length;e++)n[i[e]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}n.d(t,{Z6:()=>g,kT:()=>m,NO:()=>y,dG:()=>v,_A:()=>z,kC:()=>H,Nj:()=>Y,l7:()=>x,E9:()=>X,aU:()=>Z,RI:()=>S,rs:()=>U,ir:()=>G,kJ:()=>A,mf:()=>E,e1:()=>r,S0:()=>N,_N:()=>D,tR:()=>_,Kn:()=>R,F7:()=>w,PO:()=>j,tI:()=>L,Gg:()=>V,DM:()=>O,Pq:()=>o,HD:()=>$,yk:()=>M,WV:()=>d,hq:()=>h,fY:()=>i,C_:()=>u,j5:()=>s,Od:()=>k,zw:()=>p,hR:()=>K,He:()=>Q,W7:()=>I});const r=i("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt"),o=i("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function s(e){if(A(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],r=$(i)?c(i):s(i);if(r)for(const e in r)t[e]=r[e]}return t}return $(e)||R(e)?e:void 0}const a=/;(?![^(]*\))/g,l=/:(.+)/;function c(e){const t={};return e.split(a).forEach((e=>{if(e){const n=e.split(l);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function u(e){let t="";if($(e))t=e;else if(A(e))for(let n=0;n<e.length;n++){const i=u(e[n]);i&&(t+=i+" ")}else if(R(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function d(e,t){if(e===t)return!0;let n=T(e),i=T(t);if(n||i)return!(!n||!i)&&e.getTime()===t.getTime();if(n=A(e),i=A(t),n||i)return!(!n||!i)&&function(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=d(e[i],t[i]);return n}(e,t);if(n=R(e),i=R(t),n||i){if(!n||!i)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e){const i=e.hasOwnProperty(n),r=t.hasOwnProperty(n);if(i&&!r||!i&&r||!d(e[n],t[n]))return!1}}return String(e)===String(t)}function h(e,t){return e.findIndex((e=>d(e,t)))}const p=e=>null==e?"":A(e)||R(e)&&(e.toString===P||!E(e.toString))?JSON.stringify(e,f,2):String(e),f=(e,t)=>t&&t.__v_isRef?f(e,t.value):D(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n])=>(e[`${t} =>`]=n,e)),{})}:O(t)?{[`Set(${t.size})`]:[...t.values()]}:!R(t)||A(t)||j(t)?t:String(t),m={},g=[],v=()=>{},y=()=>!1,b=/^on[^a-z]/,w=e=>b.test(e),_=e=>e.startsWith("onUpdate:"),x=Object.assign,k=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},C=Object.prototype.hasOwnProperty,S=(e,t)=>C.call(e,t),A=Array.isArray,D=e=>"[object Map]"===F(e),O=e=>"[object Set]"===F(e),T=e=>e instanceof Date,E=e=>"function"==typeof e,$=e=>"string"==typeof e,M=e=>"symbol"==typeof e,R=e=>null!==e&&"object"==typeof e,L=e=>R(e)&&E(e.then)&&E(e.catch),P=Object.prototype.toString,F=e=>P.call(e),I=e=>F(e).slice(8,-1),j=e=>"[object Object]"===F(e),N=e=>$(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,V=i(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),B=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},q=/-(\w)/g,z=B((e=>e.replace(q,((e,t)=>t?t.toUpperCase():"")))),W=/\B([A-Z])/g,U=B((e=>e.replace(W,"-$1").toLowerCase())),H=B((e=>e.charAt(0).toUpperCase()+e.slice(1))),K=B((e=>e?`on${H(e)}`:"")),Z=(e,t)=>!Object.is(e,t),G=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Y=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Q=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let J;const X=()=>J||(J="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{})},3239:(e,t,n)=>{e=n.nmd(e),function(){var e=function(){return this}();e||"undefined"==typeof window||(e=window);var t=function(e,n,i){"string"==typeof e?(2==arguments.length&&(i=n),t.modules[e]||(t.payloads[e]=i,t.modules[e]=null)):t.original?t.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};t.modules={},t.payloads={};var n,i=function(e,t,n){if("string"==typeof t){var i=s(e,t);if(null!=i)return n&&n(),i}else if("[object Array]"===Object.prototype.toString.call(t)){for(var o=[],a=0,l=t.length;a<l;++a){var c=s(e,t[a]);if(null==c&&r.original)return;o.push(c)}return n&&n.apply(null,o)||!0}},r=function(e,t){var n=i("",e,t);return null==n&&r.original?r.original.apply(this,arguments):n},o=function(e,t){if(-1!==t.indexOf("!")){var n=t.split("!");return o(e,n[0])+"!"+o(e,n[1])}if("."==t.charAt(0))for(t=e.split("/").slice(0,-1).join("/")+"/"+t;-1!==t.indexOf(".")&&i!=t;){var i=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return t},s=function(e,n){n=o(e,n);var r=t.modules[n];if(!r){if("function"==typeof(r=t.payloads[n])){var s={},a={id:n,uri:"",exports:s,packaged:!0};s=r((function(e,t){return i(n,e,t)}),s,a)||a.exports,t.modules[n]=s,delete t.payloads[n]}r=t.modules[n]=s||r}return r};n=e,"ace"&&(e.ace||(e.ace={}),n=e.ace),n.define&&n.define.packaged||(t.original=n.define,n.define=t,n.define.packaged=!0),n.require&&n.require.packaged||(r.original=n.require,n.require=r,n.require.packaged=!0)}(),ace.define("ace/lib/fixoldbrowsers",["require","exports","module"],(function(e,t,n){"use strict";"undefined"==typeof Element||Element.prototype.remove||Object.defineProperty(Element.prototype,"remove",{enumerable:!1,writable:!0,configurable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})})),ace.define("ace/lib/useragent",["require","exports","module"],(function(e,t,n){"use strict";t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS};var i="object"==typeof navigator?navigator:{},r=(/mac|win|linux/i.exec(i.platform)||["other"])[0].toLowerCase(),o=i.userAgent||"",s=i.appName||"";t.isWin="win"==r,t.isMac="mac"==r,t.isLinux="linux"==r,t.isIE="Microsoft Internet Explorer"==s||s.indexOf("MSAppHost")>=0?parseFloat((o.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((o.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=o.match(/ Gecko\/\d+/),t.isOpera="object"==typeof opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(o.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(o.split(" Chrome/")[1])||void 0,t.isEdge=parseFloat(o.split(" Edge/")[1])||void 0,t.isAIR=o.indexOf("AdobeAIR")>=0,t.isAndroid=o.indexOf("Android")>=0,t.isChromeOS=o.indexOf(" CrOS ")>=0,t.isIOS=/iPad|iPhone|iPod/.test(o)&&!window.MSStream,t.isIOS&&(t.isMac=!0),t.isMobile=t.isIOS||t.isAndroid})),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("./useragent");if(t.buildDom=function e(t,n,i){if("string"==typeof t&&t){var r=document.createTextNode(t);return n&&n.appendChild(r),r}if(!Array.isArray(t))return t&&t.appendChild&&n&&n.appendChild(t),t;if("string"!=typeof t[0]||!t[0]){for(var o=[],s=0;s<t.length;s++){var a=e(t[s],n,i);a&&o.push(a)}return o}var l=document.createElement(t[0]),c=t[1],u=1;for(c&&"object"==typeof c&&!Array.isArray(c)&&(u=2),s=u;s<t.length;s++)e(t[s],l,i);return 2==u&&Object.keys(c).forEach((function(e){var t=c[e];"class"===e?l.className=Array.isArray(t)?t.join(" "):t:"function"==typeof t||"value"==e||"$"==e[0]?l[e]=t:"ref"===e?i&&(i[t]=l):null!=t&&l.setAttribute(e,t)})),n&&n.appendChild(l),l},t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||"http://www.w3.org/1999/xhtml",e):document.createElement(e)},t.removeChildren=function(e){e.innerHTML=""},t.createTextNode=function(e,t){return(t?t.ownerDocument:document).createTextNode(e)},t.createFragment=function(e){return(e?e.ownerDocument:document).createDocumentFragment()},t.hasCssClass=function(e,t){return-1!==(e.className+"").split(/\s+/g).indexOf(t)},t.addCssClass=function(e,n){t.hasCssClass(e,n)||(e.className+=" "+n)},t.removeCssClass=function(e,t){for(var n=e.className.split(/\s+/g);;){var i=n.indexOf(t);if(-1==i)break;n.splice(i,1)}e.className=n.join(" ")},t.toggleCssClass=function(e,t){for(var n=e.className.split(/\s+/g),i=!0;;){var r=n.indexOf(t);if(-1==r)break;i=!1,n.splice(r,1)}return i&&n.push(t),e.className=n.join(" "),i},t.setCssClass=function(e,n,i){i?t.addCssClass(e,n):t.removeCssClass(e,n)},t.hasCssString=function(e,t){var n,i=0;if(n=(t=t||document).querySelectorAll("style"))for(;i<n.length;)if(n[i++].id===e)return!0},t.importCssString=function(e,n,i){var r=i;i&&i.getRootNode&&(r=i.getRootNode())&&r!=i||(r=document);var o=r.ownerDocument||r;if(n&&t.hasCssString(n,r))return null;n&&(e+="\n/*# sourceURL=ace/css/"+n+" */");var s=t.createElement("style");s.appendChild(o.createTextNode(e)),n&&(s.id=n),r==o&&(r=t.getDocumentHead(o)),r.insertBefore(s,r.firstChild)},t.importCssStylsheet=function(e,n){t.buildDom(["link",{rel:"stylesheet",href:e}],t.getDocumentHead(n))},t.scrollbarWidth=function(e){var n=t.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var i=t.createElement("ace_outer"),r=i.style;r.position="absolute",r.left="-10000px",r.overflow="hidden",r.width="200px",r.minWidth="0px",r.height="150px",r.display="block",i.appendChild(n);var o=e.documentElement;o.appendChild(i);var s=n.offsetWidth;r.overflow="scroll";var a=n.offsetWidth;return s==a&&(a=i.clientWidth),o.removeChild(i),s-a},"undefined"==typeof document&&(t.importCssString=function(){}),t.computedStyle=function(e,t){return window.getComputedStyle(e,"")||{}},t.setStyle=function(e,t,n){e[t]!==n&&(e[t]=n)},t.HAS_CSS_ANIMATION=!1,t.HAS_CSS_TRANSFORMS=!1,t.HI_DPI=!i.isWin||"undefined"!=typeof window&&window.devicePixelRatio>=1.5,"undefined"!=typeof document){var r=document.createElement("div");t.HI_DPI&&void 0!==r.style.transform&&(t.HAS_CSS_TRANSFORMS=!0),i.isEdge||void 0===r.style.animationName||(t.HAS_CSS_ANIMATION=!0),r=null}t.HAS_CSS_TRANSFORMS?t.translate=function(e,t,n){e.style.transform="translate("+Math.round(t)+"px, "+Math.round(n)+"px)"}:t.translate=function(e,t,n){e.style.top=Math.round(n)+"px",e.style.left=Math.round(t)+"px"}})),ace.define("ace/lib/oop",["require","exports","module"],(function(e,t,n){"use strict";t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var n in t)e[n]=t[n];return e},t.implement=function(e,n){t.mixin(e,n)}})),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],(function(e,t,n){"use strict";var i=e("./oop"),r=function(){var e,t,n={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(t in n.FUNCTION_KEYS)e=n.FUNCTION_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);for(t in n.PRINTABLE_KEYS)e=n.PRINTABLE_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);return i.mixin(n,n.MODIFIER_KEYS),i.mixin(n,n.PRINTABLE_KEYS),i.mixin(n,n.FUNCTION_KEYS),n.enter=n.return,n.escape=n.esc,n.del=n.delete,n[173]="-",function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)n.KEY_MODS[t]=e.filter((function(e){return t&n.KEY_MODS[e]})).join("-")+"-"}(),n.KEY_MODS[0]="",n.KEY_MODS[-1]="input-",n}();i.mixin(t,r),t.keyCodeToString=function(e){var t=r[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}})),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(e,t,n){"use strict";var i,r=e("./keys"),o=e("./useragent"),s=null,a=0;function l(){return null==i&&function(){i=!1;try{document.createComment("").addEventListener("test",(function(){}),{get passive(){i={passive:!1}}})}catch(e){}}(),i}function c(e,t,n){this.elem=e,this.type=t,this.callback=n}c.prototype.destroy=function(){d(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var u=t.addListener=function(e,t,n,i){e.addEventListener(t,n,l()),i&&i.$toDestroy.push(new c(e,t,n))},d=t.removeListener=function(e,t,n){e.removeEventListener(t,n,l())};t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation&&e.stopPropagation()},t.preventDefault=function(e){e.preventDefault&&e.preventDefault()},t.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||o.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.button},t.capture=function(e,t,n){var i=e&&e.ownerDocument||document;function r(e){t&&t(e),n&&n(e),d(i,"mousemove",t),d(i,"mouseup",r),d(i,"dragstart",r)}return u(i,"mousemove",t),u(i,"mouseup",r),u(i,"dragstart",r),r},t.addMouseWheelListener=function(e,t,n){"onmousewheel"in e?u(e,"mousewheel",(function(e){void 0!==e.wheelDeltaX?(e.wheelX=-e.wheelDeltaX/8,e.wheelY=-e.wheelDeltaY/8):(e.wheelX=0,e.wheelY=-e.wheelDelta/8),t(e)}),n):"onwheel"in e?u(e,"wheel",(function(e){switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=.35*e.deltaX||0,e.wheelY=.35*e.deltaY||0;break;case e.DOM_DELTA_LINE:case e.DOM_DELTA_PAGE:e.wheelX=5*(e.deltaX||0),e.wheelY=5*(e.deltaY||0)}t(e)}),n):u(e,"DOMMouseScroll",(function(e){e.axis&&e.axis==e.HORIZONTAL_AXIS?(e.wheelX=5*(e.detail||0),e.wheelY=0):(e.wheelX=0,e.wheelY=5*(e.detail||0)),t(e)}),n)},t.addMultiMouseDownListener=function(e,n,i,r,s){var a,l,c,d=0,h={2:"dblclick",3:"tripleclick",4:"quadclick"};function p(e){if(0!==t.getButton(e)?d=0:e.detail>1?++d>4&&(d=1):d=1,o.isIE){var s=Math.abs(e.clientX-a)>5||Math.abs(e.clientY-l)>5;c&&!s||(d=1),c&&clearTimeout(c),c=setTimeout((function(){c=null}),n[d-1]||600),1==d&&(a=e.clientX,l=e.clientY)}if(e._clicks=d,i[r]("mousedown",e),d>4)d=0;else if(d>1)return i[r](h[d],e)}Array.isArray(e)||(e=[e]),e.forEach((function(e){u(e,"mousedown",p,s)}))};var h=function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)};function p(e,t,n){var i=h(t);if(!o.isMac&&s){if(t.getModifierState&&(t.getModifierState("OS")||t.getModifierState("Win"))&&(i|=8),s.altGr){if(3==(3&i))return;s.altGr=0}if(18===n||17===n){var l="location"in t?t.location:t.keyLocation;17===n&&1===l?1==s[n]&&(a=t.timeStamp):18===n&&3===i&&2===l&&t.timeStamp-a<50&&(s.altGr=!0)}}if(n in r.MODIFIER_KEYS&&(n=-1),i||13!==n||3!==(l="location"in t?t.location:t.keyLocation)||(e(t,i,-n),!t.defaultPrevented)){if(o.isChromeOS&&8&i){if(e(t,i,n),t.defaultPrevented)return;i&=-9}return!!(i||n in r.FUNCTION_KEYS||n in r.PRINTABLE_KEYS)&&e(t,i,n)}}function f(){s=Object.create(null)}if(t.getModifierString=function(e){return r.KEY_MODS[h(e)]},t.addCommandKeyListener=function(e,n,i){if(o.isOldGecko||o.isOpera&&!("KeyboardEvent"in window)){var r=null;u(e,"keydown",(function(e){r=e.keyCode}),i),u(e,"keypress",(function(e){return p(n,e,r)}),i)}else{var a=null;u(e,"keydown",(function(e){s[e.keyCode]=(s[e.keyCode]||0)+1;var t=p(n,e,e.keyCode);return a=e.defaultPrevented,t}),i),u(e,"keypress",(function(e){a&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),a=null)}),i),u(e,"keyup",(function(e){s[e.keyCode]=null}),i),s||(f(),u(window,"focus",f))}},"object"==typeof window&&window.postMessage&&!o.isOldIE){var m=1;t.nextTick=function(e,n){n=n||window;var i="zero-timeout-message-"+m++,r=function(o){o.data==i&&(t.stopPropagation(o),d(n,"message",r),e())};u(n,"message",r),n.postMessage(i,"*")}}t.$idleBlocked=!1,t.onIdle=function(e,n){return setTimeout((function n(){t.$idleBlocked?setTimeout(n,100):e()}),n)},t.$idleBlockId=null,t.blockIdle=function(e){t.$idleBlockId&&clearTimeout(t.$idleBlockId),t.$idleBlocked=!0,t.$idleBlockId=setTimeout((function(){t.$idleBlocked=!1}),e||100)},t.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t.nextFrame?t.nextFrame=t.nextFrame.bind(window):t.nextFrame=function(e){setTimeout(e,17)}})),ace.define("ace/range",["require","exports","module"],(function(e,t,n){"use strict";var i=function(e,t,n,i){this.start={row:e,column:t},this.end={row:n,column:i}};(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(e,t){return 0==this.compare(e,t)},this.compareRange=function(e){var t,n=e.end,i=e.start;return 1==(t=this.compare(n.row,n.column))?1==(t=this.compare(i.row,i.column))?2:0==t?1:0:-1==t?-2:-1==(t=this.compare(i.row,i.column))?-1:1==t?42:0},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},this.intersects=function(e){var t=this.compareRange(e);return-1==t||0==t||1==t},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)&&!this.isStart(e,t)},this.insideStart=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)},this.insideEnd=function(e,t){return 0==this.compare(e,t)&&!this.isStart(e,t)},this.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){if(this.end.row>t)var n={row:t+1,column:0};else this.end.row<e&&(n={row:e,column:0});if(this.start.row>t)var r={row:t+1,column:0};else this.start.row<e&&(r={row:e,column:0});return i.fromPoints(r||this.start,n||this.end)},this.extend=function(e,t){var n=this.compare(e,t);if(0==n)return this;if(-1==n)var r={row:e,column:t};else var o={row:e,column:t};return i.fromPoints(r||this.start,o||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return i.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new i(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new i(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),n=e.documentToScreenPosition(this.end);return new i(t.row,t.column,n.row,n.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}).call(i.prototype),i.fromPoints=function(e,t){return new i(e.row,e.column,t.row,t.column)},i.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},i.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=i})),ace.define("ace/lib/lang",["require","exports","module"],(function(e,t,n){"use strict";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){for(var n="";t>0;)1&t&&(n+=e),(t>>=1)&&(e+=e);return n};var i=/^\s\s*/,r=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(i,"")},t.stringTrimRight=function(e){return e.replace(r,"")},t.copyObject=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.copyArray=function(e){for(var t=[],n=0,i=e.length;n<i;n++)e[n]&&"object"==typeof e[n]?t[n]=this.copyObject(e[n]):t[n]=e[n];return t},t.deepCopy=function e(t){if("object"!=typeof t||!t)return t;var n;if(Array.isArray(t)){n=[];for(var i=0;i<t.length;i++)n[i]=e(t[i]);return n}if("[object Object]"!==Object.prototype.toString.call(t))return t;for(var i in n={},t)n[i]=e(t[i]);return n},t.arrayToMap=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var n in e)t[n]=e[n];return t},t.arrayRemove=function(e,t){for(var n=0;n<=e.length;n++)t===e[n]&&e.splice(n,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return(""+e).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var n=[];return e.replace(t,(function(e){n.push({offset:arguments[arguments.length-2],length:e.length})})),n},t.deferredCall=function(e){var t=null,n=function(){t=null,e()},i=function(e){return i.cancel(),t=setTimeout(n,e||0),i};return i.schedule=i,i.call=function(){return this.cancel(),e(),i},i.cancel=function(){return clearTimeout(t),t=null,i},i.isPending=function(){return t},i},t.delayedCall=function(e,t){var n=null,i=function(){n=null,e()},r=function(e){null==n&&(n=setTimeout(i,e||t))};return r.delay=function(e){n&&clearTimeout(n),n=setTimeout(i,e||t)},r.schedule=r,r.call=function(){this.cancel(),e()},r.cancel=function(){n&&clearTimeout(n),n=null},r.isPending=function(){return n},r}})),ace.define("ace/clipboard",["require","exports","module"],(function(e,t,n){"use strict";var i;n.exports={lineMode:!1,pasteCancelled:function(){return!!(i&&i>Date.now()-50)||(i=!1)},cancel:function(){i=Date.now()}}})),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],(function(e,t,n){"use strict";var i=e("../lib/event"),r=e("../lib/useragent"),o=e("../lib/dom"),s=e("../lib/lang"),a=e("../clipboard"),l=r.isChrome<18,c=r.isIE,u=r.isChrome>63,d=400,h=e("../lib/keys"),p=h.KEY_MODS,f=r.isIOS,m=f?/\s/:/\n/,g=r.isMobile;t.TextInput=function(e,t){var n=o.createElement("textarea");n.className="ace_text-input",n.setAttribute("wrap","off"),n.setAttribute("autocorrect","off"),n.setAttribute("autocapitalize","off"),n.setAttribute("spellcheck",!1),n.style.opacity="0",e.insertBefore(n,e.firstChild);var v=!1,y=!1,b=!1,w=!1,_="";g||(n.style.fontSize="1px");var x=!1,k=!1,C="",S=0,A=0,D=0;try{var O=document.activeElement===n}catch(e){}i.addListener(n,"blur",(function(e){k||(t.onBlur(e),O=!1)}),t),i.addListener(n,"focus",(function(e){if(!k){if(O=!0,r.isEdge)try{if(!document.hasFocus())return}catch(e){}t.onFocus(e),r.isEdge?setTimeout(T):T()}}),t),this.$focusScroll=!1,this.focus=function(){if(_||u||"browser"==this.$focusScroll)return n.focus({preventScroll:!0});var e=n.style.top;n.style.position="fixed",n.style.top="0px";try{var t=0!=n.getBoundingClientRect().top}catch(e){return}var i=[];if(t)for(var r=n.parentElement;r&&1==r.nodeType;)i.push(r),r.setAttribute("ace_nocontext",!0),r=!r.parentElement&&r.getRootNode?r.getRootNode().host:r.parentElement;n.focus({preventScroll:!0}),t&&i.forEach((function(e){e.removeAttribute("ace_nocontext")})),setTimeout((function(){n.style.position="","0px"==n.style.top&&(n.style.top=e)}),0)},this.blur=function(){n.blur()},this.isFocused=function(){return O},t.on("beforeEndOperation",(function(){var e=t.curOp,i=e&&e.command&&e.command.name;if("insertstring"!=i){var r=i&&(e.docChanged||e.selectionChanged);b&&r&&(C=n.value="",V()),T()}}));var T=f?function(e){if(O&&(!v||e)&&!w){e||(e="");var i="\n ab"+e+"cde fg\n";i!=n.value&&(n.value=C=i);var r=4+(e.length||(t.selection.isEmpty()?0:1));4==S&&A==r||n.setSelectionRange(4,r),S=4,A=r}}:function(){if(!b&&!w&&(O||$)){b=!0;var e=0,i=0,r="";if(t.session){var o=t.selection,s=o.getRange(),a=o.cursor.row;if(e=s.start.column,i=s.end.column,r=t.session.getLine(a),s.start.row!=a){var l=t.session.getLine(a-1);e=s.start.row<a-1?0:e,i+=l.length+1,r=l+"\n"+r}else if(s.end.row!=a){var c=t.session.getLine(a+1);i=s.end.row>a+1?c.length:i,i+=r.length+1,r=r+"\n"+c}else g&&a>0&&(r="\n"+r,i+=1,e+=1);r.length>d&&(e<d&&i<d?r=r.slice(0,d):(r="\n",e==i?e=i=0:(e=0,i=1)))}var u=r+"\n\n";if(u!=C&&(n.value=C=u,S=A=u.length),$&&(S=n.selectionStart,A=n.selectionEnd),A!=i||S!=e||n.selectionEnd!=A)try{n.setSelectionRange(e,i),S=e,A=i}catch(e){}b=!1}};this.resetSelection=T,O&&t.onFocus();var E=null;this.setInputHandler=function(e){E=e},this.getInputHandler=function(){return E};var $=!1,M=function(e,i){if($&&($=!1),y)return T(),e&&t.onPaste(e),y=!1,"";for(var o=n.selectionStart,s=n.selectionEnd,a=S,l=C.length-A,c=e,u=e.length-o,d=e.length-s,h=0;a>0&&C[h]==e[h];)h++,a--;for(c=c.slice(h),h=1;l>0&&C.length-h>S-1&&C[C.length-h]==e[e.length-h];)h++,l--;u-=h-1,d-=h-1;var p=c.length-h+1;if(p<0&&(a=-p,p=0),c=c.slice(0,p),!(i||c||u||a||l||d))return"";w=!0;var f=!1;return r.isAndroid&&". "==c&&(c="  ",f=!0),c&&!a&&!l&&!u&&!d||x?t.onTextInput(c):t.onTextInput(c,{extendLeft:a,extendRight:l,restoreStart:u,restoreEnd:d}),w=!1,C=e,S=o,A=s,D=d,f?"\n":c},R=function(e){if(b)return N();if(e&&e.inputType){if("historyUndo"==e.inputType)return t.execCommand("undo");if("historyRedo"==e.inputType)return t.execCommand("redo")}var i=n.value,r=M(i,!0);(i.length>500||m.test(r)||g&&S<1&&S==A)&&T()},L=function(e,t,n){var i=e.clipboardData||window.clipboardData;if(i&&!l){var r=c||n?"Text":"text/plain";try{return t?!1!==i.setData(r,t):i.getData(r)}catch(e){if(!n)return L(e,t,!0)}}},P=function(e,r){var o=t.getCopyText();if(!o)return i.preventDefault(e);L(e,o)?(f&&(T(o),v=o,setTimeout((function(){v=!1}),10)),r?t.onCut():t.onCopy(),i.preventDefault(e)):(v=!0,n.value=o,n.select(),setTimeout((function(){v=!1,T(),r?t.onCut():t.onCopy()})))},F=function(e){P(e,!0)},I=function(e){P(e,!1)},j=function(e){var o=L(e);a.pasteCancelled()||("string"==typeof o?(o&&t.onPaste(o,e),r.isIE&&setTimeout(T),i.preventDefault(e)):(n.value="",y=!0))};i.addCommandKeyListener(n,t.onCommandKey.bind(t),t),i.addListener(n,"select",(function(e){b||(v?v=!1:function(e){return 0===e.selectionStart&&e.selectionEnd>=C.length&&e.value===C&&C&&e.selectionEnd!==A}(n)?(t.selectAll(),T()):g&&n.selectionStart!=S&&T())}),t),i.addListener(n,"input",R,t),i.addListener(n,"cut",F,t),i.addListener(n,"copy",I,t),i.addListener(n,"paste",j,t),"oncut"in n&&"oncopy"in n&&"onpaste"in n||i.addListener(e,"keydown",(function(e){if((!r.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:I(e);break;case 86:j(e);break;case 88:F(e)}}),t);var N=function(){if(b&&t.onCompositionUpdate&&!t.$readOnly){if(x)return B();if(b.useTextareaForIME)t.onCompositionUpdate(n.value);else{var e=n.value;M(e),b.markerRange&&(b.context&&(b.markerRange.start.column=b.selectionStart=b.context.compositionStartOffset),b.markerRange.end.column=b.markerRange.start.column+A-b.selectionStart+D)}}},V=function(e){t.onCompositionEnd&&!t.$readOnly&&(b=!1,t.onCompositionEnd(),t.off("mousedown",B),e&&R())};function B(){k=!0,n.blur(),n.focus(),k=!1}var q,z=s.delayedCall(N,50).schedule.bind(null,null);function W(){clearTimeout(q),q=setTimeout((function(){_&&(n.style.cssText=_,_=""),t.renderer.$isMousePressed=!1,t.renderer.$keepTextAreaAtCursor&&t.renderer.$moveTextAreaToCursor()}),0)}i.addListener(n,"compositionstart",(function(e){if(!b&&t.onCompositionStart&&!t.$readOnly&&(b={},!x)){e.data&&(b.useTextareaForIME=!1),setTimeout(N,0),t._signal("compositionStart"),t.on("mousedown",B);var i=t.getSelectionRange();i.end.row=i.start.row,i.end.column=i.start.column,b.markerRange=i,b.selectionStart=S,t.onCompositionStart(b),b.useTextareaForIME?(C=n.value="",S=0,A=0):(n.msGetInputContext&&(b.context=n.msGetInputContext()),n.getInputContext&&(b.context=n.getInputContext()))}}),t),i.addListener(n,"compositionupdate",N,t),i.addListener(n,"keyup",(function(e){27==e.keyCode&&n.value.length<n.selectionStart&&(b||(C=n.value),S=A=-1,T()),z()}),t),i.addListener(n,"keydown",z,t),i.addListener(n,"compositionend",V,t),this.getElement=function(){return n},this.setCommandMode=function(e){x=e,n.readOnly=!1},this.setReadOnly=function(e){x||(n.readOnly=e)},this.setCopyWithEmptySelection=function(e){},this.onContextMenu=function(e){$=!0,T(),t._emit("nativecontextmenu",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,s){_||(_=n.style.cssText),n.style.cssText=(s?"z-index:100000;":"")+(r.isIE?"opacity:0.1;":"")+"text-indent: -"+(S+A)*t.renderer.characterWidth*.5+"px;";var a=t.container.getBoundingClientRect(),l=o.computedStyle(t.container),c=a.top+(parseInt(l.borderTopWidth)||0),u=a.left+(parseInt(a.borderLeftWidth)||0),d=a.bottom-c-n.clientHeight-2,h=function(e){o.translate(n,e.clientX-u-2,Math.min(e.clientY-c-2,d))};h(e),"mousedown"==e.type&&(t.renderer.$isMousePressed=!0,clearTimeout(q),r.isWin&&i.capture(t.container,h,W))},this.onContextMenuClose=W;var U=function(e){t.textInput.onContextMenu(e),W()};i.addListener(n,"mouseup",U,t),i.addListener(n,"mousedown",(function(e){e.preventDefault(),W()}),t),i.addListener(t.renderer.scroller,"contextmenu",U,t),i.addListener(n,"contextmenu",U,t),f&&function(e,t,n){var i=null,r=!1;n.addEventListener("keydown",(function(e){i&&clearTimeout(i),r=!0}),!0),n.addEventListener("keyup",(function(e){i=setTimeout((function(){r=!1}),100)}),!0);var o=function(e){if(document.activeElement===n&&!(r||b||t.$mouseHandler.isMousePressed||v)){var i=n.selectionStart,o=n.selectionEnd,s=null,a=0;if(0==i?s=h.up:1==i?s=h.home:o>A&&"\n"==C[o]?s=h.end:i<S&&" "==C[i-1]?(s=h.left,a=p.option):i<S||i==S&&A!=S&&i==o?s=h.left:o>A&&C.slice(0,o).split("\n").length>2?s=h.down:o>A&&" "==C[o-1]?(s=h.right,a=p.option):(o>A||o==A&&A!=S&&i==o)&&(s=h.right),i!==o&&(a|=p.shift),s){if(!t.onCommandKey({},a,s)&&t.commands){s=h.keyCodeToString(s);var l=t.commands.findKeyCommand(a,s);l&&t.execCommand(l)}S=i,A=o,T("")}}};document.addEventListener("selectionchange",o),t.on("destroy",(function(){document.removeEventListener("selectionchange",o)}))}(0,t,n)},t.$setUserAgentForTests=function(e,t){g=e,f=t}})),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("../lib/useragent");function r(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e)),["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach((function(t){e[t]=this[t]}),this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}function o(e,t){if(e.start.row==e.end.row)var n=2*t.column-e.start.column-e.end.column;else if(e.start.row!=e.end.row-1||e.start.column||e.end.column)n=2*t.row-e.start.row-e.end.row;else n=t.column-4;return n<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}(function(){this.onMouseDown=function(e){var t=e.inSelection(),n=e.getDocumentPosition();this.mousedownEvent=e;var r=this.editor,o=e.getButton();return 0!==o?((r.getSelectionRange().isEmpty()||1==o)&&r.selection.moveToPosition(n),void(2==o&&(r.textInput.onContextMenu(e.domEvent),i.isMozilla||e.preventDefault()))):(this.mousedownEvent.time=Date.now(),!t||r.isFocused()||(r.focus(),!this.$focusTimeout||this.$clickSelection||r.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(n,e.domEvent._clicks>1),e.preventDefault()):(this.setState("focusWait"),void this.captureMouse(e)))},this.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(e):t||n.selection.moveToPosition(e),t||this.select(),n.renderer.scroller.setCapture&&n.renderer.scroller.setCapture(),n.setStyle("ace_selecting"),this.setState("select"))},this.select=function(){var e,t=this.editor,n=t.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var i=this.$clickSelection.comparePoint(n);if(-1==i)e=this.$clickSelection.end;else if(1==i)e=this.$clickSelection.start;else{var r=o(this.$clickSelection,n);n=r.cursor,e=r.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(n),t.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,n=this.editor,i=n.renderer.screenToTextCoordinates(this.x,this.y),r=n.selection[e](i.row,i.column);if(this.$clickSelection){var s=this.$clickSelection.comparePoint(r.start),a=this.$clickSelection.comparePoint(r.end);if(-1==s&&a<=0)t=this.$clickSelection.end,r.end.row==i.row&&r.end.column==i.column||(i=r.start);else if(1==a&&s>=0)t=this.$clickSelection.start,r.start.row==i.row&&r.start.column==i.column||(i=r.end);else if(-1==s&&1==a)i=r.end,t=r.start;else{var l=o(this.$clickSelection,i);i=l.cursor,t=l.anchor}n.selection.setSelectionAnchor(t.row,t.column)}n.selection.selectToPosition(i),n.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e,t,n,i,r=(e=this.mousedownEvent.x,t=this.mousedownEvent.y,n=this.x,i=this.y,Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))),o=Date.now();(r>0||o-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),n=this.editor,i=n.session.getBracketRange(t);i?(i.isEmpty()&&(i.start.column--,i.end.column++),this.setState("select")):(i=n.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=i,this.select()},this.onTripleClick=function(e){var t=e.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var i=n.getSelectionRange();i.isMultiLine()&&i.contains(t.row,t.column)?(this.$clickSelection=n.selection.getLineRange(i.start.row),this.$clickSelection.end=n.selection.getLineRange(i.end.row).end):this.$clickSelection=n.selection.getLineRange(t.row),this.select()},this.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var n=this.$lastScroll,i=e.domEvent.timeStamp,r=i-n.t,o=r?e.wheelX/r:n.vx,s=r?e.wheelY/r:n.vy;r<550&&(o=(o+n.vx)/2,s=(s+n.vy)/2);var a=Math.abs(o/s),l=!1;return a>=1&&t.renderer.isScrollableBy(e.wheelX*e.speed,0)&&(l=!0),a<=1&&t.renderer.isScrollableBy(0,e.wheelY*e.speed)&&(l=!0),l?n.allowed=i:i-n.allowed<550&&(Math.abs(o)<=1.5*Math.abs(n.vx)&&Math.abs(s)<=1.5*Math.abs(n.vy)?(l=!0,n.allowed=i):n.allowed=0),n.t=i,n.vx=o,n.vy=s,l?(t.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}}}).call(r.prototype),t.DefaultHandlers=r})),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],(function(e,t,n){"use strict";e("./lib/oop");var i=e("./lib/dom");function r(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}(function(){this.$init=function(){return this.$element=i.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(e){this.getElement().textContent=e},this.setHtml=function(e){this.getElement().innerHTML=e},this.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},this.setClassName=function(e){i.addCssClass(this.getElement(),e)},this.show=function(e,t,n){null!=e&&this.setText(e),null!=t&&null!=n&&this.setPosition(t,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(r.prototype),t.Tooltip=r})),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],(function(e,t,n){"use strict";var i=e("../lib/dom"),r=e("../lib/oop"),o=e("../lib/event"),s=e("../tooltip").Tooltip;function a(e){s.call(this,e)}r.inherits(a,s),function(){this.setPosition=function(e,t){var n=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight,r=this.getWidth(),o=this.getHeight();(e+=15)+r>n&&(e-=e+r-n),(t+=15)+o>i&&(t-=20+o),s.prototype.setPosition.call(this,e,t)}}.call(a.prototype),t.GutterHandler=function(e){var t,n,r,s=e.editor,l=s.renderer.$gutterLayer,c=new a(s.container);function u(){t&&(t=clearTimeout(t)),r&&(c.hide(),r=null,s._signal("hideGutterTooltip",c),s.off("mousewheel",u))}function d(e){c.setPosition(e.x,e.y)}e.editor.setDefaultHandler("guttermousedown",(function(t){if(s.isFocused()&&0==t.getButton()&&"foldWidgets"!=l.getRegion(t)){var n=t.getDocumentPosition().row,i=s.session.selection;if(t.getShiftKey())i.selectTo(n,0);else{if(2==t.domEvent.detail)return s.selectAll(),t.preventDefault();e.$clickSelection=s.selection.getLineRange(n)}return e.setState("selectByLines"),e.captureMouse(t),t.preventDefault()}})),e.editor.setDefaultHandler("guttermousemove",(function(o){var a=o.domEvent.target||o.domEvent.srcElement;if(i.hasCssClass(a,"ace_fold-widget"))return u();r&&e.$tooltipFollowsMouse&&d(o),n=o,t||(t=setTimeout((function(){t=null,n&&!e.isMousePressed?function(){var t=n.getDocumentPosition().row,i=l.$annotations[t];if(!i)return u();if(t==s.session.getLength()){var o=s.renderer.pixelToScreenCoordinates(0,n.y).row,a=n.$pos;if(o>s.session.documentToScreenRow(a.row,a.column))return u()}if(r!=i)if(r=i.text.join("<br/>"),c.setHtml(r),c.show(),s._signal("showGutterTooltip",c),s.on("mousewheel",u),e.$tooltipFollowsMouse)d(n);else{var h=n.domEvent.target.getBoundingClientRect(),p=c.getElement().style;p.left=h.right+"px",p.top=h.bottom+"px"}}():u()}),50))})),o.addListener(s.renderer.$gutter,"mouseout",(function(e){n=null,r&&!t&&(t=setTimeout((function(){t=null,u()}),50))}),s),s.on("changeSession",u)}})),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("../lib/event"),r=e("../lib/useragent"),o=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){i.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){i.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor.getSelectionRange();if(e.isEmpty())this.$inSelection=!1;else{var t=this.getDocumentPosition();this.$inSelection=e.contains(t.row,t.column)}return this.$inSelection},this.getButton=function(){return i.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=r.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(o.prototype)})),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("../lib/dom"),r=e("../lib/event"),o=e("../lib/useragent");function s(e){var t=e.editor,n=i.createElement("img");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",o.isOpera&&(n.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;"),["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach((function(t){e[t]=this[t]}),this),t.on("mousedown",this.onMouseDown.bind(e));var s,l,c,u,d,h,p,f,m,g,v,y=t.container,b=0;function w(){var e=h;(function(e,n){var i=Date.now(),r=!n||e.row!=n.row,o=!n||e.column!=n.column;!g||r||o?(t.moveCursorToPosition(e),g=i,v={x:l,y:c}):a(v.x,v.y,l,c)>5?g=null:i-g>=200&&(t.renderer.scrollCursorIntoView(),g=null)})(h=t.renderer.screenToTextCoordinates(l,c),e),function(e,n){var i=Date.now(),r=t.renderer.layerConfig.lineHeight,o=t.renderer.layerConfig.characterWidth,s=t.renderer.scroller.getBoundingClientRect(),a={x:{left:l-s.left,right:s.right-l},y:{top:c-s.top,bottom:s.bottom-c}},u=Math.min(a.x.left,a.x.right),d=Math.min(a.y.top,a.y.bottom),h={row:e.row,column:e.column};u/o<=2&&(h.column+=a.x.left<a.x.right?-3:2),d/r<=1&&(h.row+=a.y.top<a.y.bottom?-1:1);var p=e.row!=h.row,f=e.column!=h.column,g=!n||e.row!=n.row;p||f&&!g?m?i-m>=200&&t.renderer.scrollCursorIntoView(h):m=i:m=null}(h,e)}function _(){d=t.selection.toOrientedRange(),s=t.session.addMarker(d,"ace_selection",t.getSelectionStyle()),t.clearSelection(),t.isFocused()&&t.renderer.$cursorLayer.setBlinking(!1),clearInterval(u),w(),u=setInterval(w,20),b=0,r.addListener(document,"mousemove",C)}function x(){clearInterval(u),t.session.removeMarker(s),s=null,t.selection.fromOrientedRange(d),t.isFocused()&&!f&&t.$resetCursorStyle(),d=null,h=null,b=0,m=null,g=null,r.removeListener(document,"mousemove",C)}this.onDragStart=function(e){if(this.cancelDrag||!y.draggable){var i=this;return setTimeout((function(){i.startSelect(),i.captureMouse(e)}),0),e.preventDefault()}d=t.getSelectionRange();var r=e.dataTransfer;r.effectAllowed=t.getReadOnly()?"copy":"copyMove",o.isOpera&&(t.container.appendChild(n),n.scrollTop=0),r.setDragImage&&r.setDragImage(n,0,0),o.isOpera&&t.container.removeChild(n),r.clearData(),r.setData("Text",t.session.getTextRange()),f=!0,this.setState("drag")},this.onDragEnd=function(e){if(y.draggable=!1,f=!1,this.setState(null),!t.getReadOnly()){var n=e.dataTransfer.dropEffect;p||"move"!=n||t.session.remove(t.getSelectionRange()),t.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){if(!t.getReadOnly()&&S(e.dataTransfer))return l=e.clientX,c=e.clientY,s||_(),b++,e.dataTransfer.dropEffect=p=A(e),r.preventDefault(e)},this.onDragOver=function(e){if(!t.getReadOnly()&&S(e.dataTransfer))return l=e.clientX,c=e.clientY,s||(_(),b++),null!==k&&(k=null),e.dataTransfer.dropEffect=p=A(e),r.preventDefault(e)},this.onDragLeave=function(e){if(--b<=0&&s)return x(),p=null,r.preventDefault(e)},this.onDrop=function(e){if(h){var n=e.dataTransfer;if(f)switch(p){case"move":d=d.contains(h.row,h.column)?{start:h,end:h}:t.moveText(d,h);break;case"copy":d=t.moveText(d,h,!0)}else{var i=n.getData("Text");d={start:h,end:t.session.insert(h,i)},t.focus(),p=null}return x(),r.preventDefault(e)}},r.addListener(y,"dragstart",this.onDragStart.bind(e),t),r.addListener(y,"dragend",this.onDragEnd.bind(e),t),r.addListener(y,"dragenter",this.onDragEnter.bind(e),t),r.addListener(y,"dragover",this.onDragOver.bind(e),t),r.addListener(y,"dragleave",this.onDragLeave.bind(e),t),r.addListener(y,"drop",this.onDrop.bind(e),t);var k=null;function C(){null==k&&(k=setTimeout((function(){null!=k&&s&&x()}),20))}function S(e){var t=e.types;return!t||Array.prototype.some.call(t,(function(e){return"text/plain"==e||"Text"==e}))}function A(e){var t=["copy","copymove","all","uninitialized"],n=o.isMac?e.altKey:e.ctrlKey,i="uninitialized";try{i=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var r="none";return n&&t.indexOf(i)>=0?r="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(i)>=0?r="move":t.indexOf(i)>=0&&(r="copy"),r}}function a(e,t,n,i){return Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))}(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor;e.container.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging");var t=o.isWin?"default":"move";e.renderer.setCursorStyle(t),this.setState("dragReady")},this.onMouseDrag=function(e){var t=this.editor.container;o.isIE&&"dragReady"==this.state&&a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&t.dragDrop(),"dragWait"===this.state&&a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,n=e.inSelection(),i=e.getButton();if(1===(e.domEvent.detail||1)&&0===i&&n){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var r=e.domEvent.target||e.domEvent.srcElement;"unselectable"in r&&(r.unselectable="on"),t.getDragDelay()?(o.isWebKit&&(this.cancelDrag=!0,t.container.draggable=!0),this.setState("dragWait")):this.startDrag(),this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(s.prototype),t.DragdropHandler=s})),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("./mouse_event").MouseEvent,r=e("../lib/event"),o=e("../lib/dom");t.addTouchListeners=function(e,t){var n,s,a,l,c,u,d,h,p,f="scroll",m=0,g=0,v=0,y=0;function b(){var e,n,i;p||(e=window.navigator&&window.navigator.clipboard,n=!1,i=function(i){var r,s,a=i.target.getAttribute("action");if("more"==a||!n)return n=!n,r=t.getCopyText(),s=t.session.getUndoManager().hasUndo(),void p.replaceChild(o.buildDom(n?["span",!r&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],r&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],r&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],e&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],s&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Pallete"]]:["span"]),p.firstChild);"paste"==a?e.readText().then((function(e){t.execCommand(a,e)})):a&&("cut"!=a&&"copy"!=a||(e?e.writeText(t.getCopyText()):document.execCommand("copy")),t.execCommand(a)),p.firstChild.style.display="none",n=!1,"openCommandPallete"!=a&&t.focus()},p=o.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(e){f="menu",e.stopPropagation(),e.preventDefault(),t.textInput.focus()},ontouchend:function(e){e.stopPropagation(),e.preventDefault(),i(e)},onclick:i},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],t.container));var r=t.selection.cursor,s=t.renderer.textToScreenCoordinates(r.row,r.column),a=t.renderer.textToScreenCoordinates(0,0).pageX,l=t.renderer.scrollLeft,c=t.container.getBoundingClientRect();p.style.top=s.pageY-c.top-3+"px",s.pageX-c.left<c.width-70?(p.style.left="",p.style.right="10px"):(p.style.right="",p.style.left=a+l-c.left+"px"),p.style.display="",p.firstChild.style.display="none",t.on("input",w)}function w(e){p&&(p.style.display="none"),t.off("input",w)}function _(){c=null,clearTimeout(c);var e=t.selection.getRange(),n=e.contains(d.row,d.column);!e.isEmpty()&&n||(t.selection.moveToPosition(d),t.selection.selectWord()),f="wait",b()}r.addListener(e,"contextmenu",(function(e){h&&t.textInput.getElement().focus()}),t),r.addListener(e,"touchstart",(function(e){var r=e.touches;if(c||r.length>1)return clearTimeout(c),c=null,a=-1,void(f="zoom");h=t.$mouseHandler.isMousePressed=!0;var o=t.renderer.layerConfig.lineHeight,u=t.renderer.layerConfig.lineHeight,p=e.timeStamp;l=p;var b=r[0],w=b.clientX,x=b.clientY;Math.abs(n-w)+Math.abs(s-x)>o&&(a=-1),n=e.clientX=w,s=e.clientY=x,v=y=0;var k=new i(e,t);if(d=k.getDocumentPosition(),p-a<500&&1==r.length&&!m)g++,e.preventDefault(),e.button=0,function(){c=null,clearTimeout(c),t.selection.moveToPosition(d);var e=g>=2?t.selection.getLineRange(d.row):t.session.getBracketRange(d);e&&!e.isEmpty()?t.selection.setRange(e):t.selection.selectWord(),f="wait"}();else{g=0;var C=t.selection.cursor,S=t.selection.isEmpty()?C:t.selection.anchor,A=t.renderer.$cursorLayer.getPixelPosition(C,!0),D=t.renderer.$cursorLayer.getPixelPosition(S,!0),O=t.renderer.scroller.getBoundingClientRect(),T=t.renderer.layerConfig.offset,E=t.renderer.scrollLeft,$=function(e,t){return(e/=u)*e+(t=t/o-.75)*t};if(e.clientX<O.left)return void(f="zoom");var M=$(e.clientX-O.left-A.left+E,e.clientY-O.top-A.top+T),R=$(e.clientX-O.left-D.left+E,e.clientY-O.top-D.top+T);M<3.5&&R<3.5&&(f=M>R?"cursor":"anchor"),f=R<3.5?"anchor":M<3.5?"cursor":"scroll",c=setTimeout(_,450)}a=p}),t),r.addListener(e,"touchend",(function(e){h=t.$mouseHandler.isMousePressed=!1,u&&clearInterval(u),"zoom"==f?(f="",m=0):c?(t.selection.moveToPosition(d),m=0,b()):"scroll"==f?(m+=60,u=setInterval((function(){m--<=0&&(clearInterval(u),u=null),Math.abs(v)<.01&&(v=0),Math.abs(y)<.01&&(y=0),m<20&&(v*=.9),m<20&&(y*=.9);var e=t.session.getScrollTop();t.renderer.scrollBy(10*v,10*y),e==t.session.getScrollTop()&&(m=0)}),10),w()):b(),clearTimeout(c),c=null}),t),r.addListener(e,"touchmove",(function(e){c&&(clearTimeout(c),c=null);var r=e.touches;if(!(r.length>1||"zoom"==f)){var o=r[0],a=n-o.clientX,u=s-o.clientY;if("wait"==f){if(!(a*a+u*u>4))return e.preventDefault();f="cursor"}n=o.clientX,s=o.clientY,e.clientX=o.clientX,e.clientY=o.clientY;var d=e.timeStamp,h=d-l;if(l=d,"scroll"==f){var p=new i(e,t);p.speed=1,p.wheelX=a,p.wheelY=u,10*Math.abs(a)<Math.abs(u)&&(a=0),10*Math.abs(u)<Math.abs(a)&&(u=0),0!=h&&(v=a/h,y=u/h),t._emit("mousewheel",p),p.propagationStopped||(v=y=0)}else{var m=new i(e,t).getDocumentPosition();"cursor"==f?t.selection.moveCursorToPosition(m):"anchor"==f&&t.selection.setSelectionAnchor(m.row,m.column),t.renderer.scrollCursorIntoView(m),e.preventDefault()}}}),t)}})),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("./dom");t.get=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText)},n.send(null)},t.loadScript=function(e,t){var n=i.getDocumentHead(),r=document.createElement("script");r.src=e,n.appendChild(r),r.onload=r.onreadystatechange=function(e,n){!n&&r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(r=r.onload=r.onreadystatechange=null,n||t())}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}})),ace.define("ace/lib/event_emitter",["require","exports","module"],(function(e,t,n){"use strict";var i={},r=function(){this.propagationStopped=!0},o=function(){this.defaultPrevented=!0};i._emit=i._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[e]||[],i=this._defaultHandlers[e];if(n.length||i){"object"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=r),t.preventDefault||(t.preventDefault=o),n=n.slice();for(var s=0;s<n.length&&(n[s](t,this),!t.propagationStopped);s++);return i&&!t.defaultPrevented?i(t,this):void 0}},i._signal=function(e,t){var n=(this._eventRegistry||{})[e];if(n){n=n.slice();for(var i=0;i<n.length;i++)n[i](t,this)}},i.once=function(e,t){var n=this;if(this.on(e,(function i(){n.off(e,i),t.apply(null,arguments)})),!t)return new Promise((function(e){t=e}))},i.setDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[e]){var i=n[e],r=n._disabled_[e];r||(n._disabled_[e]=r=[]),r.push(i);var o=r.indexOf(t);-1!=o&&r.splice(o,1)}n[e]=t},i.removeDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n){var i=n._disabled_[e];if(n[e]==t)i&&this.setDefaultHandler(e,i.pop());else if(i){var r=i.indexOf(t);-1!=r&&i.splice(r,1)}}},i.on=i.addEventListener=function(e,t,n){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[e];return i||(i=this._eventRegistry[e]=[]),-1==i.indexOf(t)&&i[n?"unshift":"push"](t),t},i.off=i.removeListener=i.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];if(n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}},i.removeAllListeners=function(e){e||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[e]=void 0),this._defaultHandlers&&(this._defaultHandlers[e]=void 0)},t.EventEmitter=i})),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){var i=e("./oop"),r=e("./event_emitter").EventEmitter,o={setOptions:function(e){Object.keys(e).forEach((function(t){this.setOption(t,e[t])}),this)},getOptions:function(e){var t={};if(e)Array.isArray(e)||(t=e,e=Object.keys(t));else{var n=this.$options;e=Object.keys(n).filter((function(e){return!n[e].hidden}))}return e.forEach((function(e){t[e]=this.getOption(e)}),this),t},setOption:function(e,t){if(this["$"+e]!==t){var n=this.$options[e];if(!n)return s('misspelled option "'+e+'"');if(n.forwardTo)return this[n.forwardTo]&&this[n.forwardTo].setOption(e,t);n.handlesSet||(this["$"+e]=t),n&&n.set&&n.set.call(this,t)}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:s('misspelled option "'+e+'"')}};function s(e){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function a(e,t){var n=new Error(e);n.data=t,"object"==typeof console&&console.error&&console.error(n),setTimeout((function(){throw n}))}var l=function(){this.$defaultOptions={}};(function(){i.implement(this,r),this.defineOptions=function(e,t,n){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(n).forEach((function(t){var i=n[t];"string"==typeof i&&(i={forwardTo:i}),i.name||(i.name=t),e.$options[i.name]=i,"initialValue"in i&&(e["$"+i.name]=i.initialValue)})),i.implement(e,o),this},this.resetOptions=function(e){Object.keys(e.$options).forEach((function(t){var n=e.$options[t];"value"in n&&e.setOption(t,n.value)}))},this.setDefaultValue=function(e,t,n){if(!e){for(e in this.$defaultOptions)if(this.$defaultOptions[e][t])break;if(!this.$defaultOptions[e][t])return!1}var i=this.$defaultOptions[e]||(this.$defaultOptions[e]={});i[t]&&(i.forwardTo?this.setDefaultValue(i.forwardTo,t,n):i[t].value=n)},this.setDefaultValues=function(e,t){Object.keys(t).forEach((function(n){this.setDefaultValue(e,n,t[n])}),this)},this.warn=s,this.reportError=a}).call(l.prototype),t.AppConfig=l})),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],(function(e,t,i){var r=e("./lib/lang"),o=(e("./lib/oop"),e("./lib/net")),s=e("./lib/app_config").AppConfig;i.exports=t=new s;var a=function(){return this||"undefined"!=typeof window&&window}(),l={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1};t.get=function(e){if(!l.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return l[e]},t.set=function(e,t){if(l.hasOwnProperty(e))l[e]=t;else if(0==this.setDefaultValue("",e,t))throw new Error("Unknown config key: "+e)},t.all=function(){return r.copyObject(l)},t.$modes={},t.moduleUrl=function(e,t){if(l.$moduleUrls[e])return l.$moduleUrls[e];var n=e.split("/"),i="snippets"==(t=t||n[n.length-2]||"")?"/":"-",r=n[n.length-1];if("worker"==t&&"-"==i){var o=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");r=r.replace(o,"")}(!r||r==t)&&n.length>1&&(r=n[n.length-2]);var s=l[t+"Path"];return null==s?s=l.basePath:"/"==i&&(t=i=""),s&&"/"!=s.slice(-1)&&(s+="/"),s+t+i+r+this.get("suffix")},t.setModuleUrl=function(e,t){return l.$moduleUrls[e]=t},t.$loading={},t.loadModule=function(n,i){var r,s;Array.isArray(n)&&(s=n[0],n=n[1]);try{r=e(n)}catch(e){}if(r&&!t.$loading[n])return i&&i(r);if(t.$loading[n]||(t.$loading[n]=[]),t.$loading[n].push(i),!(t.$loading[n].length>1)){var a=function(){e([n],(function(e){t._emit("load.module",{name:n,module:e});var i=t.$loading[n];t.$loading[n]=null,i.forEach((function(t){t&&t(e)}))}))};if(!t.get("packaged"))return a();o.loadScript(t.moduleUrl(n,s),a),c()}};var c=function(){l.basePath||l.workerPath||l.modePath||l.themePath||Object.keys(l.$moduleUrls).length||(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),c=function(){})};function u(r){if(a&&a.document){l.packaged=r||e.packaged||i.packaged||a.define&&n.amdD.packaged;for(var o,s={},c="",u=document.currentScript||document._currentScript,d=(u&&u.ownerDocument||document).getElementsByTagName("script"),h=0;h<d.length;h++){var p=d[h],f=p.src||p.getAttribute("src");if(f){for(var m=p.attributes,g=0,v=m.length;g<v;g++){var y=m[g];0===y.name.indexOf("data-ace-")&&(s[(o=y.name.replace(/^data-ace-/,""),o.replace(/-(.)/g,(function(e,t){return t.toUpperCase()})))]=y.value)}var b=f.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);b&&(c=b[1])}}for(var w in c&&(s.base=s.base||c,s.packaged=!0),s.basePath=s.base,s.workerPath=s.workerPath||s.base,s.modePath=s.modePath||s.base,s.themePath=s.themePath||s.base,delete s.base,s)void 0!==s[w]&&t.set(w,s[w])}}u(!0),t.init=u,t.version="1.4.12"})),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],(function(e,t,n){"use strict";var i=e("../lib/event"),r=e("../lib/useragent"),o=e("./default_handlers").DefaultHandlers,s=e("./default_gutter_handler").GutterHandler,a=e("./mouse_event").MouseEvent,l=e("./dragdrop_handler").DragdropHandler,c=e("./touch_handler").addTouchListeners,u=e("../config"),d=function(e){var t=this;this.editor=e,new o(this),new s(this),new l(this);var n=function(t){(!document.hasFocus||!document.hasFocus()||!e.isFocused()&&document.activeElement==(e.textInput&&e.textInput.getElement()))&&window.focus(),e.focus()},a=e.renderer.getMouseEventTarget();i.addListener(a,"click",this.onMouseEvent.bind(this,"click"),e),i.addListener(a,"mousemove",this.onMouseMove.bind(this,"mousemove"),e),i.addMultiMouseDownListener([a,e.renderer.scrollBarV&&e.renderer.scrollBarV.inner,e.renderer.scrollBarH&&e.renderer.scrollBarH.inner,e.textInput&&e.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",e),i.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel"),e),c(e.container,e);var u=e.renderer.$gutter;i.addListener(u,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),e),i.addListener(u,"click",this.onMouseEvent.bind(this,"gutterclick"),e),i.addListener(u,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),e),i.addListener(u,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),e),i.addListener(a,"mousedown",n,e),i.addListener(u,"mousedown",n,e),r.isIE&&e.renderer.scrollBarV&&(i.addListener(e.renderer.scrollBarV.element,"mousedown",n,e),i.addListener(e.renderer.scrollBarH.element,"mousedown",n,e)),e.on("mousemove",(function(n){if(!t.state&&!t.$dragDelay&&t.$dragEnabled){var i=e.renderer.screenToTextCoordinates(n.x,n.y),r=e.session.selection.getRange(),o=e.renderer;!r.isEmpty()&&r.insideStart(i.row,i.column)?o.setCursorStyle("default"):o.setCursorStyle("")}}),e)};(function(){this.onMouseEvent=function(e,t){this.editor._emit(e,new a(t,this.editor))},this.onMouseMove=function(e,t){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(e,new a(t,this.editor))},this.onMouseWheel=function(e,t){var n=new a(t,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var n=this.editor,o=this.editor.renderer;o.$isMousePressed=!0;var s=this,l=function(e){if(e){if(r.isWebKit&&!e.which&&s.releaseMouse)return s.releaseMouse();s.x=e.clientX,s.y=e.clientY,t&&t(e),s.mouseEvent=new a(e,s.editor),s.$mouseMoved=!0}},c=function(e){n.off("beforeEndOperation",d),clearInterval(h),u(),s[s.state+"End"]&&s[s.state+"End"](e),s.state="",s.isMousePressed=o.$isMousePressed=!1,o.$keepTextAreaAtCursor&&o.$moveTextAreaToCursor(),s.$onCaptureMouseMove=s.releaseMouse=null,e&&s.onMouseEvent("mouseup",e),n.endOperation()},u=function(){s[s.state]&&s[s.state](),s.$mouseMoved=!1};if(r.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout((function(){c(e)}));var d=function(e){s.releaseMouse&&n.curOp.command.name&&n.curOp.selectionChanged&&(s[s.state+"End"]&&s[s.state+"End"](),s.state="",s.releaseMouse())};n.on("beforeEndOperation",d),n.startOperation({command:{name:"mouse"}}),s.$onCaptureMouseMove=l,s.releaseMouse=i.capture(this.editor.container,l,c);var h=setInterval(u,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var e=function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&i.stopEvent(t.domEvent))}.bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)},this.destroy=function(){this.releaseMouse&&this.releaseMouse()}}).call(d.prototype),u.defineOptions(d.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:r.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=d})),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("../lib/dom");t.FoldHandler=function(e){e.on("click",(function(t){var n=t.getDocumentPosition(),r=e.session,o=r.getFoldAt(n.row,n.column,1);o&&(t.getAccelKey()?r.removeFold(o):r.expandFold(o),t.stop());var s=t.domEvent&&t.domEvent.target;s&&i.hasCssClass(s,"ace_inline_button")&&i.hasCssClass(s,"ace_toggle_wrap")&&(r.setOption("wrap",!r.getUseWrapMode()),e.renderer.scrollCursorIntoView())})),e.on("gutterclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,i=e.session;i.foldWidgets&&i.foldWidgets[n]&&e.session.onFoldWidgetClick(n,t),e.isFocused()||e.focus(),t.stop()}})),e.on("gutterdblclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,i=e.session,r=i.getParentFoldRangeData(n,!0),o=r.range||r.firstRange;if(o){n=o.start.row;var s=i.getFoldAt(n,i.getLine(n).length,1);s?i.removeFold(s):(i.addFold("...",o),e.renderer.scrollCursorIntoView({row:o.start.row,column:0}))}t.stop()}}))}})),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],(function(e,t,n){"use strict";var i=e("../lib/keys"),r=e("../lib/event"),o=function(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},this.addKeyboardHandler=function(e,t){if(e){"function"!=typeof e||e.handleKeyboard||(e.handleKeyboard=e);var n=this.$handlers.indexOf(e);-1!=n&&this.$handlers.splice(n,1),null==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),-1==n&&e.attach&&e.attach(this.$editor)}},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return-1!=t&&(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map((function(n){return n.getStatusText&&n.getStatusText(t,e)||""})).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(e,t,n,i){for(var o,s=!1,a=this.$editor.commands,l=this.$handlers.length;l--&&!((o=this.$handlers[l].handleKeyboard(this.$data,e,t,n,i))&&o.command&&((s="null"==o.command||a.exec(o.command,this.$editor,o.args,i))&&i&&-1!=e&&1!=o.passEvent&&1!=o.command.passEvent&&r.stopEvent(i),s)););return s||-1!=e||(o={command:"insertstring"},s=a.exec("insertstring",this.$editor,t)),s&&this.$editor._signal&&this.$editor._signal("keyboardActivity",o),s},this.onCommandKey=function(e,t,n){var r=i.keyCodeToString(n);return this.$callKeyboardHandlers(t,r,n,e)},this.onTextInput=function(e){return this.$callKeyboardHandlers(-1,e)}}).call(o.prototype),t.KeyBinding=o})),ace.define("ace/lib/bidiutil",["require","exports","module"],(function(e,t,n){"use strict";var i=0,r=0,o=!1,s=!1,a=!1,l=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],c=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],u=11,d=18,h=[d,d,d,d,d,d,d,d,d,6,5,6,8,5,d,d,d,d,d,d,d,d,d,d,d,d,d,d,5,5,5,6,8,4,4,u,u,u,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,d,d,d,d,d,d,5,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,9,4,u,u,u,u,4,4,4,4,0,4,4,d,4,4,u,u,2,2,4,0,4,4,4,2,0,4,4,4,4,4],p=[8,8,8,8,8,8,8,8,8,8,8,d,d,d,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,u,u,u,u,u,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8];function f(e,t,n){if(!(r<e))if(1!=e||1!=i||s)for(var o,a,l,c,u=n.length,d=0;d<u;){if(t[d]>=e){for(o=d+1;o<u&&t[o]>=e;)o++;for(a=d,l=o-1;a<l;a++,l--)c=n[a],n[a]=n[l],n[l]=c;d=o}d++}else n.reverse()}function m(e,t,n,r){var l,c,h,p,f=t[r];switch(f){case 0:case 1:o=!1;case 4:case 3:return f;case 2:return o?3:2;case 7:return o=!0,1;case 8:return 4;case 9:return r<1||r+1>=t.length||2!=(l=n[r-1])&&3!=l||2!=(c=t[r+1])&&3!=c?4:(o&&(c=3),c==l?c:4);case 10:return 2==(l=r>0?n[r-1]:5)&&r+1<t.length&&2==t[r+1]?2:4;case u:if(r>0&&2==n[r-1])return 2;if(o)return 4;for(p=r+1,h=t.length;p<h&&t[p]==u;)p++;return p<h&&2==t[p]?2:4;case 12:for(h=t.length,p=r+1;p<h&&12==t[p];)p++;if(p<h){var m=e[r],g=m>=1425&&m<=2303||64286==m;if(l=t[p],g&&(1==l||7==l))return 1}return r<1||5==(l=t[r-1])?4:n[r-1];case 5:return o=!1,s=!0,i;case 6:return a=!0,4;case 13:case 14:case 16:case 17:case 15:o=!1;case d:return 4}}function g(e){var t=e.charCodeAt(0),n=t>>8;return 0==n?t>191?0:h[t]:5==n?/[\u0591-\u05f4]/.test(e)?1:0:6==n?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(e)?12:/[\u0660-\u0669\u066b-\u066c]/.test(e)?3:1642==t?u:/[\u06f0-\u06f9]/.test(e)?2:7:32==n&&t<=8287?p[255&t]:254==n&&t>=65136?7:4}t.L=0,t.R=1,t.EN=2,t.ON_R=3,t.AN=4,t.R_H=5,t.B=6,t.RLE=7,t.DOT="",t.doBidiReorder=function(e,n,u){if(e.length<2)return{};var h=e.split(""),p=new Array(h.length),v=new Array(h.length),y=[];i=u?1:0,function(e,t,n,u){var d=i?c:l,h=null,p=null,f=null,v=0,y=null,b=-1,w=null,_=null,x=[];if(!u)for(w=0,u=[];w<n;w++)u[w]=g(e[w]);for(r=i,o=!1,s=!1,a=!1,_=0;_<n;_++){if(h=v,x[_]=p=m(e,u,x,_),y=240&(v=d[h][p]),v&=15,t[_]=f=d[v][5],y>0)if(16==y){for(w=b;w<_;w++)t[w]=1;b=-1}else b=-1;if(d[v][6])-1==b&&(b=_);else if(b>-1){for(w=b;w<_;w++)t[w]=f;b=-1}5==u[_]&&(t[_]=0),r|=f}if(a)for(w=0;w<n;w++)if(6==u[w]){t[w]=i;for(var k=w-1;k>=0&&8==u[k];k--)t[k]=i}}(h,y,h.length,n);for(var b=0;b<p.length;p[b]=b,b++);for(f(2,y,p),f(1,y,p),b=0;b<p.length-1;b++)3===n[b]?y[b]=t.AN:1===y[b]&&(n[b]>7&&n[b]<13||4===n[b]||n[b]===d)?y[b]=t.ON_R:b>0&&""===h[b-1]&&/\u0622|\u0623|\u0625|\u0627/.test(h[b])&&(y[b-1]=y[b]=t.R_H,b++);for(h[h.length-1]===t.DOT&&(y[h.length-1]=t.B),""===h[0]&&(y[0]=t.RLE),b=0;b<p.length;b++)v[b]=y[p[b]];return{logicalFromVisual:p,bidiLevels:v}},t.hasBidiCharacters=function(e,t){for(var n=!1,i=0;i<e.length;i++)t[i]=g(e.charAt(i)),n||1!=t[i]&&7!=t[i]&&3!=t[i]||(n=!0);return n},t.getVisualFromLogicalIdx=function(e,t){for(var n=0;n<t.logicalFromVisual.length;n++)if(t.logicalFromVisual[n]==e)return n;return 0}})),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],(function(e,t,n){"use strict";var i=e("./lib/bidiutil"),r=e("./lib/lang"),o=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,s=function(e){this.session=e,this.bidiMap={},this.currentRow=null,this.bidiUtil=i,this.charWidths=[],this.EOL="",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="",this.RLE="",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=o.test(e.getValue())};(function(){this.isBidiRow=function(e,t,n){return!!this.seenBidi&&(e!==this.currentRow&&(this.currentRow=e,this.updateRowLine(t,n),this.updateBidiMap()),this.bidiMap.bidiLevels)},this.onChange=function(e){this.seenBidi?this.currentRow=null:"insert"==e.action&&o.test(e.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var e=0,t=this.session.$screenRowCache;if(t.length){var n=this.session.$getRowCacheIndex(t,this.currentRow);n>=0&&(e=this.session.$docRowCache[n])}return e},this.getSplitIndex=function(){var e=0,t=this.session.$screenRowCache;if(t.length)for(var n,i=this.session.$getRowCacheIndex(t,this.currentRow);this.currentRow-e>0&&(n=this.session.$getRowCacheIndex(t,this.currentRow-e-1))===i;)i=n,e++;else e=this.currentRow;return e},this.updateRowLine=function(e,t){void 0===e&&(e=this.getDocumentRow());var n=e===this.session.getLength()-1?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(e),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var o=this.session.$wrapData[e];o&&(void 0===t&&(t=this.getSplitIndex()),t>0&&o.length?(this.wrapIndent=o.indent,this.wrapOffset=this.wrapIndent*this.charWidths[i.L],this.line=t<o.length?this.line.substring(o[t-1],o[t]):this.line.substring(o[o.length-1])):this.line=this.line.substring(0,o[t])),t==o.length&&(this.line+=this.showInvisibles?n:i.DOT)}else this.line+=this.showInvisibles?n:i.DOT;var s,a=this.session,l=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,(function(e,t){return"\t"===e||a.isFullWidth(e.charCodeAt(0))?(s="\t"===e?a.getScreenTabSize(t+l):2,l+=s-1,r.stringRepeat(i.DOT,s)):e})),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==i.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},this.updateBidiMap=function(){var e=[];i.hasBidiCharacters(this.line,e)||this.isRtlDir?this.bidiMap=i.doBidiReorder(this.line,e,this.isRtlDir):this.bidiMap={}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(e){if(this.characterWidth!==e.$characterSize.width){this.fontMetrics=e;var t=this.characterWidth=e.$characterSize.width,n=e.$measureCharWidth("");this.charWidths[i.L]=this.charWidths[i.EN]=this.charWidths[i.ON_R]=t,this.charWidths[i.R]=this.charWidths[i.AN]=n,this.charWidths[i.R_H]=.45*n,this.charWidths[i.B]=this.charWidths[i.RLE]=0,this.currentRow=null}},this.setShowInvisibles=function(e){this.showInvisibles=e,this.currentRow=null},this.setEolChar=function(e){this.EOL=e},this.setContentWidth=function(e){this.contentWidth=e},this.isRtlLine=function(e){return!!this.$isRtl||(null!=e?this.session.getLine(e).charAt(0)==this.RLE:this.isRtlDir)},this.setRtlDirection=function(e,t){for(var n=e.getCursorPosition(),i=e.selection.getSelectionAnchor().row;i<=n.row;i++)t||e.session.getLine(i).charAt(0)!==e.session.$bidiHandler.RLE?t&&e.session.getLine(i).charAt(0)!==e.session.$bidiHandler.RLE&&e.session.doc.insert({column:0,row:i},e.session.$bidiHandler.RLE):e.session.doc.removeInLine(i,0,1)},this.getPosLeft=function(e){e-=this.wrapIndent;var t=this.line.charAt(0)===this.RLE?1:0,n=e>t?this.session.getOverwrite()?e:e-1:t,r=i.getVisualFromLogicalIdx(n,this.bidiMap),o=this.bidiMap.bidiLevels,s=0;!this.session.getOverwrite()&&e<=t&&o[r]%2!=0&&r++;for(var a=0;a<r;a++)s+=this.charWidths[o[a]];return!this.session.getOverwrite()&&e>t&&o[r]%2==0&&(s+=this.charWidths[o[r]]),this.wrapIndent&&(s+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(s+=this.rtlLineOffset),s},this.getSelections=function(e,t){var n,i=this.bidiMap,r=i.bidiLevels,o=[],s=0,a=Math.min(e,t)-this.wrapIndent,l=Math.max(e,t)-this.wrapIndent,c=!1,u=!1,d=0;this.wrapIndent&&(s+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var h,p=0;p<r.length;p++)h=i.logicalFromVisual[p],n=r[p],(c=h>=a&&h<l)&&!u?d=s:!c&&u&&o.push({left:d,width:s-d}),s+=this.charWidths[n],u=c;if(c&&p===r.length&&o.push({left:d,width:s-d}),this.isRtlDir)for(var f=0;f<o.length;f++)o[f].left+=this.rtlLineOffset;return o},this.offsetToCol=function(e){this.isRtlDir&&(e-=this.rtlLineOffset);var t=0,n=(e=Math.max(e,0),0),i=0,r=this.bidiMap.bidiLevels,o=this.charWidths[r[i]];for(this.wrapIndent&&(e-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);e>n+o/2;){if(n+=o,i===r.length-1){o=0;break}o=this.charWidths[r[++i]]}return i>0&&r[i-1]%2!=0&&r[i]%2==0?(e<n&&i--,t=this.bidiMap.logicalFromVisual[i]):i>0&&r[i-1]%2==0&&r[i]%2!=0?t=1+(e>n?this.bidiMap.logicalFromVisual[i]:this.bidiMap.logicalFromVisual[i-1]):this.isRtlDir&&i===r.length-1&&0===o&&r[i-1]%2==0||!this.isRtlDir&&0===i&&r[i]%2!=0?t=1+this.bidiMap.logicalFromVisual[i]:(i>0&&r[i-1]%2!=0&&0!==o&&i--,t=this.bidiMap.logicalFromVisual[i]),0===t&&this.isRtlDir&&t++,t+this.wrapIndent}}).call(s.prototype),t.BidiHandler=s})),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/lang"),o=e("./lib/event_emitter").EventEmitter,s=e("./range").Range,a=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var t=this;this.cursor.on("change",(function(e){t.$cursorChanged=!0,t.$silent||t._emit("changeCursor"),t.$isEmpty||t.$silent||t._emit("changeSelection"),t.$keepDesiredColumnOnChange||e.old.column==e.value.column||(t.$desiredColumn=null)})),this.anchor.on("change",(function(){t.$anchorChanged=!0,t.$isEmpty||t.$silent||t._emit("changeSelection")}))};(function(){i.implement(this,o),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.$isEmpty=!1,this.anchor.setPosition(e,t)},this.getAnchor=this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.$isEmpty?s.fromPoints(t,t):this.isBackwards()?s.fromPoints(t,e):s.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(e,t){var n=t?e.end:e.start,i=t?e.start:e.end;this.$setSelection(n.row,n.column,i.row,i.column)},this.$setSelection=function(e,t,n,i){if(!this.$silent){var r=this.$isEmpty,o=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(e,t),this.cursor.setPosition(n,i),this.$isEmpty=!s.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||r!=this.$isEmpty||o)&&this._emit("changeSelection")}},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection((function(){this.moveCursorTo(e,t)}))},this.selectToPosition=function(e){this.$moveSelection((function(){this.moveCursorToPosition(e)}))},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if(void 0===t){var n=e||this.lead;e=n.row,t=n.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var n,i="number"==typeof e?e:this.lead.row,r=this.session.getFoldLine(i);return r?(i=r.start.row,n=r.end.row):n=i,!0===t?new s(i,0,n,this.session.getLine(n).length):new s(i,0,n+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(e,t,n){var i=e.column,r=e.column+t;return n<0&&(i=e.column-t,r=e.column),this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(i,r).split(" ").length-1==t},this.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var n=this.session.getTabSize();this.wouldMoveIntoSoftTab(t,n,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize();t=this.lead,this.wouldMoveIntoSoftTab(t,n,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,n=this.session.documentToScreenRow(e,t),i=this.session.screenToDocumentPosition(n,0),r=this.session.getDisplayLine(e,null,i.row,i.column).match(/^\s*/);r[0].length==t||this.session.$useEmacsStyleLineStart||(i.column+=r[0].length),this.moveCursorToPosition(i)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var n=this.session.getLine(t.row);if(t.column==n.length){var i=n.search(/\s+$/);i>0&&(t.column=i)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),i=n.substring(t);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var r=this.session.getFoldAt(e,t,1);if(r)this.moveCursorTo(r.end.row,r.end.column);else{if(this.session.nonTokenRe.exec(i)&&(t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,i=n.substring(t)),t>=n.length)return this.moveCursorTo(e,n.length),this.moveCursorRight(),void(e<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(i)&&(t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,t)}},this.moveCursorLongWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))this.moveCursorTo(e.start.row,e.start.column);else{var i=this.session.getFoldStringAt(t,n,-1);null==i&&(i=this.doc.getLine(t).substring(0,n));var o=r.stringReverse(i);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(o)&&(n-=this.session.nonTokenRe.lastIndex,o=o.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),n<=0)return this.moveCursorTo(t,0),this.moveCursorLeft(),void(t>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(o)&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,n)}},this.$shortWordEndIndex=function(e){var t,n=0,i=/\s/,r=this.session.tokenRe;if(r.lastIndex=0,this.session.tokenRe.exec(e))n=this.session.tokenRe.lastIndex;else{for(;(t=e[n])&&i.test(t);)n++;if(n<1)for(r.lastIndex=0;(t=e[n])&&!r.test(t);)if(r.lastIndex=0,n++,i.test(t)){if(n>2){n--;break}for(;(t=e[n])&&i.test(t);)n++;if(n>2)break}}return r.lastIndex=0,n},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),i=n.substring(t),r=this.session.getFoldAt(e,t,1);if(r)return this.moveCursorTo(r.end.row,r.end.column);if(t==n.length){var o=this.doc.getLength();do{e++,i=this.doc.getLine(e)}while(e<o&&/^\s*$/.test(i));/^\s+/.test(i)||(i=""),t=0}var s=this.$shortWordEndIndex(i);this.moveCursorTo(e,t+s)},this.moveCursorShortWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return this.moveCursorTo(e.start.row,e.start.column);var i=this.session.getLine(t).substring(0,n);if(0===n){do{t--,i=this.doc.getLine(t)}while(t>0&&/^\s*$/.test(i));n=i.length,/\s+$/.test(i)||(i="")}var o=r.stringReverse(i),s=this.$shortWordEndIndex(o);return this.moveCursorTo(t,n-s)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var n,i=this.session.documentToScreenPosition(this.lead.row,this.lead.column);if(0===t&&(0!==e&&(this.session.$bidiHandler.isBidiRow(i.row,this.lead.row)?(n=this.session.$bidiHandler.getPosLeft(i.column),i.column=Math.round(n/this.session.$bidiHandler.charWidths[0])):n=i.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?i.column=this.$desiredColumn:this.$desiredColumn=i.column),0!=e&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var r=this.session.lineWidgets[this.lead.row];e<0?e-=r.rowsAbove||0:e>0&&(e+=r.rowCount-(r.rowsAbove||0))}var o=this.session.screenToDocumentPosition(i.row+e,i.column,n);0!==e&&0===t&&o.row===this.lead.row&&(o.column,this.lead.column),this.moveCursorTo(o.row,o.column+t,0===t)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,n){var i=this.session.getFoldAt(e,t,1);i&&(e=i.start.row,t=i.start.column),this.$keepDesiredColumnOnChange=!0;var r=this.session.getLine(e);/[\uDC00-\uDFFF]/.test(r.charAt(t))&&r.charAt(t-1)&&(this.lead.row==e&&this.lead.column==t+1?t-=1:t+=1),this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,n){var i=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(i.row,i.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var n=this.getCursor();return s.fromPoints(t,n)}catch(e){return s.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map((function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t}));else(e=this.getRange()).isBackwards=this.isBackwards();return e},this.fromJSON=function(e){if(null==e.start){if(this.rangeList&&e.length>1){this.toSingleRange(e[0]);for(var t=e.length;t--;){var n=s.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}).call(a.prototype),t.Selection=a})),ace.define("ace/tokenizer",["require","exports","module","ace/config"],(function(e,t,n){"use strict";var i=e("./config"),r=2e3,o=function(e){for(var t in this.states=e,this.regExps={},this.matchMappings={},this.states){for(var n=this.states[t],i=[],r=0,o=this.matchMappings[t]={defaultToken:"text"},s="g",a=[],l=0;l<n.length;l++){var c=n[l];if(c.defaultToken&&(o.defaultToken=c.defaultToken),c.caseInsensitive&&(s="gi"),null!=c.regex){c.regex instanceof RegExp&&(c.regex=c.regex.toString().slice(1,-1));var u=c.regex,d=new RegExp("(?:("+u+")|(.))").exec("a").length-2;Array.isArray(c.token)?1==c.token.length||1==d?c.token=c.token[0]:d-1!=c.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:c,groupCount:d-1}),c.token=c.token[0]):(c.tokenArray=c.token,c.token=null,c.onMatch=this.$arrayTokens):"function"!=typeof c.token||c.onMatch||(c.onMatch=d>1?this.$applyToken:c.token),d>1&&(/\\\d/.test(c.regex)?u=c.regex.replace(/\\([0-9]+)/g,(function(e,t){return"\\"+(parseInt(t,10)+r+1)})):(d=1,u=this.removeCapturingGroups(c.regex)),c.splitRegex||"string"==typeof c.token||a.push(c)),o[r]=l,r+=d,i.push(u),c.onMatch||(c.onMatch=null)}}i.length||(o[0]=0,i.push("$")),a.forEach((function(e){e.splitRegex=this.createSplitterRegexp(e.regex,s)}),this),this.regExps[t]=new RegExp("("+i.join(")|(")+")|($)",s)}};(function(){this.$setMaxTokenCount=function(e){r=0|e},this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),n=this.token.apply(this,t);if("string"==typeof n)return[{type:n,value:e}];for(var i=[],r=0,o=n.length;r<o;r++)t[r]&&(i[i.length]={type:n[r],value:t[r]});return i},this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var n=[],i=this.tokenArray,r=0,o=i.length;r<o;r++)t[r+1]&&(n[n.length]={type:i[r],value:t[r+1]});return n},this.removeCapturingGroups=function(e){return e.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!]|(\()/g,(function(e,t){return t?"(?:":e}))},this.createSplitterRegexp=function(e,t){if(-1!=e.indexOf("(?=")){var n=0,i=!1,r={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,(function(e,t,o,s,a,l){return i?i="]"!=a:a?i=!0:s?(n==r.stack&&(r.end=l+1,r.stack=-1),n--):o&&(n++,1!=o.length&&(r.stack=n,r.start=l)),e})),null!=r.end&&/^\)*$/.test(e.substr(r.end))&&(e=e.substring(0,r.start)+e.substr(r.end))}return"^"!=e.charAt(0)&&(e="^"+e),"$"!=e.charAt(e.length-1)&&(e+="$"),new RegExp(e,(t||"").replace("g",""))},this.getLineTokens=function(e,t){if(t&&"string"!=typeof t){var n=t.slice(0);"#tmp"===(t=n[0])&&(n.shift(),t=n.shift())}else n=[];var i=t||"start",o=this.states[i];o||(i="start",o=this.states[i]);var s=this.matchMappings[i],a=this.regExps[i];a.lastIndex=0;for(var l,c=[],u=0,d=0,h={type:null,value:""};l=a.exec(e);){var p=s.defaultToken,f=null,m=l[0],g=a.lastIndex;if(g-m.length>u){var v=e.substring(u,g-m.length);h.type==p?h.value+=v:(h.type&&c.push(h),h={type:p,value:v})}for(var y=0;y<l.length-2;y++)if(void 0!==l[y+1]){p=(f=o[s[y]]).onMatch?f.onMatch(m,i,n,e):f.token,f.next&&(i="string"==typeof f.next?f.next:f.next(i,n),(o=this.states[i])||(this.reportError("state doesn't exist",i),i="start",o=this.states[i]),s=this.matchMappings[i],u=g,(a=this.regExps[i]).lastIndex=g),f.consumeLineEnd&&(u=g);break}if(m)if("string"==typeof p)f&&!1===f.merge||h.type!==p?(h.type&&c.push(h),h={type:p,value:m}):h.value+=m;else if(p)for(h.type&&c.push(h),h={type:null,value:""},y=0;y<p.length;y++)c.push(p[y]);if(u==e.length)break;if(u=g,d++>r){for(d>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});u<e.length;)h.type&&c.push(h),h={value:e.substring(u,u+=500),type:"overflow"};i="start",n=[];break}}return h.type&&c.push(h),n.length>1&&n[0]!==i&&n.unshift("#tmp",i),{tokens:c,state:n.length?n:i}},this.reportError=i.reportError}).call(o.prototype),t.Tokenizer=o})),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],(function(e,t,n){"use strict";var i=e("../lib/lang"),r=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(e,t){if(t)for(var n in e){for(var i=e[n],r=0;r<i.length;r++){var o=i[r];(o.next||o.onMatch)&&("string"==typeof o.next&&0!==o.next.indexOf(t)&&(o.next=t+o.next),o.nextState&&0!==o.nextState.indexOf(t)&&(o.nextState=t+o.nextState))}this.$rules[t+n]=i}else for(var n in e)this.$rules[n]=e[n]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,n,r,o){var s="function"==typeof e?(new e).getRules():e;if(r)for(var a=0;a<r.length;a++)r[a]=t+r[a];else for(var l in r=[],s)r.push(t+l);if(this.addRules(s,t),n){var c=Array.prototype[o?"push":"unshift"];for(a=0;a<r.length;a++)c.apply(this.$rules[r[a]],i.deepCopy(n))}this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return("start"!=e||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){var n=0,i=this.$rules;Object.keys(i).forEach((function r(o){var s=i[o];s.processed=!0;for(var a=0;a<s.length;a++){var l=s[a],c=null;Array.isArray(l)&&(c=l,l={}),!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var u=l.next||l.push;if(u&&Array.isArray(u)){var d=l.stateName;d||("string"!=typeof(d=l.token)&&(d=d[0]||""),i[d]&&(d+=n++)),i[d]=u,l.next=d,r(d)}else"pop"==u&&(l.next=t);if(l.push&&(l.nextState=l.next||l.push,l.next=e,delete l.push),l.rules)for(var h in l.rules)i[h]?i[h].push&&i[h].push.apply(i[h],l.rules[h]):i[h]=l.rules[h];var p="string"==typeof l?l:l.include;if(p&&(c=Array.isArray(p)?p.map((function(e){return i[e]})):i[p]),c){var f=[a,1].concat(c);l.noEscape&&(f=f.filter((function(e){return!e.next}))),s.splice.apply(s,f),a--}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}}),this)},this.createKeywordMapper=function(e,t,n,i){var r=Object.create(null);return this.$keywordList=[],Object.keys(e).forEach((function(t){for(var o=e[t].split(i||"|"),s=o.length;s--;){var a=o[s];this.$keywordList.push(a),n&&(a=a.toLowerCase()),r[a]=t}}),this),e=null,n?function(e){return r[e.toLowerCase()]||t}:function(e){return r[e]||t}},this.getKeywords=function(){return this.$keywords}}).call(r.prototype),t.TextHighlightRules=r})),ace.define("ace/mode/behaviour",["require","exports","module"],(function(e,t,n){"use strict";var i=function(){this.$behaviours={}};(function(){this.add=function(e,t,n){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=n},this.addBehaviours=function(e){for(var t in e)for(var n in e[t])this.add(t,n,e[t][n])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"==typeof e)var n=(new e).getBehaviours(t);else n=e.getBehaviours(t);this.addBehaviours(n)},this.getBehaviours=function(e){if(e){for(var t={},n=0;n<e.length;n++)this.$behaviours[e[n]]&&(t[e[n]]=this.$behaviours[e[n]]);return t}return this.$behaviours}}).call(i.prototype),t.Behaviour=i})),ace.define("ace/token_iterator",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("./range").Range,r=function(e,t,n){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var i=e.getTokenAt(t,n);this.$tokenIndex=i?i.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){var e;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,n=e[t].start;if(void 0!==n)return n;for(n=0;t>0;)n+=e[t-=1].value.length;return n},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var e=this.$rowTokens[this.$tokenIndex],t=this.getCurrentTokenColumn();return new i(this.$row,t,this.$row,t+e.value.length)}}).call(r.prototype),t.TokenIterator=r})),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(e,t,n){"use strict";var i,r=e("../../lib/oop"),o=e("../behaviour").Behaviour,s=e("../../token_iterator").TokenIterator,a=e("../../lib/lang"),l=["text","paren.rparen","rparen","paren","punctuation.operator"],c=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],u={},d={'"':'"',"'":"'"},h=function(e){var t=-1;if(e.multiSelect&&(t=e.selection.index,u.rangeCount!=e.multiSelect.rangeCount&&(u={rangeCount:e.multiSelect.rangeCount})),u[t])return i=u[t];i=u[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},p=function(e,t,n,i){var r=e.end.row-e.start.row;return{text:n+t+i,selection:[0,e.start.column+1,r,e.end.column+(r?0:1)]}},f=function(e){this.add("braces","insertion",(function(t,n,r,o,s){var l=r.getCursorPosition(),c=o.doc.getLine(l.row);if("{"==s){h(r);var u=r.getSelectionRange(),d=o.doc.getTextRange(u);if(""!==d&&"{"!==d&&r.getWrapBehavioursEnabled())return p(u,d,"{","}");if(f.isSaneInsertion(r,o))return/[\]\}\)]/.test(c[l.column])||r.inMultiSelectMode||e&&e.braces?(f.recordAutoInsert(r,o,"}"),{text:"{}",selection:[1,1]}):(f.recordMaybeInsert(r,o,"{"),{text:"{",selection:[1,1]})}else if("}"==s){if(h(r),"}"==c.substring(l.column,l.column+1)&&null!==o.$findOpeningBracket("}",{column:l.column+1,row:l.row})&&f.isAutoInsertedClosing(l,c,s))return f.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==s||"\r\n"==s){h(r);var m="";if(f.isMaybeInsertedClosing(l,c)&&(m=a.stringRepeat("}",i.maybeInsertedBrackets),f.clearMaybeInsertedClosing()),"}"===c.substring(l.column,l.column+1)){var g=o.findMatchingBracket({row:l.row,column:l.column+1},"}");if(!g)return null;var v=this.$getIndent(o.getLine(g.row))}else{if(!m)return void f.clearMaybeInsertedClosing();v=this.$getIndent(c)}var y=v+o.getTabString();return{text:"\n"+y+"\n"+v+m,selection:[1,y.length,1,y.length]}}f.clearMaybeInsertedClosing()}})),this.add("braces","deletion",(function(e,t,n,r,o){var s=r.doc.getTextRange(o);if(!o.isMultiLine()&&"{"==s){if(h(n),"}"==r.doc.getLine(o.start.row).substring(o.end.column,o.end.column+1))return o.end.column++,o;i.maybeInsertedBrackets--}})),this.add("parens","insertion",(function(e,t,n,i,r){if("("==r){h(n);var o=n.getSelectionRange(),s=i.doc.getTextRange(o);if(""!==s&&n.getWrapBehavioursEnabled())return p(o,s,"(",")");if(f.isSaneInsertion(n,i))return f.recordAutoInsert(n,i,")"),{text:"()",selection:[1,1]}}else if(")"==r){h(n);var a=n.getCursorPosition(),l=i.doc.getLine(a.row);if(")"==l.substring(a.column,a.column+1)&&null!==i.$findOpeningBracket(")",{column:a.column+1,row:a.row})&&f.isAutoInsertedClosing(a,l,r))return f.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("parens","deletion",(function(e,t,n,i,r){var o=i.doc.getTextRange(r);if(!r.isMultiLine()&&"("==o&&(h(n),")"==i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)))return r.end.column++,r})),this.add("brackets","insertion",(function(e,t,n,i,r){if("["==r){h(n);var o=n.getSelectionRange(),s=i.doc.getTextRange(o);if(""!==s&&n.getWrapBehavioursEnabled())return p(o,s,"[","]");if(f.isSaneInsertion(n,i))return f.recordAutoInsert(n,i,"]"),{text:"[]",selection:[1,1]}}else if("]"==r){h(n);var a=n.getCursorPosition(),l=i.doc.getLine(a.row);if("]"==l.substring(a.column,a.column+1)&&null!==i.$findOpeningBracket("]",{column:a.column+1,row:a.row})&&f.isAutoInsertedClosing(a,l,r))return f.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("brackets","deletion",(function(e,t,n,i,r){var o=i.doc.getTextRange(r);if(!r.isMultiLine()&&"["==o&&(h(n),"]"==i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)))return r.end.column++,r})),this.add("string_dquotes","insertion",(function(e,t,n,i,r){var o=i.$mode.$quotes||d;if(1==r.length&&o[r]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(r))return;h(n);var s=r,a=n.getSelectionRange(),l=i.doc.getTextRange(a);if(!(""===l||1==l.length&&o[l])&&n.getWrapBehavioursEnabled())return p(a,l,s,s);if(!l){var c=n.getCursorPosition(),u=i.doc.getLine(c.row),f=u.substring(c.column-1,c.column),m=u.substring(c.column,c.column+1),g=i.getTokenAt(c.row,c.column),v=i.getTokenAt(c.row,c.column+1);if("\\"==f&&g&&/escape/.test(g.type))return null;var y,b=g&&/string|escape/.test(g.type),w=!v||/string|escape/.test(v.type);if(m==s)(y=b!==w)&&/string\.end/.test(v.type)&&(y=!1);else{if(b&&!w)return null;if(b&&w)return null;var _=i.$mode.tokenRe;_.lastIndex=0;var x=_.test(f);_.lastIndex=0;var k=_.test(f);if(x||k)return null;if(m&&!/[\s;,.})\]\\]/.test(m))return null;var C=u[c.column-2];if(f==s&&(C==s||_.test(C)))return null;y=!0}return{text:y?s+s:"",selection:[1,1]}}}})),this.add("string_dquotes","deletion",(function(e,t,n,i,r){var o=i.$mode.$quotes||d,s=i.doc.getTextRange(r);if(!r.isMultiLine()&&o.hasOwnProperty(s)&&(h(n),i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)==s))return r.end.column++,r}))};f.isSaneInsertion=function(e,t){var n=e.getCursorPosition(),i=new s(t,n.row,n.column);if(!this.$matchTokenType(i.getCurrentToken()||"text",l)){if(/[)}\]]/.test(e.session.getLine(n.row)[n.column]))return!0;var r=new s(t,n.row,n.column+1);if(!this.$matchTokenType(r.getCurrentToken()||"text",l))return!1}return i.stepForward(),i.getCurrentTokenRow()!==n.row||this.$matchTokenType(i.getCurrentToken()||"text",c)},f.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},f.recordAutoInsert=function(e,t,n){var r=e.getCursorPosition(),o=t.doc.getLine(r.row);this.isAutoInsertedClosing(r,o,i.autoInsertedLineEnd[0])||(i.autoInsertedBrackets=0),i.autoInsertedRow=r.row,i.autoInsertedLineEnd=n+o.substr(r.column),i.autoInsertedBrackets++},f.recordMaybeInsert=function(e,t,n){var r=e.getCursorPosition(),o=t.doc.getLine(r.row);this.isMaybeInsertedClosing(r,o)||(i.maybeInsertedBrackets=0),i.maybeInsertedRow=r.row,i.maybeInsertedLineStart=o.substr(0,r.column)+n,i.maybeInsertedLineEnd=o.substr(r.column),i.maybeInsertedBrackets++},f.isAutoInsertedClosing=function(e,t,n){return i.autoInsertedBrackets>0&&e.row===i.autoInsertedRow&&n===i.autoInsertedLineEnd[0]&&t.substr(e.column)===i.autoInsertedLineEnd},f.isMaybeInsertedClosing=function(e,t){return i.maybeInsertedBrackets>0&&e.row===i.maybeInsertedRow&&t.substr(e.column)===i.maybeInsertedLineEnd&&t.substr(0,e.column)==i.maybeInsertedLineStart},f.popAutoInsertedClosing=function(){i.autoInsertedLineEnd=i.autoInsertedLineEnd.substr(1),i.autoInsertedBrackets--},f.clearMaybeInsertedClosing=function(){i&&(i.maybeInsertedBrackets=0,i.maybeInsertedRow=-1)},r.inherits(f,o),t.CstyleBehaviour=f})),ace.define("ace/unicode",["require","exports","module"],(function(e,t,n){"use strict";for(var i=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],r=0,o=[],s=0;s<i.length;s+=2)o.push(r+=i[s]),i[s+1]&&o.push(45,r+=i[s+1]);t.wordChars=String.fromCharCode.apply(null,o)})),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],(function(e,t,n){"use strict";var i=e("../config"),r=e("../tokenizer").Tokenizer,o=e("./text_highlight_rules").TextHighlightRules,s=e("./behaviour/cstyle").CstyleBehaviour,a=e("../unicode"),l=e("../lib/lang"),c=e("../token_iterator").TokenIterator,u=e("../range").Range,d=function(){this.HighlightRules=o};(function(){this.$defaultBehaviour=new s,this.tokenRe=new RegExp("^["+a.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+a.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new r(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,n,i){var r=t.doc,o=!0,s=!0,a=1/0,c=t.getTabSize(),u=!1;if(this.lineCommentStart){Array.isArray(this.lineCommentStart)?(m=this.lineCommentStart.map(l.escapeRegExp).join("|"),p=this.lineCommentStart[0]):(m=l.escapeRegExp(this.lineCommentStart),p=this.lineCommentStart),m=new RegExp("^(\\s*)(?:"+m+") ?"),u=t.getUseSoftTabs(),y=function(e,t){var n=e.match(m);if(n){var i=n[1].length,o=n[0].length;h(e,i,o)||" "!=n[0][o-1]||o--,r.removeInLine(t,i,o)}};var d=p+" ",h=(v=function(e,t){o&&!/\S/.test(e)||(h(e,a,a)?r.insertInLine({row:t,column:a},d):r.insertInLine({row:t,column:a},p))},b=function(e,t){return m.test(e)},function(e,t,n){for(var i=0;t--&&" "==e.charAt(t);)i++;if(i%c!=0)return!1;for(i=0;" "==e.charAt(n++);)i++;return c>2?i%c!=c-1:i%c==0})}else{if(!this.blockComment)return!1;var p=this.blockComment.start,f=this.blockComment.end,m=new RegExp("^(\\s*)(?:"+l.escapeRegExp(p)+")"),g=new RegExp("(?:"+l.escapeRegExp(f)+")\\s*$"),v=function(e,t){b(e,t)||o&&!/\S/.test(e)||(r.insertInLine({row:t,column:e.length},f),r.insertInLine({row:t,column:a},p))},y=function(e,t){var n;(n=e.match(g))&&r.removeInLine(t,e.length-n[0].length,e.length),(n=e.match(m))&&r.removeInLine(t,n[1].length,n[0].length)},b=function(e,n){if(m.test(e))return!0;for(var i=t.getTokens(n),r=0;r<i.length;r++)if("comment"===i[r].type)return!0}}function w(e){for(var t=n;t<=i;t++)e(r.getLine(t),t)}var _=1/0;w((function(e,t){var n=e.search(/\S/);-1!==n?(n<a&&(a=n),s&&!b(e,t)&&(s=!1)):_>e.length&&(_=e.length)})),a==1/0&&(a=_,o=!1,s=!1),u&&a%c!=0&&(a=Math.floor(a/c)*c),w(s?y:v)},this.toggleBlockComment=function(e,t,n,i){var r=this.blockComment;if(r){!r.start&&r[0]&&(r=r[0]);var o,s,a=(m=new c(t,i.row,i.column)).getCurrentToken(),l=(t.selection,t.selection.toOrientedRange());if(a&&/comment/.test(a.type)){for(var d,h;a&&/comment/.test(a.type);){if(-1!=(g=a.value.indexOf(r.start))){var p=m.getCurrentTokenRow(),f=m.getCurrentTokenColumn()+g;d=new u(p,f,p,f+r.start.length);break}a=m.stepBackward()}var m;for(a=(m=new c(t,i.row,i.column)).getCurrentToken();a&&/comment/.test(a.type);){var g;if(-1!=(g=a.value.indexOf(r.end))){p=m.getCurrentTokenRow(),f=m.getCurrentTokenColumn()+g,h=new u(p,f,p,f+r.end.length);break}a=m.stepForward()}h&&t.remove(h),d&&(t.remove(d),o=d.start.row,s=-r.start.length)}else s=r.start.length,o=n.start.row,t.insert(n.end,r.end),t.insert(n.start,r.start);l.start.row==o&&(l.start.column+=s),l.end.row==o&&(l.end.column+=s),t.selection.fromOrientedRange(l)}},this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.autoOutdent=function(e,t,n){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){for(var t in this.$embeds=[],this.$modes={},e)if(e[t]){var n=e[t],r=n.prototype.$id,o=i.$modes[r];o||(i.$modes[r]=o=new n),i.$modes[t]||(i.$modes[t]=o),this.$embeds.push(t),this.$modes[t]=o}var s=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(t=0;t<s.length;t++)!function(e){var n=s[t],i=e[n];e[s[t]]=function(){return this.$delegator(n,arguments,i)}}(this)},this.$delegator=function(e,t,n){var i=t[0]||"start";if("string"!=typeof i){if(Array.isArray(i[2])){var r=i[2][i[2].length-1];if(s=this.$modes[r])return s[e].apply(s,[i[1]].concat([].slice.call(t,1)))}i=i[0]||"start"}for(var o=0;o<this.$embeds.length;o++)if(this.$modes[this.$embeds[o]]){var s,a=i.split(this.$embeds[o]);if(!a[0]&&a[1])return t[0]=a[1],(s=this.$modes[this.$embeds[o]])[e].apply(s,t)}var l=n.apply(this,t);return n?l:void 0},this.transformAction=function(e,t,n,i,r){if(this.$behaviour){var o=this.$behaviour.getBehaviours();for(var s in o)if(o[s][t]){var a=o[s][t].apply(this,arguments);if(a)return a}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,n=[];for(var i in t)for(var r=t[i],o=0,s=r.length;o<s;o++)if("string"==typeof r[o].token)/keyword|support|storage/.test(r[o].token)&&n.push(r[o].regex);else if("object"==typeof r[o].token)for(var a=0,l=r[o].token.length;a<l;a++)/keyword|support|storage/.test(r[o].token[a])&&(i=r[o].regex.match(/\(.+?\)/g)[a],n.push(i.substr(1,i.length-2)));this.completionKeywords=n}return e?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,n,i){return(this.$keywordList||this.$createKeywordList()).map((function(e){return{name:e,value:e,score:0,meta:"keyword"}}))},this.$id="ace/mode/text"}).call(d.prototype),t.Mode=d})),ace.define("ace/apply_delta",["require","exports","module"],(function(e,t,n){"use strict";t.applyDelta=function(e,t,n){var i=t.start.row,r=t.start.column,o=e[i]||"";switch(t.action){case"insert":if(1===t.lines.length)e[i]=o.substring(0,r)+t.lines[0]+o.substring(r);else{var s=[i,1].concat(t.lines);e.splice.apply(e,s),e[i]=o.substring(0,r)+e[i],e[i+t.lines.length-1]+=o.substring(r)}break;case"remove":var a=t.end.column,l=t.end.row;i===l?e[i]=o.substring(0,r)+o.substring(a):e.splice(i,l-i+1,o.substring(0,r)+e[l].substring(a))}}})),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/event_emitter").EventEmitter,o=t.Anchor=function(e,t,n){this.$onChange=this.onChange.bind(this),this.attach(e),void 0===n?this.setPosition(t.row,t.column):this.setPosition(t,n)};(function(){function e(e,t,n){var i=n?e.column<=t.column:e.column<t.column;return e.row<t.row||e.row==t.row&&i}i.implement(this,r),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(t){if(!(t.start.row==t.end.row&&t.start.row!=this.row||t.start.row>this.row)){var n=function(t,n,i){var r="insert"==t.action,o=(r?1:-1)*(t.end.row-t.start.row),s=(r?1:-1)*(t.end.column-t.start.column),a=t.start,l=r?a:t.end;return e(n,a,i)?{row:n.row,column:n.column}:e(l,n,!i)?{row:n.row+o,column:n.column+(n.row==l.row?s:0)}:{row:a.row,column:a.column}}(t,{row:this.row,column:this.column},this.$insertRight);this.setPosition(n.row,n.column,!0)}},this.setPosition=function(e,t,n){var i;if(i=n?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=i.row||this.column!=i.column){var r={row:this.row,column:this.column};this.row=i.row,this.column=i.column,this._signal("change",{old:r,value:i})}},this.detach=function(){this.document.off("change",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(e,t){var n={};return e>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):e<0?(n.row=0,n.column=0):(n.row=e,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),t<0&&(n.column=0),n}}).call(o.prototype)})),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./apply_delta").applyDelta,o=e("./lib/event_emitter").EventEmitter,s=e("./range").Range,a=e("./anchor").Anchor,l=function(e){this.$lines=[""],0===e.length?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)};(function(){i.implement(this,o),this.setValue=function(e){var t=this.getLength()-1;this.remove(new s(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new a(this,e,t)},0==="aaa".split(/a/).length?this.$split=function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},this.getLinesForRange=function(e){var t;if(e.start.row===e.end.row)t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{(t=this.getLines(e.start.row,e.end.row))[0]=(t[0]||"").substring(e.start.column);var n=t.length-1;e.end.row-e.start.row==n&&(t[n]=t[n].substring(0,e.end.column))}return t},this.insertLines=function(e,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,t)},this.removeLines=function(e,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,t)},this.insertNewLine=function(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])},this.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},this.insertInLine=function(e,t){var n=this.clippedPos(e.row,e.column),i=this.pos(e.row,e.column+t.length);return this.applyDelta({start:n,end:i,action:"insert",lines:[t]},!0),this.clonePos(i)},this.clippedPos=function(e,t){var n=this.getLength();void 0===e?e=n:e<0?e=0:e>=n&&(e=n-1,t=void 0);var i=this.getLine(e);return null==t&&(t=i.length),{row:e,column:t=Math.min(Math.max(t,0),i.length)}},this.clonePos=function(e){return{row:e.row,column:e.column}},this.pos=function(e,t){return{row:e,column:t}},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},this.insertFullLines=function(e,t){var n=0;(e=Math.min(Math.max(e,0),this.getLength()))<this.getLength()?(t=t.concat([""]),n=0):(t=[""].concat(t),e--,n=this.$lines[e].length),this.insertMergedLines({row:e,column:n},t)},this.insertMergedLines=function(e,t){var n=this.clippedPos(e.row,e.column),i={row:n.row+t.length-1,column:(1==t.length?n.column:0)+t[t.length-1].length};return this.applyDelta({start:n,end:i,action:"insert",lines:t}),this.clonePos(i)},this.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),n=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:n,action:"remove",lines:this.getLinesForRange({start:t,end:n})}),this.clonePos(t)},this.removeInLine=function(e,t,n){var i=this.clippedPos(e,t),r=this.clippedPos(e,n);return this.applyDelta({start:i,end:r,action:"remove",lines:this.getLinesForRange({start:i,end:r})},!0),this.clonePos(i)},this.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1);var n=(t=Math.min(Math.max(0,t),this.getLength()-1))==this.getLength()-1&&e>0,i=t<this.getLength()-1,r=n?e-1:e,o=n?this.getLine(r).length:0,a=i?t+1:t,l=i?0:this.getLine(a).length,c=new s(r,o,a,l),u=this.$lines.slice(e,t+1);return this.applyDelta({start:c.start,end:c.end,action:"remove",lines:this.getLinesForRange(c)}),u},this.removeNewLine=function(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})},this.replace=function(e,t){return e instanceof s||(e=s.fromPoints(e.start,e.end)),0===t.length&&e.isEmpty()?e.start:t==this.getTextRange(e)?e.end:(this.remove(e),t?this.insert(e.start,t):e.start)},this.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])},this.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--)this.revertDelta(e[t])},this.applyDelta=function(e,t){var n="insert"==e.action;(n?e.lines.length<=1&&!e.lines[0]:!s.comparePoints(e.start,e.end))||(n&&e.lines.length>2e4?this.$splitAndapplyLargeDelta(e,2e4):(r(this.$lines,e,t),this._signal("change",e)))},this.$safeApplyDelta=function(e){var t=this.$lines.length;("remove"==e.action&&e.start.row<t&&e.end.row<t||"insert"==e.action&&e.start.row<=t)&&this.applyDelta(e)},this.$splitAndapplyLargeDelta=function(e,t){for(var n=e.lines,i=n.length-t+1,r=e.start.row,o=e.start.column,s=0,a=0;s<i;s=a){a+=t-1;var l=n.slice(s,a);l.push(""),this.applyDelta({start:this.pos(r+s,o),end:this.pos(r+a,o=0),action:e.action,lines:l},!0)}e.lines=n.slice(s),e.start.row=r+s,e.start.column=o,this.applyDelta(e,!0)},this.revertDelta=function(e){this.$safeApplyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:"insert"==e.action?"remove":"insert",lines:e.lines.slice()})},this.indexToPosition=function(e,t){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=t||0,o=n.length;r<o;r++)if((e-=n[r].length+i)<0)return{row:r,column:e+n[r].length+i};return{row:o-1,column:e+n[o-1].length+i}},this.positionToIndex=function(e,t){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=0,o=Math.min(e.row,n.length),s=t||0;s<o;++s)r+=n[s].length+i;return r+e.column}}).call(l.prototype),t.Document=l})),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/event_emitter").EventEmitter,o=function(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var n=this;this.$worker=function(){if(n.running){for(var e=new Date,t=n.currentLine,i=-1,r=n.doc,o=t;n.lines[t];)t++;var s=r.getLength(),a=0;for(n.running=!1;t<s;){n.$tokenizeRow(t),i=t;do{t++}while(n.lines[t]);if(++a%5==0&&new Date-e>20){n.running=setTimeout(n.$worker,20);break}}n.currentLine=t,-1==i&&(i=t),o<=i&&n.fireUpdateEvent(o,i)}}};(function(){i.implement(this,r),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){var n={first:e,last:t};this._signal("update",{data:n})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.lines[t]=null;else if("remove"==e.action)this.lines.splice(t,n+1,null),this.states.splice(t,n+1,null);else{var i=Array(n+1);i.unshift(t,1),this.lines.splice.apply(this.lines,i),this.states.splice.apply(this.states,i)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),n=this.states[e-1],i=this.tokenizer.getLineTokens(t,n,e);return this.states[e]+""!=i.state+""?(this.states[e]=i.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=i.tokens}}).call(o.prototype),t.BackgroundTokenizer=o})),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(e,t,n){"use strict";var i=e("./lib/lang"),r=(e("./lib/oop"),e("./range").Range),o=function(e,t,n){this.setRegexp(e),this.clazz=t,this.type=n||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},this.update=function(e,t,n,o){if(this.regExp)for(var s=o.firstRow,a=o.lastRow,l=s;l<=a;l++){var c=this.cache[l];null==c&&((c=i.getMatchOffsets(n.getLine(l),this.regExp)).length>this.MAX_RANGES&&(c=c.slice(0,this.MAX_RANGES)),c=c.map((function(e){return new r(l,e.offset,l,e.offset+e.length)})),this.cache[l]=c.length?c:"");for(var u=c.length;u--;)t.drawSingleLineMarker(e,c[u].toScreenRange(n),this.clazz,o)}}}).call(o.prototype),t.SearchHighlight=o})),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("../range").Range;function r(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var n=t[t.length-1];this.range=new i(t[0].start.row,t[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach((function(e){e.setFoldLine(this)}),this)}(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach((function(t){t.start.row+=e,t.end.row+=e}))},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort((function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)})),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,n){var i,r,o=0,s=this.folds,a=!0;null==t&&(t=this.end.row,n=this.end.column);for(var l=0;l<s.length;l++){if(-1==(r=(i=s[l]).range.compareStart(t,n)))return void e(null,t,n,o,a);if(!e(null,i.start.row,i.start.column,o,a)&&e(i.placeholder,i.start.row,i.start.column,o)||0===r)return;a=!i.sameRow,o=i.end.column}e(null,t,n,o,a)},this.getNextFoldTo=function(e,t){for(var n,i,r=0;r<this.folds.length;r++){if(-1==(i=(n=this.folds[r]).range.compareEnd(e,t)))return{fold:n,kind:"after"};if(0===i)return{fold:n,kind:"inside"}}return null},this.addRemoveChars=function(e,t,n){var i,r,o=this.getNextFoldTo(e,t);if(o)if(i=o.fold,"inside"==o.kind&&i.start.column!=t&&i.start.row!=e)window.console&&window.console.log(e,t,i);else if(i.start.row==e){var s=(r=this.folds).indexOf(i);for(0===s&&(this.start.column+=n);s<r.length;s++){if((i=r[s]).start.column+=n,!i.sameRow)return;i.end.column+=n}this.end.column+=n}},this.split=function(e,t){var n=this.getNextFoldTo(e,t);if(!n||"inside"==n.kind)return null;var i=n.fold,o=this.folds,s=this.foldData,a=o.indexOf(i),l=o[a-1];this.end.row=l.end.row,this.end.column=l.end.column;var c=new r(s,o=o.splice(a,o.length-a));return s.splice(s.indexOf(this)+1,0,c),c},this.merge=function(e){for(var t=e.folds,n=0;n<t.length;n++)this.addFold(t[n]);var i=this.foldData;i.splice(i.indexOf(e),1)},this.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach((function(t){e.push("  "+t.toString())})),e.push("]"),e.join("\n")},this.idxToPosition=function(e){for(var t=0,n=0;n<this.folds.length;n++){var i=this.folds[n];if((e-=i.start.column-t)<0)return{row:i.start.row,column:i.start.column+e};if((e-=i.placeholder.length)<0)return i.start;t=i.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(r.prototype),t.FoldLine=r})),ace.define("ace/range_list",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("./range").Range.comparePoints,r=function(){this.ranges=[],this.$bias=1};(function(){this.comparePoints=i,this.pointIndex=function(e,t,n){for(var r=this.ranges,o=n||0;o<r.length;o++){var s=r[o],a=i(e,s.end);if(!(a>0)){var l=i(e,s.start);return 0===a?t&&0!==l?-o-2:o:l>0||0===l&&!t?o:-o-1}}return-o-1},this.add=function(e){var t=!e.isEmpty(),n=this.pointIndex(e.start,t);n<0&&(n=-n-1);var i=this.pointIndex(e.end,t,n);return i<0?i=-i-1:i++,this.ranges.splice(n,i-n,e)},this.addList=function(e){for(var t=[],n=e.length;n--;)t.push.apply(t,this.add(e[n]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)},this.merge=function(){for(var e,t=[],n=this.ranges,r=(n=n.sort((function(e,t){return i(e.start,t.start)})))[0],o=1;o<n.length;o++){e=r,r=n[o];var s=i(e.end,r.start);s<0||(0!=s||e.isEmpty()||r.isEmpty())&&(i(e.end,r.end)<0&&(e.end.row=r.end.row,e.end.column=r.end.column),n.splice(o,1),t.push(r),r=e,o--)}return this.ranges=n,t},this.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},this.containsPoint=function(e){return this.pointIndex(e)>=0},this.rangeAtPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]},this.clipRows=function(e,t){var n=this.ranges;if(n[0].start.row>t||n[n.length-1].start.row<e)return[];var i=this.pointIndex({row:e,column:0});i<0&&(i=-i-1);var r=this.pointIndex({row:t,column:0},i);r<0&&(r=-r-1);for(var o=[],s=i;s<r;s++)o.push(n[s]);return o},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(e){for(var t=e.start,n=e.end,i=t.row,r=n.row,o=this.ranges,s=0,a=o.length;s<a&&!((u=o[s]).end.row>=i);s++);if("insert"==e.action){for(var l=r-i,c=-t.column+n.column;s<a&&!((u=o[s]).start.row>i);s++)if(u.start.row==i&&u.start.column>=t.column&&(u.start.column==t.column&&this.$bias<=0||(u.start.column+=c,u.start.row+=l)),u.end.row==i&&u.end.column>=t.column){if(u.end.column==t.column&&this.$bias<0)continue;u.end.column==t.column&&c>0&&s<a-1&&u.end.column>u.start.column&&u.end.column==o[s+1].start.column&&(u.end.column-=c),u.end.column+=c,u.end.row+=l}}else for(l=i-r,c=t.column-n.column;s<a&&!((u=o[s]).start.row>r);s++)u.end.row<r&&(i<u.end.row||i==u.end.row&&t.column<u.end.column)?(u.end.row=i,u.end.column=t.column):u.end.row==r?u.end.column<=n.column?(l||u.end.column>t.column)&&(u.end.column=t.column,u.end.row=t.row):(u.end.column+=c,u.end.row+=l):u.end.row>r&&(u.end.row+=l),u.start.row<r&&(i<u.start.row||i==u.start.row&&t.column<u.start.column)?(u.start.row=i,u.start.column=t.column):u.start.row==r?u.start.column<=n.column?(l||u.start.column>t.column)&&(u.start.column=t.column,u.start.row=t.row):(u.start.column+=c,u.start.row+=l):u.start.row>r&&(u.start.row+=l);if(0!=l&&s<a)for(;s<a;s++){var u;(u=o[s]).start.row+=l,u.end.row+=l}}}).call(r.prototype),t.RangeList=r})),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list","ace/lib/oop"],(function(e,t,n){"use strict";var i=e("../range_list").RangeList,r=e("../lib/oop"),o=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]};function s(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function a(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}r.inherits(o,i),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach((function(t){t.setFoldLine(e)}))},this.clone=function(){var e=this.range.clone(),t=new o(e,this.placeholder);return this.subFolds.forEach((function(e){t.subFolds.push(e.clone())})),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(!this.range.isEqual(e)){var t,n;t=e,n=this.start,s(t.start,n),s(t.end,n);for(var i=e.start.row,r=e.start.column,o=0,a=-1;o<this.subFolds.length&&1==(a=this.subFolds[o].range.compare(i,r));o++);var l=this.subFolds[o],c=0;if(0==a){if(l.range.containsRange(e))return l.addSubFold(e);c=1}i=e.range.end.row,r=e.range.end.column;var u=o;for(a=-1;u<this.subFolds.length&&1==(a=this.subFolds[u].range.compare(i,r));u++);0==a&&u++;for(var d=this.subFolds.splice(o,u-o,e),h=0==a?d.length-1:d.length,p=c;p<h;p++)e.addSubFold(d[p]);return e.setFoldLine(this.foldLine),e}},this.restoreRange=function(e){return function(e,t){a(e.start,t),a(e.end,t)}(e,this.start)}}.call(o.prototype)})),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],(function(e,t,n){"use strict";var i=e("../range").Range,r=e("./fold_line").FoldLine,o=e("./fold").Fold,s=e("../token_iterator").TokenIterator;t.Folding=function(){this.getFoldAt=function(e,t,n){var i=this.getFoldLine(e);if(!i)return null;for(var r=i.folds,o=0;o<r.length;o++){var s=r[o].range;if(s.contains(e,t)){if(1==n&&s.isEnd(e,t)&&!s.isEmpty())continue;if(-1==n&&s.isStart(e,t)&&!s.isEmpty())continue;return r[o]}}},this.getFoldsInRange=function(e){var t=e.start,n=e.end,i=this.$foldData,r=[];t.column+=1,n.column-=1;for(var o=0;o<i.length;o++){var s=i[o].range.compareRange(e);if(2!=s){if(-2==s)break;for(var a=i[o].folds,l=0;l<a.length;l++){var c=a[l];if(-2==(s=c.range.compareRange(e)))break;if(2!=s){if(42==s)break;r.push(c)}}}}return t.column-=1,n.column+=1,r},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach((function(e){t=t.concat(this.getFoldsInRange(e))}),this)}else t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,n=0;n<t.length;n++)for(var i=0;i<t[n].folds.length;i++)e.push(t[n].folds[i]);return e},this.getFoldStringAt=function(e,t,n,i){if(!(i=i||this.getFoldLine(e)))return null;for(var r,o,s={end:{column:0}},a=0;a<i.folds.length;a++){var l=(o=i.folds[a]).range.compareEnd(e,t);if(-1==l){r=this.getLine(o.start.row).substring(s.end.column,o.start.column);break}if(0===l)return null;s=o}return r||(r=this.getLine(o.start.row).substring(s.end.column)),-1==n?r.substring(0,t-s.end.column):1==n?r.substring(t-s.end.column):r},this.getFoldLine=function(e,t){var n=this.$foldData,i=0;for(t&&(i=n.indexOf(t)),-1==i&&(i=0);i<n.length;i++){var r=n[i];if(r.start.row<=e&&r.end.row>=e)return r;if(r.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var n=this.$foldData,i=0;for(t&&(i=n.indexOf(t)),-1==i&&(i=0);i<n.length;i++){var r=n[i];if(r.end.row>=e)return r}return null},this.getFoldedRowCount=function(e,t){for(var n=this.$foldData,i=t-e+1,r=0;r<n.length;r++){var o=n[r],s=o.end.row,a=o.start.row;if(s>=t){a<t&&(a>=e?i-=t-a:i=0);break}s>=e&&(i-=a>=e?s-a:s-e+1)}return i},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort((function(e,t){return e.start.row-t.start.row})),e},this.addFold=function(e,t){var n,i=this.$foldData,s=!1;e instanceof o?n=e:(n=new o(t,e)).collapseChildren=t.collapseChildren,this.$clipRangeToDocument(n.range);var a=n.start.row,l=n.start.column,c=n.end.row,u=n.end.column,d=this.getFoldAt(a,l,1),h=this.getFoldAt(c,u,-1);if(d&&h==d)return d.addSubFold(n);d&&!d.range.isStart(a,l)&&this.removeFold(d),h&&!h.range.isEnd(c,u)&&this.removeFold(h);var p=this.getFoldsInRange(n.range);p.length>0&&(this.removeFolds(p),n.collapseChildren||p.forEach((function(e){n.addSubFold(e)})));for(var f=0;f<i.length;f++){var m=i[f];if(c==m.start.row){m.addFold(n),s=!0;break}if(a==m.end.row){if(m.addFold(n),s=!0,!n.sameRow){var g=i[f+1];if(g&&g.start.row==c){m.merge(g);break}}break}if(c<=m.start.row)break}return s||(m=this.$addFoldLine(new r(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(m.start.row,m.start.row):this.$updateRowLengthCache(m.start.row,m.start.row),this.$modified=!0,this._signal("changeFold",{data:n,action:"add"}),n},this.addFolds=function(e){e.forEach((function(e){this.addFold(e)}),this)},this.removeFold=function(e){var t=e.foldLine,n=t.start.row,i=t.end.row,r=this.$foldData,o=t.folds;if(1==o.length)r.splice(r.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))o.pop(),t.end.row=o[o.length-1].end.row,t.end.column=o[o.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))o.shift(),t.start.row=o[0].start.row,t.start.column=o[0].start.column;else if(e.sameRow)o.splice(o.indexOf(e),1);else{var s=t.split(e.start.row,e.start.column);(o=s.folds).shift(),s.start.row=o[0].start.row,s.start.column=o[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,i):this.$updateRowLengthCache(n,i)),this.$modified=!0,this._signal("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);t.forEach((function(e){this.removeFold(e)}),this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach((function(t){e.restoreRange(t),this.addFold(t)}),this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach((function(e){this.expandFold(e)}),this)},this.unfold=function(e,t){var n,r;if(null==e?(n=new i(0,0,this.getLength(),0),null==t&&(t=!0)):n="number"==typeof e?new i(e,0,e,this.getLine(e).length):"row"in e?i.fromPoints(e,e):e,r=this.getFoldsInRangeList(n),0!=t?this.removeFolds(r):this.expandFolds(r),r.length)return r},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var n=this.getFoldLine(e,t);return n?n.end.row:e},this.getRowFoldStart=function(e,t){var n=this.getFoldLine(e,t);return n?n.start.row:e},this.getFoldDisplayLine=function(e,t,n,i,r){null==i&&(i=e.start.row),null==r&&(r=0),null==t&&(t=e.end.row),null==n&&(n=this.getLine(t).length);var o=this.doc,s="";return e.walk((function(e,t,n,a){if(!(t<i)){if(t==i){if(n<r)return;a=Math.max(r,a)}s+=null!=e?e:o.getLine(t).substring(a,n)}}),t,n),s},this.getDisplayLine=function(e,t,n,i){var r,o=this.getFoldLine(e);return o?this.getFoldDisplayLine(o,e,t,n,i):(r=this.doc.getLine(e)).substring(i||0,t||r.length)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map((function(t){var n=t.folds.map((function(e){return e.clone()}));return new r(e,n)}))},this.toggleFold=function(e){var t,n,i=this.selection.getRange();if(i.isEmpty()){var r=i.start;if(t=this.getFoldAt(r.row,r.column))return void this.expandFold(t);(n=this.findMatchingBracket(r))?1==i.comparePoint(n)?i.end=n:(i.start=n,i.start.column++,i.end.column--):(n=this.findMatchingBracket({row:r.row,column:r.column+1}))?(1==i.comparePoint(n)?i.end=n:i.start=n,i.start.column++):i=this.getCommentFoldRange(r.row,r.column)||i}else{var o=this.getFoldsInRange(i);if(e&&o.length)return void this.expandFolds(o);1==o.length&&(t=o[0])}if(t||(t=this.getFoldAt(i.start.row,i.start.column)),t&&t.range.toString()==i.toString())this.expandFold(t);else{var s="...";if(!i.isMultiLine()){if((s=this.getTextRange(i)).length<4)return;s=s.trim().substring(0,2)+".."}this.addFold(s,i)}},this.getCommentFoldRange=function(e,t,n){var r=new s(this,e,t),o=r.getCurrentToken(),a=o&&o.type;if(o&&/^comment|string/.test(a)){"comment"==(a=a.match(/comment|string/)[0])&&(a+="|doc-start");var l=new RegExp(a),c=new i;if(1!=n){do{o=r.stepBackward()}while(o&&l.test(o.type));r.stepForward()}if(c.start.row=r.getCurrentTokenRow(),c.start.column=r.getCurrentTokenColumn()+2,r=new s(this,e,t),-1!=n){var u=-1;do{if(o=r.stepForward(),-1==u){var d=this.getState(r.$row);l.test(d)||(u=r.$row)}else if(r.$row>u)break}while(o&&l.test(o.type));o=r.stepBackward()}else o=r.getCurrentToken();return c.end.row=r.getCurrentTokenRow(),c.end.column=r.getCurrentTokenColumn()+o.value.length-2,c}},this.foldAll=function(e,t,n,i){null==n&&(n=1e5);var r=this.foldWidgets;if(r){t=t||this.getLength();for(var o=e=e||0;o<t;o++)if(null==r[o]&&(r[o]=this.getFoldWidget(o)),"start"==r[o]&&(!i||i(o))){var s=this.getFoldWidgetRange(o);s&&s.isMultiLine()&&s.end.row<=t&&s.start.row>=e&&(o=s.end.row,s.collapseChildren=n,this.addFold("...",s))}}},this.foldToLevel=function(e){for(this.foldAll();e-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var e=this;this.foldAll(null,null,null,(function(t){for(var n=e.getTokens(t),i=0;i<n.length;i++){var r=n[i];if("text"!=r.type||!/^\s+$/.test(r.value))return!!/comment/.test(r.type)}}))},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,"manual"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){this.$foldMode!=e&&(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),e&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(e,t){var n=this.foldWidgets;if(!n||t&&n[e])return{};for(var i,r=e-1;r>=0;){var o=n[r];if(null==o&&(o=n[r]=this.getFoldWidget(r)),"start"==o){var s=this.getFoldWidgetRange(r);if(i||(i=s),s&&s.end.row>=e)break}r--}return{range:-1!==r&&s,firstRange:i}},this.onFoldWidgetClick=function(e,t){var n={children:(t=t.domEvent).shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey};if(!this.$toggleFoldWidget(e,n)){var i=t.target||t.srcElement;i&&/ace_fold-widget/.test(i.className)&&(i.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var n=this.getFoldWidget(e),i=this.getLine(e),r="end"===n?-1:1,o=this.getFoldAt(e,-1===r?0:i.length,r);if(o)return t.children||t.all?this.removeFold(o):this.expandFold(o),o;var s=this.getFoldWidgetRange(e,!0);if(s&&!s.isMultiLine()&&(o=this.getFoldAt(s.start.row,s.start.column,1))&&s.isEqual(o.range))return this.removeFold(o),o;if(t.siblings){var a=this.getParentFoldRangeData(e);if(a.range)var l=a.range.start.row+1,c=a.range.end.row;this.foldAll(l,c,t.all?1e4:0)}else t.children?(c=s?s.end.row:this.getLength(),this.foldAll(e+1,c,t.all?1e4:0)):s&&(t.all&&(s.collapseChildren=1e4),this.addFold("...",s));return s}},this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var n=this.$toggleFoldWidget(t,{});if(!n){var i=this.getParentFoldRangeData(t,!0);if(n=i.range||i.firstRange){t=n.start.row;var r=this.getFoldAt(t,this.getLine(t).length,1);r?this.removeFold(r):this.addFold("...",n)}}},this.updateFoldWidgets=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.foldWidgets[t]=null;else if("remove"==e.action)this.foldWidgets.splice(t,n+1,null);else{var i=Array(n+1);i.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,i)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}})),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],(function(e,t,n){"use strict";var i=e("../token_iterator").TokenIterator,r=e("../range").Range;t.BracketMatch=function(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var n=t||this.getLine(e.row).charAt(e.column-1);if(""==n)return null;var i=n.match(/([\(\[\{])|([\)\]\}])/);return i?i[1]?this.$findClosingBracket(i[1],e):this.$findOpeningBracket(i[2],e):null},this.getBracketRange=function(e){var t,n=this.getLine(e.row),i=!0,o=n.charAt(e.column-1),s=o&&o.match(/([\(\[\{])|([\)\]\}])/);if(s||(o=n.charAt(e.column),e={row:e.row,column:e.column+1},s=o&&o.match(/([\(\[\{])|([\)\]\}])/),i=!1),!s)return null;if(s[1]){if(!(a=this.$findClosingBracket(s[1],e)))return null;t=r.fromPoints(e,a),i||(t.end.column++,t.start.column--),t.cursor=t.end}else{var a;if(!(a=this.$findOpeningBracket(s[2],e)))return null;t=r.fromPoints(a,e),i||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.getMatchingBracketRanges=function(e){var t=this.getLine(e.row),n=t.charAt(e.column-1),i=n&&n.match(/([\(\[\{])|([\)\]\}])/);if(i||(n=t.charAt(e.column),e={row:e.row,column:e.column+1},i=n&&n.match(/([\(\[\{])|([\)\]\}])/)),!i)return null;var o=new r(e.row,e.column-1,e.row,e.column),s=i[1]?this.$findClosingBracket(i[1],e):this.$findOpeningBracket(i[2],e);return s?[o,new r(s.row,s.column,s.row,s.column+1)]:[o]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(e,t,n){var r=this.$brackets[e],o=1,s=new i(this,t.row,t.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-s.getCurrentTokenColumn()-2,c=a.value;;){for(;l>=0;){var u=c.charAt(l);if(u==r){if(0==(o-=1))return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else u==e&&(o+=1);l-=1}do{a=s.stepBackward()}while(a&&!n.test(a.type));if(null==a)break;l=(c=a.value).length-1}return null}},this.$findClosingBracket=function(e,t,n){var r=this.$brackets[e],o=1,s=new i(this,t.row,t.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-s.getCurrentTokenColumn();;){for(var c=a.value,u=c.length;l<u;){var d=c.charAt(l);if(d==r){if(0==(o-=1))return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else d==e&&(o+=1);l+=1}do{a=s.stepForward()}while(a&&!n.test(a.type));if(null==a)break;l=0}return null}}}})),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/lang"),o=e("./bidihandler").BidiHandler,s=e("./config"),a=e("./lib/event_emitter").EventEmitter,l=e("./selection").Selection,c=e("./mode/text").Mode,u=e("./range").Range,d=e("./document").Document,h=e("./background_tokenizer").BackgroundTokenizer,p=e("./search_highlight").SearchHighlight,f=function(e,t){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++f.$uid,this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof e&&e.getLine||(e=new d(e)),this.setDocument(e),this.selection=new l(this),this.$bidiHandler=new o(this),s.resetOptions(this),this.setMode(t),s._signal("session",this)};f.$uid=0,function(){i.implement(this,a),this.setDocument=function(e){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=e,e.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>n&&(this.$docRowCache.splice(n,t),this.$screenRowCache.splice(n,t))},this.$getRowCacheIndex=function(e,t){for(var n=0,i=e.length-1;n<=i;){var r=n+i>>1,o=e[r];if(t>o)n=r+1;else{if(!(t<o))return r;i=r-1}}return n-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},this.onChange=function(e){this.$modified=!0,this.$bidiHandler.onChange(e),this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);!this.$fromUndo&&this.$undoManager&&(t&&t.length&&(this.$undoManager.add({action:"removeFolds",folds:t},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(e,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(e),this._signal("change",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var n,i=this.bgTokenizer.getTokens(e),r=0;if(null==t){var o=i.length-1;r=this.getLine(e).length}else for(o=0;o<i.length&&!((r+=i[o].value.length)>=t);o++);return(n=i[o])?(n.index=o,n.start=r-n.value.length,n):null},this.setUndoManager=function(e){if(this.$undoManager=e,this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;e.addSession(this),this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.mergeUndoDeltas=!1},this.$informUndoManager=r.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?r.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption("tabSize",e)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize==0},this.setNavigateWithinSoftTabs=function(e){this.setOption("navigateWithinSoftTabs",e)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption("overwrite",e)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.addMarker=function(e,t,n,i){var r=this.$markerId++,o={range:e,type:n||"line",renderer:"function"==typeof n?n:null,clazz:t,inFront:!!i,id:r};return i?(this.$frontMarkers[r]=o,this._signal("changeFrontMarker")):(this.$backMarkers[r]=o,this._signal("changeBackMarker")),r},this.addDynamicMarker=function(e,t){if(e.update){var n=this.$markerId++;return e.id=n,e.inFront=!!t,t?(this.$frontMarkers[n]=e,this._signal("changeFrontMarker")):(this.$backMarkers[n]=e,this._signal("changeBackMarker")),e}},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];t&&(delete(t.inFront?this.$frontMarkers:this.$backMarkers)[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){if(!this.$searchHighlight){var t=new p(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,n,i){"number"!=typeof t&&(n=t,t=e),n||(n="ace_step");var r=new u(e,0,t,1/0);return r.id=this.addMarker(r,n,"fullLine",i),r},this.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n"},this.getWordRange=function(e,t){var n=this.getLine(e),i=!1;if(t>0&&(i=!!n.charAt(t-1).match(this.tokenRe)),i||(i=!!n.charAt(t).match(this.tokenRe)),i)var r=this.tokenRe;else r=/^\s+$/.test(n.slice(t-1,t+1))?/\s/:this.nonTokenRe;var o=t;if(o>0){do{o--}while(o>=0&&n.charAt(o).match(r));o++}for(var s=t;s<n.length&&n.charAt(s).match(r);)s++;return new u(e,o,e,s)},this.getAWordRange=function(e,t){for(var n=this.getWordRange(e,t),i=this.getLine(n.end.row);i.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption("useWorker",e)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal("tokenizerUpdate",e)},this.$modes=s.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(e,t){if(e&&"object"==typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var n=e,i=n.path}else i=e||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new c),this.$modes[i]&&!n)return this.$onChangeMode(this.$modes[i]),void(t&&t());this.$modeId=i,s.loadModule(["mode",i],function(e){if(this.$modeId!==i)return t&&t();this.$modes[i]&&!n?this.$onChangeMode(this.$modes[i]):e&&e.Mode&&(e=new e.Mode(n),n||(this.$modes[i]=e,e.$id=i),this.$onChangeMode(e)),t&&t()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){var n=this.$mode;this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var i=e.getTokenizer();if(void 0!==i.on){var r=this.onReloadTokenizer.bind(this);i.on("update",r)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(i);else{this.bgTokenizer=new h(i);var o=this;this.bgTokenizer.on("update",(function(e){o._signal("tokenizerUpdate",e)}))}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:n,mode:e}))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){s.warn("Could not load worker",e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach((function(t){t&&t.screenWidth>e&&(e=t.screenWidth)})),this.lineWidgetWidth=e},this.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),n=this.$rowLengthCache,i=0,r=0,o=this.$foldData[r],s=o?o.start.row:1/0,a=t.length,l=0;l<a;l++){if(l>s){if((l=o.end.row+1)>=a)break;s=(o=this.$foldData[r++])?o.start.row:1/0}null==n[l]&&(n[l]=this.$getStringScreenWidth(t[l])[0]),n[l]>i&&(i=n[l])}this.screenWidth=i}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)},this.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=e.length-1;-1!=n;n--){var i=e[n];"insert"==i.action||"remove"==i.action?this.doc.revertDelta(i):i.folds&&this.addFolds(i.folds)}!t&&this.$undoSelect&&(e.selectionBefore?this.selection.fromJSON(e.selectionBefore):this.selection.setRange(this.$getUndoSelection(e,!0))),this.$fromUndo=!1}},this.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=0;n<e.length;n++){var i=e[n];"insert"!=i.action&&"remove"!=i.action||this.doc.$safeApplyDelta(i)}!t&&this.$undoSelect&&(e.selectionAfter?this.selection.fromJSON(e.selectionAfter):this.selection.setRange(this.$getUndoSelection(e,!1))),this.$fromUndo=!1}},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t){function n(e){return t?"insert"!==e.action:"insert"===e.action}for(var i,r,o=0;o<e.length;o++){var s=e[o];s.start&&(i?n(s)?(r=s.start,-1==i.compare(r.row,r.column)&&i.setStart(r),r=s.end,1==i.compare(r.row,r.column)&&i.setEnd(r)):(r=s.start,-1==i.compare(r.row,r.column)&&(i=u.fromPoints(s.start,s.start))):i=n(s)?u.fromPoints(s.start,s.end):u.fromPoints(s.start,s.start))}return i},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,n){var i=this.getTextRange(e),r=this.getFoldsInRange(e),o=u.fromPoints(t,t);if(!n){this.remove(e);var s=e.start.row-e.end.row;(c=s?-e.end.column:e.start.column-e.end.column)&&(o.start.row==e.end.row&&o.start.column>e.end.column&&(o.start.column+=c),o.end.row==e.end.row&&o.end.column>e.end.column&&(o.end.column+=c)),s&&o.start.row>=e.end.row&&(o.start.row+=s,o.end.row+=s)}if(o.end=this.insert(o.start,i),r.length){var a=e.start,l=o.start,c=(s=l.row-a.row,l.column-a.column);this.addFolds(r.map((function(e){return(e=e.clone()).start.row==a.row&&(e.start.column+=c),e.end.row==a.row&&(e.end.column+=c),e.start.row+=s,e.end.row+=s,e})))}return o},this.indentRows=function(e,t,n){n=n.replace(/\t/g,this.getTabString());for(var i=e;i<=t;i++)this.doc.insertInLine({row:i,column:0},n)},this.outdentRows=function(e){for(var t=e.collapseRows(),n=new u(0,0,0,0),i=this.getTabSize(),r=t.start.row;r<=t.end.row;++r){var o=this.getLine(r);n.start.row=r,n.end.row=r;for(var s=0;s<i&&" "==o.charAt(s);++s);s<i&&"\t"==o.charAt(s)?(n.start.column=s,n.end.column=s+1):(n.start.column=0,n.end.column=s),this.remove(n)}},this.$moveLines=function(e,t,n){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),n<0){if((r=this.getRowFoldStart(e+n))<0)return 0;var i=r-e}else if(n>0){var r;if((r=this.getRowFoldEnd(t+n))>this.doc.getLength()-1)return 0;i=r-t}else e=this.$clipRowToDocument(e),i=(t=this.$clipRowToDocument(t))-e+1;var o=new u(e,0,t,Number.MAX_VALUE),s=this.getFoldsInRange(o).map((function(e){return(e=e.clone()).start.row+=i,e.end.row+=i,e})),a=0==n?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+i,a),s.length&&this.addFolds(s),i},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){if(t=Math.max(0,t),e<0)e=0,t=0;else{var n=this.doc.getLength();e>=n?(e=n-1,t=this.doc.getLine(n-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){this.$wrapLimitRange.min===e&&this.$wrapLimitRange.max===t||(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(e,t){var n=this.$wrapLimitRange;n.max<0&&(n={min:t,max:t});var i=this.$constrainWrapLimit(e,n.min,n.max);return i!=this.$wrapLimit&&i>1&&(this.$wrapLimit=i,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(e,t,n){return t&&(e=Math.max(t,e)),n&&(e=Math.min(n,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,n=e.action,i=e.start,r=e.end,o=i.row,s=r.row,a=s-o,l=null;if(this.$updating=!0,0!=a)if("remove"===n){this[t?"$wrapData":"$rowLengthCache"].splice(o,a);var c=this.$foldData;l=this.getFoldsInRange(e),this.removeFolds(l);var u=0;if(m=this.getFoldLine(r.row)){m.addRemoveChars(r.row,r.column,i.column-r.column),m.shiftRow(-a);var d=this.getFoldLine(o);d&&d!==m&&(d.merge(m),m=d),u=c.indexOf(m)+1}for(;u<c.length;u++)(m=c[u]).start.row>=r.row&&m.shiftRow(-a);s=o}else{var h=Array(a);h.unshift(o,0);var p=t?this.$wrapData:this.$rowLengthCache;if(p.splice.apply(p,h),c=this.$foldData,u=0,m=this.getFoldLine(o)){var f=m.range.compareInside(i.row,i.column);0==f?(m=m.split(i.row,i.column))&&(m.shiftRow(a),m.addRemoveChars(s,0,r.column-i.column)):-1==f&&(m.addRemoveChars(o,0,r.column-i.column),m.shiftRow(a)),u=c.indexOf(m)+1}for(;u<c.length;u++){var m;(m=c[u]).start.row>=o&&m.shiftRow(a)}}else a=Math.abs(e.start.column-e.end.column),"remove"===n&&(l=this.getFoldsInRange(e),this.removeFolds(l),a=-a),(m=this.getFoldLine(o))&&m.addRemoveChars(o,i.column,a);return t&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,t?this.$updateWrapData(o,s):this.$updateRowLengthCache(o,s),l},this.$updateRowLengthCache=function(e,t,n){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(n,i){var r,o,s=this.doc.getAllLines(),a=this.getTabSize(),l=this.$wrapData,c=this.$wrapLimit,u=n;for(i=Math.min(i,s.length-1);u<=i;)(o=this.getFoldLine(u,o))?(r=[],o.walk(function(n,i,o,a){var l;if(null!=n){(l=this.$getDisplayTokens(n,r.length))[0]=e;for(var c=1;c<l.length;c++)l[c]=t}else l=this.$getDisplayTokens(s[i].substring(a,o),r.length);r=r.concat(l)}.bind(this),o.end.row,s[o.end.row].length+1),l[o.start.row]=this.$computeWrapSplits(r,c,a),u=o.end.row+1):(r=this.$getDisplayTokens(s[u]),l[u]=this.$computeWrapSplits(r,c,a),u++)};var e=3,t=4;function n(e){return!(e<4352)&&(e>=4352&&e<=4447||e>=4515&&e<=4519||e>=4602&&e<=4607||e>=9001&&e<=9002||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12283||e>=12288&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12589||e>=12593&&e<=12686||e>=12688&&e<=12730||e>=12736&&e<=12771||e>=12784&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=13054||e>=13056&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=55216&&e<=55238||e>=55243&&e<=55291||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=65281&&e<=65376||e>=65504&&e<=65510)}this.$computeWrapSplits=function(n,i,r){if(0==n.length)return[];var o=[],s=n.length,a=0,l=0,c=this.$wrapAsCode,u=this.$indentedSoftWrap,d=i<=Math.max(2*r,8)||!1===u?0:Math.floor(i/2);function h(e){for(var t=e-a,i=a;i<e;i++){var s=n[i];12!==s&&2!==s||(t-=1)}o.length||(p=function(){var e=0;if(0===d)return e;if(u)for(var t=0;t<n.length;t++){var i=n[t];if(10==i)e+=1;else{if(11!=i){if(12==i)continue;break}e+=r}}return c&&!1!==u&&(e+=r),Math.min(e,d)}(),o.indent=p),l+=t,o.push(l),a=e}for(var p=0;s-a>i-p;){var f=a+i-p;if(n[f-1]>=10&&n[f]>=10)h(f);else if(n[f]!=e&&n[f]!=t){for(var m=Math.max(f-(i-(i>>2)),a-1);f>m&&n[f]<e;)f--;if(c){for(;f>m&&n[f]<e;)f--;for(;f>m&&9==n[f];)f--}else for(;f>m&&n[f]<10;)f--;f>m?h(++f):(2==n[f=a+i]&&f--,h(f-p))}else{for(;f!=a-1&&n[f]!=e;f--);if(f>a){h(f);continue}for(f=a+i;f<n.length&&n[f]==t;f++);if(f==n.length)break;h(f)}}return o},this.$getDisplayTokens=function(e,t){var i,r=[];t=t||0;for(var o=0;o<e.length;o++){var s=e.charCodeAt(o);if(9==s){i=this.getScreenTabSize(r.length+t),r.push(11);for(var a=1;a<i;a++)r.push(12)}else 32==s?r.push(10):s>39&&s<48||s>57&&s<64?r.push(9):s>=4352&&n(s)?r.push(1,2):r.push(1)}return r},this.$getStringScreenWidth=function(e,t,i){if(0==t)return[0,0];var r,o;for(null==t&&(t=1/0),i=i||0,o=0;o<e.length&&(9==(r=e.charCodeAt(o))?i+=this.getScreenTabSize(i):r>=4352&&n(r)?i+=2:i+=1,!(i>t));o++);return[i,o]},this.lineWidgets=null,this.getRowLength=function(e){var t=1;return this.lineWidgets&&(t+=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0),this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+t:t},this.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},this.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),n=this.$wrapData[t.row];return n.length&&n[0]<t.column?n.indent:0}return 0},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var n=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(n)},this.getDocumentLastRowColumnPosition=function(e,t){var n=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},this.getScreenTabSize=function(e){return this.$tabSize-(e%this.$tabSize|0)},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t,n){if(e<0)return{row:0,column:0};var i,r,o=0,s=0,a=0,l=0,c=this.$screenRowCache,u=this.$getRowCacheIndex(c,e),d=c.length;if(d&&u>=0){a=c[u],o=this.$docRowCache[u];var h=e>c[d-1]}else h=!d;for(var p=this.getLength()-1,f=this.getNextFoldLine(o),m=f?f.start.row:1/0;a<=e&&!(a+(l=this.getRowLength(o))>e||o>=p);)a+=l,++o>m&&(o=f.end.row+1,m=(f=this.getNextFoldLine(o,f))?f.start.row:1/0),h&&(this.$docRowCache.push(o),this.$screenRowCache.push(a));if(f&&f.start.row<=o)i=this.getFoldDisplayLine(f),o=f.start.row;else{if(a+l<=e||o>p)return{row:p,column:this.getLine(p).length};i=this.getLine(o),f=null}var g=0,v=Math.floor(e-a);if(this.$useWrapMode){var y=this.$wrapData[o];y&&(r=y[v],v>0&&y.length&&(g=y.indent,s=y[v-1]||y[y.length-1],i=i.substring(s)))}return void 0!==n&&this.$bidiHandler.isBidiRow(a+v,o,v)&&(t=this.$bidiHandler.offsetToCol(n)),s+=this.$getStringScreenWidth(i,t-g)[1],this.$useWrapMode&&s>=r&&(s=r-1),f?f.idxToPosition(s):{row:o,column:s}},this.documentToScreenPosition=function(e,t){if(void 0===t)var n=this.$clipPositionToDocument(e.row,e.column);else n=this.$clipPositionToDocument(e,t);e=n.row,t=n.column;var i,r=0,o=null;(i=this.getFoldAt(e,t,1))&&(e=i.start.row,t=i.start.column);var s,a=0,l=this.$docRowCache,c=this.$getRowCacheIndex(l,e),u=l.length;if(u&&c>=0){a=l[c],r=this.$screenRowCache[c];var d=e>l[u-1]}else d=!u;for(var h=this.getNextFoldLine(a),p=h?h.start.row:1/0;a<e;){if(a>=p){if((s=h.end.row+1)>e)break;p=(h=this.getNextFoldLine(s,h))?h.start.row:1/0}else s=a+1;r+=this.getRowLength(a),a=s,d&&(this.$docRowCache.push(a),this.$screenRowCache.push(r))}var f="";h&&a>=p?(f=this.getFoldDisplayLine(h,e,t),o=h.start.row):(f=this.getLine(e).substring(0,t),o=e);var m=0;if(this.$useWrapMode){var g=this.$wrapData[o];if(g){for(var v=0;f.length>=g[v];)r++,v++;f=f.substring(g[v-1]||0,f.length),m=v>0?g.indent:0}}return this.lineWidgets&&this.lineWidgets[a]&&this.lineWidgets[a].rowsAbove&&(r+=this.lineWidgets[a].rowsAbove),{row:r,column:m+this.$getStringScreenWidth(f)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,i=0,r=(a=0,(t=this.$foldData[a++])?t.start.row:1/0);i<n;){var o=this.$wrapData[i];e+=o?o.length+1:1,++i>r&&(i=t.end.row+1,r=(t=this.$foldData[a++])?t.start.row:1/0)}else{e=this.getLength();for(var s=this.$foldData,a=0;a<s.length;a++)e-=(t=s[a]).end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},this.$setFontMetrics=function(e){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,n,i){if(0===n)return[0,0];var r,o;for(n||(n=1/0),i=i||0,o=0;o<t.length&&!((i+="\t"===(r=t.charAt(o))?this.getScreenTabSize(i):e.getCharacterWidth(r))>n);o++);return[i,o]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker(),this.removeAllListeners(),this.selection.detach()},this.isFullWidth=n}.call(f.prototype),e("./edit_session/folding").Folding.call(f.prototype),e("./edit_session/bracket_match").BracketMatch.call(f.prototype),s.defineOptions(f.prototype,"session",{wrap:{set:function(e){if(e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e)if(this.$wrap=e,e){var t="number"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){(e="auto"==e?"text"!=this.$mode.type:"text"!=e)!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){(e=parseInt(e))>0&&this.$tabSize!==e&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(e){this.setFoldStyle(e)},handlesSet:!0},overwrite:{set:function(e){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId},handlesSet:!0}}),t.EditSession=f})),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(e,t,n){"use strict";var i=e("./lib/lang"),r=e("./lib/oop"),o=e("./range").Range,s=function(){this.$options={}};(function(){this.set=function(e){return r.mixin(this.$options,e),this},this.getOptions=function(){return i.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var t=this.$options,n=this.$matchIterator(e,t);if(!n)return!1;var i=null;return n.forEach((function(e,n,r,s){return i=new o(e,n,r,s),!(n==s&&t.start&&t.start.start&&0!=t.skipCurrent&&i.isEqual(t.start)&&(i=null,1))})),i},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var n=t.range,r=n?e.getLines(n.start.row,n.end.row):e.doc.getAllLines(),s=[],a=t.re;if(t.$isMultiLine){var l,c=a.length,u=r.length-c;e:for(var d=a.offset||0;d<=u;d++){for(var h=0;h<c;h++)if(-1==r[d+h].search(a[h]))continue e;var p=r[d],f=r[d+c-1],m=p.length-p.match(a[0])[0].length,g=f.match(a[c-1])[0].length;l&&l.end.row===d&&l.end.column>m||(s.push(l=new o(d,m,d+c-1,g)),c>2&&(d=d+c-2))}}else for(var v=0;v<r.length;v++){var y=i.getMatchOffsets(r[v],a);for(h=0;h<y.length;h++){var b=y[h];s.push(new o(v,b.offset,v,b.offset+b.length))}}if(n){var w=n.start.column,_=n.start.column;for(v=0,h=s.length-1;v<h&&s[v].start.column<w&&s[v].start.row==n.start.row;)v++;for(;v<h&&s[h].end.column>_&&s[h].end.row==n.end.row;)h--;for(s=s.slice(v,h+1),v=0,h=s.length;v<h;v++)s[v].start.row+=n.start.row,s[v].end.row+=n.start.row}return s},this.replace=function(e,t){var n=this.$options,i=this.$assembleRegExp(n);if(n.$isMultiLine)return t;if(i){var r=i.exec(e);if(!r||r[0].length!=e.length)return null;if(t=e.replace(i,t),n.preserveCase){t=t.split("");for(var o=Math.min(e.length,e.length);o--;){var s=e[o];s&&s.toLowerCase()!=s?t[o]=t[o].toUpperCase():t[o]=t[o].toLowerCase()}t=t.join("")}return t}},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var n=e.needle;if(!e.needle)return e.re=!1;e.regExp||(n=i.escapeRegExp(n)),e.wholeWord&&(n=function(e,t){function n(e){return/\w/.test(e)||t.regExp?"\\b":""}return n(e[0])+e+n(e[e.length-1])}(n,e));var r=e.caseSensitive?"gm":"gmi";if(e.$isMultiLine=!t&&/[\n\r]/.test(n),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(n,r);try{var o=new RegExp(n,r)}catch(e){o=!1}return e.re=o},this.$assembleMultilineRegExp=function(e,t){for(var n=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),i=[],r=0;r<n.length;r++)try{i.push(new RegExp(n[r],t))}catch(e){return!1}return i},this.$matchIterator=function(e,t){var n=this.$assembleRegExp(t);if(!n)return!1;var i=1==t.backwards,r=0!=t.skipCurrent,o=t.range,s=t.start;s||(s=o?o[i?"end":"start"]:e.selection.getRange()),s.start&&(s=s[r!=i?"end":"start"]);var a=o?o.start.row:0,l=o?o.end.row:e.getLength()-1;if(i)var c=function(e){var n=s.row;if(!d(n,s.column,e)){for(n--;n>=a;n--)if(d(n,Number.MAX_VALUE,e))return;if(0!=t.wrap)for(n=l,a=s.row;n>=a;n--)if(d(n,Number.MAX_VALUE,e))return}};else c=function(e){var n=s.row;if(!d(n,s.column,e)){for(n+=1;n<=l;n++)if(d(n,0,e))return;if(0!=t.wrap)for(n=a,l=s.row;n<=l;n++)if(d(n,0,e))return}};if(t.$isMultiLine)var u=n.length,d=function(t,r,o){var s=i?t-u+1:t;if(!(s<0)){var a=e.getLine(s),l=a.search(n[0]);if(!(!i&&l<r||-1===l)){for(var c=1;c<u;c++)if(-1==(a=e.getLine(s+c)).search(n[c]))return;var d=a.match(n[u-1])[0].length;if(!(i&&d>r))return!!o(s,l,s+u-1,d)||void 0}}};else d=i?function(t,i,r){var o,s=e.getLine(t),a=[],l=0;for(n.lastIndex=0;o=n.exec(s);){var c=o[0].length;if(l=o.index,!c){if(l>=s.length)break;n.lastIndex=l+=1}if(o.index+c>i)break;a.push(o.index,c)}for(var u=a.length-1;u>=0;u-=2){var d=a[u-1];if(r(t,d,t,d+(c=a[u])))return!0}}:function(t,i,r){var o,s,a=e.getLine(t);for(n.lastIndex=i;s=n.exec(a);){var l=s[0].length;if(r(t,o=s.index,t,o+l))return!0;if(!l&&(n.lastIndex=o+=1,o>=a.length))return!1}};return{forEach:c}}}).call(s.prototype),t.Search=s})),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("../lib/keys"),r=e("../lib/useragent"),o=i.KEY_MODS;function s(e,t){this.platform=t||(r.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=!0}function a(e,t){s.call(this,e,t),this.$singleCommand=!1}a.prototype=s.prototype,function(){function e(e){return"object"==typeof e&&e.bindKey&&e.bindKey.position||(e.isDefault?-100:0)}this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,t){var n=e&&("string"==typeof e?e:e.name);e=this.commands[n],t||delete this.commands[n];var i=this.commandKeyBinding;for(var r in i){var o=i[r];if(o==e)delete i[r];else if(Array.isArray(o)){var s=o.indexOf(e);-1!=s&&(o.splice(s,1),1==o.length&&(i[r]=o[0]))}}},this.bindKey=function(e,t,n){if("object"==typeof e&&e&&(null==n&&(n=e.position),e=e[this.platform]),e)return"function"==typeof t?this.addCommand({exec:t,bindKey:e,name:t.name||e}):void e.split("|").forEach((function(e){var i="";if(-1!=e.indexOf(" ")){var r=e.split(/\s+/);e=r.pop(),r.forEach((function(e){var t=this.parseKeys(e),n=o[t.hashId]+t.key;i+=(i?" ":"")+n,this._addCommandToBinding(i,"chainKeys")}),this),i+=" "}var s=this.parseKeys(e),a=o[s.hashId]+s.key;this._addCommandToBinding(i+a,t,n)}),this)},this._addCommandToBinding=function(t,n,i){var r,o=this.commandKeyBinding;if(n)if(!o[t]||this.$singleCommand)o[t]=n;else{Array.isArray(o[t])?-1!=(r=o[t].indexOf(n))&&o[t].splice(r,1):o[t]=[o[t]],"number"!=typeof i&&(i=e(n));var s=o[t];for(r=0;r<s.length&&!(e(s[r])>i);r++);s.splice(r,0,n)}else delete o[t]},this.addCommands=function(e){e&&Object.keys(e).forEach((function(t){var n=e[t];if(n){if("string"==typeof n)return this.bindKey(n,t);"function"==typeof n&&(n={exec:n}),"object"==typeof n&&(n.name||(n.name=t),this.addCommand(n))}}),this)},this.removeCommands=function(e){Object.keys(e).forEach((function(t){this.removeCommand(e[t])}),this)},this.bindKeys=function(e){Object.keys(e).forEach((function(t){this.bindKey(t,e[t])}),this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter((function(e){return e})),n=t.pop(),r=i[n];if(i.FUNCTION_KEYS[r])n=i.FUNCTION_KEYS[r].toLowerCase();else{if(!t.length)return{key:n,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:n.toUpperCase(),hashId:-1}}for(var o=0,s=t.length;s--;){var a=i.KEY_MODS[t[s]];if(null==a)return"undefined"!=typeof console&&console.error("invalid modifier "+t[s]+" in "+e),!1;o|=a}return{key:n,hashId:o}},this.findKeyCommand=function(e,t){var n=o[e]+t;return this.commandKeyBinding[n]},this.handleKeyboard=function(e,t,n,i){if(!(i<0)){var r=o[t]+n,s=this.commandKeyBinding[r];return e.$keyChain&&(e.$keyChain+=" "+r,s=this.commandKeyBinding[e.$keyChain]||s),!s||"chainKeys"!=s&&"chainKeys"!=s[s.length-1]?(e.$keyChain&&(t&&4!=t||1!=n.length?(-1==t||i>0)&&(e.$keyChain=""):e.$keyChain=e.$keyChain.slice(0,-r.length-1)),{command:s}):(e.$keyChain=e.$keyChain||r,{command:"null"})}},this.getStatusText=function(e,t){return t.$keyChain||""}}.call(s.prototype),t.HashHandler=s,t.MultiHashHandler=a})),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("../keyboard/hash_handler").MultiHashHandler,o=e("../lib/event_emitter").EventEmitter,s=function(e,t){r.call(this,t,e),this.byName=this.commands,this.setDefaultHandler("exec",(function(e){return e.command.exec(e.editor,e.args||{})}))};i.inherits(s,r),function(){i.implement(this,o),this.exec=function(e,t,n){if(Array.isArray(e)){for(var i=e.length;i--;)if(this.exec(e[i],t,n))return!0;return!1}if("string"==typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;if(0!=this.$checkCommandState&&e.isAvailable&&!e.isAvailable(t))return!1;var r={editor:t,command:e,args:n};return r.returnValue=this._emit("exec",r),this._signal("afterExec",r),!1!==r.returnValue},this.toggleRecording=function(e){if(!this.$inReplay)return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach((function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])}),this)}finally{this.$inReplay=!1}}},this.trimMacro=function(e){return e.map((function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e}))}}.call(s.prototype),t.CommandManager=s})),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],(function(e,t,n){"use strict";var i=e("../lib/lang"),r=e("../config"),o=e("../range").Range;function s(e,t){return{win:e,mac:t}}t.commands=[{name:"showSettingsMenu",bindKey:s("Ctrl-,","Command-,"),exec:function(e){r.loadModule("ace/ext/settings_menu",(function(t){t.init(e),e.showSettingsMenu()}))},readOnly:!0},{name:"goToNextError",bindKey:s("Alt-E","F4"),exec:function(e){r.loadModule("./ext/error_marker",(function(t){t.showErrorMarker(e,1)}))},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:s("Alt-Shift-E","Shift-F4"),exec:function(e){r.loadModule("./ext/error_marker",(function(t){t.showErrorMarker(e,-1)}))},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:s("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:s(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:s("Ctrl-L","Command-L"),exec:function(e,t){"number"!=typeof t||isNaN(t)||e.gotoLine(t),e.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:s("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:s("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:s("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:s("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:s(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:s(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:s("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:s("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:s("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:s("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:s("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:s("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:s("Ctrl-F","Command-F"),exec:function(e){r.loadModule("ace/ext/searchbox",(function(t){t.Search(e)}))},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:s("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:s("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:s("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:s("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:s("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:s("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:s("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:s("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:s("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:s("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:s("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:s("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:s("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:s("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:s("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:s("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:s("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:s("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:s("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:s("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:s(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:s("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:s(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:s("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:s("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:s("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:s("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:s("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:s("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:s("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:s(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(e){},readOnly:!0},{name:"cut",description:"Cut",exec:function(e){var t=e.$copyWithEmptySelection&&e.selection.isEmpty()?e.selection.getLineRange():e.selection.getRange();e._emit("cut",t),t.isEmpty()||e.session.remove(t),e.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:s("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:s("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:s("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:s("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:s("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:s("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:s("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:s("Ctrl-H","Command-Option-F"),exec:function(e){r.loadModule("ace/ext/searchbox",(function(t){t.Search(e,!0)}))}},{name:"undo",description:"Undo",bindKey:s("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",description:"Redo",bindKey:s("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:s("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:s("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:s("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:s("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:s("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:s("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:s("Shift-Delete",null),exec:function(e){if(!e.selection.isEmpty())return!1;e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:s("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:s("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:s("Ctrl-Shift-Backspace",null),exec:function(e){var t=e.selection.getRange();t.start.column=0,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:s("Ctrl-Shift-Delete",null),exec:function(e){var t=e.selection.getRange();t.end.column=Number.MAX_VALUE,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:s("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:s("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:s("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:s("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:s("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:s("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(e,t){e.insert(i.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:s(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:s("Alt-Shift-X","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:s("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:s("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:s(null,null),exec:function(e){e.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:s("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",description:"Join lines",bindKey:s(null,null),exec:function(e){for(var t=e.selection.isBackwards(),n=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),r=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),s=e.session.doc.getLine(n.row).length,a=e.session.doc.getTextRange(e.selection.getRange()).replace(/\n\s*/," ").length,l=e.session.doc.getLine(n.row),c=n.row+1;c<=r.row+1;c++){var u=i.stringTrimLeft(i.stringTrimRight(e.session.doc.getLine(c)));0!==u.length&&(u=" "+u),l+=u}r.row+1<e.session.doc.getLength()-1&&(l+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new o(n.row,0,r.row+2,0),l),a>0?(e.selection.moveCursorTo(n.row,n.column),e.selection.selectTo(n.row,n.column+a)):(s=e.session.doc.getLine(n.row).length>s?s+1:s,e.selection.moveCursorTo(n.row,s))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:s(null,null),exec:function(e){var t=e.session.doc.getLength()-1,n=e.session.doc.getLine(t).length,i=e.selection.rangeList.ranges,r=[];i.length<1&&(i=[e.selection.getRange()]);for(var s=0;s<i.length;s++)s==i.length-1&&(i[s].end.row===t&&i[s].end.column===n||r.push(new o(i[s].end.row,i[s].end.column,t,n))),0===s?0===i[s].start.row&&0===i[s].start.column||r.push(new o(0,0,i[s].start.row,i[s].start.column)):r.push(new o(i[s-1].end.row,i[s-1].end.column,i[s].start.row,i[s].start.column));for(e.exitMultiSelectMode(),e.clearSelection(),s=0;s<r.length;s++)e.selection.addRange(r[s],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",exec:function(e){e.selection.clearSelection(),e.navigateLineEnd(),e.insert("\n")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",exec:function(e){e.selection.clearSelection();var t=e.getCursorPosition();e.selection.moveTo(t.row-1,Number.MAX_VALUE),e.insert("\n"),0===t.row&&e.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command pallete",bindKey:s("F1","F1"),exec:function(e){e.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:s(null,null),exec:function(e){e.prompt({$type:"modes"})},readOnly:!0}];for(var a=1;a<9;a++)t.commands.push({name:"foldToLevel"+a,description:"Fold To Level "+a,level:a,exec:function(e){e.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})})),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/clipboard"],(function(e,t,n){"use strict";e("./lib/fixoldbrowsers");var i=e("./lib/oop"),r=e("./lib/dom"),o=e("./lib/lang"),s=e("./lib/useragent"),a=e("./keyboard/textinput").TextInput,l=e("./mouse/mouse_handler").MouseHandler,c=e("./mouse/fold_handler").FoldHandler,u=e("./keyboard/keybinding").KeyBinding,d=e("./edit_session").EditSession,h=e("./search").Search,p=e("./range").Range,f=e("./lib/event_emitter").EventEmitter,m=e("./commands/command_manager").CommandManager,g=e("./commands/default_commands").commands,v=e("./config"),y=e("./token_iterator").TokenIterator,b=e("./clipboard"),w=function(e,t,n){this.$toDestroy=[];var i=e.getContainerElement();this.container=i,this.renderer=e,this.id="editor"+ ++w.$uid,this.commands=new m(s.isMac?"mac":"win",g),"object"==typeof document&&(this.textInput=new a(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new l(this),new c(this)),this.keyBinding=new u(this),this.$search=(new h).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=o.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",(function(e,t){t._$emitInputEvent.schedule(31)})),this.setSession(t||n&&n.session||new d("")),v.resetOptions(this),n&&this.setOptions(n),v._signal("editor",this)};w.$uid=0,function(){i.implement(this,f),this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=o.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(e){if(this.curOp&&this.session){if(e&&!1===e.returnValue||!this.session)return this.curOp=null;if(1==e&&this.curOp.command&&"mouse"==this.curOp.command.name)return;if(this._signal("beforeEndOperation"),!this.curOp)return;var t=this.curOp.command,n=t&&t.scrollIntoView;if(n){switch(n){case"center-animate":n="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var i=this.selection.getRange(),r=this.renderer.layerConfig;(i.start.row>=r.lastRow||i.end.row<=r.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==n&&this.renderer.animateScrolling(this.curOp.scrollTop)}var o=this.selection.toJSON();this.curOp.selectionAfter=o,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(o),this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(e){if(this.$mergeUndoDeltas){var t=this.prevOp,n=this.$mergeableCommands,i=t.command&&e.command.name==t.command.name;if("insertstring"==e.command.name){var r=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),i=i&&this.mergeNextCommand&&(!/\s/.test(r)||/\s/.test(t.args)),this.mergeNextCommand=!0}else i=i&&-1!==n.indexOf(e.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(i=!1),i?this.session.mergeUndoDeltas=!0:-1!==n.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(e,t){if(e&&"string"==typeof e&&"ace"!=e){this.$keybindingId=e;var n=this;v.loadModule(["keybinding",e],(function(i){n.$keybindingId==e&&n.keyBinding.setKeyboardHandler(i&&i.handler),t&&t()}))}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){if(this.session!=e){this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.off("changeCursor",this.$onCursorChange),n.off("changeSelection",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this}),e&&e.bgTokenizer&&e.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e,t){this.renderer.setTheme(e,t)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.getFontSize=function(){return this.getOption("fontSize")||r.computedStyle(this.container).fontSize},this.setFontSize=function(e){this.setOption("fontSize",e)},this.$highlightBrackets=function(){if(!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout((function(){e.$highlightPending=!1;var t=e.session;if(t&&t.bgTokenizer){t.$bracketHighlight&&(t.$bracketHighlight.markerIds.forEach((function(e){t.removeMarker(e)})),t.$bracketHighlight=null);var n=t.getMatchingBracketRanges(e.getCursorPosition());if(!n&&t.$mode.getMatching&&(n=t.$mode.getMatching(e.session)),n){var i="ace_bracket";Array.isArray(n)?1==n.length&&(i="ace_error_bracket"):n=[n],2==n.length&&(0==p.comparePoints(n[0].end,n[1].start)?n=[p.fromPoints(n[0].start,n[1].end)]:0==p.comparePoints(n[0].start,n[1].end)&&(n=[p.fromPoints(n[1].start,n[0].end)])),t.$bracketHighlight={ranges:n,markerIds:n.map((function(e){return t.addMarker(e,i,"text")}))}}}}),50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var e=this;this.$highlightTagPending=!0,setTimeout((function(){e.$highlightTagPending=!1;var t=e.session;if(t&&t.bgTokenizer){var n=e.getCursorPosition(),i=new y(e.session,n.row,n.column),r=i.getCurrentToken();if(!r||!/\b(?:tag-open|tag-name)/.test(r.type))return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);if(-1===r.type.indexOf("tag-open")||(r=i.stepForward())){var o=r.value,s=r.value,a=0,l=i.stepBackward();if("<"===l.value)do{l=r,(r=i.stepForward())&&(-1!==r.type.indexOf("tag-name")?o===(s=r.value)&&("<"===l.value?a++:"</"===l.value&&a--):o===s&&"/>"===r.value&&a--)}while(r&&a>=0);else{do{if(r=l,l=i.stepBackward(),r)if(-1!==r.type.indexOf("tag-name"))o===r.value&&("<"===l.value?a++:"</"===l.value&&a--);else if("/>"===r.value){for(var c=0,u=l;u;){if(-1!==u.type.indexOf("tag-name")&&u.value===o){a--;break}if("<"===u.value)break;u=i.stepBackward(),c++}for(var d=0;d<c;d++)i.stepForward()}}while(l&&a<=0);i.stepForward()}if(!r)return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);var h=i.getCurrentTokenRow(),f=i.getCurrentTokenColumn(),m=new p(h,f,h,f+r.value.length),g=t.$backMarkers[t.$tagHighlight];t.$tagHighlight&&null!=g&&0!==m.compareRange(g.range)&&(t.removeMarker(t.$tagHighlight),t.$tagHighlight=null),t.$tagHighlight||(t.$tagHighlight=t.addMarker(m,"ace_bracket","text"))}}}),50)}},this.focus=function(){var e=this;setTimeout((function(){e.isFocused()||e.textInput.focus()})),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},this.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},this.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine()},this.onDocumentChange=function(e){var t=this.session.$useWrapMode,n=e.start.row==e.end.row?e.end.row:1/0;this.renderer.updateLines(e.start.row,n,t),this._signal("change",e),this.$cursorChange()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var e,t=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(e=!1),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&e){var n=new p(e.row,e.column,e.row,1/0);n.id=t.addMarker(n,"ace_active-line","screenLine"),t.$highlightLineMarker=n}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._signal("changeBackMarker"))},this.onSelectionChange=function(e){var t=this.session;if(t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var n=this.selection.getRange(),i=this.getSelectionStyle();t.$selectionMarker=t.addMarker(n,"ace_selection",i)}var r=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(r),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var n=t.start.column,i=t.end.column,r=e.getLine(t.start.row),o=r.substring(n,i);if(!(o.length>5e3)&&/[\w\d]/.test(o)){var s=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:o}),a=r.substring(n-1,i+1);if(s.test(a))return s}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText(),t=this.session.doc.getNewLineCharacter(),n=!1;if(!e&&this.$copyWithEmptySelection){n=!0;for(var i=this.selection.getAllRanges(),r=0;r<i.length;r++){var o=i[r];r&&i[r-1].start.row==o.start.row||(e+=this.session.getLine(o.start.row)+t)}}var s={text:e};return this._signal("copy",s),b.lineMode=n?s.text:"",s.text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(e,t){var n={text:e,event:t};this.commands.exec("paste",this,n)},this.$handlePaste=function(e){"string"==typeof e&&(e={text:e}),this._signal("paste",e);var t=e.text,n=t==b.lineMode,i=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)n?i.insert({row:this.selection.lead.row,column:0},t):this.insert(t);else if(n)this.selection.rangeList.ranges.forEach((function(e){i.insert({row:e.start.row,column:0},t)}));else{var r=t.split(/\r\n|\r|\n/),o=this.selection.rangeList.ranges,s=!(2!=r.length||r[0]&&r[1]);if(r.length!=o.length||s)return this.commands.exec("insertstring",this,t);for(var a=o.length;a--;){var l=o[a];l.isEmpty()||i.remove(l),i.insert(l.start,r[a])}}},this.execCommand=function(e,t){return this.commands.exec(e,this,t)},this.insert=function(e,t){var n=this.session,i=n.getMode(),r=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var o=i.transformAction(n.getState(r.row),"insertion",this,n,e);o&&(e!==o.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),e=o.text)}if("\t"==e&&(e=this.session.getTabString()),this.selection.isEmpty())this.session.getOverwrite()&&-1==e.indexOf("\n")&&((s=new p.fromPoints(r,r)).end.column+=e.length,this.session.remove(s));else{var s=this.getSelectionRange();r=this.session.remove(s),this.clearSelection()}if("\n"==e||"\r\n"==e){var a=n.getLine(r.row);if(r.column>a.search(/\S|$/)){var l=a.substr(r.column).search(/\S|$/);n.doc.removeInLine(r.row,r.column,r.column+l)}}this.clearSelection();var c=r.column,u=n.getState(r.row),d=(a=n.getLine(r.row),i.checkOutdent(u,a,e));if(n.insert(r,e),o&&o.selection&&(2==o.selection.length?this.selection.setSelectionRange(new p(r.row,c+o.selection[0],r.row,c+o.selection[1])):this.selection.setSelectionRange(new p(r.row+o.selection[0],o.selection[1],r.row+o.selection[2],o.selection[3]))),this.$enableAutoIndent){if(n.getDocument().isNewLine(e)){var h=i.getNextLineIndent(u,a.slice(0,r.column),n.getTabString());n.insert({row:r.row+1,column:0},h)}d&&i.autoOutdent(u,n,r.row)}},this.autoIndent=function(){var e,t,n=this.session,i=n.getMode();if(this.selection.isEmpty())e=0,t=n.doc.getLength()-1;else{var r=this.getSelectionRange();e=r.start.row,t=r.end.row}for(var o,s,a,l="",c="",u="",d=n.getTabString(),h=e;h<=t;h++)h>0&&(l=n.getState(h-1),c=n.getLine(h-1),u=i.getNextLineIndent(l,c,d)),o=n.getLine(h),u!==(s=i.$getIndent(o))&&(s.length>0&&(a=new p(h,0,h,s.length),n.remove(a)),u.length>0&&n.insert({row:h,column:0},u)),i.autoOutdent(l,n,h)},this.onTextInput=function(e,t){if(!t)return this.keyBinding.onTextInput(e);this.startOperation({command:{name:"insertstring"}});var n=this.applyComposition.bind(this,e,t);this.selection.rangeCount?this.forEachSelection(n):n(),this.endOperation()},this.applyComposition=function(e,t){var n;(t.extendLeft||t.extendRight)&&((n=this.selection.getRange()).start.column-=t.extendLeft,n.end.column+=t.extendRight,n.start.column<0&&(n.start.row--,n.start.column+=this.session.getLine(n.start.row).length+1),this.selection.setRange(n),e||n.isEmpty()||this.remove()),!e&&this.selection.isEmpty()||this.insert(e,!0),(t.restoreStart||t.restoreEnd)&&((n=this.selection.getRange()).start.column-=t.restoreStart,n.end.column-=t.restoreEnd,this.selection.setRange(n))},this.onCommandKey=function(e,t,n){return this.keyBinding.onCommandKey(e,t,n)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(e){this.setOption("dragDelay",e)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption("readOnly",e)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,i=n.getState(t.start.row),r=n.getMode().transformAction(i,"deletion",this,n,t);if(0===t.end.column){var o=n.getTextRange(t);if("\n"==o[o.length-1]){var s=n.getLine(t.end.row);/^\s+$/.test(s)&&(t.end.column=s.length)}}r&&(t=r)}this.session.remove(t),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},this.transposeLetters=function(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var n,i,r=this.session.getLine(e.row);t<r.length?(n=r.charAt(t)+r.charAt(t-1),i=new p(e.row,t-1,e.row,t+1)):(n=r.charAt(t-1)+r.charAt(t-2),i=new p(e.row,t-2,e.row,t)),this.session.replace(i,n),this.session.selection.moveToPosition(i.end)}}},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(!(t.start.row<t.end.row)){if(t.start.column<t.end.column){var n=e.getTextRange(t);if(!/^\s+$/.test(n))return u=this.$getSelectedRows(),void e.indentRows(u.first,u.last,"\t")}var i=e.getLine(t.start.row),r=t.start,s=e.getTabSize(),a=e.documentToScreenColumn(r.row,r.column);if(this.session.getUseSoftTabs())var l=s-a%s,c=o.stringRepeat(" ",l);else{for(l=a%s;" "==i[t.start.column-1]&&l;)t.start.column--,l--;this.selection.setSelectionRange(t),c="\t"}return this.insert(c)}var u=this.$getSelectedRows();e.indentRows(u.first,u.last,"\t")},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"\t")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){for(var e=this.$getSelectedRows(),t=this.session,n=[],i=e.first;i<=e.last;i++)n.push(t.getLine(i));n.sort((function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0}));var r=new p(0,0,0,0);for(i=e.first;i<=e.last;i++){var o=t.getLine(i);r.start.row=i,r.end.row=i,r.end.column=o.length,t.replace(r,n[i-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,n,e)},this.getNumberAt=function(e,t){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;for(var i=this.session.getLine(e);n.lastIndex<t;){var r=n.exec(i);if(r.index<=t&&r.index+r[0].length>=t)return{value:r[0],start:r.index,end:r.index+r[0].length}}return null},this.modifyNumber=function(e){var t=this.selection.getCursor().row,n=this.selection.getCursor().column,i=new p(t,n-1,t,n),r=this.session.getTextRange(i);if(!isNaN(parseFloat(r))&&isFinite(r)){var o=this.getNumberAt(t,n);if(o){var s=o.value.indexOf(".")>=0?o.start+o.value.indexOf(".")+1:o.end,a=o.start+o.value.length-s,l=parseFloat(o.value);l*=Math.pow(10,a),s!==o.end&&n<s?e*=Math.pow(10,o.end-n-1):e*=Math.pow(10,o.end-n),l+=e;var c=(l/=Math.pow(10,a)).toFixed(a),u=new p(t,o.start,t,o.end);this.session.replace(u,c),this.moveCursorTo(t,Math.max(o.start+1,n+c.length-o.value.length))}}else this.toggleWord()},this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],this.toggleWord=function(){var e=this.selection.getCursor().row,t=this.selection.getCursor().column;this.selection.selectWord();var n=this.getSelectedText(),i=this.selection.getWordRange().start.column,r=n.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),s=t-i-1;s<0&&(s=0);var a=0,l=0,c=this;n.match(/[A-Za-z0-9_]+/)&&r.forEach((function(t,r){l=a+t.length,s>=a&&s<=l&&(n=t,c.selection.clearSelection(),c.moveCursorTo(e,a+i),c.selection.selectTo(e,l+i)),a=l}));for(var u,d=this.$toggleWordPairs,h=0;h<d.length;h++)for(var p=d[h],f=0;f<=1;f++){var m=+!f,g=n.match(new RegExp("^\\s?_?("+o.escapeRegExp(p[f])+")\\s?$","i"));g&&n.match(new RegExp("([_]|^|\\s)("+o.escapeRegExp(g[1])+")($|\\s)","g"))&&(u=n.replace(new RegExp(o.escapeRegExp(p[f]),"i"),(function(e){var t=p[m];return e.toUpperCase()==e?t=t.toUpperCase():e.charAt(0).toUpperCase()==e.charAt(0)&&(t=t.substr(0,0)+p[m].charAt(0).toUpperCase()+t.substr(1)),t})),this.insert(u),u="")}},this.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()},this.duplicateSelection=function(){var e=this.selection,t=this.session,n=e.getRange(),i=e.isBackwards();if(n.isEmpty()){var r=n.start.row;t.duplicateLines(r,r)}else{var o=i?n.start:n.end,s=t.insert(o,t.getTextRange(n),!1);n.start=o,n.end=s,e.setSelectionRange(n,i)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(e,t,n){return this.session.moveText(e,t,n)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(e,t){var n,i,r=this.selection;if(!r.inMultiSelectMode||this.inVirtualSelectionMode){var o=r.toOrientedRange();n=this.$getSelectedRows(o),i=this.session.$moveLines(n.first,n.last,t?0:e),t&&-1==e&&(i=0),o.moveBy(i,0),r.fromOrientedRange(o)}else{var s=r.rangeList.ranges;r.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,l=0,c=s.length,u=0;u<c;u++){var d=u;s[u].moveBy(a,0);for(var h=(n=this.$getSelectedRows(s[u])).first,p=n.last;++u<c;){l&&s[u].moveBy(l,0);var f=this.$getSelectedRows(s[u]);if(t&&f.first!=p)break;if(!t&&f.first>p+1)break;p=f.last}for(u--,a=this.session.$moveLines(h,p,t?0:e),t&&-1==e&&(d=u+1);d<=u;)s[d].moveBy(a,0),d++;t||(a=0),l+=a}r.fromOrientedRange(r.ranges[0]),r.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},this.onCompositionStart=function(e){this.renderer.showComposition(e)},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var n=this.renderer,i=this.renderer.layerConfig,r=e*Math.floor(i.height/i.lineHeight);!0===t?this.selection.$moveSelection((function(){this.moveCursorBy(r,0)})):!1===t&&(this.selection.moveCursorBy(r,0),this.selection.clearSelection());var o=n.scrollTop;n.scrollBy(0,r*i.lineHeight),null!=t&&n.scrollCursorIntoView(null,.5),n.animateScrolling(o)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,n,i){this.renderer.scrollToLine(e,t,n,i)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e,t){var n=this.getCursorPosition(),i=new y(this.session,n.row,n.column),r=i.getCurrentToken(),o=r||i.stepForward();if(o){var s,a,l=!1,c={},u=n.column-o.start,d={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(o.value.match(/[{}()\[\]]/g)){for(;u<o.value.length&&!l;u++)if(d[o.value[u]])switch(a=d[o.value[u]]+"."+o.type.replace("rparen","lparen"),isNaN(c[a])&&(c[a]=0),o.value[u]){case"(":case"[":case"{":c[a]++;break;case")":case"]":case"}":c[a]--,-1===c[a]&&(s="bracket",l=!0)}}else-1!==o.type.indexOf("tag-name")&&(isNaN(c[o.value])&&(c[o.value]=0),"<"===r.value?c[o.value]++:"</"===r.value&&c[o.value]--,-1===c[o.value]&&(s="tag",l=!0));l||(r=o,o=i.stepForward(),u=0)}while(o&&!l);if(s){var h,f;if("bracket"===s)(h=this.session.getBracketRange(n))||(f=(h=new p(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+u-1,i.getCurrentTokenRow(),i.getCurrentTokenColumn()+u-1)).start,(t||f.row===n.row&&Math.abs(f.column-n.column)<2)&&(h=this.session.getBracketRange(f)));else if("tag"===s){if(!o||-1===o.type.indexOf("tag-name"))return;var m=o.value;if(0===(h=new p(i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2,i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2)).compare(n.row,n.column)){l=!1;do{o=r,(r=i.stepBackward())&&(-1!==r.type.indexOf("tag-close")&&h.setEnd(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+1),o.value===m&&-1!==o.type.indexOf("tag-name")&&("<"===r.value?c[m]++:"</"===r.value&&c[m]--,0===c[m]&&(l=!0)))}while(r&&!l)}o&&o.type.indexOf("tag-name")&&(f=h.start).row==n.row&&Math.abs(f.column-n.column)<2&&(f=h.end)}(f=h&&h.cursor||f)&&(e?h&&t?this.selection.setRange(h):h&&h.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(f.row,f.column):this.selection.moveTo(f.row,f.column))}}},this.gotoLine=function(e,t,n){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,n)},this.navigateTo=function(e,t){this.selection.moveTo(e,t)},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},this.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var n=this.$search.find(this.session),i=0;return n?(this.$tryReplace(n,e)&&(i=1),this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end),i):i},this.replaceAll=function(e,t){t&&this.$search.set(t);var n=this.$search.findAll(this.session),i=0;if(!n.length)return i;var r=this.getSelectionRange();this.selection.moveTo(0,0);for(var o=n.length-1;o>=0;--o)this.$tryReplace(n[o],e)&&i++;return this.selection.setSelectionRange(r),i},this.$tryReplace=function(e,t){var n=this.session.getTextRange(e);return null!==(t=this.$search.replace(n,t))?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,n){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&i.mixin(t,e);var r=this.selection.getRange();null==t.needle&&((e=this.session.getTextRange(r)||this.$search.$options.needle)||(r=this.session.getWordRange(r.start.row,r.start.column),e=this.session.getTextRange(r)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:r});var o=this.$search.find(this.session);return t.preventScroll?o:o?(this.revealRange(o,n),o):(t.backwards?r.start=r.end:r.end=r.start,void this.selection.setRange(r))},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.session.unfold(e),this.selection.setSelectionRange(e);var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),!1!==t&&this.renderer.animateScrolling(n)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach((function(e){e.destroy()})),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},this.setAutoScrollEditorIntoView=function(e){if(e){var t,n=this,i=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var r=this.$scrollAnchor;r.style.cssText="position:absolute",this.container.insertBefore(r,this.container.firstChild);var o=this.on("changeSelection",(function(){i=!0})),s=this.renderer.on("beforeRender",(function(){i&&(t=n.renderer.container.getBoundingClientRect())})),a=this.renderer.on("afterRender",(function(){if(i&&t&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())){var e=n.renderer,o=e.$cursorLayer.$pixelPos,s=e.layerConfig,a=o.top-s.offset;null!=(i=o.top>=0&&a+t.top<0||!(o.top<s.height&&o.top+t.top+s.lineHeight>window.innerHeight)&&null)&&(r.style.top=a+"px",r.style.left=o.left+"px",r.style.height=s.lineHeight+"px",r.scrollIntoView(i)),i=t=null}}));this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",o),this.renderer.off("afterRender",a),this.renderer.off("beforeRender",s))}}},this.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,r.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))},this.prompt=function(e,t,n){var i=this;v.loadModule("./ext/prompt",(function(r){r.prompt(i,e,t,n)}))}}.call(w.prototype),v.defineOptions(w.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.textInput.setReadOnly(e),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(e){this.textInput.setCopyWithEmptySelection(e)},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(e){this.session.setValue(e)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(e){this.setSession(e)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(e){this.renderer.$gutterLayer.setShowLineNumbers(e),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),e&&this.$relativeLineNumbers?_.attach(this):_.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(e){this.$showLineNumbers&&e?_.attach(this):_.detach(this)}},placeholder:{set:function(e){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var e=this.session&&(this.renderer.$composition||this.getValue());if(e&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),r.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(e||this.renderer.placeholderNode)!e&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"");else{this.renderer.on("afterRender",this.$updatePlaceholder),r.addCssClass(this.container,"ace_hasPlaceholder");var t=r.createElement("div");t.className="ace_placeholder",t.textContent=this.$placeholder||"",this.renderer.placeholderNode=t,this.renderer.content.appendChild(this.renderer.placeholderNode)}}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var _={getText:function(e,t){return(Math.abs(e.selection.lead.row-t)||t+1+(t<9?"":""))+""},getWidth:function(e,t,n){return Math.max(t.toString().length,(n.lastRow+1).toString().length,2)*n.characterWidth},update:function(e,t){t.renderer.$loop.schedule(t.renderer.CHANGE_GUTTER)},attach:function(e){e.renderer.$gutterLayer.$renderer=this,e.on("changeSelection",this.update),this.update(null,e)},detach:function(e){e.renderer.$gutterLayer.$renderer==this&&(e.renderer.$gutterLayer.$renderer=null),e.off("changeSelection",this.update),this.update(null,e)}};t.Editor=w})),ace.define("ace/undomanager",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=function(){this.$maxRev=0,this.$fromUndo=!1,this.reset()};(function(){this.addSession=function(e){this.$session=e},this.add=function(e,t,n){this.$fromUndo||e!=this.$lastDelta&&(this.$keepRedoStack||(this.$redoStack.length=0),!1!==t&&this.lastDeltas||(this.lastDeltas=[],this.$undoStack.push(this.lastDeltas),e.id=this.$rev=++this.$maxRev),"remove"!=e.action&&"insert"!=e.action||(this.$lastDelta=e),this.lastDeltas.push(e))},this.addSelection=function(e,t){this.selections.push({value:e,rev:t||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(e,t){null==t&&(t=this.$rev+1);for(var n=this.$undoStack,i=n.length;i--;){var r=n[i][0];if(r.id<=e)break;r.id<t&&(r.ignore=!0)}this.lastDeltas=null},this.getSelection=function(e,t){for(var n=this.selections,i=n.length;i--;){var r=n[i];if(r.rev<e)return t&&(r=n[i+1]),r}},this.getRevision=function(){return this.$rev},this.getDeltas=function(e,t){null==t&&(t=this.$rev+1);for(var n=this.$undoStack,i=null,r=0,o=n.length;o--;){var s=n[o][0];if(s.id<t&&!i&&(i=o+1),s.id<=e){r=o+1;break}}return n.slice(r,i)},this.getChangedRanges=function(e,t){null==t&&(t=this.$rev+1)},this.getChangedLines=function(e,t){null==t&&(t=this.$rev+1)},this.undo=function(e,t){this.lastDeltas=null;var n=this.$undoStack;if(function(e,t){for(var n=t;n--;){var i=e[n];if(i&&!i[0].ignore){for(;n<t-1;){var r=u(e[n],e[n+1]);e[n]=r[0],e[n+1]=r[1],n++}return!0}}}(n,n.length)){e||(e=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var i=n.pop(),r=null;return i&&(r=e.undoChanges(i,t),this.$redoStack.push(i),this.$syncRev()),this.$fromUndo=!1,r}},this.redo=function(e,t){if(this.lastDeltas=null,e||(e=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var n=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);!function(e,t){for(var n=0;n<t.length;n++)for(var i=t[n],r=0;r<i.length;r++)m(e,i[r])}(this.$redoStack,n),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach((function(e){e[0].id=++this.$maxRev}),this)}var i=this.$redoStack.pop(),r=null;return i&&(r=e.redoChanges(i,t),this.$undoStack.push(i),this.$syncRev()),this.$fromUndo=!1,r},this.$syncRev=function(){var e=this.$undoStack,t=e[e.length-1],n=t&&t[0].id||0;this.$redoStackBaseRev=n,this.$rev=n},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return this.$undoStack.length>0},this.canRedo=function(){return this.$redoStack.length>0},this.bookmark=function(e){null==e&&(e=this.$rev),this.mark=e},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(e){return e?a(e):a(this.$undoStack)+"\n---\n"+a(this.$redoStack)}}).call(i.prototype);var r=e("./range").Range,o=r.comparePoints;function s(e){return{row:e.row,column:e.column}}function a(e){if(e=e||this,Array.isArray(e))return e.map(a).join("\n");var t="";return e.action?(t="insert"==e.action?"+":"-",t+="["+e.lines+"]"):e.value&&(t=Array.isArray(e.value)?e.value.map(l).join("\n"):l(e.value)),e.start&&(t+=l(e)),(e.id||e.rev)&&(t+="\t("+(e.id||e.rev)+")"),t}function l(e){return e.start.row+":"+e.start.column+"=>"+e.end.row+":"+e.end.column}function c(e,t){var n="insert"==e.action,i="insert"==t.action;if(n&&i)if(o(t.start,e.end)>=0)h(t,e,-1);else{if(!(o(t.start,e.start)<=0))return null;h(e,t,1)}else if(n&&!i)if(o(t.start,e.end)>=0)h(t,e,-1);else{if(!(o(t.end,e.start)<=0))return null;h(e,t,-1)}else if(!n&&i)if(o(t.start,e.start)>=0)h(t,e,1);else{if(!(o(t.start,e.start)<=0))return null;h(e,t,1)}else if(!n&&!i)if(o(t.start,e.start)>=0)h(t,e,1);else{if(!(o(t.end,e.start)<=0))return null;h(e,t,-1)}return[t,e]}function u(e,t){for(var n=e.length;n--;)for(var i=0;i<t.length;i++)if(!c(e[n],t[i])){for(;n<e.length;){for(;i--;)c(t[i],e[n]);i=t.length,n++}return[e,t]}return e.selectionBefore=t.selectionBefore=e.selectionAfter=t.selectionAfter=null,[t,e]}function d(e,t){var n="insert"==e.action,i="insert"==t.action;if(n&&i)o(e.start,t.start)<0?h(t,e,1):h(e,t,1);else if(n&&!i)o(e.start,t.end)>=0?h(e,t,-1):(o(e.start,t.start)<=0||h(e,r.fromPoints(t.start,e.start),-1),h(t,e,1));else if(!n&&i)o(t.start,e.end)>=0?h(t,e,-1):(o(t.start,e.start)<=0||h(t,r.fromPoints(e.start,t.start),-1),h(e,t,1));else if(!n&&!i)if(o(t.start,e.end)>=0)h(t,e,-1);else{var s,a;if(!(o(t.end,e.start)<=0))return o(e.start,t.start)<0&&(s=e,e=f(e,t.start)),o(e.end,t.end)>0&&(a=f(e,t.end)),p(t.end,e.start,e.end,-1),a&&!s&&(e.lines=a.lines,e.start=a.start,e.end=a.end,a=e),[t,s,a].filter(Boolean);h(e,t,-1)}return[t,e]}function h(e,t,n){p(e.start,t.start,t.end,n),p(e.end,t.start,t.end,n)}function p(e,t,n,i){e.row==(1==i?t:n).row&&(e.column+=i*(n.column-t.column)),e.row+=i*(n.row-t.row)}function f(e,t){var n=e.lines,i=e.end;e.end=s(t);var r=e.end.row-e.start.row,o=n.splice(r,n.length),a=r?t.column:t.column-e.start.column;return n.push(o[0].substring(0,a)),o[0]=o[0].substr(a),{start:s(t),end:i,lines:o,action:e.action}}function m(e,t){t=function(e){return{start:s(e.start),end:s(e.end),action:e.action,lines:e.lines.slice()}}(t);for(var n=e.length;n--;){for(var i=e[n],r=0;r<i.length;r++){var o=d(i[r],t);t=o[0],2!=o.length&&(o[2]?(i.splice(r+1,1,o[1],o[2]),r++):o[1]||(i.splice(r,1),r--))}i.length||e.splice(n,1)}return e}r.comparePoints,t.UndoManager=i})),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("../lib/dom"),r=function(e,t){this.element=e,this.canvasHeight=t||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0};(function(){this.moveContainer=function(e){i.translate(this.element,0,-e.firstRowScreen*e.lineHeight%this.canvasHeight-e.offset*this.$offsetCoefficient)},this.pageChanged=function(e,t){return Math.floor(e.firstRowScreen*e.lineHeight/this.canvasHeight)!==Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight)},this.computeLineTop=function(e,t,n){var i=t.firstRowScreen*t.lineHeight,r=Math.floor(i/this.canvasHeight);return n.documentToScreenRow(e,0)*t.lineHeight-r*this.canvasHeight},this.computeLineHeight=function(e,t,n){return t.lineHeight*n.getRowLineCount(e)},this.getLength=function(){return this.cells.length},this.get=function(e){return this.cells[e]},this.shift=function(){this.$cacheCell(this.cells.shift())},this.pop=function(){this.$cacheCell(this.cells.pop())},this.push=function(e){if(Array.isArray(e)){this.cells.push.apply(this.cells,e);for(var t=i.createFragment(this.element),n=0;n<e.length;n++)t.appendChild(e[n].element);this.element.appendChild(t)}else this.cells.push(e),this.element.appendChild(e.element)},this.unshift=function(e){if(Array.isArray(e)){this.cells.unshift.apply(this.cells,e);for(var t=i.createFragment(this.element),n=0;n<e.length;n++)t.appendChild(e[n].element);this.element.firstChild?this.element.insertBefore(t,this.element.firstChild):this.element.appendChild(t)}else this.cells.unshift(e),this.element.insertAdjacentElement("afterbegin",e.element)},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(e){e&&(e.element.remove(),this.cellCache.push(e))},this.createCell=function(e,t,n,r){var o=this.cellCache.pop();if(!o){var s=i.createElement("div");r&&r(s),this.element.appendChild(s),o={element:s,text:"",row:e}}return o.row=e,o}}).call(r.prototype),t.Lines=r})),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],(function(e,t,n){"use strict";var i=e("../lib/dom"),r=e("../lib/oop"),o=e("../lib/lang"),s=e("../lib/event_emitter").EventEmitter,a=e("./lines").Lines,l=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new a(this.element),this.$lines.$offsetCoefficient=1};function c(e){var t=document.createTextNode("");e.appendChild(t);var n=i.createElement("span");return e.appendChild(n),e}(function(){r.implement(this,s),this.setSession=function(e){this.session&&this.session.off("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var n=e[t],i=n.row,r=this.$annotations[i];r||(r=this.$annotations[i]={text:[]});var s=n.text;s=s?o.escapeHTML(s):n.html||"",-1===r.text.indexOf(s)&&r.text.push(s);var a=n.type;"error"==a?r.className=" ace_error":"warning"==a&&" ace_error"!=r.className?r.className=" ace_warning":"info"!=a||r.className||(r.className=" ace_info")}},this.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.start.row,n=e.end.row-t;if(0===n);else if("remove"==e.action)this.$annotations.splice(t,n+1,null);else{var i=new Array(n+1);i.unshift(t,1),this.$annotations.splice.apply(this.$annotations,i)}}},this.update=function(e){this.config=e;var t=this.session,n=e.firstRow,i=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1);this.oldLastRow=i,this.config=e,this.$lines.moveContainer(e),this.$updateCursorRow();for(var r=t.getNextFoldLine(n),o=r?r.start.row:1/0,s=null,a=-1,l=n;;){if(l>o&&(l=r.end.row+1,o=(r=t.getNextFoldLine(l,r))?r.start.row:1/0),l>i){for(;this.$lines.getLength()>a+1;)this.$lines.pop();break}(s=this.$lines.get(++a))?s.row=l:(s=this.$lines.createCell(l,e,this.session,c),this.$lines.push(s)),this.$renderCell(s,e,r,l),l++}this._signal("afterRender"),this.$updateGutterWidth(e)},this.$updateGutterWidth=function(e){var t=this.session,n=t.gutterRenderer||this.$renderer,i=t.$firstLineNumber,r=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||t.$useWrapMode)&&(r=t.getLength()+i-1);var o=n?n.getWidth(t,r,e):r.toString().length*e.characterWidth,s=this.$padding||this.$computePadding();(o+=s.left+s.right)===this.gutterWidth||isNaN(o)||(this.gutterWidth=o,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",o))},this.$updateCursorRow=function(){if(this.$highlightGutterLine){var e=this.session.selection.getCursor();this.$cursorRow!==e.row&&(this.$cursorRow=e.row)}},this.updateLineHighlight=function(){if(this.$highlightGutterLine){var e=this.session.selection.cursor.row;if(this.$cursorRow=e,!this.$cursorCell||this.$cursorCell.row!=e){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var t=this.$lines.cells;this.$cursorCell=null;for(var n=0;n<t.length;n++){var i=t[n];if(i.row>=this.$cursorRow){if(i.row>this.$cursorRow){var r=this.session.getFoldLine(this.$cursorRow);if(!(n>0&&r&&r.start.row==t[n-1].row))break;i=t[n-1]}i.element.className="ace_gutter-active-line "+i.element.className,this.$cursorCell=i;break}}}}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$updateCursorRow(),this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=Math.min(e.lastRow+e.gutterOffset,this.session.getLength()-1),i=this.oldLastRow;if(this.oldLastRow=n,!t||i<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var r=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);r>0;r--)this.$lines.shift();if(i>n)for(r=this.session.getFoldedRowCount(n+1,i);r>0;r--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLines(e,e.firstRow,t.firstRow-1)),n>i&&this.$lines.push(this.$renderLines(e,i+1,n)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(e)},this.$renderLines=function(e,t,n){for(var i=[],r=t,o=this.session.getNextFoldLine(r),s=o?o.start.row:1/0;r>s&&(r=o.end.row+1,s=(o=this.session.getNextFoldLine(r,o))?o.start.row:1/0),!(r>n);){var a=this.$lines.createCell(r,e,this.session,c);this.$renderCell(a,e,o,r),i.push(a),r++}return i},this.$renderCell=function(e,t,n,r){var o=e.element,s=this.session,a=o.childNodes[0],l=o.childNodes[1],c=s.$firstLineNumber,u=s.$breakpoints,d=s.$decorations,h=s.gutterRenderer||this.$renderer,p=this.$showFoldWidgets&&s.foldWidgets,f=n?n.start.row:Number.MAX_VALUE,m="ace_gutter-cell ";if(this.$highlightGutterLine&&(r==this.$cursorRow||n&&r<this.$cursorRow&&r>=f&&this.$cursorRow<=n.end.row)&&(m+="ace_gutter-active-line ",this.$cursorCell!=e&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=e)),u[r]&&(m+=u[r]),d[r]&&(m+=d[r]),this.$annotations[r]&&(m+=this.$annotations[r].className),o.className!=m&&(o.className=m),p){var g=p[r];null==g&&(g=p[r]=s.getFoldWidget(r))}if(g){m="ace_fold-widget ace_"+g,"start"==g&&r==f&&r<n.end.row?m+=" ace_closed":m+=" ace_open",l.className!=m&&(l.className=m);var v=t.lineHeight+"px";i.setStyle(l.style,"height",v),i.setStyle(l.style,"display","inline-block")}else l&&i.setStyle(l.style,"display","none");var y=(h?h.getText(s,r):r+c).toString();return y!==a.data&&(a.data=y),i.setStyle(e.element.style,"height",this.$lines.computeLineHeight(r,t,s)+"px"),i.setStyle(e.element.style,"top",this.$lines.computeLineTop(r,t,s)+"px"),e.text=y,e},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(e){this.$highlightGutterLine=e},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return 0},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?i.addCssClass(this.element,"ace_folding-enabled"):i.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=i.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(e.borderLeftWidth)||0)+(parseInt(e.paddingLeft)||0)+1,this.$padding.right=(parseInt(e.borderRightWidth)||0)+(parseInt(e.paddingRight)||0),this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return e.x<t.left+n.left?"markers":this.$showFoldWidgets&&e.x>n.right-t.right?"foldWidgets":void 0}}).call(l.prototype),t.Gutter=l})),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("../range").Range,r=e("../lib/dom"),o=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.elt=function(e,t){var n=-1!=this.i&&this.element.childNodes[this.i];n?this.i++:(n=document.createElement("div"),this.element.appendChild(n),this.i=-1),n.style.cssText=t,n.className=e},this.update=function(e){if(e){var t;for(var n in this.config=e,this.i=0,this.markers){var i=this.markers[n];if(i.range){var r=i.range.clipRows(e.firstRow,e.lastRow);if(!r.isEmpty())if(r=r.toScreenRange(this.session),i.renderer){var o=this.$getTop(r.start.row,e),s=this.$padding+r.start.column*e.characterWidth;i.renderer(t,r,s,o,e)}else"fullLine"==i.type?this.drawFullLineMarker(t,r,i.clazz,e):"screenLine"==i.type?this.drawScreenLineMarker(t,r,i.clazz,e):r.isMultiLine()?"text"==i.type?this.drawTextMarker(t,r,i.clazz,e):this.drawMultiLineMarker(t,r,i.clazz,e):this.drawSingleLineMarker(t,r,i.clazz+" ace_start ace_br15",e)}else i.update(t,this,this.session,e)}if(-1!=this.i)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(e,t,n,r,o){for(var s=this.session,a=t.start.row,l=t.end.row,c=a,u=0,d=0,h=s.getScreenLastRowColumn(c),p=new i(c,t.start.column,c,d);c<=l;c++)p.start.row=p.end.row=c,p.start.column=c==a?t.start.column:s.getRowWrapIndent(c),p.end.column=h,u=d,d=h,h=c+1<l?s.getScreenLastRowColumn(c+1):c==l?0:t.end.column,this.drawSingleLineMarker(e,p,n+(c==a?" ace_start":"")+" ace_br"+((c==a||c==a+1&&t.start.column?1:0)|(u<d?2:0)|(d>h?4:0)|(c==l?8:0)),r,c==l?0:1,o)},this.drawMultiLineMarker=function(e,t,n,i,r){var o=this.$padding,s=i.lineHeight,a=this.$getTop(t.start.row,i),l=o+t.start.column*i.characterWidth;if(r=r||"",this.session.$bidiHandler.isBidiRow(t.start.row)?((c=t.clone()).end.row=c.start.row,c.end.column=this.session.getLine(c.start.row).length,this.drawBidiSingleLineMarker(e,c,n+" ace_br1 ace_start",i,null,r)):this.elt(n+" ace_br1 ace_start","height:"+s+"px;right:0;top:"+a+"px;left:"+l+"px;"+(r||"")),this.session.$bidiHandler.isBidiRow(t.end.row)){var c;(c=t.clone()).start.row=c.end.row,c.start.column=0,this.drawBidiSingleLineMarker(e,c,n+" ace_br12",i,null,r)}else{a=this.$getTop(t.end.row,i);var u=t.end.column*i.characterWidth;this.elt(n+" ace_br12","height:"+s+"px;width:"+u+"px;top:"+a+"px;left:"+o+"px;"+(r||""))}if(!((s=(t.end.row-t.start.row-1)*i.lineHeight)<=0)){a=this.$getTop(t.start.row+1,i);var d=(t.start.column?1:0)|(t.end.column?0:8);this.elt(n+(d?" ace_br"+d:""),"height:"+s+"px;right:0;top:"+a+"px;left:"+o+"px;"+(r||""))}},this.drawSingleLineMarker=function(e,t,n,i,r,o){if(this.session.$bidiHandler.isBidiRow(t.start.row))return this.drawBidiSingleLineMarker(e,t,n,i,r,o);var s=i.lineHeight,a=(t.end.column+(r||0)-t.start.column)*i.characterWidth,l=this.$getTop(t.start.row,i),c=this.$padding+t.start.column*i.characterWidth;this.elt(n,"height:"+s+"px;width:"+a+"px;top:"+l+"px;left:"+c+"px;"+(o||""))},this.drawBidiSingleLineMarker=function(e,t,n,i,r,o){var s=i.lineHeight,a=this.$getTop(t.start.row,i),l=this.$padding;this.session.$bidiHandler.getSelections(t.start.column,t.end.column).forEach((function(e){this.elt(n,"height:"+s+"px;width:"+e.width+(r||0)+"px;top:"+a+"px;left:"+(l+e.left)+"px;"+(o||""))}),this)},this.drawFullLineMarker=function(e,t,n,i,r){var o=this.$getTop(t.start.row,i),s=i.lineHeight;t.start.row!=t.end.row&&(s+=this.$getTop(t.end.row,i)-o),this.elt(n,"height:"+s+"px;top:"+o+"px;left:0;right:0;"+(r||""))},this.drawScreenLineMarker=function(e,t,n,i,r){var o=this.$getTop(t.start.row,i),s=i.lineHeight;this.elt(n,"height:"+s+"px;top:"+o+"px;left:0;right:0;"+(r||""))}}).call(o.prototype),t.Marker=o})),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("../lib/dom"),o=e("../lib/lang"),s=e("./lines").Lines,a=e("../lib/event_emitter").EventEmitter,l=function(e){this.dom=r,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new s(this.element)};(function(){i.implement(this,a),this.EOF_CHAR="",this.EOL_CHAR_LF="",this.EOL_CHAR_CRLF="",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="",this.SPACE_CHAR="",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.$updateEolChar=function(){var e=this.session.doc,t="\n"==e.getNewLineCharacter()&&"windows"!=e.getNewLineMode()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=t)return this.EOL_CHAR=t,!0},this.setPadding=function(e){this.$padding=e,this.element.style.margin="0 "+e+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){this.session=e,e&&this.$computeTabString()},this.showInvisibles=!1,this.showSpaces=!1,this.showTabs=!1,this.showEOL=!1,this.setShowInvisibles=function(e){return this.showInvisibles!=e&&(this.showInvisibles=e,"string"==typeof e?(this.showSpaces=/tab/i.test(e),this.showTabs=/space/i.test(e),this.showEOL=/eol/i.test(e)):this.showSpaces=this.showTabs=this.showEOL=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides!=e&&(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],n=1;n<e+1;n++)this.showTabs?((i=this.dom.createElement("span")).className="ace_invisible ace_invisible_tab",i.textContent=o.stringRepeat(this.TAB_CHAR,n),t.push(i)):t.push(this.dom.createTextNode(o.stringRepeat(" ",n),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var i,r="ace_indent-guide",s=this.showSpaces?" ace_invisible ace_invisible_space":"",a=this.showSpaces?o.stringRepeat(this.SPACE_CHAR,this.tabSize):o.stringRepeat(" ",this.tabSize),l=this.showTabs?" ace_invisible ace_invisible_tab":"",c=this.showTabs?o.stringRepeat(this.TAB_CHAR,this.tabSize):a;(i=this.dom.createElement("span")).className=r+s,i.textContent=a,this.$tabStrings[" "]=i,(i=this.dom.createElement("span")).className=r+l,i.textContent=c,this.$tabStrings["\t"]=i}},this.updateLines=function(e,t,n){if(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)return this.update(e);this.config=e;for(var i=Math.max(t,e.firstRow),r=Math.min(n,e.lastRow),o=this.element.childNodes,s=0,a=e.firstRow;a<i;a++){if(l=this.session.getFoldLine(a)){if(l.containsRow(i)){i=l.start.row;break}a=l.end.row}s++}for(var l,c=!1,u=(a=i,(l=this.session.getNextFoldLine(a))?l.start.row:1/0);a>u&&(a=l.end.row+1,u=(l=this.session.getNextFoldLine(a,l))?l.start.row:1/0),!(a>r);){var d=o[s++];if(d){this.dom.removeChildren(d),this.$renderLine(d,a,a==u&&l),c&&(d.style.top=this.$lines.computeLineTop(a,e,this.session)+"px");var h=e.lineHeight*this.session.getRowLength(a)+"px";d.style.height!=h&&(c=!0,d.style.height=h)}a++}if(c)for(;s<this.$lines.cells.length;){var p=this.$lines.cells[s++];p.element.style.top=this.$lines.computeLineTop(p.row,e,this.session)+"px"}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=e.lastRow,i=t?t.lastRow:-1;if(!t||i<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var r=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);r>0;r--)this.$lines.shift();if(t.lastRow>e.lastRow)for(r=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);r>0;r--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLinesFragment(e,e.firstRow,t.firstRow-1)),e.lastRow>t.lastRow&&this.$lines.push(this.$renderLinesFragment(e,t.lastRow+1,e.lastRow))},this.$renderLinesFragment=function(e,t,n){for(var i=[],o=t,s=this.session.getNextFoldLine(o),a=s?s.start.row:1/0;o>a&&(o=s.end.row+1,a=(s=this.session.getNextFoldLine(o,s))?s.start.row:1/0),!(o>n);){var l=this.$lines.createCell(o,e,this.session),c=l.element;this.dom.removeChildren(c),r.setStyle(c.style,"height",this.$lines.computeLineHeight(o,e,this.session)+"px"),r.setStyle(c.style,"top",this.$lines.computeLineTop(o,e,this.session)+"px"),this.$renderLine(c,o,o==a&&s),this.$useLineGroups()?c.className="ace_line_group":c.className="ace_line",i.push(l),o++}return i},this.update=function(e){this.$lines.moveContainer(e),this.config=e;for(var t=e.firstRow,n=e.lastRow,i=this.$lines;i.getLength();)i.pop();i.push(this.$renderLinesFragment(e,t,n))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,t,n,i){for(var r,s=this,a=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,l=this.dom.createFragment(this.element),c=0;r=a.exec(i);){var u=r[1],d=r[2],h=r[3],p=r[4],f=r[5];if(s.showSpaces||!d){var m=c!=r.index?i.slice(c,r.index):"";if(c=r.index+r[0].length,m&&l.appendChild(this.dom.createTextNode(m,this.element)),u){var g=s.session.getScreenTabSize(t+r.index);l.appendChild(s.$tabStrings[g].cloneNode(!0)),t+=g-1}else d?s.showSpaces?((y=this.dom.createElement("span")).className="ace_invisible ace_invisible_space",y.textContent=o.stringRepeat(s.SPACE_CHAR,d.length),l.appendChild(y)):l.appendChild(this.com.createTextNode(d,this.element)):h?((y=this.dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",y.textContent=o.stringRepeat(s.SPACE_CHAR,h.length),l.appendChild(y)):p?(t+=1,(y=this.dom.createElement("span")).style.width=2*s.config.characterWidth+"px",y.className=s.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",y.textContent=s.showSpaces?s.SPACE_CHAR:p,l.appendChild(y)):f&&(t+=1,(y=this.dom.createElement("span")).style.width=2*s.config.characterWidth+"px",y.className="ace_cjk",y.textContent=f,l.appendChild(y))}}if(l.appendChild(this.dom.createTextNode(c?i.slice(c):i,this.element)),this.$textToken[n.type])e.appendChild(l);else{var v="ace_"+n.type.replace(/\./g," ace_"),y=this.dom.createElement("span");"fold"==n.type&&(y.style.width=n.value.length*this.config.characterWidth+"px"),y.className=v,y.appendChild(l),e.appendChild(y)}return t+i.length},this.renderIndentGuide=function(e,t,n){var i=t.search(this.$indentGuideRe);if(i<=0||i>=n)return t;if(" "==t[0]){for(var r=(i-=i%this.tabSize)/this.tabSize,o=0;o<r;o++)e.appendChild(this.$tabStrings[" "].cloneNode(!0));return t.substr(i)}if("\t"==t[0]){for(o=0;o<i;o++)e.appendChild(this.$tabStrings["\t"].cloneNode(!0));return t.substr(i)}return t},this.$createLineElement=function(e){var t=this.dom.createElement("div");return t.className="ace_line",t.style.height=this.config.lineHeight+"px",t},this.$renderWrappedLine=function(e,t,n){var i=0,r=0,s=n[0],a=0,l=this.$createLineElement();e.appendChild(l);for(var c=0;c<t.length;c++){var u=t[c],d=u.value;if(0==c&&this.displayIndentGuides){if(i=d.length,!(d=this.renderIndentGuide(l,d,s)))continue;i-=d.length}if(i+d.length<s)a=this.$renderToken(l,a,u,d),i+=d.length;else{for(;i+d.length>=s;)a=this.$renderToken(l,a,u,d.substring(0,s-i)),d=d.substring(s-i),i=s,l=this.$createLineElement(),e.appendChild(l),l.appendChild(this.dom.createTextNode(o.stringRepeat("",n.indent),this.element)),a=0,s=n[++r]||Number.MAX_VALUE;0!=d.length&&(i+=d.length,a=this.$renderToken(l,a,u,d))}}n[n.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(l,a,null,"",!0)},this.$renderSimpleLine=function(e,t){var n=0,i=t[0],r=i.value;this.displayIndentGuides&&(r=this.renderIndentGuide(e,r)),r&&(n=this.$renderToken(e,n,i,r));for(var o=1;o<t.length;o++){if(n+(r=(i=t[o]).value).length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(e,n,i,r);n=this.$renderToken(e,n,i,r)}},this.$renderOverflowMessage=function(e,t,n,i,r){n&&this.$renderToken(e,t,n,i.slice(0,this.MAX_LINE_LENGTH-t));var o=this.dom.createElement("span");o.className="ace_inline_button ace_keyword ace_toggle_wrap",o.textContent=r?"<hide>":"<click to see more...>",e.appendChild(o)},this.$renderLine=function(e,t,n){if(n||0==n||(n=this.session.getFoldLine(t)),n)var i=this.$getFoldLineTokens(t,n);else i=this.session.getTokens(t);var r=e;if(i.length){var o=this.session.getRowSplitData(t);o&&o.length?(this.$renderWrappedLine(e,i,o),r=e.lastChild):(r=e,this.$useLineGroups()&&(r=this.$createLineElement(),e.appendChild(r)),this.$renderSimpleLine(r,i))}else this.$useLineGroups()&&(r=this.$createLineElement(),e.appendChild(r));if(this.showEOL&&r){n&&(t=n.end.row);var s=this.dom.createElement("span");s.className="ace_invisible ace_invisible_eol",s.textContent=t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,r.appendChild(s)}},this.$getFoldLineTokens=function(e,t){var n=this.session,i=[],r=n.getTokens(e);return t.walk((function(e,t,o,s,a){null!=e?i.push({type:"fold",value:e}):(a&&(r=n.getTokens(t)),r.length&&function(e,t,n){for(var r=0,o=0;o+e[r].value.length<t;)if(o+=e[r].value.length,++r==e.length)return;for(o!=t&&((s=e[r].value.substring(t-o)).length>n-t&&(s=s.substring(0,n-t)),i.push({type:e[r].type,value:s}),o=t+s.length,r+=1);o<n&&r<e.length;){var s;(s=e[r].value).length+o>n?i.push({type:e[r].type,value:s.substring(0,n-o)}):i.push(e[r]),o+=s.length,r+=1}}(r,s,o))}),t.end.row,this.session.getLine(t.end.row).length),i},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){}}).call(l.prototype),t.Text=l})),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("../lib/dom"),r=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),i.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)};(function(){this.$updateOpacity=function(e){for(var t=this.cursors,n=t.length;n--;)i.setStyle(t[n].style,"opacity",e?"":"0")},this.$startCssAnimation=function(){for(var e=this.cursors,t=e.length;t--;)e[t].style.animationDuration=this.blinkInterval+"ms";setTimeout(function(){i.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},this.$stopCssAnimation=function(){i.removeCssClass(this.element,"ace_animate-blinking")},this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e!=this.smoothBlinking&&(this.smoothBlinking=e,i.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.restartTimer())},this.addCursor=function(){var e=i.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,i.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,i.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&i.removeCssClass(this.element,"ace_smooth-blinking"),e(!0),this.isBlinking&&this.blinkInterval&&this.isVisible)if(this.smoothBlinking&&setTimeout(function(){i.addCssClass(this.element,"ace_smooth-blinking")}.bind(this)),i.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var t=function(){this.timeoutId=setTimeout((function(){e(!1)}),.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval((function(){e(!0),t()}),this.blinkInterval),t()}else this.$stopCssAnimation()},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(e);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(n.row,e.row)?this.session.$bidiHandler.getPosLeft(n.column):n.column*this.config.characterWidth),top:(n.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight}},this.isCursorInView=function(e,t){return e.top>=0&&e.top<t.maxHeight},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,n=0,r=0;void 0!==t&&0!==t.length||(t=[{cursor:null}]),n=0;for(var o=t.length;n<o;n++){var s=this.getPixelPosition(t[n].cursor,!0);if(!((s.top>e.height+e.offset||s.top<0)&&n>1)){var a=this.cursors[r++]||this.addCursor(),l=a.style;this.drawCursor?this.drawCursor(a,s,e,t[n],this.session):this.isCursorInView(s,e)?(i.setStyle(l,"display","block"),i.translate(a,s.left,s.top),i.setStyle(l,"width",Math.round(e.characterWidth)+"px"),i.setStyle(l,"height",e.lineHeight+"px")):i.setStyle(l,"display","none")}}for(;this.cursors.length>r;)this.removeCursor();var c=this.session.getOverwrite();this.$setOverwrite(c),this.$pixelPos=s,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?i.addCssClass(this.element,"ace_overwrite-cursors"):i.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(r.prototype),t.Cursor=r})),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/dom"),o=e("./lib/event"),s=e("./lib/event_emitter").EventEmitter,a=32768,l=function(e){this.element=r.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=r.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addListener(this.element,"scroll",this.onScroll.bind(this)),o.addListener(this.element,"mousedown",o.preventDefault)};(function(){i.implement(this,s),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1}}).call(l.prototype);var c=function(e,t){l.call(this,e),this.scrollTop=0,this.scrollHeight=0,t.$scrollbarWidth=this.width=r.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};i.inherits(c,l),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var e=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-e)/(this.coeff-e)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(e){this.element.style.height=e+"px"},this.setInnerHeight=this.setScrollHeight=function(e){this.scrollHeight=e,e>a?(this.coeff=a/e,e=a):1!=this.coeff&&(this.coeff=1),this.inner.style.height=e+"px"},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=e,this.element.scrollTop=e*this.coeff)}}.call(c.prototype);var u=function(e,t){l.call(this,e),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};i.inherits(u,l),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(e){this.element.style.width=e+"px"},this.setInnerWidth=function(e){this.inner.style.width=e+"px"},this.setScrollWidth=function(e){this.inner.style.width=e+"px"},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}.call(u.prototype),t.ScrollBar=c,t.ScrollBarV=c,t.ScrollBarH=u,t.VScrollBar=c,t.HScrollBar=u})),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],(function(e,t,n){"use strict";var i=e("./lib/event"),r=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=t||window;var n=this;this._flush=function(e){n.pending=!1;var t=n.changes;if(t&&(i.blockIdle(100),n.changes=0,n.onRender(t)),n.changes){if(n.$recursionLimit--<0)return;n.schedule()}else n.$recursionLimit=2}};(function(){this.schedule=function(e){this.changes=this.changes|e,this.changes&&!this.pending&&(i.nextFrame(this._flush),this.pending=!0)},this.clear=function(e){var t=this.changes;return this.changes=0,t}}).call(r.prototype),t.RenderLoop=r})),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],(function(e,t,n){var i=e("../lib/oop"),r=e("../lib/dom"),o=e("../lib/lang"),s=e("../lib/event"),a=e("../lib/useragent"),l=e("../lib/event_emitter").EventEmitter,c=256,u="function"==typeof ResizeObserver,d=200,h=t.FontMetrics=function(e){this.el=r.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=r.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=r.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),this.$measureNode.textContent=o.stringRepeat("X",c),this.$characterSize={width:0,height:0},u?this.$addObserver():this.checkForSizeChanges()};(function(){i.implement(this,l),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",a.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},this.checkForSizeChanges=function(e){if(void 0===e&&(e=this.$measureSizes()),e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},this.$addObserver=function(){var e=this;this.$observer=new window.ResizeObserver((function(t){e.checkForSizeChanges()})),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=s.onIdle((function t(){e.checkForSizeChanges(),s.onIdle(t,500)}),500)},this.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(e){var t={height:(e||this.$measureNode).clientHeight,width:(e||this.$measureNode).clientWidth/c};return 0===t.width||0===t.height?null:t},this.$measureCharWidth=function(e){return this.$main.textContent=o.stringRepeat(e,c),this.$main.getBoundingClientRect().width/c},this.getCharacterWidth=function(e){var t=this.charSizes[e];return void 0===t&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},this.$getZoom=function e(t){return t&&t.parentElement?(window.getComputedStyle(t).zoom||1)*e(t.parentElement):1},this.$initTransformMeasureNodes=function(){var e=function(e,t){return["div",{style:"position: absolute;top:"+e+"px;left:"+t+"px;"}]};this.els=r.buildDom([e(0,0),e(d,0),e(0,d),e(d,d)],this.el)},this.transformCoordinates=function(e,t){function n(e,t,n){var i=e[1]*t[0]-e[0]*t[1];return[(-t[1]*n[0]+t[0]*n[1])/i,(+e[1]*n[0]-e[0]*n[1])/i]}function i(e,t){return[e[0]-t[0],e[1]-t[1]]}function r(e,t){return[e[0]+t[0],e[1]+t[1]]}function o(e,t){return[e*t[0],e*t[1]]}function s(e){var t=e.getBoundingClientRect();return[t.left,t.top]}e&&(e=o(1/this.$getZoom(this.el),e)),this.els||this.$initTransformMeasureNodes();var a=s(this.els[0]),l=s(this.els[1]),c=s(this.els[2]),u=s(this.els[3]),h=n(i(u,l),i(u,c),i(r(l,c),r(u,a))),p=o(1+h[0],i(l,a)),f=o(1+h[1],i(c,a));if(t){var m=t,g=h[0]*m[0]/d+h[1]*m[1]/d+1,v=r(o(m[0],p),o(m[1],f));return r(o(1/g/d,v),a)}var y=i(e,a),b=n(i(p,o(h[0],y)),i(f,o(h[1],y)),y);return o(d,b)}}).call(h.prototype)})),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/dom"),o=e("./config"),s=e("./layer/gutter").Gutter,a=e("./layer/marker").Marker,l=e("./layer/text").Text,c=e("./layer/cursor").Cursor,u=e("./scrollbar").HScrollBar,d=e("./scrollbar").VScrollBar,h=e("./renderloop").RenderLoop,p=e("./layer/font_metrics").FontMetrics,f=e("./lib/event_emitter").EventEmitter,m='.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_editor {position: relative;overflow: hidden;padding: 0;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;box-sizing: border-box;min-width: 100%;contain: style size layout;font-variant-ligatures: no-common-ligatures;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;contain: style size layout;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {position: absolute;top: 0;left: 0;right: 0;padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {contain: strict;position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;contain: strict;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: transparent;color: inherit;z-index: 1000;opacity: 1;}.ace_composition_placeholder { color: transparent }.ace_composition_marker { border-bottom: 1px solid;position: absolute;border-radius: 0;margin-top: 1px;}[ace_nocontext=true] {transform: none!important;filter: none!important;clip-path: none!important;mask : none!important;contain: none!important;perspective: none!important;mix-blend-mode: initial!important;z-index: auto;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;height: 1000000px;contain: style size layout;}.ace_text-layer {font: inherit !important;position: absolute;height: 1000000px;width: 1000000px;contain: style size layout;}.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {contain: style size layout;position: absolute;top: 0;left: 0;right: 0;}.ace_hidpi .ace_text-layer,.ace_hidpi .ace_gutter-layer,.ace_hidpi .ace_content,.ace_hidpi .ace_gutter {contain: strict;will-change: transform;}.ace_hidpi .ace_text-layer > .ace_line, .ace_hidpi .ace_text-layer > .ace_line_group {contain: strict;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {opacity: 0;}.ace_smooth-blinking .ace_cursor {transition: opacity 0.18s;}.ace_animate-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: step-end;animation-name: blink-ace-animate;animation-iteration-count: infinite;}.ace_animate-blinking.ace_smooth-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: ease-in-out;animation-name: blink-ace-animate-smooth;}@keyframes blink-ace-animate {from, to { opacity: 1; }60% { opacity: 0; }}@keyframes blink-ace-animate-smooth {from, to { opacity: 1; }45% { opacity: 1; }60% { opacity: 0; }85% { opacity: 0; }}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_error_bracket {position: absolute;border-bottom: 1px solid #DE5555;border-radius: 0;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;box-sizing: border-box;}.ace_line .ace_fold {box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_inline_button {border: 1px solid lightgray;display: inline-block;margin: -1px 8px;padding: 0 5px;pointer-events: auto;cursor: pointer;}.ace_inline_button:hover {border-color: gray;background: rgba(200,200,200,0.2);display: inline-block;pointer-events: auto;}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_mobile-menu {position: absolute;line-height: 1.5;border-radius: 4px;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;background: white;box-shadow: 1px 3px 2px grey;border: 1px solid #dcdcdc;color: black;}.ace_dark > .ace_mobile-menu {background: #333;color: #ccc;box-shadow: 1px 3px 2px grey;border: 1px solid #444;}.ace_mobile-button {padding: 2px;cursor: pointer;overflow: hidden;}.ace_mobile-button:hover {background-color: #eee;opacity:1;}.ace_mobile-button:active {background-color: #ddd;}.ace_placeholder {font-family: arial;transform: scale(0.9);transform-origin: left;white-space: pre;opacity: 0.7;margin: 0 10px;}',g=e("./lib/useragent"),v=g.isIE;r.importCssString(m,"ace_editor.css");var y=function(e,t){var n=this;this.container=e||r.createElement("div"),r.addCssClass(this.container,"ace_editor"),r.HI_DPI&&r.addCssClass(this.container,"ace_hidpi"),this.setTheme(t),this.$gutter=r.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=r.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=r.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new s(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new a(this.content);var i=this.$textLayer=new l(this.content);this.canvas=i.element,this.$markerFront=new a(this.content),this.$cursorLayer=new c(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new d(this.container,this),this.scrollBarH=new u(this.container,this),this.scrollBarV.on("scroll",(function(e){n.$scrollAnimation||n.session.setScrollTop(e.data-n.scrollMargin.top)})),this.scrollBarH.on("scroll",(function(e){n.$scrollAnimation||n.session.setScrollLeft(e.data-n.scrollMargin.left)})),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new p(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",(function(e){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal("changeCharacterSize",e)})),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!g.isIOS,this.$loop=new h(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),o.resetOptions(this),o._signal("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,i.implement(this,f),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),r.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},this.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(e,t,n){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(e,t,n,i){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=e?1:0;var r=this.container;i||(i=r.clientHeight||r.scrollHeight),n||(n=r.clientWidth||r.scrollWidth);var o=this.$updateCachedSize(e,t,n,i);if(!this.$size.scrollerHeight||!n&&!i)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(o|this.$changes,!0):this.$loop.schedule(o|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(e,t,n,i){i-=this.$extraHeight||0;var o=0,s=this.$size,a={width:s.width,height:s.height,scrollerHeight:s.scrollerHeight,scrollerWidth:s.scrollerWidth};if(i&&(e||s.height!=i)&&(s.height=i,o|=this.CHANGE_SIZE,s.scrollerHeight=s.height,this.$horizScroll&&(s.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",o|=this.CHANGE_SCROLL),n&&(e||s.width!=n)){o|=this.CHANGE_SIZE,s.width=n,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,r.setStyle(this.scrollBarH.element.style,"left",t+"px"),r.setStyle(this.scroller.style,"left",t+this.margin.left+"px"),s.scrollerWidth=Math.max(0,n-t-this.scrollBarV.getWidth()-this.margin.h),r.setStyle(this.$gutter.style,"left",this.margin.left+"px");var l=this.scrollBarV.getWidth()+"px";r.setStyle(this.scrollBarH.element.style,"right",l),r.setStyle(this.scroller.style,"right",l),r.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(o|=this.CHANGE_FULL)}return s.$dirty=!n||!i,o&&this._signal("resize",a),o},this.onGutterResize=function(e){var t=this.$showGutter?e:0;t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-2*this.$padding,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption("showInvisibles",e),this.session.$bidiHandler.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},this.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(e){return this.setOption("showGutter",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var e=r.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=r.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var e=this.textarea.style,t=this.$composition;if(this.$keepTextAreaAtCursor||t){var n=this.$cursorLayer.$pixelPos;if(n){t&&t.markerRange&&(n=this.$cursorLayer.getPixelPosition(t.markerRange.start,!0));var i=this.layerConfig,o=n.top,s=n.left;o-=i.offset;var a=t&&t.useTextareaForIME?this.lineHeight:v?0:1;if(o<0||o>i.height-a)r.translate(this.textarea,0,0);else{var l=1,c=this.$size.height-a;if(t)if(t.useTextareaForIME){var u=this.textarea.value;l=this.characterWidth*this.session.$getStringScreenWidth(u)[0]}else o+=this.lineHeight+2;else o+=this.lineHeight;(s-=this.scrollLeft)>this.$size.scrollerWidth-l&&(s=this.$size.scrollerWidth-l),s+=this.gutterWidth+this.margin.left,r.setStyle(e,"height",a+"px"),r.setStyle(e,"width",l+"px"),r.translate(this.textarea,Math.min(s,this.$size.scrollerWidth-l),Math.min(o,c))}}}else r.translate(this.textarea,-100,0)}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var e=this.layerConfig,t=e.lastRow;return this.session.documentToScreenRow(t,0)*e.lineHeight-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(e,t,n,i){var r=this.scrollMargin;r.top=0|e,r.bottom=0|t,r.right=0|i,r.left=0|n,r.v=r.top+r.bottom,r.h=r.left+r.right,r.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-r.top),this.updateFull()},this.setMargin=function(e,t,n,i){var r=this.margin;r.top=0|e,r.bottom=0|t,r.right=0|i,r.left=0|n,r.v=r.top+r.bottom,r.h=r.left+r.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(e||t)){if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",e),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var n=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){if(e|=this.$computeLayerConfig()|this.$loop.clear(),n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var i=this.scrollTop+(n.firstRow-this.layerConfig.firstRow)*this.lineHeight;i>0&&(this.scrollTop=i,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig()|this.$loop.clear())}n=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),r.translate(this.content,-this.scrollLeft,-n.offset);var o=n.width+2*this.$padding+"px",s=n.minHeight+"px";r.setStyle(this.content.style,"width",o),r.setStyle(this.content.style,"height",s)}if(e&this.CHANGE_H_SCROLL&&(r.translate(this.content,-this.scrollLeft,-n.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),e&this.CHANGE_FULL)return this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),void this._signal("afterRender",e);if(e&this.CHANGE_SCROLL)return this.$changedLines=null,e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&(e&this.CHANGE_GUTTER||e&this.CHANGE_LINES?this.$gutterLayer.update(n):this.$gutterLayer.scrollLines(n)),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),void this._signal("afterRender",e);e&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n)):e&this.CHANGE_LINES?(this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n):e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER?this.$showGutter&&this.$gutterLayer.update(n):e&this.CHANGE_CURSOR&&this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(n),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),this._signal("afterRender",e)}else this.$changes|=e},this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,n=Math.min(t,Math.max((this.$minLines||1)*this.lineHeight,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(n+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);var i=!(n<=2*this.lineHeight)&&e>t;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||i!=this.$vScroll){i!=this.$vScroll&&(this.$vScroll=i,this.scrollBarV.setVisible(i));var r=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,r,n),this.desiredHeight=n,this._signal("autosize")}},this.$computeLayerConfig=function(){var e=this.session,t=this.$size,n=t.height<=2*this.lineHeight,i=this.session.getScreenLength()*this.lineHeight,r=this.$getLongestLine(),o=!n&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-r-2*this.$padding<0),s=this.$horizScroll!==o;s&&(this.$horizScroll=o,this.scrollBarH.setVisible(o));var a=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var l=t.scrollerHeight+this.lineHeight,c=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;i+=c;var u=this.scrollMargin;this.session.setScrollTop(Math.max(-u.top,Math.min(this.scrollTop,i-t.scrollerHeight+u.bottom))),this.session.setScrollLeft(Math.max(-u.left,Math.min(this.scrollLeft,r+2*this.$padding-t.scrollerWidth+u.right)));var d=!n&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-i+c<0||this.scrollTop>u.top),h=a!==d;h&&(this.$vScroll=d,this.scrollBarV.setVisible(d));var p,f,m=this.scrollTop%this.lineHeight,g=Math.ceil(l/this.lineHeight)-1,v=Math.max(0,Math.round((this.scrollTop-m)/this.lineHeight)),y=v+g,b=this.lineHeight;v=e.screenToDocumentRow(v,0);var w=e.getFoldLine(v);w&&(v=w.start.row),p=e.documentToScreenRow(v,0),f=e.getRowLength(v)*b,y=Math.min(e.screenToDocumentRow(y,0),e.getLength()-1),l=t.scrollerHeight+e.getRowLength(y)*b+f,m=this.scrollTop-p*b;var _=0;return(this.layerConfig.width!=r||s)&&(_=this.CHANGE_H_SCROLL),(s||h)&&(_|=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),h&&(r=this.$getLongestLine())),this.layerConfig={width:r,padding:this.$padding,firstRow:v,firstRowScreen:p,lastRow:y,lineHeight:b,characterWidth:this.characterWidth,minHeight:l,maxHeight:i,offset:m,gutterOffset:b?Math.max(0,Math.ceil((m+t.height-t.scrollerHeight)/b)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(r-this.$padding),_},this.$updateLines=function(){if(this.$changedLines){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(!(e>n.lastRow+1||t<n.firstRow))return t===1/0?(this.$showGutter&&this.$gutterLayer.update(n),void this.$textLayer.update(n)):(this.$textLayer.updateLines(n,e,t),!0)}},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),this.$textLayer&&e>this.$textLayer.MAX_LINE_LENGTH&&(e=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(e){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,n){this.scrollCursorIntoView(e,n),this.scrollCursorIntoView(t,n)},this.scrollCursorIntoView=function(e,t,n){if(0!==this.$size.scrollerHeight){var i=this.$cursorLayer.getPixelPosition(e),r=i.left,o=i.top,s=n&&n.top||0,a=n&&n.bottom||0,l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;l+s>o?(t&&l+s>o+this.lineHeight&&(o-=t*this.$size.scrollerHeight),0===o&&(o=-this.scrollMargin.top),this.session.setScrollTop(o)):l+this.$size.scrollerHeight-a<o+this.lineHeight&&(t&&l+this.$size.scrollerHeight-a<o-this.lineHeight&&(o+=t*this.$size.scrollerHeight),this.session.setScrollTop(o+this.lineHeight+a-this.$size.scrollerHeight));var c=this.scrollLeft;c>r?(r<this.$padding+2*this.layerConfig.characterWidth&&(r=-this.scrollMargin.left),this.session.setScrollLeft(r)):c+this.$size.scrollerWidth<r+this.characterWidth?this.session.setScrollLeft(Math.round(r+this.characterWidth-this.$size.scrollerWidth)):c<=this.$padding&&r-c<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var n=this.$cursorLayer.getPixelPosition(e),i=this.$size.scrollerHeight-this.lineHeight,r=n.top-i*(t||0);return this.session.setScrollTop(r),r},this.STEPS=8,this.$calcSteps=function(e,t){var n,i,r=0,o=this.STEPS,s=[];for(r=0;r<o;++r)s.push((n=r/this.STEPS,i=e,(t-e)*(Math.pow(n-1,3)+1)+i));return s},this.scrollToLine=function(e,t,n,i){var r=this.$cursorLayer.getPixelPosition({row:e,column:0}).top;t&&(r-=this.$size.scrollerHeight/2);var o=this.scrollTop;this.session.setScrollTop(r),!1!==n&&this.animateScrolling(o,i)},this.animateScrolling=function(e,t){var n=this.scrollTop;if(this.$animatedScroll){var i=this;if(e!=n){if(this.$scrollAnimation){var r=this.$scrollAnimation.steps;if(r.length&&(e=r[0])==n)return}var o=i.$calcSteps(e,n);this.$scrollAnimation={from:e,to:n,steps:o},clearInterval(this.$timer),i.session.setScrollTop(o.shift()),i.session.$scrollTop=n,this.$timer=setInterval((function(){if(!i.session)return clearInterval(i.$timer);o.length?(i.session.setScrollTop(o.shift()),i.session.$scrollTop=n):null!=n?(i.session.$scrollTop=-1,i.session.setScrollTop(n),n=null):(i.$timer=clearInterval(i.$timer),i.$scrollAnimation=null,t&&t())}),10)}}},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(t)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0},this.pixelToScreenCoordinates=function(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var i=this.$fontMetrics.transformCoordinates([e,t]);e=i[1]-this.gutterWidth-this.margin.left,t=i[0]}else n=this.scroller.getBoundingClientRect();var r=e+this.scrollLeft-n.left-this.$padding,o=r/this.characterWidth,s=Math.floor((t+this.scrollTop-n.top)/this.lineHeight),a=this.$blockCursor?Math.floor(o):Math.round(o);return{row:s,column:a,side:o-a>0?1:-1,offsetX:r}},this.screenToTextCoordinates=function(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var i=this.$fontMetrics.transformCoordinates([e,t]);e=i[1]-this.gutterWidth-this.margin.left,t=i[0]}else n=this.scroller.getBoundingClientRect();var r=e+this.scrollLeft-n.left-this.$padding,o=r/this.characterWidth,s=this.$blockCursor?Math.floor(o):Math.round(o),a=Math.floor((t+this.scrollTop-n.top)/this.lineHeight);return this.session.screenToDocumentPosition(a,Math.max(s,0),r)},this.textToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),i=this.session.documentToScreenPosition(e,t),r=this.$padding+(this.session.$bidiHandler.isBidiRow(i.row,e)?this.session.$bidiHandler.getPosLeft(i.column):Math.round(i.column*this.characterWidth)),o=i.row*this.lineHeight;return{pageX:n.left+r-this.scrollLeft,pageY:n.top+o-this.scrollTop}},this.visualizeFocus=function(){r.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){r.removeCssClass(this.container,"ace_focus")},this.showComposition=function(e){this.$composition=e,e.cssText||(e.cssText=this.textarea.style.cssText),null==e.useTextareaForIME&&(e.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(r.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):e.markerId=this.session.addMarker(e.markerRange,"ace_composition_marker","text")},this.setCompositionText=function(e){var t=this.session.selection.cursor;this.addToken(e,"composition_placeholder",t.row,t.column),this.$moveTextAreaToCursor()},this.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),r.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var e=this.session.selection.cursor;this.removeExtraToken(e.row,e.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},this.addToken=function(e,t,n,i){var r=this.session;r.bgTokenizer.lines[n]=null;var o={type:t,value:e},s=r.getTokens(n);if(null==i)s.push(o);else for(var a=0,l=0;l<s.length;l++){var c=s[l];if(i<=(a+=c.value.length)){var u=c.value.length-(a-i),d=c.value.slice(0,u),h=c.value.slice(u);s.splice(l,1,{type:c.type,value:d},o,{type:c.type,value:h});break}}this.updateLines(n,n)},this.removeExtraToken=function(e,t){this.updateLines(e,e)},this.setTheme=function(e,t){var n=this;if(this.$themeId=e,n._dispatchEvent("themeChange",{theme:e}),e&&"string"!=typeof e)s(e);else{var i=e||this.$options.theme.initialValue;o.loadModule(["theme",i],s)}function s(i){if(n.$themeId!=e)return t&&t();if(!i||!i.cssClass)throw new Error("couldn't load module "+e+" or it didn't call define");i.$id&&(n.$themeId=i.$id),r.importCssString(i.cssText,i.cssClass,n.container),n.theme&&r.removeCssClass(n.container,n.theme.cssClass);var o="padding"in i?i.padding:"padding"in(n.theme||{})?4:n.$padding;n.$padding&&o!=n.$padding&&n.setPadding(o),n.$theme=i.cssClass,n.theme=i,r.addCssClass(n.container,i.cssClass),r.setCssClass(n.container,"ace_dark",i.isDark),n.$size&&(n.$size.width=0,n.$updateSizeAsync()),n._dispatchEvent("themeLoaded",{theme:i}),t&&t()}},this.getTheme=function(){return this.$themeId},this.setStyle=function(e,t){r.setCssClass(this.container,e,!1!==t)},this.unsetStyle=function(e){r.removeCssClass(this.container,e)},this.setCursorStyle=function(e){r.setStyle(this.scroller.style,"cursor",e)},this.setMouseCursor=function(e){r.setStyle(this.scroller.style,"cursor",e)},this.attachToShadowRoot=function(){r.importCssString(m,"ace_editor.css",this.container)},this.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent=""}}).call(y.prototype),o.defineOptions(y.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(e){r.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(e){this.$gutterLayer.setHighlightGutterLine(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(e){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(e){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(e){e=+e||0,this.$scrollPastEnd!=e&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!g.isMobile&&!g.isIE}}),t.VirtualRenderer=y})),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("../lib/net"),o=e("../lib/event_emitter").EventEmitter,s=e("../config");function a(e){if("undefined"==typeof Worker)return{postMessage:function(){},terminate:function(){}};if(s.get("loadWorkerFromBlob")){var t=function(e){var t="importScripts('"+r.qualifyURL(e)+"');";try{return new Blob([t],{type:"application/javascript"})}catch(e){var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return n.append(t),n.getBlob("application/javascript")}}(e),n=(window.URL||window.webkitURL).createObjectURL(t);return new Worker(n)}return new Worker(e)}var l=function(e){e.postMessage||(e=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=e,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){i.implement(this,o),this.$createWorkerFromOldConfig=function(t,n,i,r,o){if(e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),s.get("packaged")||!e.toUrl)r=r||s.moduleUrl(n,"worker");else{var l=this.$normalizePath;r=r||l(e.toUrl("ace/worker/worker.js",null,"_"));var c={};t.forEach((function(t){c[t]=l(e.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))}))}return this.$worker=a(r),o&&this.send("importScripts",o),this.$worker.postMessage({init:!0,tlns:c,module:n,classname:i}),this.$worker},this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":var n=this.callbacks[t.id];n&&(n(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return r.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,n){if(n){var i=this.callbackId++;this.callbacks[i]=n,t.push(i)}this.send(e,t)},this.emit=function(e,t){try{t.data&&t.data.err&&(t.data.err={message:t.data.err.message,stack:t.data.err.stack,code:t.data.err.code}),this.$worker.postMessage({event:e,data:{data:t.data}})}catch(e){console.error(e.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener)},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==e.action?this.deltaQueue.push(e.start,e.lines):this.deltaQueue.push(e.start,e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,e.length>50&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))}}).call(l.prototype),t.UIWorkerClient=function(e,t,n){var i=null,r=!1,a=Object.create(o),c=[],u=new l({messageBuffer:c,terminate:function(){},postMessage:function(e){c.push(e),i&&(r?setTimeout(d):d())}});u.setEmitSync=function(e){r=e};var d=function(){var e=c.shift();e.command?i[e.command].apply(i,e.args):e.event&&a._signal(e.event,e.data)};return a.postMessage=function(e){u.onMessage({data:e})},a.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},a.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},s.loadModule(["worker",t],(function(e){for(i=new e[n](a);c.length;)d()})),u},t.WorkerClient=l,t.createWorker=a})),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],(function(e,t,n){"use strict";var i=e("./range").Range,r=e("./lib/event_emitter").EventEmitter,o=e("./lib/oop"),s=function(e,t,n,i,r,o){var s=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=r,this.othersClass=o,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=i,this.$onCursorChange=function(){setTimeout((function(){s.onCursorChange()}))},this.$pos=n;var a=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)};(function(){o.implement(this,r),this.setup=function(){var e=this,t=this.doc,n=this.session;this.selectionBefore=n.selection.toJSON(),n.selection.inMultiSelectMode&&n.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var r=this.pos;r.$insertRight=!0,r.detach(),r.markerId=n.addMarker(new i(r.row,r.column,r.row,r.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach((function(n){var i=t.createAnchor(n.row,n.column);i.$insertRight=!0,i.detach(),e.others.push(i)})),n.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var e=this.session,t=this;this.othersActive=!0,this.others.forEach((function(n){n.markerId=e.addMarker(new i(n.row,n.column,n.row,n.column+t.length),t.othersClass,null,!1)}))}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}},this.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var n="insert"===e.action?t.end.column-t.start.column:t.start.column-t.end.column,r=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,o=t.start.column-this.pos.column;if(this.updateAnchors(e),r&&(this.length+=n),r&&!this.session.$fromUndo)if("insert"===e.action)for(var s=this.others.length-1;s>=0;s--){var a={row:(l=this.others[s]).row,column:l.column+o};this.doc.insertMergedLines(a,e.lines)}else if("remove"===e.action)for(s=this.others.length-1;s>=0;s--){var l;a={row:(l=this.others[s]).row,column:l.column+o},this.doc.remove(new i(a.row,a.column,a.row,a.column-n))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var e=this,t=this.session,n=function(n,r){t.removeMarker(n.markerId),n.markerId=t.addMarker(new i(n.row,n.column,n.row,n.column+e.length),r,null,!1)};n(this.pos,this.mainClass);for(var r=this.others.length;r--;)n(this.others[r],this.othersClass)}},this.onCursorChange=function(e){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,n=0;n<t;n++)e.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(s.prototype),t.PlaceHolder=s})),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(e,t,n){var i=e("../lib/event"),r=e("../lib/useragent");function o(e,t){return e.row==t.row&&e.column==t.column}t.onMouseDown=function(e){var t=e.domEvent,n=t.altKey,s=t.shiftKey,a=t.ctrlKey,l=e.getAccelKey(),c=e.getButton();if(a&&r.isMac&&(c=t.button),e.editor.inMultiSelectMode&&2==c)e.editor.textInput.onContextMenu(e.domEvent);else if(a||n||l){if(0===c){var u,d=e.editor,h=d.selection,p=d.inMultiSelectMode,f=e.getDocumentPosition(),m=h.getCursor(),g=e.inSelection()||h.isEmpty()&&o(f,m),v=e.x,y=e.y,b=d.session,w=d.renderer.pixelToScreenCoordinates(v,y),_=w;if(d.$mouseHandler.$enableJumpToDef)a&&n||l&&n?u=s?"block":"add":n&&d.$blockSelectEnabled&&(u="block");else if(l&&!n){if(u="add",!p&&s)return}else n&&d.$blockSelectEnabled&&(u="block");if(u&&r.isMac&&t.ctrlKey&&d.$mouseHandler.cancelContextMenu(),"add"==u){if(!p&&g)return;if(!p){var x=h.toOrientedRange();d.addSelectionMarker(x)}var k=h.rangeList.rangeAtPoint(f);d.inVirtualSelectionMode=!0,s&&(k=null,x=h.ranges[0]||x,d.removeSelectionMarker(x)),d.once("mouseup",(function(){var e=h.toOrientedRange();k&&e.isEmpty()&&o(k.cursor,e.cursor)?h.substractPoint(e.cursor):(s?h.substractPoint(x.cursor):x&&(d.removeSelectionMarker(x),h.addRange(x)),h.addRange(e)),d.inVirtualSelectionMode=!1}))}else if("block"==u){var C;e.stop(),d.inVirtualSelectionMode=!0;var S=[],A=function(){var e=d.renderer.pixelToScreenCoordinates(v,y),t=b.screenToDocumentPosition(e.row,e.column,e.offsetX);o(_,e)&&o(t,h.lead)||(_=e,d.selection.moveToPosition(t),d.renderer.scrollCursorIntoView(),d.removeSelectionMarkers(S),S=h.rectangularRangeBlock(_,w),d.$mouseHandler.$clickSelection&&1==S.length&&S[0].isEmpty()&&(S[0]=d.$mouseHandler.$clickSelection.clone()),S.forEach(d.addSelectionMarker,d),d.updateSelectionMarkers())};p&&!l?h.toSingleRange():!p&&l&&(C=h.toOrientedRange(),d.addSelectionMarker(C)),s?w=b.documentToScreenPosition(h.lead):h.moveToPosition(f),_={row:-1,column:-1};var D=A;i.capture(d.container,(function(e){v=e.clientX,y=e.clientY}),(function(e){A(),clearInterval(O),d.removeSelectionMarkers(S),S.length||(S=[h.toOrientedRange()]),C&&(d.removeSelectionMarker(C),h.toSingleRange(C));for(var t=0;t<S.length;t++)h.addRange(S[t]);d.inVirtualSelectionMode=!1,d.$mouseHandler.$clickSelection=null}));var O=setInterval((function(){D()}),20);return e.preventDefault()}}}else 0===c&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode()}})),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],(function(e,t,n){t.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split into lines",exec:function(e){e.multiSelect.rangeCount>1?e.multiSelect.joinSelections():e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(e){e.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],t.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var i=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new i(t.multiSelectCommands)})),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],(function(e,t,n){var i=e("./range_list").RangeList,r=e("./range").Range,o=e("./selection").Selection,s=e("./mouse/multi_select_handler").onMouseDown,a=e("./lib/event"),l=e("./lib/lang"),c=e("./commands/multi_select_commands");t.commands=c.defaultCommands.concat(c.multiSelectCommands);var u=new(0,e("./search").Search),d=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(d.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}e.cursor||(e.cursor=e.end);var i=this.rangeList.add(e);return this.$onAddRange(e),i.length&&this.$onRemoveRange(i),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length&&this.$onRemoveRange(e)},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var n=e.length;n--;){var i=this.ranges.indexOf(e[n]);this.ranges.splice(i,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(t=t||this.ranges[0])&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new i,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var e=this.ranges.length?this.ranges:[this.getRange()],t=[],n=0;n<e.length;n++){var i=e[n],o=i.start.row,s=i.end.row;if(o===s)t.push(i.clone());else{for(t.push(new r(o,i.start.column,o,this.session.getLine(o).length));++o<s;)t.push(this.getLineRange(o,!0));t.push(new r(s,0,s,i.end.column))}0!=n||this.isBackwards()||(t=t.reverse())}for(this.toSingleRange(),n=t.length;n--;)this.addRange(t[n])},this.joinSelections=function(){var e=this.rangeList.ranges,t=e[e.length-1],n=r.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=r.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var i=this.session.documentToScreenPosition(this.cursor),o=this.session.documentToScreenPosition(this.anchor);this.rectangularRangeBlock(i,o).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,n){var i=[],o=e.column<t.column;if(o)var s=e.column,a=t.column,l=e.offsetX,c=t.offsetX;else s=t.column,a=e.column,l=t.offsetX,c=e.offsetX;var u,d,h,p=e.row<t.row;if(p)var f=e.row,m=t.row;else f=t.row,m=e.row;s<0&&(s=0),f<0&&(f=0),f==m&&(n=!0);for(var g=f;g<=m;g++){var v=r.fromPoints(this.session.screenToDocumentPosition(g,s,l),this.session.screenToDocumentPosition(g,a,c));if(v.isEmpty()){if(u&&(h=u,(d=v.end).row==h.row&&d.column==h.column))break;u=v.end}v.cursor=o?v.start:v.end,i.push(v)}if(p&&i.reverse(),!n){for(var y=i.length-1;i[y].isEmpty()&&y>0;)y--;if(y>0)for(var b=0;i[b].isEmpty();)b++;for(var w=y;w>=b;w--)i[w].isEmpty()&&i.splice(w,1)}return i}}.call(o.prototype);var h=e("./editor").Editor;function p(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",s),e.commands.addCommands(c.defaultCommands),function(e){if(e.textInput){var t=e.textInput.getElement(),n=!1;a.addListener(t,"keydown",(function(t){var r=18==t.keyCode&&!(t.ctrlKey||t.shiftKey||t.metaKey);e.$blockSelectEnabled&&r?n||(e.renderer.setMouseCursor("crosshair"),n=!0):n&&i()}),e),a.addListener(t,"keyup",i,e),a.addListener(t,"blur",i,e)}function i(t){n&&(e.renderer.setMouseCursor(""),n=!1)}}(e))}(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);-1!=t&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,n=e.length;n--;){var i=e[n];if(i.marker){this.session.removeMarker(i.marker);var r=t.indexOf(i);-1!=r&&t.splice(r,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(c.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(c.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t=e.command,n=e.editor;if(n.multiSelect){if(t.multiSelectAction)"forEach"==t.multiSelectAction?i=n.forEachSelection(t,e.args):"forEachLine"==t.multiSelectAction?i=n.forEachSelection(t,e.args,!0):"single"==t.multiSelectAction?(n.exitMultiSelectMode(),i=t.exec(n,e.args||{})):i=t.multiSelectAction(n,e.args||{});else{var i=t.exec(n,e.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}return i}},this.forEachSelection=function(e,t,n){if(!this.inVirtualSelectionMode){var i,r=n&&n.keepOrder,s=1==n||n&&n.$byLines,a=this.session,l=this.selection,c=l.rangeList,u=(r?l:c).ranges;if(!u.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var d=l._eventRegistry;l._eventRegistry={};var h=new o(a);this.inVirtualSelectionMode=!0;for(var p=u.length;p--;){if(s)for(;p>0&&u[p].start.row==u[p-1].end.row;)p--;h.fromOrientedRange(u[p]),h.index=p,this.selection=a.selection=h;var f=e.exec?e.exec(this,t||{}):e(this,t||{});i||void 0===f||(i=f),h.toOrientedRange(u[p])}h.detach(),this.selection=a.selection=l,this.inVirtualSelectionMode=!1,l._eventRegistry=d,l.mergeOverlappingRanges(),l.ranges[0]&&l.fromOrientedRange(l.ranges[0]);var m=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),m&&m.from==m.to&&this.renderer.animateScrolling(m.from),i}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,n=[],i=0;i<t.length;i++)n.push(this.session.getTextRange(t[i]));var r=this.session.getDocument().getNewLineCharacter();(e=n.join(r)).length==(n.length-1)*r.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var i=t==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;i.row!=t.row||this.session.$clipPositionToDocument(i.row,i.column).column!=t.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(e,t,n){if((t=t||{}).needle=e||t.needle,null==t.needle){var i=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(i)}this.$search.set(t);var r=this.$search.findAll(this.session);if(!r.length)return 0;var o=this.multiSelect;n||o.toSingleRange(r[0]);for(var s=r.length;s--;)o.addRange(r[s],!0);return i&&o.rangeList.rangeAtPoint(i.start)&&o.addRange(i,!0),r.length},this.selectMoreLines=function(e,t){var n=this.selection.toOrientedRange(),i=n.cursor==n.end,o=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(o.column=this.selection.$desiredColumn);var s,a=this.session.screenToDocumentPosition(o.row+e,o.column);if(n.isEmpty())c=a;else var l=this.session.documentToScreenPosition(i?n.end:n.start),c=this.session.screenToDocumentPosition(l.row+e,l.column);if(i?(s=r.fromPoints(a,c)).cursor=s.start:(s=r.fromPoints(c,a)).cursor=s.end,s.desiredColumn=o.column,this.selection.inMultiSelectMode){if(t)var u=n.cursor}else this.selection.addRange(n);this.selection.addRange(s),u&&this.selection.substractPoint(u)},this.transposeSelections=function(e){for(var t=this.session,n=t.multiSelect,i=n.ranges,r=i.length;r--;)if((a=i[r]).isEmpty()){var o=t.getWordRange(a.start.row,a.start.column);a.start.row=o.start.row,a.start.column=o.start.column,a.end.row=o.end.row,a.end.column=o.end.column}n.mergeOverlappingRanges();var s=[];for(r=i.length;r--;){var a=i[r];s.unshift(t.getTextRange(a))}for(e<0?s.unshift(s.pop()):s.push(s.shift()),r=i.length;r--;)o=(a=i[r]).clone(),t.replace(a,s[r]),a.start.row=o.start.row,a.start.column=o.start.column;n.fromOrientedRange(n.ranges[0])},this.selectMore=function(e,t,n){var i=this.session,r=i.multiSelect.toOrientedRange();if(!r.isEmpty()||((r=i.getWordRange(r.start.row,r.start.column)).cursor=-1==e?r.start:r.end,this.multiSelect.addRange(r),!n)){var o=i.getTextRange(r),s=function(e,t,n){return u.$options.wrap=!0,u.$options.needle=t,u.$options.backwards=-1==n,u.find(e)}(i,o,e);s&&(s.cursor=-1==e?s.start:s.end,this.session.unfold(s),this.multiSelect.addRange(s),this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(r.cursor)}},this.alignCursors=function(){var e=this.session,t=e.multiSelect,n=t.ranges,i=-1,o=n.filter((function(e){if(e.cursor.row==i)return!0;i=e.cursor.row}));if(n.length&&o.length!=n.length-1){o.forEach((function(e){t.substractPoint(e.cursor)}));var s=0,a=1/0,c=n.map((function(t){var n=t.cursor,i=e.getLine(n.row).substr(n.column).search(/\S/g);return-1==i&&(i=0),n.column>s&&(s=n.column),i<a&&(a=i),i}));n.forEach((function(t,n){var i=t.cursor,o=s-i.column,u=c[n]-a;o>u?e.insert(i,l.stringRepeat(" ",o-u)):e.remove(new r(i.row,i.column,i.row,i.column-o+u)),t.start.column=t.end.column=s,t.start.row=t.end.row=i.row,t.cursor=t.end})),t.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var u=this.selection.getRange(),d=u.start.row,h=u.end.row,p=d==h;if(p){var f,m=this.session.getLength();do{f=this.session.getLine(h)}while(/[=:]/.test(f)&&++h<m);do{f=this.session.getLine(d)}while(/[=:]/.test(f)&&--d>0);d<0&&(d=0),h>=m&&(h=m-1)}var g=this.session.removeFullLines(d,h);g=this.$reAlignText(g,p),this.session.insert({row:d,column:0},g.join("\n")+"\n"),p||(u.start.column=0,u.end.column=g[g.length-1].length),this.selection.setRange(u)}},this.$reAlignText=function(e,t){var n,i,r,o=!0,s=!0;return e.map((function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?null==n?(n=t[1].length,i=t[2].length,r=t[3].length,t):(n+i+r!=t[1].length+t[2].length+t[3].length&&(s=!1),n!=t[1].length&&(o=!1),n>t[1].length&&(n=t[1].length),i<t[2].length&&(i=t[2].length),r>t[3].length&&(r=t[3].length),t):[e]})).map(t?c:o?s?function(e){return e[2]?a(n+i-e[2].length)+e[2]+a(r)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}:c:function(e){return e[2]?a(n)+e[2]+a(r)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]});function a(e){return l.stringRepeat(" ",e)}function c(e){return e[2]?a(n)+e[2]+a(i-e[2].length+r)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}}}).call(h.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var n=e.oldSession;n&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=p,e("./config").defineOptions(h.prototype,"editor",{enableMultiselect:{set:function(e){p(this),e?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",s)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",s))},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})})),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("../../range").Range,r=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,n){var i=e.getLine(n);return this.foldingStartMarker.test(i)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(i)?"end":""},this.getFoldWidgetRange=function(e,t,n){return null},this.indentationBlock=function(e,t,n){var r=/\S/,o=e.getLine(t),s=o.search(r);if(-1!=s){for(var a=n||o.length,l=e.getLength(),c=t,u=t;++t<l;){var d=e.getLine(t).search(r);if(-1!=d){if(d<=s){var h=e.getTokenAt(t,0);if(!h||"string"!==h.type)break}u=t}}if(u>c){var p=e.getLine(u).length;return new i(c,a,u,p)}}},this.openingBracketBlock=function(e,t,n,r,o){var s={row:n,column:r+1},a=e.$findClosingBracket(t,s,o);if(a){var l=e.foldWidgets[a.row];return null==l&&(l=e.getFoldWidget(a.row)),"start"==l&&a.row>s.row&&(a.row--,a.column=e.getLine(a.row).length),i.fromPoints(s,a)}},this.closingBracketBlock=function(e,t,n,r,o){var s={row:n,column:r},a=e.$findOpeningBracket(t,s);if(a)return a.column++,s.column--,i.fromPoints(a,s)}}).call(r.prototype)})),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',t.$id="ace/theme/textmate",e("../lib/dom").importCssString(t.cssText,t.cssClass)})),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("./lib/dom");function r(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}(function(){this.getRowLength=function(e){var t;return t=this.lineWidgets&&this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0,this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach((function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)})),e},this.$onChangeEditor=function(e){this.attach(e.editor)},this.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(e){var t=this.editor;if(t){this.editor=null,t.widgetManager=null,t.renderer.off("beforeRender",this.measureWidgets),t.renderer.off("afterRender",this.renderWidgets);var n=this.session.lineWidgets;n&&n.forEach((function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))}))}},this.updateOnFold=function(e,t){var n=t.lineWidgets;if(n&&e.action){for(var i=e.data,r=i.start.row,o=i.end.row,s="add"==e.action,a=r+1;a<o;a++)n[a]&&(n[a].hidden=s);n[o]&&(s?n[r]?n[o].hidden=s:n[r]=n[o]:(n[r]==n[o]&&(n[r]=void 0),n[o].hidden=s))}},this.updateOnChange=function(e){var t=this.session.lineWidgets;if(t){var n=e.start.row,i=e.end.row-n;if(0===i);else if("remove"==e.action){var r=t.splice(n+1,i);!t[n]&&r[r.length-1]&&(t[n]=r.pop()),r.forEach((function(e){e&&this.removeLineWidget(e)}),this),this.$updateRows()}else{var o=new Array(i);t[n]&&null!=t[n].column&&e.start.column>t[n].column&&n++,o.unshift(n,0),t.splice.apply(t,o),this.$updateRows()}}},this.$updateRows=function(){var e=this.session.lineWidgets;if(e){var t=!0;e.forEach((function(e,n){if(e)for(t=!1,e.row=n;e.$oldWidget;)e.$oldWidget.row=n,e=e.$oldWidget})),t&&(this.session.lineWidgets=null)}},this.$registerLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];return t&&(e.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[e.row]=e,e},this.addLineWidget=function(e){if(this.$registerLineWidget(e),e.session=this.session,!this.editor)return e;var t=this.editor.renderer;e.html&&!e.el&&(e.el=i.createElement("div"),e.el.innerHTML=e.html),e.el&&(i.addCssClass(e.el,"ace_lineWidgetContainer"),e.el.style.position="absolute",e.el.style.zIndex=5,t.container.appendChild(e.el),e._inDocument=!0,e.coverGutter||(e.el.style.zIndex=3),null==e.pixelHeight&&(e.pixelHeight=e.el.offsetHeight)),null==e.rowCount&&(e.rowCount=e.pixelHeight/t.layerConfig.lineHeight);var n=this.session.getFoldAt(e.row,0);if(e.$fold=n,n){var r=this.session.lineWidgets;e.row!=n.end.row||r[n.start.row]?e.hidden=!0:r[n.start.row]=e}return this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,t),this.onWidgetChanged(e),e},this.removeLineWidget=function(e){if(e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(e){}if(this.session.lineWidgets){var t=this.session.lineWidgets[e.row];if(t==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else for(;t;){if(t.$oldWidget==e){t.$oldWidget=e.$oldWidget;break}t=t.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(e){for(var t=this.session.lineWidgets,n=t&&t[e],i=[];n;)i.push(n),n=n.$oldWidget;return i},this.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,t){var n=this.session._changedWidgets,i=t.layerConfig;if(n&&n.length){for(var r=1/0,o=0;o<n.length;o++){var s=n[o];if(s&&s.el&&s.session==this.session){if(!s._inDocument){if(this.session.lineWidgets[s.row]!=s)continue;s._inDocument=!0,t.container.appendChild(s.el)}s.h=s.el.offsetHeight,s.fixedWidth||(s.w=s.el.offsetWidth,s.screenWidth=Math.ceil(s.w/i.characterWidth));var a=s.h/i.lineHeight;s.coverLine&&(a-=this.session.getRowLineCount(s.row))<0&&(a=0),s.rowCount!=a&&(s.rowCount=a,s.row<r&&(r=s.row))}}r!=1/0&&(this.session._emit("changeFold",{data:{start:{row:r}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(e,t){var n=t.layerConfig,i=this.session.lineWidgets;if(i){for(var r=Math.min(this.firstRow,n.firstRow),o=Math.max(this.lastRow,n.lastRow,i.length);r>0&&!i[r];)r--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,t.$cursorLayer.config=n;for(var s=r;s<=o;s++){var a=i[s];if(a&&a.el)if(a.hidden)a.el.style.top=-100-(a.pixelHeight||0)+"px";else{a._inDocument||(a._inDocument=!0,t.container.appendChild(a.el));var l=t.$cursorLayer.getPixelPosition({row:s,column:0},!0).top;a.coverLine||(l+=n.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=l-n.offset+"px";var c=a.coverGutter?0:t.gutterWidth;a.fixedWidth||(c-=t.scrollLeft),a.el.style.left=c+"px",a.fullWidth&&a.screenWidth&&(a.el.style.minWidth=n.width+2*n.padding+"px"),a.fixedWidth?a.el.style.right=t.scrollBar.getWidth()+"px":a.el.style.right=""}}}}}).call(r.prototype),t.LineWidgets=r})),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],(function(e,t,n){"use strict";var i=e("../line_widgets").LineWidgets,r=e("../lib/dom"),o=e("../range").Range;t.showErrorMarker=function(e,t){var n=e.session;n.widgetManager||(n.widgetManager=new i(n),n.widgetManager.attach(e));var s=e.getCursorPosition(),a=s.row,l=n.widgetManager.getWidgetsAtRow(a).filter((function(e){return"errorMarker"==e.type}))[0];l?l.destroy():a-=t;var c,u=function(e,t,n){var i=e.getAnnotations().sort(o.comparePoints);if(i.length){var r=function(e,t,n){for(var i=0,r=e.length-1;i<=r;){var o=i+r>>1,s=n(t,e[o]);if(s>0)i=o+1;else{if(!(s<0))return o;r=o-1}}return-(i+1)}(i,{row:t,column:-1},o.comparePoints);r<0&&(r=-r-1),r>=i.length?r=n>0?0:i.length-1:0===r&&n<0&&(r=i.length-1);var s=i[r];if(s&&n){if(s.row===t){do{s=i[r+=n]}while(s&&s.row===t);if(!s)return i.slice()}var a=[];t=s.row;do{a[n<0?"unshift":"push"](s),s=i[r+=n]}while(s&&s.row==t);return a.length&&a}}}(n,a,t);if(u){var d=u[0];s.column=(d.pos&&"number"!=typeof d.column?d.pos.sc:d.column)||0,s.row=d.row,c=e.renderer.$gutterLayer.$annotations[s.row]}else{if(l)return;c={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(s.row),e.selection.moveToPosition(s);var h={row:s.row,fixedWidth:!0,coverGutter:!0,el:r.createElement("div"),type:"errorMarker"},p=h.el.appendChild(r.createElement("div")),f=h.el.appendChild(r.createElement("div"));f.className="error_widget_arrow "+c.className;var m=e.renderer.$cursorLayer.getPixelPosition(s).left;f.style.left=m+e.renderer.gutterWidth-5+"px",h.el.className="error_widget_wrapper",p.className="error_widget "+c.className,p.innerHTML=c.text.join("<br>"),p.appendChild(r.createElement("div"));var g=function(e,t,n){if(0===t&&("esc"===n||"return"===n))return h.destroy(),{command:"null"}};h.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(g),n.widgetManager.removeLineWidget(h),e.off("changeSelection",h.destroy),e.off("changeSession",h.destroy),e.off("mouseup",h.destroy),e.off("change",h.destroy))},e.keyBinding.addKeyboardHandler(g),e.on("changeSelection",h.destroy),e.on("changeSession",h.destroy),e.on("mouseup",h.destroy),e.on("change",h.destroy),e.session.widgetManager.addLineWidget(h),h.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:h.el.offsetHeight})},r.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")})),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],(function(e,t,i){"use strict";e("./lib/fixoldbrowsers");var r=e("./lib/dom"),o=e("./lib/event"),s=e("./range").Range,a=e("./editor").Editor,l=e("./edit_session").EditSession,c=e("./undomanager").UndoManager,u=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),t.config=e("./config"),t.require=e,t.define=n.amdD,t.edit=function(e,n){if("string"==typeof e){var i=e;if(!(e=document.getElementById(i)))throw new Error("ace.edit can't find div #"+i)}if(e&&e.env&&e.env.editor instanceof a)return e.env.editor;var s="";if(e&&/input|textarea/i.test(e.tagName)){var l=e;s=l.value,e=r.createElement("pre"),l.parentNode.replaceChild(e,l)}else e&&(s=e.textContent,e.innerHTML="");var c=t.createEditSession(s),d=new a(new u(e),c,n),h={document:c,editor:d,onResize:d.resize.bind(d,null)};return l&&(h.textarea=l),o.addListener(window,"resize",h.onResize),d.on("destroy",(function(){o.removeListener(window,"resize",h.onResize),h.editor.container.env=null})),d.container.env=d.env=h,d},t.createEditSession=function(e,t){var n=new l(e,t);return n.setUndoManager(new c),n},t.Range=s,t.Editor=a,t.EditSession=l,t.UndoManager=c,t.VirtualRenderer=u,t.version=t.config.version})),ace.require(["ace/ace"],(function(t){for(var n in t&&(t.config.init(!0),t.define=ace.define),window.ace||(window.ace=t),t)t.hasOwnProperty(n)&&(window.ace[n]=t[n]);window.ace.default=window.ace,e&&(e.exports=window.ace)}))},2679:(e,t,n)=>{e=n.nmd(e),ace.define("ace/snippets",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/lib/dom","ace/editor"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/event_emitter").EventEmitter,o=e("./lib/lang"),s=e("./range").Range,a=e("./range_list").RangeList,l=e("./keyboard/hash_handler").HashHandler,c=e("./tokenizer").Tokenizer,u=e("./clipboard"),d={CURRENT_WORD:function(e){return e.session.getTextRange(e.session.getWordRange())},SELECTION:function(e,t,n){var i=e.session.getTextRange();return n?i.replace(/\n\r?([ \t]*\S)/g,"\n"+n+"$1"):i},CURRENT_LINE:function(e){return e.session.getLine(e.getCursorPosition().row)},PREV_LINE:function(e){return e.session.getLine(e.getCursorPosition().row-1)},LINE_INDEX:function(e){return e.getCursorPosition().row},LINE_NUMBER:function(e){return e.getCursorPosition().row+1},SOFT_TABS:function(e){return e.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(e){return e.session.getTabSize()},CLIPBOARD:function(e){return u.getText&&u.getText()},FILENAME:function(e){return/[^/\\]*$/.exec(this.FILEPATH(e))[0]},FILENAME_BASE:function(e){return/[^/\\]*$/.exec(this.FILEPATH(e))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(e){return this.FILEPATH(e).replace(/[^/\\]*$/,"")},FILEPATH:function(e){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(e){var t=e.session.$mode||{};return t.blockComment&&t.blockComment.start||""},BLOCK_COMMENT_END:function(e){var t=e.session.$mode||{};return t.blockComment&&t.blockComment.end||""},LINE_COMMENT:function(e){return(e.session.$mode||{}).lineCommentStart||""},CURRENT_YEAR:h.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:h.bind(null,{year:"2-digit"}),CURRENT_MONTH:h.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:h.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:h.bind(null,{month:"short"}),CURRENT_DATE:h.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:h.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:h.bind(null,{weekday:"short"}),CURRENT_HOUR:h.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:h.bind(null,{minute:"2-digit"}),CURRENT_SECOND:h.bind(null,{second:"2-digit"})};function h(e){var t=(new Date).toLocaleString("en-us",e);return 1==t.length?"0"+t:t}d.SELECTED_TEXT=d.SELECTION;var p=function(){this.snippetMap={},this.snippetNameMap={}};(function(){i.implement(this,r),this.getTokenizer=function(){return p.$tokenizer||this.createTokenizer()},this.createTokenizer=function(){function e(e){return e=e.substr(1),/^\d+$/.test(e)?[{tabstopId:parseInt(e,10)}]:[{text:e}]}function t(e){return"(?:[^\\\\"+e+"]|\\\\.)"}var n={regex:"/("+t("/")+"+)/",onMatch:function(e,t,n){var i=n[0];return i.fmtString=!0,i.guard=e.slice(1,-1),i.flag="",""},next:"formatString"};return p.$tokenizer=new c({start:[{regex:/\\./,onMatch:function(e,t,n){var i=e[1];return("}"==i&&n.length||-1!="`$\\".indexOf(i))&&(e=i),[e]}},{regex:/}/,onMatch:function(e,t,n){return[n.length?n.shift():e]}},{regex:/\$(?:\d+|\w+)/,onMatch:e},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(t,n,i){var r=e(t.substr(1));return i.unshift(r[0]),r},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+t("\\|")+"*\\|",onMatch:function(e,t,n){var i=e.slice(1,-1).replace(/\\[,|\\]|,/g,(function(e){return 2==e.length?e[1]:"\0"})).split("\0").map((function(e){return{value:e}}));return n[0].choices=i,[i[0]]},next:"start"},n,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(e,t,n){return n.length&&n[0].expectElse?(n[0].expectElse=!1,n[0].ifEnd={elseEnd:n[0]},[n[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(e,t,n){var i=e[1];return"}"==i&&n.length||-1!="`$\\".indexOf(i)?e=i:"n"==i?e="\n":"t"==i?e="\t":-1!="ulULE".indexOf(i)&&(e={changeCase:i,local:i>"a"}),[e]}},{regex:"/\\w*}",onMatch:function(e,t,n){var i=n.shift();return i&&(i.flag=e.slice(1,-1)),this.next=i&&i.tabstopId?"start":"",[i||e]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(e,t,n){return[{text:e.slice(1)}]}},{regex:/\${\w+/,onMatch:function(e,t,n){var i={text:e.slice(2)};return n.unshift(i),[i]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(e,t,n){var i=n.shift();return this.next=i&&i.tabstopId?"start":"",[i||e]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(e,t,n){return n[0].formatFunction=e.slice(2,-1),[n.shift()]},next:"formatString"},n,{regex:/:[\?\-+]?/,onMatch:function(e,t,n){"+"==e[1]&&(n[0].ifEnd=n[0]),"?"==e[1]&&(n[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]})},this.tokenizeTmSnippet=function(e,t){return this.getTokenizer().getLineTokens(e,t).tokens.map((function(e){return e.value||e}))},this.getVariableValue=function(e,t,n){if(/^\d+$/.test(t))return(this.variables.__||{})[t]||"";if(/^[A-Z]\d+$/.test(t))return(this.variables[t[0]+"__"]||{})[t.substr(1)]||"";if(t=t.replace(/^TM_/,""),!this.variables.hasOwnProperty(t))return"";var i=this.variables[t];return"function"==typeof i&&(i=this.variables[t](e,t,n)),null==i?"":i},this.variables=d,this.tmStrFormat=function(e,t,n){if(!t.fmt)return e;var i=t.flag||"",r=t.guard;r=new RegExp(r,i.replace(/[^gim]/g,""));var o="string"==typeof t.fmt?this.tokenizeTmSnippet(t.fmt,"formatString"):t.fmt,s=this;return e.replace(r,(function(){var e=s.variables.__;s.variables.__=[].slice.call(arguments);for(var t=s.resolveVariables(o,n),i="E",r=0;r<t.length;r++){var a=t[r];if("object"==typeof a)if(t[r]="",a.changeCase&&a.local){var l=t[r+1];l&&"string"==typeof l&&("u"==a.changeCase?t[r]=l[0].toUpperCase():t[r]=l[0].toLowerCase(),t[r+1]=l.substr(1))}else a.changeCase&&(i=a.changeCase);else"U"==i?t[r]=a.toUpperCase():"L"==i&&(t[r]=a.toLowerCase())}return s.variables.__=e,t.join("")}))},this.tmFormatFunction=function(e,t,n){return"upcase"==t.formatFunction?e.toUpperCase():"downcase"==t.formatFunction?e.toLowerCase():e},this.resolveVariables=function(e,t){for(var n=[],i="",r=!0,o=0;o<e.length;o++){var s=e[o];if("string"!=typeof s){if(s){if(r=!1,s.fmtString){var a=e.indexOf(s,o+1);-1==a&&(a=e.length),s.fmt=e.slice(o+1,a),o=a}if(s.text){var l=this.getVariableValue(t,s.text,i)+"";s.fmtString&&(l=this.tmStrFormat(l,s,t)),s.formatFunction&&(l=this.tmFormatFunction(l,s,t)),l&&!s.ifEnd?(n.push(l),c(s)):!l&&s.ifEnd&&c(s.ifEnd)}else s.elseEnd?c(s.elseEnd):(null!=s.tabstopId||null!=s.changeCase)&&n.push(s)}}else n.push(s),"\n"==s?(r=!0,i=""):r&&(i=/^\t*/.exec(s)[0],r=/\S/.test(s))}function c(t){var n=e.indexOf(t,o+1);-1!=n&&(o=n)}return n},this.insertSnippetForSelection=function(e,t){var n=e.getCursorPosition(),i=e.session.getLine(n.row),r=e.session.getTabString(),o=i.match(/^\s*/)[0];n.column<o.length&&(o=o.slice(0,n.column)),t=t.replace(/\r/g,"");var s=this.tokenizeTmSnippet(t);s=(s=this.resolveVariables(s,e)).map((function(e){return"\n"==e?e+o:"string"==typeof e?e.replace(/\t/g,r):e}));var a=[];s.forEach((function(e,t){if("object"==typeof e){var n=e.tabstopId,i=a[n];if(i||((i=a[n]=[]).index=n,i.value="",i.parents={}),-1===i.indexOf(e)){e.choices&&!i.choices&&(i.choices=e.choices),i.push(e);var r=s.indexOf(e,t+1);if(-1!==r){var o=s.slice(t+1,r);o.some((function(e){return"object"==typeof e}))&&!i.value?i.value=o:!o.length||i.value&&"string"==typeof i.value||(i.value=o.join(""))}}}})),a.forEach((function(e){e.length=0}));var l={};function c(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];if("object"==typeof i){if(l[i.tabstopId])continue;i=t[e.lastIndexOf(i,n-1)]||{tabstopId:i.tabstopId}}t[n]=i}return t}for(var u=0;u<s.length;u++){var d=s[u];if("object"==typeof d){var h=d.tabstopId,p=a[h],m=s.indexOf(d,u+1);if(l[h])l[h]===d&&(delete l[h],Object.keys(l).forEach((function(e){p.parents[e]=!0})));else{l[h]=d;var g=p.value;"string"!=typeof g?g=c(g):d.fmt&&(g=this.tmStrFormat(g,d,e)),s.splice.apply(s,[u+1,Math.max(0,m-u)].concat(g,d)),-1===p.indexOf(d)&&p.push(d)}}}var v=0,y=0,b="";s.forEach((function(e){if("string"==typeof e){var t=e.split("\n");t.length>1?(y=t[t.length-1].length,v+=t.length-1):y+=e.length,b+=e}else e&&(e.start?e.end={row:v,column:y}:e.start={row:v,column:y})}));var w=e.getSelectionRange(),_=e.session.replace(w,b),x=new f(e),k=e.inVirtualSelectionMode&&e.selection.index;x.addTabstops(a,w.start,_,k)},this.insertSnippet=function(e,t){var n=this;if(e.inVirtualSelectionMode)return n.insertSnippetForSelection(e,t);e.forEachSelection((function(){n.insertSnippetForSelection(e,t)}),null,{keepOrder:!0}),e.tabstopManager&&e.tabstopManager.tabNext()},this.$getScope=function(e){var t=e.session.$mode.$id||"";if("html"===(t=t.split("/").pop())||"php"===t){"php"!==t||e.session.$mode.inlinePhp||(t="html");var n=e.getCursorPosition(),i=e.session.getState(n.row);"object"==typeof i&&(i=i[0]),i.substring&&("js-"==i.substring(0,3)?t="javascript":"css-"==i.substring(0,4)?t="css":"php-"==i.substring(0,4)&&(t="php"))}return t},this.getActiveScopes=function(e){var t=this.$getScope(e),n=[t],i=this.snippetMap;return i[t]&&i[t].includeScopes&&n.push.apply(n,i[t].includeScopes),n.push("_"),n},this.expandWithTab=function(e,t){var n=this,i=e.forEachSelection((function(){return n.expandSnippetForSelection(e,t)}),null,{keepOrder:!0});return i&&e.tabstopManager&&e.tabstopManager.tabNext(),i},this.expandSnippetForSelection=function(e,t){var n,i=e.getCursorPosition(),r=e.session.getLine(i.row),o=r.substring(0,i.column),s=r.substr(i.column),a=this.snippetMap;return this.getActiveScopes(e).some((function(e){var t=a[e];return t&&(n=this.findMatchingSnippet(t,o,s)),!!n}),this),!!n&&(t&&t.dryRun||(e.session.doc.removeInLine(i.row,i.column-n.replaceBefore.length,i.column+n.replaceAfter.length),this.variables.M__=n.matchBefore,this.variables.T__=n.matchAfter,this.insertSnippetForSelection(e,n.content),this.variables.M__=this.variables.T__=null),!0)},this.findMatchingSnippet=function(e,t,n){for(var i=e.length;i--;){var r=e[i];if((!r.startRe||r.startRe.test(t))&&(!r.endRe||r.endRe.test(n))&&(r.startRe||r.endRe))return r.matchBefore=r.startRe?r.startRe.exec(t):[""],r.matchAfter=r.endRe?r.endRe.exec(n):[""],r.replaceBefore=r.triggerRe?r.triggerRe.exec(t)[0]:"",r.replaceAfter=r.endTriggerRe?r.endTriggerRe.exec(n)[0]:"",r}},this.snippetMap={},this.snippetNameMap={},this.register=function(e,t){var n=this.snippetMap,i=this.snippetNameMap,r=this;function s(e){return e&&!/^\^?\(.*\)\$?$|^\\b$/.test(e)&&(e="(?:"+e+")"),e||""}function a(e,t,n){return e=s(e),t=s(t),n?(e=t+e)&&"$"!=e[e.length-1]&&(e+="$"):(e+=t)&&"^"!=e[0]&&(e="^"+e),new RegExp(e)}function l(e){e.scope||(e.scope=t||"_"),t=e.scope,n[t]||(n[t]=[],i[t]={});var s=i[t];if(e.name){var l=s[e.name];l&&r.unregister(l),s[e.name]=e}n[t].push(e),e.prefix&&(e.tabTrigger=e.prefix),!e.content&&e.body&&(e.content=Array.isArray(e.body)?e.body.join("\n"):e.body),e.tabTrigger&&!e.trigger&&(!e.guard&&/^\w/.test(e.tabTrigger)&&(e.guard="\\b"),e.trigger=o.escapeRegExp(e.tabTrigger)),(e.trigger||e.guard||e.endTrigger||e.endGuard)&&(e.startRe=a(e.trigger,e.guard,!0),e.triggerRe=new RegExp(e.trigger),e.endRe=a(e.endTrigger,e.endGuard,!0),e.endTriggerRe=new RegExp(e.endTrigger))}e||(e=[]),Array.isArray(e)?e.forEach(l):Object.keys(e).forEach((function(t){l(e[t])})),this._signal("registerSnippets",{scope:t})},this.unregister=function(e,t){var n=this.snippetMap,i=this.snippetNameMap;function r(e){var r=i[e.scope||t];if(r&&r[e.name]){delete r[e.name];var o=n[e.scope||t],s=o&&o.indexOf(e);s>=0&&o.splice(s,1)}}e.content?r(e):Array.isArray(e)&&e.forEach(r)},this.parseSnippetFile=function(e){e=e.replace(/\r/g,"");for(var t,n=[],i={},r=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm;t=r.exec(e);){if(t[1])try{i=JSON.parse(t[1]),n.push(i)}catch(e){}if(t[4])i.content=t[4].replace(/^\t/gm,""),n.push(i),i={};else{var o=t[2],s=t[3];if("regex"==o){var a=/\/((?:[^\/\\]|\\.)*)|$/g;i.guard=a.exec(s)[1],i.trigger=a.exec(s)[1],i.endTrigger=a.exec(s)[1],i.endGuard=a.exec(s)[1]}else"snippet"==o?(i.tabTrigger=s.match(/^\S*/)[0],i.name||(i.name=s)):o&&(i[o]=s)}}return n},this.getSnippetByName=function(e,t){var n,i=this.snippetNameMap;return this.getActiveScopes(t).some((function(t){var r=i[t];return r&&(n=r[e]),!!n}),this),n}}).call(p.prototype);var f=function(e){if(e.tabstopManager)return e.tabstopManager;e.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=o.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(e)};(function(){this.attach=function(e){this.index=0,this.ranges=[],this.tabstops=[],this.$openTabstops=null,this.selectedTabstop=null,this.editor=e,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},this.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges=null,this.tabstops=null,this.selectedTabstop=null,this.editor.removeListener("change",this.$onChange),this.editor.removeListener("changeSelection",this.$onChangeSelection),this.editor.removeListener("changeSession",this.$onChangeSession),this.editor.commands.removeListener("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.editor=null},this.onChange=function(e){for(var t="r"==e.action[0],n=this.selectedTabstop||{},i=n.parents||{},r=(this.tabstops||[]).slice(),o=0;o<r.length;o++){var s=r[o],a=s==n||i[s.index];if(s.rangeList.$bias=a?0:1,"remove"==e.action&&s!==n){var l=s.parents&&s.parents[n.index],c=s.rangeList.pointIndex(e.start,l);c=c<0?-c-1:c+1;var u=s.rangeList.pointIndex(e.end,l);u=u<0?-u-1:u-1;for(var d=s.rangeList.ranges.slice(c,u),h=0;h<d.length;h++)this.removeRange(d[h])}s.rangeList.$onChange(e)}var p=this.editor.session;this.$inChange||!t||1!=p.getLength()||p.getValue()||this.detach()},this.updateLinkedFields=function(){var e=this.selectedTabstop;if(e&&e.hasLinkedRanges&&e.firstNonLinked){this.$inChange=!0;for(var n=this.editor.session,i=n.getTextRange(e.firstNonLinked),r=0;r<e.length;r++){var o=e[r];if(o.linked){var s=o.original,a=t.snippetManager.tmStrFormat(i,s,this.editor);n.replace(o,a)}}this.$inChange=!1}},this.onAfterExec=function(e){e.command&&!e.command.readOnly&&this.updateLinkedFields()},this.onChangeSelection=function(){if(this.editor){for(var e=this.editor.selection.lead,t=this.editor.selection.anchor,n=this.editor.selection.isEmpty(),i=0;i<this.ranges.length;i++)if(!this.ranges[i].linked){var r=this.ranges[i].contains(e.row,e.column),o=n||this.ranges[i].contains(t.row,t.column);if(r&&o)return}this.detach()}},this.onChangeSession=function(){this.detach()},this.tabNext=function(e){var t=this.tabstops.length,n=this.index+(e||1);(n=Math.min(Math.max(n,1),t))==t&&(n=0),this.selectTabstop(n),0===n&&this.detach()},this.selectTabstop=function(e){this.$openTabstops=null;var t=this.tabstops[this.index];if(t&&this.addTabstopMarkers(t),this.index=e,(t=this.tabstops[this.index])&&t.length){this.selectedTabstop=t;var n=t.firstNonLinked||t;if(t.choices&&(n.cursor=n.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(n);else{var i=this.editor.multiSelect;i.toSingleRange(n);for(var r=0;r<t.length;r++)t.hasLinkedRanges&&t[r].linked||i.addRange(t[r].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},this.addTabstops=function(e,t,n){var i=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!e[0]){var r=s.fromPoints(n,n);g(r.start,t),g(r.end,t),e[0]=[r],e[0].index=0}var o=[this.index+1,0],l=this.ranges;e.forEach((function(e,n){for(var r=this.$openTabstops[n]||e,c=0;c<e.length;c++){var u=e[c],d=s.fromPoints(u.start,u.end||u.start);m(d.start,t),m(d.end,t),d.original=u,d.tabstop=r,l.push(d),r!=e?r.unshift(d):r[c]=d,u.fmtString||r.firstNonLinked&&i?(d.linked=!0,r.hasLinkedRanges=!0):r.firstNonLinked||(r.firstNonLinked=d)}r.firstNonLinked||(r.hasLinkedRanges=!1),r===e&&(o.push(r),this.$openTabstops[n]=r),this.addTabstopMarkers(r),r.rangeList=r.rangeList||new a,r.rangeList.$bias=0,r.rangeList.addList(r)}),this),o.length>2&&(this.tabstops.length&&o.push(o.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,o))},this.addTabstopMarkers=function(e){var t=this.editor.session;e.forEach((function(e){e.markerId||(e.markerId=t.addMarker(e,"ace_snippet-marker","text"))}))},this.removeTabstopMarkers=function(e){var t=this.editor.session;e.forEach((function(e){t.removeMarker(e.markerId),e.markerId=null}))},this.removeRange=function(e){var t=e.tabstop.indexOf(e);-1!=t&&e.tabstop.splice(t,1),-1!=(t=this.ranges.indexOf(e))&&this.ranges.splice(t,1),-1!=(t=e.tabstop.rangeList.ranges.indexOf(e))&&e.tabstop.splice(t,1),this.editor.session.removeMarker(e.markerId),e.tabstop.length||(-1!=(t=this.tabstops.indexOf(e.tabstop))&&this.tabstops.splice(t,1),this.tabstops.length||this.detach())},this.keyboardHandler=new l,this.keyboardHandler.bindKeys({Tab:function(e){t.snippetManager&&t.snippetManager.expandWithTab(e)||(e.tabstopManager.tabNext(1),e.renderer.scrollCursorIntoView())},"Shift-Tab":function(e){e.tabstopManager.tabNext(-1),e.renderer.scrollCursorIntoView()},Esc:function(e){e.tabstopManager.detach()}})}).call(f.prototype);var m=function(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row},g=function(e,t){e.row==t.row&&(e.column-=t.column),e.row-=t.row};e("./lib/dom").importCssString(".ace_snippet-marker {    -moz-box-sizing: border-box;    box-sizing: border-box;    background: rgba(194, 193, 208, 0.09);    border: 1px dotted rgba(211, 208, 235, 0.62);    position: absolute;}"),t.snippetManager=new p;var v=e("./editor").Editor;(function(){this.insertSnippet=function(e,n){return t.snippetManager.insertSnippet(this,e,n)},this.expandSnippet=function(e){return t.snippetManager.expandWithTab(this,e)}}).call(v.prototype)})),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("../virtual_renderer").VirtualRenderer,r=e("../editor").Editor,o=e("../range").Range,s=e("../lib/event"),a=e("../lib/lang"),l=e("../lib/dom"),c=function(e){var t=new i(e);t.$maxLines=4;var n=new r(t);return n.setHighlightActiveLine(!1),n.setShowPrintMargin(!1),n.renderer.setShowGutter(!1),n.renderer.setHighlightGutterLine(!1),n.$mouseHandler.$focusTimeout=0,n.$highlightTagPending=!0,n};l.importCssString(".ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #CAD6FA;    z-index: 1;}.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #3a674e;}.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid #abbffe;    margin-top: -1px;    background: rgba(233,233,253,0.4);    position: absolute;    z-index: 2;}.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid rgba(109, 150, 13, 0.8);    background: rgba(58, 103, 78, 0.62);}.ace_completion-meta {    opacity: 0.5;    margin: 0.9em;}.ace_completion-message {    color: blue;}.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #2d69c7;}.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #93ca12;}.ace_editor.ace_autocomplete {    width: 300px;    z-index: 200000;    border: 1px lightgray solid;    position: fixed;    box-shadow: 2px 3px 5px rgba(0,0,0,.2);    line-height: 1.4;    background: #fefefe;    color: #111;}.ace_dark.ace_editor.ace_autocomplete {    border: 1px #484747 solid;    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);    line-height: 1.4;    background: #25282c;    color: #c1c1c1;}","autocompletion.css"),t.AcePopup=function(e){var t=l.createElement("div"),n=new c(t);e&&e.appendChild(t),t.style.display="none",n.renderer.content.style.cursor="default",n.renderer.setStyle("ace_autocomplete"),n.setOption("displayIndentGuides",!1),n.setOption("dragDelay",150);var i,r=function(){};n.focus=r,n.$isFocused=!0,n.renderer.$cursorLayer.restartTimer=r,n.renderer.$cursorLayer.element.style.opacity=0,n.renderer.$maxLines=8,n.renderer.$keepTextAreaAtCursor=!1,n.setHighlightActiveLine(!1),n.session.highlight(""),n.session.$searchHighlight.clazz="ace_highlight-marker",n.on("mousedown",(function(e){var t=e.getDocumentPosition();n.selection.moveToPosition(t),d.start.row=d.end.row=t.row,e.stop()}));var u=new o(-1,0,-1,1/0),d=new o(-1,0,-1,1/0);d.id=n.session.addMarker(d,"ace_active-line","fullLine"),n.setSelectOnHover=function(e){e?u.id&&(n.session.removeMarker(u.id),u.id=null):u.id=n.session.addMarker(u,"ace_line-hover","fullLine")},n.setSelectOnHover(!1),n.on("mousemove",(function(e){if(i){if(i.x!=e.x||i.y!=e.y){(i=e).scrollTop=n.renderer.scrollTop;var t=i.getDocumentPosition().row;u.start.row!=t&&(u.id||n.setRow(t),p(t))}}else i=e})),n.renderer.on("beforeRender",(function(){if(i&&-1!=u.start.row){i.$pos=null;var e=i.getDocumentPosition().row;u.id||n.setRow(e),p(e,!0)}})),n.renderer.on("afterRender",(function(){var e=n.getRow(),t=n.renderer.$textLayer,i=t.element.childNodes[e-t.config.firstRow];i!==t.selectedNode&&t.selectedNode&&l.removeCssClass(t.selectedNode,"ace_selected"),t.selectedNode=i,i&&l.addCssClass(i,"ace_selected")}));var h=function(){p(-1)},p=function(e,t){e!==u.start.row&&(u.start.row=u.end.row=e,t||n.session._emit("changeBackMarker"),n._emit("changeHoverMarker"))};n.getHoveredRow=function(){return u.start.row},s.addListener(n.container,"mouseout",h),n.on("hide",h),n.on("changeSelection",h),n.session.doc.getLength=function(){return n.data.length},n.session.doc.getLine=function(e){var t=n.data[e];return"string"==typeof t?t:t&&t.value||""};var f=n.session.bgTokenizer;return f.$tokenizeRow=function(e){var t=n.data[e],i=[];if(!t)return i;"string"==typeof t&&(t={value:t});var r=t.caption||t.value||t.name;function o(e,n){e&&i.push({type:(t.className||"")+(n||""),value:e})}for(var s=r.toLowerCase(),a=(n.filterText||"").toLowerCase(),l=0,c=0,u=0;u<=a.length;u++)if(u!=c&&(t.matchMask&1<<u||u==a.length)){var d=a.slice(c,u);c=u;var h=s.indexOf(d,l);if(-1==h)continue;o(r.slice(l,h),""),l=h+d.length,o(r.slice(h,l),"completion-highlight")}return o(r.slice(l,r.length),""),t.meta&&i.push({type:"completion-meta",value:t.meta}),t.message&&i.push({type:"completion-message",value:t.message}),i},f.$updateOnChange=r,f.start=r,n.session.$computeWidth=function(){return this.screenWidth=0},n.isOpen=!1,n.isTopdown=!1,n.autoSelect=!0,n.filterText="",n.data=[],n.setData=function(e,t){n.filterText=t||"",n.setValue(a.stringRepeat("\n",e.length),-1),n.data=e||[],n.setRow(0)},n.getData=function(e){return n.data[e]},n.getRow=function(){return d.start.row},n.setRow=function(e){e=Math.max(this.autoSelect?0:-1,Math.min(this.data.length,e)),d.start.row!=e&&(n.selection.clearSelection(),d.start.row=d.end.row=e||0,n.session._emit("changeBackMarker"),n.moveCursorTo(e||0,0),n.isOpen&&n._signal("select"))},n.on("changeSelection",(function(){n.isOpen&&n.setRow(n.selection.lead.row),n.renderer.scrollCursorIntoView()})),n.hide=function(){this.container.style.display="none",this._signal("hide"),n.isOpen=!1},n.show=function(e,t,r){var o=this.container,s=window.innerHeight,a=window.innerWidth,l=this.renderer,c=l.$maxLines*t*1.4,u=e.top+this.$borderSize;u>s/2&&!r&&u+t+c>s?(l.$maxPixelHeight=u-2*this.$borderSize,o.style.top="",o.style.bottom=s-u+"px",n.isTopdown=!1):(u+=t,l.$maxPixelHeight=s-u-.2*t,o.style.top=u+"px",o.style.bottom="",n.isTopdown=!0),o.style.display="";var d=e.left;d+o.offsetWidth>a&&(d=a-o.offsetWidth),o.style.left=d+"px",this._signal("show"),i=null,n.isOpen=!0},n.goTo=function(e){var t=this.getRow(),n=this.session.getLength()-1;switch(e){case"up":t=t<=0?n:t-1;break;case"down":t=t>=n?-1:t+1;break;case"start":t=0;break;case"end":t=n}this.setRow(t)},n.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},n.$imageSize=0,n.$borderSize=1,n},t.$singleLineEditor=c})),ace.define("ace/autocomplete/util",["require","exports","module"],(function(e,t,n){"use strict";t.parForEach=function(e,t,n){var i=0,r=e.length;0===r&&n();for(var o=0;o<r;o++)t(e[o],(function(e,t){++i===r&&n(e,t)}))};var i=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;t.retrievePrecedingIdentifier=function(e,t,n){n=n||i;for(var r=[],o=t-1;o>=0&&n.test(e[o]);o--)r.push(e[o]);return r.reverse().join("")},t.retrieveFollowingIdentifier=function(e,t,n){n=n||i;for(var r=[],o=t;o<e.length&&n.test(e[o]);o++)r.push(e[o]);return r},t.getCompletionPrefix=function(e){var t,n=e.getCursorPosition(),i=e.session.getLine(n.row);return e.completers.forEach(function(e){e.identifierRegexps&&e.identifierRegexps.forEach(function(e){!t&&e&&(t=this.retrievePrecedingIdentifier(i,n.column,e))}.bind(this))}.bind(this)),t||this.retrievePrecedingIdentifier(i,n.column)}})),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config"],(function(e,t,n){"use strict";var i=e("./keyboard/hash_handler").HashHandler,r=e("./autocomplete/popup").AcePopup,o=e("./autocomplete/util"),s=e("./lib/lang"),a=e("./lib/dom"),l=e("./snippets").snippetManager,c=e("./config"),u=function(){this.autoInsert=!1,this.autoSelect=!0,this.exactMatch=!1,this.gatherCompletionsId=0,this.keyboardHandler=new i,this.keyboardHandler.bindKeys(this.commands),this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.changeTimer=s.delayedCall(function(){this.updateCompletions(!0)}.bind(this)),this.tooltipTimer=s.delayedCall(this.updateDocTooltip.bind(this),50)};(function(){this.$init=function(){return this.popup=new r(document.body||document.documentElement),this.popup.on("click",function(e){this.insertMatch(),e.stop()}.bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.tooltipTimer.bind(null,null)),this.popup.on("select",this.tooltipTimer.bind(null,null)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup},this.getPopup=function(){return this.popup||this.$init()},this.openPopup=function(e,t,n){this.popup||this.$init(),this.popup.autoSelect=this.autoSelect,this.popup.setData(this.completions.filtered,this.completions.filterText),e.keyBinding.addKeyboardHandler(this.keyboardHandler);var i=e.renderer;if(this.popup.setRow(this.autoSelect?0:-1),n)n&&!t&&this.detach();else{this.popup.setTheme(e.getTheme()),this.popup.setFontSize(e.getFontSize());var r=i.layerConfig.lineHeight,o=i.$cursorLayer.getPixelPosition(this.base,!0);o.left-=this.popup.getTextLeftOffset();var s=e.container.getBoundingClientRect();o.top+=s.top-i.layerConfig.offset,o.left+=s.left-e.renderer.scrollLeft,o.left+=i.gutterWidth,this.popup.show(o,r)}this.changeTimer.cancel()},this.detach=function(){this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener),this.changeTimer.cancel(),this.hideDocTooltip(),this.gatherCompletionsId+=1,this.popup&&this.popup.isOpen&&this.popup.hide(),this.base&&this.base.detach(),this.activated=!1,this.completions=this.base=null},this.changeListener=function(e){var t=this.editor.selection.lead;(t.row!=this.base.row||t.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},this.blurListener=function(e){var t=document.activeElement,n=this.editor.textInput.getElement(),i=e.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(e.relatedTarget),r=this.popup&&this.popup.container;t==n||t.parentNode==r||i||t==this.tooltipNode||e.relatedTarget==n||this.detach()},this.mousedownListener=function(e){this.detach()},this.mousewheelListener=function(e){this.detach()},this.goTo=function(e){this.popup.goTo(e)},this.insertMatch=function(e,t){if(e||(e=this.popup.getData(this.popup.getRow())),!e)return!1;var n=this.completions;if(this.editor.startOperation({command:{name:"insertMatch"}}),e.completer&&e.completer.insertMatch)e.completer.insertMatch(this.editor,e);else{if(n.filterText)for(var i,r=this.editor.selection.getAllRanges(),o=0;i=r[o];o++)i.start.column-=n.filterText.length,this.editor.session.remove(i);e.snippet?l.insertSnippet(this.editor,e.snippet):this.editor.execCommand("insertstring",e.value||e)}this.completions==n&&this.detach(),this.editor.endOperation()},this.commands={Up:function(e){e.completer.goTo("up")},Down:function(e){e.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(e){e.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(e){e.completer.goTo("end")},Esc:function(e){e.completer.detach()},Return:function(e){return e.completer.insertMatch()},"Shift-Return":function(e){e.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(e){var t=e.completer.insertMatch();if(t||e.tabstopManager)return t;e.completer.goTo("down")},PageUp:function(e){e.completer.popup.gotoPageUp()},PageDown:function(e){e.completer.popup.gotoPageDown()}},this.gatherCompletions=function(e,t){var n=e.getSession(),i=e.getCursorPosition(),r=o.getCompletionPrefix(e);this.base=n.doc.createAnchor(i.row,i.column-r.length),this.base.$insertRight=!0;var s=[],a=e.completers.length;return e.completers.forEach((function(l,c){l.getCompletions(e,n,i,r,(function(n,i){!n&&i&&(s=s.concat(i)),t(null,{prefix:o.getCompletionPrefix(e),matches:s,finished:0==--a})}))})),!0},this.showPopup=function(e,t){this.editor&&this.detach(),this.activated=!0,this.editor=e,e.completer!=this&&(e.completer&&e.completer.detach(),e.completer=this),e.on("changeSelection",this.changeListener),e.on("blur",this.blurListener),e.on("mousedown",this.mousedownListener),e.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,t)},this.updateCompletions=function(e,t){if(e&&this.base&&this.completions){var n=this.editor.getCursorPosition(),i=this.editor.session.getTextRange({start:this.base,end:n});if(i==this.completions.filterText)return;return this.completions.setFilter(i),this.completions.filtered.length&&(1!=this.completions.filtered.length||this.completions.filtered[0].value!=i||this.completions.filtered[0].snippet)?void this.openPopup(this.editor,i,e):this.detach()}if(t&&t.matches)return n=this.editor.getSelectionRange().start,this.base=this.editor.session.doc.createAnchor(n.row,n.column),this.base.$insertRight=!0,this.completions=new d(t.matches),this.openPopup(this.editor,"",e);var r=this.gatherCompletionsId;this.gatherCompletions(this.editor,function(t,n){var i=function(){if(n.finished)return this.detach()}.bind(this),o=n.prefix,s=n&&n.matches;if(!s||!s.length)return i();if(0===o.indexOf(n.prefix)&&r==this.gatherCompletionsId){this.completions=new d(s),this.exactMatch&&(this.completions.exactMatch=!0),this.completions.setFilter(o);var a=this.completions.filtered;return a.length&&(1!=a.length||a[0].value!=o||a[0].snippet)?this.autoInsert&&1==a.length&&n.finished?this.insertMatch(a[0]):void this.openPopup(this.editor,o,e):i()}}.bind(this))},this.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},this.updateDocTooltip=function(){var e=this.popup,t=e.data,n=t&&(t[e.getHoveredRow()]||t[e.getRow()]),i=null;return n&&this.editor&&this.popup.isOpen?(this.editor.completers.some((function(e){return e.getDocTooltip&&(i=e.getDocTooltip(n)),i})),i||"string"==typeof n||(i=n),"string"==typeof i&&(i={docText:i}),i&&(i.docHTML||i.docText)?void this.showDocTooltip(i):this.hideDocTooltip()):this.hideDocTooltip()},this.showDocTooltip=function(e){this.tooltipNode||(this.tooltipNode=a.createElement("div"),this.tooltipNode.className="ace_tooltip ace_doc-tooltip",this.tooltipNode.style.margin=0,this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this));var t=this.tooltipNode;e.docHTML?t.innerHTML=e.docHTML:e.docText&&(t.textContent=e.docText),t.parentNode||document.body.appendChild(t);var n=this.popup,i=n.container.getBoundingClientRect();t.style.top=n.container.style.top,t.style.bottom=n.container.style.bottom,t.style.display="block",window.innerWidth-i.right<320?i.left<320?n.isTopdown?(t.style.top=i.bottom+"px",t.style.left=i.left+"px",t.style.right="",t.style.bottom=""):(t.style.top=n.container.offsetTop-t.offsetHeight+"px",t.style.left=i.left+"px",t.style.right="",t.style.bottom=""):(t.style.right=window.innerWidth-i.left+"px",t.style.left=""):(t.style.left=i.right+1+"px",t.style.right="")},this.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),this.tooltipNode){var e=this.tooltipNode;this.editor.isFocused()||document.activeElement!=e||this.editor.focus(),this.tooltipNode=null,e.parentNode&&e.parentNode.removeChild(e)}},this.onTooltipClick=function(e){for(var t=e.target;t&&t!=this.tooltipNode;){if("A"==t.nodeName&&t.href){t.rel="noreferrer",t.target="_blank";break}t=t.parentNode}},this.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var e=this.popup.container;e&&e.parentNode&&e.parentNode.removeChild(e)}this.editor&&this.editor.completer==this&&this.editor.completer,this.popup=null}}).call(u.prototype),u.for=function(e){return e.completer||(c.get("sharedPopups")?(u.$shared||(u.$sharedInstance=new u),e.completer=u.$sharedInstance):(e.completer=new u,e.once("destroy",(function(e,t){t.completer.destroy()})))),e.completer},u.startCommand={name:"startAutocomplete",exec:function(e,t){var n=u.for(e);n.autoInsert=!1,n.autoSelect=!0,n.showPopup(e,t),n.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var d=function(e,t){this.all=e,this.filtered=e,this.filterText=t||"",this.exactMatch=!1};(function(){this.setFilter=function(e){if(e.length>this.filterText&&0===e.lastIndexOf(this.filterText,0))var t=this.filtered;else t=this.all;this.filterText=e,t=(t=this.filterCompletions(t,this.filterText)).sort((function(e,t){return t.exactMatch-e.exactMatch||t.$score-e.$score||(e.caption||e.value).localeCompare(t.caption||t.value)}));var n=null;t=t.filter((function(e){var t=e.snippet||e.caption||e.value;return t!==n&&(n=t,!0)})),this.filtered=t},this.filterCompletions=function(e,t){var n=[],i=t.toUpperCase(),r=t.toLowerCase();e:for(var o,s=0;o=e[s];s++){var a=o.caption||o.value||o.snippet;if(a){var l,c,u=-1,d=0,h=0;if(this.exactMatch){if(t!==a.substr(0,t.length))continue e}else{var p=a.toLowerCase().indexOf(r);if(p>-1)h=p;else for(var f=0;f<t.length;f++){var m=a.indexOf(r[f],u+1),g=a.indexOf(i[f],u+1);if((l=m>=0&&(g<0||m<g)?m:g)<0)continue e;(c=l-u-1)>0&&(-1===u&&(h+=10),h+=c,d|=1<<f),u=l}}o.matchMask=d,o.exactMatch=h?0:1,o.$score=(o.score||0)-h,n.push(o)}}return n}}).call(d.prototype),t.Autocomplete=u,t.FilteredList=d})),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],(function(e,t,n){var i=e("../range").Range,r=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;t.getCompletions=function(e,t,n,o,s){var a=function(e,t){var n=function(e,t){return e.getTextRange(i.fromPoints({row:0,column:0},t)).split(r).length-1}(e,t),o=e.getValue().split(r),s=Object.create(null),a=o[n];return o.forEach((function(e,t){if(e&&e!==a){var i=Math.abs(n-t),r=o.length-i;s[e]?s[e]=Math.max(r,s[e]):s[e]=r}})),s}(t,n);s(null,Object.keys(a).map((function(e){return{caption:e,value:e,score:a[e],meta:"local"}})))}})),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],(function(e,t,n){"use strict";var i=e("../snippets").snippetManager,r=e("../autocomplete").Autocomplete,o=e("../config"),s=e("../lib/lang"),a=e("../autocomplete/util"),l=e("../autocomplete/text_completer"),c={getCompletions:function(e,t,n,i,r){if(t.$mode.completer)return t.$mode.completer.getCompletions(e,t,n,i,r);var o=e.session.getState(n.row);r(null,t.$mode.getCompletions(o,t,n,i))}},u={getCompletions:function(e,t,n,r,o){var s=[],a=t.getTokenAt(n.row,n.column);a&&a.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?s.push("html-tag"):s=i.getActiveScopes(e);var l=i.snippetMap,c=[];s.forEach((function(e){for(var t=l[e]||[],n=t.length;n--;){var i=t[n],r=i.name||i.tabTrigger;r&&c.push({caption:r,snippet:i.content,meta:i.tabTrigger&&!i.name?i.tabTrigger+" ":"snippet",type:"snippet"})}}),this),o(null,c)},getDocTooltip:function(e){"snippet"!=e.type||e.docHTML||(e.docHTML=["<b>",s.escapeHTML(e.caption),"</b>","<hr></hr>",s.escapeHTML(e.snippet)].join(""))}},d=[u,l,c];t.setCompleters=function(e){d.length=0,e&&d.push.apply(d,e)},t.addCompleter=function(e){d.push(e)},t.textCompleter=l,t.keyWordCompleter=c,t.snippetCompleter=u;var h={name:"expandSnippet",exec:function(e){return i.expandWithTab(e)},bindKey:"Tab"},p=function(e,t){f(t.session.$mode)},f=function(e){"string"==typeof e&&(e=o.$modes[e]),e&&(i.files||(i.files={}),m(e.$id,e.snippetFileId),e.modes&&e.modes.forEach(f))},m=function(e,t){t&&e&&!i.files[e]&&(i.files[e]={},o.loadModule(t,(function(t){t&&(i.files[e]=t,!t.snippets&&t.snippetText&&(t.snippets=i.parseSnippetFile(t.snippetText)),i.register(t.snippets||[],t.scope),t.includeScopes&&(i.snippetMap[t.scope].includeScopes=t.includeScopes,t.includeScopes.forEach((function(e){f("ace/mode/"+e)}))))})))},g=function(e){var t=e.editor,n=t.completer&&t.completer.activated;if("backspace"===e.command.name)n&&!a.getCompletionPrefix(t)&&t.completer.detach();else if("insertstring"===e.command.name&&a.getCompletionPrefix(t)&&!n){var i=r.for(t);i.autoInsert=!1,i.showPopup(t)}},v=e("../editor").Editor;e("../config").defineOptions(v.prototype,"editor",{enableBasicAutocompletion:{set:function(e){e?(this.completers||(this.completers=Array.isArray(e)?e:d),this.commands.addCommand(r.startCommand)):this.commands.removeCommand(r.startCommand)},value:!1},enableLiveAutocompletion:{set:function(e){e?(this.completers||(this.completers=Array.isArray(e)?e:d),this.commands.on("afterExec",g)):this.commands.removeListener("afterExec",g)},value:!1},enableSnippets:{set:function(e){e?(this.commands.addCommand(h),this.on("changeMode",p),p(0,this)):(this.commands.removeCommand(h),this.off("changeMode",p))},value:!1}})})),ace.require(["ace/ext/language_tools"],(function(t){e&&(e.exports=t)}))},9411:(e,t,n)=>{e=n.nmd(e),ace.define("ace/mode/doc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules,o=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},o.getTagRule(),{defaultToken:"comment.doc",caseInsensitive:!0}]}};i.inherits(o,r),o.getTagRule=function(e){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},o.getStartRule=function(e){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:e}},o.getEndRule=function(e){return{token:"comment.doc",regex:"\\*\\/",next:e}},t.DocCommentHighlightRules=o})),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./doc_comment_highlight_rules").DocCommentHighlightRules,o=e("./text_highlight_rules").TextHighlightRules,s="[a-zA-Z\\$_-][a-zA-Z\\d\\$_-]*",a=function(e){var t=this.createKeywordMapper({"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},"identifier"),n="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)";this.$rules={no_regex:[r.getStartRule("doc-start"),c("no_regex"),{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["storage.type","punctuation.operator","support.function","punctuation.operator","entity.name.function","text","keyword.operator"],regex:"("+s+")(\\.)(prototype)(\\.)("+s+")(\\s*)(=)",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+s+")(\\.)("+s+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+s+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+s+")(\\.)("+s+")(\\s*)(=)(\\s*)(function)(\\s+)(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","entity.name.function","text","paren.lparen"],regex:"(function)(\\s+)("+s+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","paren.lparen"],regex:"("+s+")(\\s*)(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:"from(?=\\s*('|\"))"},{token:"keyword",regex:"(?:case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void)\\b",next:"start"},{token:["support.constant"],regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|time|trace|timeEnd|assert)\b/},{token:t,regex:s},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+s+")(\\.)("+s+")(\\s*)(=)(\\s*)(function)(?:(\\s+)(\\w+))?(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:s},{regex:"",token:"empty",next:"no_regex"}],start:[r.getStartRule("doc-start"),c("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],function_arguments:[{token:"variable.parameter",regex:s},{token:"punctuation.operator",regex:"[, ]+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:n},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:n},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},e&&e.noES6||(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(e,t,n){if(this.next="{"==e?this.nextState:"","{"==e&&n.length)n.unshift("start",t);else if("}"==e&&n.length&&(n.shift(),this.next=n.shift(),-1!=this.next.indexOf("string")||-1!=this.next.indexOf("jsx")))return"paren.quasi.end";return"{"==e?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:n},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]}),e&&0==e.jsx||l.call(this)),this.embedRules(r,"doc-",[r.getEndRule("no_regex")]),this.normalizeRules()};function l(){var e=s.replace("\\d","\\d\\-"),t={onMatch:function(e,t,n){var i="/"==e.charAt(1)?2:1;return 1==i?(t!=this.nextState?n.unshift(this.next,this.nextState,0):n.unshift(this.next),n[2]++):2==i&&t==this.nextState&&(n[1]--,(!n[1]||n[1]<0)&&(n.shift(),n.shift())),[{type:"meta.tag.punctuation."+(1==i?"":"end-")+"tag-open.xml",value:e.slice(0,i)},{type:"meta.tag.tag-name.xml",value:e.substr(i)}]},regex:"</?"+e,next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(t);var n={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[n,t,{include:"reference"},{defaultToken:"string"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(e,t,n){return t==n[0]&&n.shift(),2==e.length&&(n[0]==this.nextState&&n[1]--,(!n[1]||n[1]<0)&&n.splice(0,2)),this.next=n[0]||"start",[{type:this.token,value:e}]},nextState:"jsx"},n,c("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:e},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},t],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function c(e){return[{token:"comment",regex:/\/\*/,next:[r.getTagRule(),{token:"comment",regex:"\\*\\/",next:e||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[r.getTagRule(),{token:"comment",regex:"$|^",next:e||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}i.inherits(a,o),t.JavaScriptHighlightRules=a})),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("../range").Range,r=function(){};(function(){this.checkOutdent=function(e,t){return!!/^\s+$/.test(e)&&/^\s*\}/.test(t)},this.autoOutdent=function(e,t){var n=e.getLine(t).match(/^(\s*\})/);if(!n)return 0;var r=n[1].length,o=e.findMatchingBracket({row:t,column:r});if(!o||o.row==t)return 0;var s=this.$getIndent(e.getLine(o.row));e.replace(new i(t,0,t,r-1),s)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(r.prototype),t.MatchingBraceOutdent=r})),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],(function(e,t,n){"use strict";var i=e("../../lib/oop"),r=e("../../range").Range,o=e("./fold_mode").FoldMode,s=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};i.inherits(s,o),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,n){var i=e.getLine(n);if(this.singleLineBlockCommentRe.test(i)&&!this.startRegionRe.test(i)&&!this.tripleStarBlockCommentRe.test(i))return"";var r=this._getFoldWidgetBase(e,t,n);return!r&&this.startRegionRe.test(i)?"start":r},this.getFoldWidgetRange=function(e,t,n,i){var r,o=e.getLine(n);if(this.startRegionRe.test(o))return this.getCommentRegionBlock(e,o,n);if(r=o.match(this.foldingStartMarker)){var s=r.index;if(r[1])return this.openingBracketBlock(e,r[1],n,s);var a=e.getCommentFoldRange(n,s+r[0].length,1);return a&&!a.isMultiLine()&&(i?a=this.getSectionRange(e,n):"all"!=t&&(a=null)),a}return"markbegin"!==t&&(r=o.match(this.foldingStopMarker))?(s=r.index+r[0].length,r[1]?this.closingBracketBlock(e,r[1],n,s):e.getCommentFoldRange(n,s,-1)):void 0},this.getSectionRange=function(e,t){for(var n=e.getLine(t),i=n.search(/\S/),o=t,s=n.length,a=t+=1,l=e.getLength();++t<l;){var c=(n=e.getLine(t)).search(/\S/);if(-1!==c){if(i>c)break;var u=this.getFoldWidgetRange(e,"all",t);if(u){if(u.start.row<=o)break;if(u.isMultiLine())t=u.end.row;else if(i==c)break}a=t}}return new r(o,s,a,e.getLine(a).length)},this.getCommentRegionBlock=function(e,t,n){for(var i=t.search(/\s*$/),o=e.getLength(),s=n,a=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,l=1;++n<o;){t=e.getLine(n);var c=a.exec(t);if(c&&(c[1]?l--:l++,!l))break}if(n>s)return new r(s,i,n,t.length)}}.call(s.prototype)})),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./text").Mode,o=e("./javascript_highlight_rules").JavaScriptHighlightRules,s=e("./matching_brace_outdent").MatchingBraceOutdent,a=e("../worker/worker_client").WorkerClient,l=e("./behaviour/cstyle").CstyleBehaviour,c=e("./folding/cstyle").FoldMode,u=function(){this.HighlightRules=o,this.$outdent=new s,this.$behaviour=new l,this.foldingRules=new c};i.inherits(u,r),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.getNextLineIndent=function(e,t,n){var i=this.$getIndent(t),r=this.getTokenizer().getLineTokens(t,e),o=r.tokens,s=r.state;if(o.length&&"comment"==o[o.length-1].type)return i;if("start"==e||"no_regex"==e)(a=t.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/))&&(i+=n);else if("doc-start"==e){if("start"==s||"no_regex"==s)return"";var a;(a=t.match(/^\s*(\/?)\*/))&&(a[1]&&(i+=" "),i+="* ")}return i},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.createWorker=function(e){var t=new a(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return t.attachToDocument(e.getDocument()),t.on("annotate",(function(t){e.setAnnotations(t.data)})),t.on("terminate",(function(){e.clearAnnotations()})),t},this.$id="ace/mode/javascript",this.snippetFileId="ace/snippets/javascript"}.call(u.prototype),t.Mode=u})),ace.define("ace/mode/xml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules,o=function(e){var t="[_:a-zA-Z-][-_:.a-zA-Z0-9-]*";this.$rules={start:[{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:["punctuation.instruction.xml","keyword.instruction.xml"],regex:"(<\\?)("+t+")",next:"processing_instruction"},{token:"comment.start.xml",regex:"<\\!--",next:"comment"},{token:["xml-pe.doctype.xml","xml-pe.doctype.xml"],regex:"(<\\!)(DOCTYPE)(?=[\\s])",next:"doctype",caseInsensitive:!0},{include:"tag"},{token:"text.end-tag-open.xml",regex:"</"},{token:"text.tag-open.xml",regex:"<"},{include:"reference"},{defaultToken:"text.xml"}],processing_instruction:[{token:"entity.other.attribute-name.decl-attribute-name.xml",regex:t},{token:"keyword.operator.decl-attribute-equals.xml",regex:"="},{include:"whitespace"},{include:"string"},{token:"punctuation.xml-decl.xml",regex:"\\?>",next:"start"}],doctype:[{include:"whitespace"},{include:"string"},{token:"xml-pe.doctype.xml",regex:">",next:"start"},{token:"xml-pe.xml",regex:"[-_a-zA-Z0-9:]+"},{token:"punctuation.int-subset",regex:"\\[",push:"int_subset"}],int_subset:[{token:"text.xml",regex:"\\s+"},{token:"punctuation.int-subset.xml",regex:"]",next:"pop"},{token:["punctuation.markup-decl.xml","keyword.markup-decl.xml"],regex:"(<\\!)("+t+")",push:[{token:"text",regex:"\\s+"},{token:"punctuation.markup-decl.xml",regex:">",next:"pop"},{include:"string"}]}],cdata:[{token:"string.cdata.xml",regex:"\\]\\]>",next:"start"},{token:"text.xml",regex:"\\s+"},{token:"text.xml",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment.end.xml",regex:"--\x3e",next:"start"},{defaultToken:"comment.xml"}],reference:[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],attr_reference:[{token:"constant.language.escape.reference.attribute-value.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],tag:[{token:["meta.tag.punctuation.tag-open.xml","meta.tag.punctuation.end-tag-open.xml","meta.tag.tag-name.xml"],regex:"(?:(<)|(</))((?:"+t+":)?"+t+")",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}],tag_whitespace:[{token:"text.tag-whitespace.xml",regex:"\\s+"}],whitespace:[{token:"text.whitespace.xml",regex:"\\s+"}],string:[{token:"string.xml",regex:"'",push:[{token:"string.xml",regex:"'",next:"pop"},{defaultToken:"string.xml"}]},{token:"string.xml",regex:'"',push:[{token:"string.xml",regex:'"',next:"pop"},{defaultToken:"string.xml"}]}],attributes:[{token:"entity.other.attribute-name.xml",regex:t},{token:"keyword.operator.attribute-equals.xml",regex:"="},{include:"tag_whitespace"},{include:"attribute_value"}],attribute_value:[{token:"string.attribute-value.xml",regex:"'",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]}]},this.constructor===o&&this.normalizeRules()};(function(){this.embedTagRules=function(e,t,n){this.$rules.tag.unshift({token:["meta.tag.punctuation.tag-open.xml","meta.tag."+n+".tag-name.xml"],regex:"(<)("+n+"(?=\\s|>|$))",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:t+"start"}]}),this.$rules[n+"-end"]=[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start",onMatch:function(e,t,n){return n.splice(0),this.token}}],this.embedRules(e,t,[{token:["meta.tag.punctuation.end-tag-open.xml","meta.tag."+n+".tag-name.xml"],regex:"(</)("+n+"(?=\\s|>|$))",next:n+"-end"},{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\["},{token:"string.cdata.xml",regex:"\\]\\]>"}])}}).call(r.prototype),i.inherits(o,r),t.XmlHighlightRules=o})),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(e,t,n){"use strict";var i=e("../../lib/oop"),r=e("../behaviour").Behaviour,o=e("../../token_iterator").TokenIterator;function s(e,t){return e&&e.type.lastIndexOf(t+".xml")>-1}e("../../lib/lang");var a=function(){this.add("string_dquotes","insertion",(function(e,t,n,i,r){if('"'==r||"'"==r){var a=r,l=i.doc.getTextRange(n.getSelectionRange());if(""!==l&&"'"!==l&&'"'!=l&&n.getWrapBehavioursEnabled())return{text:a+l+a,selection:!1};var c=n.getCursorPosition(),u=i.doc.getLine(c.row).substring(c.column,c.column+1),d=new o(i,c.row,c.column),h=d.getCurrentToken();if(u==a&&(s(h,"attribute-value")||s(h,"string")))return{text:"",selection:[1,1]};if(h||(h=d.stepBackward()),!h)return;for(;s(h,"tag-whitespace")||s(h,"whitespace");)h=d.stepBackward();var p=!u||u.match(/\s/);if(s(h,"attribute-equals")&&(p||">"==u)||s(h,"decl-attribute-equals")&&(p||"?"==u))return{text:a+a,selection:[1,1]}}})),this.add("string_dquotes","deletion",(function(e,t,n,i,r){var o=i.doc.getTextRange(r);if(!r.isMultiLine()&&('"'==o||"'"==o)&&i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)==o)return r.end.column++,r})),this.add("autoclosing","insertion",(function(e,t,n,i,r){if(">"==r){var a=n.getSelectionRange().start,l=new o(i,a.row,a.column),c=l.getCurrentToken()||l.stepBackward();if(!c||!(s(c,"tag-name")||s(c,"tag-whitespace")||s(c,"attribute-name")||s(c,"attribute-equals")||s(c,"attribute-value")))return;if(s(c,"reference.attribute-value"))return;if(s(c,"attribute-value")){var u=l.getCurrentTokenColumn()+c.value.length;if(a.column<u)return;if(a.column==u){var d=l.stepForward();if(d&&s(d,"attribute-value"))return;l.stepBackward()}}if(/^\s*>/.test(i.getLine(a.row).slice(a.column)))return;for(;!s(c,"tag-name");)if("<"==(c=l.stepBackward()).value){c=l.stepForward();break}var h=l.getCurrentTokenRow(),p=l.getCurrentTokenColumn();if(s(l.stepBackward(),"end-tag-open"))return;var f=c.value;if(h==a.row&&(f=f.substring(0,a.column-p)),this.voidElements.hasOwnProperty(f.toLowerCase()))return;return{text:"></"+f+">",selection:[1,1]}}})),this.add("autoindent","insertion",(function(e,t,n,i,r){if("\n"==r){var s=n.getCursorPosition(),a=i.getLine(s.row),l=new o(i,s.row,s.column),c=l.getCurrentToken();if(c&&-1!==c.type.indexOf("tag-close")){if("/>"==c.value)return;for(;c&&-1===c.type.indexOf("tag-name");)c=l.stepBackward();if(!c)return;var u=c.value,d=l.getCurrentTokenRow();if(!(c=l.stepBackward())||-1!==c.type.indexOf("end-tag"))return;if(this.voidElements&&!this.voidElements[u]){var h=i.getTokenAt(s.row,s.column+1),p=(a=i.getLine(d),this.$getIndent(a)),f=p+i.getTabString();return h&&"</"===h.value?{text:"\n"+f+"\n"+p,selection:[1,f.length,1,f.length]}:{text:"\n"+f}}}}}))};i.inherits(a,r),t.XmlBehaviour=a})),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/range","ace/mode/folding/fold_mode","ace/token_iterator"],(function(e,t,n){"use strict";var i=e("../../lib/oop"),r=(e("../../lib/lang"),e("../../range").Range),o=e("./fold_mode").FoldMode,s=e("../../token_iterator").TokenIterator,a=t.FoldMode=function(e,t){o.call(this),this.voidElements=e||{},this.optionalEndTags=i.mixin({},this.voidElements),t&&i.mixin(this.optionalEndTags,t)};i.inherits(a,o);var l=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};function c(e,t){return e.type.lastIndexOf(t+".xml")>-1}(function(){this.getFoldWidget=function(e,t,n){var i=this._getFirstTagInLine(e,n);return i?i.closing||!i.tagName&&i.selfClosing?"markbeginend"==t?"end":"":!i.tagName||i.selfClosing||this.voidElements.hasOwnProperty(i.tagName.toLowerCase())||this._findEndTagInLine(e,n,i.tagName,i.end.column)?"":"start":this.getCommentFoldWidget(e,n)},this.getCommentFoldWidget=function(e,t){return/comment/.test(e.getState(t))&&/<!-/.test(e.getLine(t))?"start":""},this._getFirstTagInLine=function(e,t){for(var n=e.getTokens(t),i=new l,r=0;r<n.length;r++){var o=n[r];if(c(o,"tag-open")){if(i.end.column=i.start.column+o.value.length,i.closing=c(o,"end-tag-open"),!(o=n[++r]))return null;for(i.tagName=o.value,i.end.column+=o.value.length,r++;r<n.length;r++)if(o=n[r],i.end.column+=o.value.length,c(o,"tag-close")){i.selfClosing="/>"==o.value;break}return i}if(c(o,"tag-close"))return i.selfClosing="/>"==o.value,i;i.start.column+=o.value.length}return null},this._findEndTagInLine=function(e,t,n,i){for(var r=e.getTokens(t),o=0,s=0;s<r.length;s++){var a=r[s];if(!((o+=a.value.length)<i)&&c(a,"end-tag-open")&&(a=r[s+1])&&a.value==n)return!0}return!1},this._readTagForward=function(e){var t=e.getCurrentToken();if(!t)return null;var n=new l;do{if(c(t,"tag-open"))n.closing=c(t,"end-tag-open"),n.start.row=e.getCurrentTokenRow(),n.start.column=e.getCurrentTokenColumn();else if(c(t,"tag-name"))n.tagName=t.value;else if(c(t,"tag-close"))return n.selfClosing="/>"==t.value,n.end.row=e.getCurrentTokenRow(),n.end.column=e.getCurrentTokenColumn()+t.value.length,e.stepForward(),n}while(t=e.stepForward());return null},this._readTagBackward=function(e){var t=e.getCurrentToken();if(!t)return null;var n=new l;do{if(c(t,"tag-open"))return n.closing=c(t,"end-tag-open"),n.start.row=e.getCurrentTokenRow(),n.start.column=e.getCurrentTokenColumn(),e.stepBackward(),n;c(t,"tag-name")?n.tagName=t.value:c(t,"tag-close")&&(n.selfClosing="/>"==t.value,n.end.row=e.getCurrentTokenRow(),n.end.column=e.getCurrentTokenColumn()+t.value.length)}while(t=e.stepBackward());return null},this._pop=function(e,t){for(;e.length;){var n=e[e.length-1];if(t&&n.tagName!=t.tagName){if(this.optionalEndTags.hasOwnProperty(n.tagName)){e.pop();continue}return null}return e.pop()}},this.getFoldWidgetRange=function(e,t,n){var i=this._getFirstTagInLine(e,n);if(!i)return this.getCommentFoldWidget(e,n)&&e.getCommentFoldRange(n,e.getLine(n).length);var o,a=[];if(i.closing||i.selfClosing){c=new s(e,n,i.end.column);for(var l={row:n,column:i.start.column};o=this._readTagBackward(c);){if(o.selfClosing){if(a.length)continue;return o.start.column+=o.tagName.length+2,o.end.column-=2,r.fromPoints(o.start,o.end)}if(o.closing)a.push(o);else if(this._pop(a,o),0==a.length)return o.start.column+=o.tagName.length+2,o.start.row==o.end.row&&o.start.column<o.end.column&&(o.start.column=o.end.column),r.fromPoints(o.start,l)}}else{var c=new s(e,n,i.start.column),u={row:n,column:i.start.column+i.tagName.length+2};for(i.start.row==i.end.row&&(u.column=i.end.column);o=this._readTagForward(c);){if(o.selfClosing){if(a.length)continue;return o.start.column+=o.tagName.length+2,o.end.column-=2,r.fromPoints(o.start,o.end)}if(o.closing){if(this._pop(a,o),0==a.length)return r.fromPoints(u,o.start)}else a.push(o)}}}}).call(a.prototype)})),ace.define("ace/mode/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/xml_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/xml","ace/worker/worker_client"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("../lib/lang"),o=e("./text").Mode,s=e("./xml_highlight_rules").XmlHighlightRules,a=e("./behaviour/xml").XmlBehaviour,l=e("./folding/xml").FoldMode,c=e("../worker/worker_client").WorkerClient,u=function(){this.HighlightRules=s,this.$behaviour=new a,this.foldingRules=new l};i.inherits(u,o),function(){this.voidElements=r.arrayToMap([]),this.blockComment={start:"\x3c!--",end:"--\x3e"},this.createWorker=function(e){var t=new c(["ace"],"ace/mode/xml_worker","Worker");return t.attachToDocument(e.getDocument()),t.on("error",(function(t){e.setAnnotations(t.data)})),t.on("terminate",(function(){e.clearAnnotations()})),t},this.$id="ace/mode/xml"}.call(u.prototype),t.Mode=u})),ace.define("ace/mode/css_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=(e("../lib/lang"),e("./text_highlight_rules").TextHighlightRules),o=t.supportType="align-content|align-items|align-self|all|animation|animation-delay|animation-direction|animation-duration|animation-fill-mode|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|backface-visibility|background|background-attachment|background-blend-mode|background-clip|background-color|background-image|background-origin|background-position|background-repeat|background-size|border|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-collapse|border-color|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|bottom|box-shadow|box-sizing|caption-side|clear|clip|color|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|content|counter-increment|counter-reset|cursor|direction|display|empty-cells|filter|flex|flex-basis|flex-direction|flex-flow|flex-grow|flex-shrink|flex-wrap|float|font|font-family|font-size|font-size-adjust|font-stretch|font-style|font-variant|font-weight|hanging-punctuation|height|justify-content|left|letter-spacing|line-height|list-style|list-style-image|list-style-position|list-style-type|margin|margin-bottom|margin-left|margin-right|margin-top|max-height|max-width|max-zoom|min-height|min-width|min-zoom|nav-down|nav-index|nav-left|nav-right|nav-up|opacity|order|outline|outline-color|outline-offset|outline-style|outline-width|overflow|overflow-x|overflow-y|padding|padding-bottom|padding-left|padding-right|padding-top|page-break-after|page-break-before|page-break-inside|perspective|perspective-origin|position|quotes|resize|right|tab-size|table-layout|text-align|text-align-last|text-decoration|text-decoration-color|text-decoration-line|text-decoration-style|text-indent|text-justify|text-overflow|text-shadow|text-transform|top|transform|transform-origin|transform-style|transition|transition-delay|transition-duration|transition-property|transition-timing-function|unicode-bidi|user-select|user-zoom|vertical-align|visibility|white-space|width|word-break|word-spacing|word-wrap|z-index",s=t.supportFunction="rgb|rgba|url|attr|counter|counters",a=t.supportConstant="absolute|after-edge|after|all-scroll|all|alphabetic|always|antialiased|armenian|auto|avoid-column|avoid-page|avoid|balance|baseline|before-edge|before|below|bidi-override|block-line-height|block|bold|bolder|border-box|both|bottom|box|break-all|break-word|capitalize|caps-height|caption|center|central|char|circle|cjk-ideographic|clone|close-quote|col-resize|collapse|column|consider-shifts|contain|content-box|cover|crosshair|cubic-bezier|dashed|decimal-leading-zero|decimal|default|disabled|disc|disregard-shifts|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ease-in|ease-in-out|ease-out|ease|ellipsis|end|exclude-ruby|fill|fixed|georgian|glyphs|grid-height|groove|hand|hanging|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|ideographic|inactive|include-ruby|inherit|initial|inline-block|inline-box|inline-line-height|inline-table|inline|inset|inside|inter-ideograph|inter-word|invert|italic|justify|katakana-iroha|katakana|keep-all|last|left|lighter|line-edge|line-through|line|linear|list-item|local|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|mathematical|max-height|max-size|medium|menu|message-box|middle|move|n-resize|ne-resize|newspaper|no-change|no-close-quote|no-drop|no-open-quote|no-repeat|none|normal|not-allowed|nowrap|nw-resize|oblique|open-quote|outset|outside|overline|padding-box|page|pointer|pre-line|pre-wrap|pre|preserve-3d|progress|relative|repeat-x|repeat-y|repeat|replaced|reset-size|ridge|right|round|row-resize|rtl|s-resize|scroll|se-resize|separate|slice|small-caps|small-caption|solid|space|square|start|static|status-bar|step-end|step-start|steps|stretch|strict|sub|super|sw-resize|table-caption|table-cell|table-column-group|table-column|table-footer-group|table-header-group|table-row-group|table-row|table|tb-rl|text-after-edge|text-before-edge|text-bottom|text-size|text-top|text|thick|thin|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|use-script|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|z-index|zero|zoom",l=t.supportConstantColor="aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|rebeccapurple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|white|whitesmoke|yellow|yellowgreen",c=t.supportConstantFonts="arial|century|comic|courier|cursive|fantasy|garamond|georgia|helvetica|impact|lucida|symbol|system|tahoma|times|trebuchet|utopia|verdana|webdings|sans-serif|serif|monospace",u=t.numRe="\\-?(?:(?:[0-9]+(?:\\.[0-9]+)?)|(?:\\.[0-9]+))",d=t.pseudoElements="(\\:+)\\b(after|before|first-letter|first-line|moz-selection|selection)\\b",h=t.pseudoClasses="(:)\\b(active|checked|disabled|empty|enabled|first-child|first-of-type|focus|hover|indeterminate|invalid|last-child|last-of-type|link|not|nth-child|nth-last-child|nth-last-of-type|nth-of-type|only-child|only-of-type|required|root|target|valid|visited)\\b",p=function(){var e=this.createKeywordMapper({"support.function":s,"support.constant":a,"support.type":o,"support.constant.color":l,"support.constant.fonts":c},"text",!0);this.$rules={start:[{include:["strings","url","comments"]},{token:"paren.lparen",regex:"\\{",next:"ruleset"},{token:"paren.rparen",regex:"\\}"},{token:"string",regex:"@(?!viewport)",next:"media"},{token:"keyword",regex:"#[a-z0-9-_]+"},{token:"keyword",regex:"%"},{token:"variable",regex:"\\.[a-z0-9-_]+"},{token:"string",regex:":[a-z0-9-_]+"},{token:"constant.numeric",regex:u},{token:"constant",regex:"[a-z0-9-_]+"},{caseInsensitive:!0}],media:[{include:["strings","url","comments"]},{token:"paren.lparen",regex:"\\{",next:"start"},{token:"paren.rparen",regex:"\\}",next:"start"},{token:"string",regex:";",next:"start"},{token:"keyword",regex:"(?:media|supports|document|charset|import|namespace|media|supports|document|page|font|keyframes|viewport|counter-style|font-feature-values|swash|ornaments|annotation|stylistic|styleset|character-variant)"}],comments:[{token:"comment",regex:"\\/\\*",push:[{token:"comment",regex:"\\*\\/",next:"pop"},{defaultToken:"comment"}]}],ruleset:[{regex:"-(webkit|ms|moz|o)-",token:"text"},{token:"punctuation.operator",regex:"[:;]"},{token:"paren.rparen",regex:"\\}",next:"start"},{include:["strings","url","comments"]},{token:["constant.numeric","keyword"],regex:"("+u+")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vmax|vmin|vm|vw|%)"},{token:"constant.numeric",regex:u},{token:"constant.numeric",regex:"#[a-f0-9]{6}"},{token:"constant.numeric",regex:"#[a-f0-9]{3}"},{token:["punctuation","entity.other.attribute-name.pseudo-element.css"],regex:d},{token:["punctuation","entity.other.attribute-name.pseudo-class.css"],regex:h},{include:"url"},{token:e,regex:"\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"},{caseInsensitive:!0}],url:[{token:"support.function",regex:"(?:url(:?-prefix)?|domain|regexp)\\(",push:[{token:"support.function",regex:"\\)",next:"pop"},{defaultToken:"string"}]}],strings:[{token:"string.start",regex:"'",push:[{token:"string.end",regex:"'|$",next:"pop"},{include:"escapes"},{token:"constant.language.escape",regex:/\\$/,consumeLineEnd:!0},{defaultToken:"string"}]},{token:"string.start",regex:'"',push:[{token:"string.end",regex:'"|$',next:"pop"},{include:"escapes"},{token:"constant.language.escape",regex:/\\$/,consumeLineEnd:!0},{defaultToken:"string"}]}],escapes:[{token:"constant.language.escape",regex:/\\([a-fA-F\d]{1,6}|[^a-fA-F\d])/}]},this.normalizeRules()};i.inherits(p,r),t.CssHighlightRules=p})),ace.define("ace/mode/css_completions",["require","exports","module"],(function(e,t,n){"use strict";var i={background:{"#$0":1},"background-color":{"#$0":1,transparent:1,fixed:1},"background-image":{"url('/$0')":1},"background-repeat":{repeat:1,"repeat-x":1,"repeat-y":1,"no-repeat":1,inherit:1},"background-position":{bottom:2,center:2,left:2,right:2,top:2,inherit:2},"background-attachment":{scroll:1,fixed:1},"background-size":{cover:1,contain:1},"background-clip":{"border-box":1,"padding-box":1,"content-box":1},"background-origin":{"border-box":1,"padding-box":1,"content-box":1},border:{"solid $0":1,"dashed $0":1,"dotted $0":1,"#$0":1},"border-color":{"#$0":1},"border-style":{solid:2,dashed:2,dotted:2,double:2,groove:2,hidden:2,inherit:2,inset:2,none:2,outset:2,ridged:2},"border-collapse":{collapse:1,separate:1},bottom:{px:1,em:1,"%":1},clear:{left:1,right:1,both:1,none:1},color:{"#$0":1,"rgb(#$00,0,0)":1},cursor:{default:1,pointer:1,move:1,text:1,wait:1,help:1,progress:1,"n-resize":1,"ne-resize":1,"e-resize":1,"se-resize":1,"s-resize":1,"sw-resize":1,"w-resize":1,"nw-resize":1},display:{none:1,block:1,inline:1,"inline-block":1,"table-cell":1},"empty-cells":{show:1,hide:1},float:{left:1,right:1,none:1},"font-family":{Arial:2,"Comic Sans MS":2,Consolas:2,"Courier New":2,Courier:2,Georgia:2,Monospace:2,"Sans-Serif":2,"Segoe UI":2,Tahoma:2,"Times New Roman":2,"Trebuchet MS":2,Verdana:1},"font-size":{px:1,em:1,"%":1},"font-weight":{bold:1,normal:1},"font-style":{italic:1,normal:1},"font-variant":{normal:1,"small-caps":1},height:{px:1,em:1,"%":1},left:{px:1,em:1,"%":1},"letter-spacing":{normal:1},"line-height":{normal:1},"list-style-type":{none:1,disc:1,circle:1,square:1,decimal:1,"decimal-leading-zero":1,"lower-roman":1,"upper-roman":1,"lower-greek":1,"lower-latin":1,"upper-latin":1,georgian:1,"lower-alpha":1,"upper-alpha":1},margin:{px:1,em:1,"%":1},"margin-right":{px:1,em:1,"%":1},"margin-left":{px:1,em:1,"%":1},"margin-top":{px:1,em:1,"%":1},"margin-bottom":{px:1,em:1,"%":1},"max-height":{px:1,em:1,"%":1},"max-width":{px:1,em:1,"%":1},"min-height":{px:1,em:1,"%":1},"min-width":{px:1,em:1,"%":1},overflow:{hidden:1,visible:1,auto:1,scroll:1},"overflow-x":{hidden:1,visible:1,auto:1,scroll:1},"overflow-y":{hidden:1,visible:1,auto:1,scroll:1},padding:{px:1,em:1,"%":1},"padding-top":{px:1,em:1,"%":1},"padding-right":{px:1,em:1,"%":1},"padding-bottom":{px:1,em:1,"%":1},"padding-left":{px:1,em:1,"%":1},"page-break-after":{auto:1,always:1,avoid:1,left:1,right:1},"page-break-before":{auto:1,always:1,avoid:1,left:1,right:1},position:{absolute:1,relative:1,fixed:1,static:1},right:{px:1,em:1,"%":1},"table-layout":{fixed:1,auto:1},"text-decoration":{none:1,underline:1,"line-through":1,blink:1},"text-align":{left:1,right:1,center:1,justify:1},"text-transform":{capitalize:1,uppercase:1,lowercase:1,none:1},top:{px:1,em:1,"%":1},"vertical-align":{top:1,bottom:1},visibility:{hidden:1,visible:1},"white-space":{nowrap:1,normal:1,pre:1,"pre-line":1,"pre-wrap":1},width:{px:1,em:1,"%":1},"word-spacing":{normal:1},filter:{"alpha(opacity=$0100)":1},"text-shadow":{"$02px 2px 2px #777":1},"text-overflow":{"ellipsis-word":1,clip:1,ellipsis:1},"-moz-border-radius":1,"-moz-border-radius-topright":1,"-moz-border-radius-bottomright":1,"-moz-border-radius-topleft":1,"-moz-border-radius-bottomleft":1,"-webkit-border-radius":1,"-webkit-border-top-right-radius":1,"-webkit-border-top-left-radius":1,"-webkit-border-bottom-right-radius":1,"-webkit-border-bottom-left-radius":1,"-moz-box-shadow":1,"-webkit-box-shadow":1,transform:{"rotate($00deg)":1,"skew($00deg)":1},"-moz-transform":{"rotate($00deg)":1,"skew($00deg)":1},"-webkit-transform":{"rotate($00deg)":1,"skew($00deg)":1}},r=function(){};(function(){this.completionsDefined=!1,this.defineCompletions=function(){if(document){var e=document.createElement("c").style;for(var t in e)if("string"==typeof e[t]){var n=t.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()}));i.hasOwnProperty(n)||(i[n]=1)}}this.completionsDefined=!0},this.getCompletions=function(e,t,n,i){if(this.completionsDefined||this.defineCompletions(),"ruleset"===e||"ace/mode/scss"==t.$mode.$id){var r=t.getLine(n.row).substr(0,n.column);return/:[^;]+$/.test(r)?(/([\w\-]+):[^:]*$/.test(r),this.getPropertyValueCompletions(e,t,n,i)):this.getPropertyCompletions(e,t,n,i)}return[]},this.getPropertyCompletions=function(e,t,n,r){return Object.keys(i).map((function(e){return{caption:e,snippet:e+": $0;",meta:"property",score:1e6}}))},this.getPropertyValueCompletions=function(e,t,n,r){var o=t.getLine(n.row).substr(0,n.column),s=(/([\w\-]+):[^:]*$/.exec(o)||{})[1];if(!s)return[];var a=[];return s in i&&"object"==typeof i[s]&&(a=Object.keys(i[s])),a.map((function(e){return{caption:e,snippet:e,meta:"property value",score:1e6}}))}}).call(r.prototype),t.CssCompletions=r})),ace.define("ace/mode/behaviour/css",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/mode/behaviour/cstyle","ace/token_iterator"],(function(e,t,n){"use strict";var i=e("../../lib/oop"),r=(e("../behaviour").Behaviour,e("./cstyle").CstyleBehaviour),o=e("../../token_iterator").TokenIterator,s=function(){this.inherit(r),this.add("colon","insertion",(function(e,t,n,i,r){if(":"===r&&n.selection.isEmpty()){var s=n.getCursorPosition(),a=new o(i,s.row,s.column),l=a.getCurrentToken();if(l&&l.value.match(/\s+/)&&(l=a.stepBackward()),l&&"support.type"===l.type){var c=i.doc.getLine(s.row);if(":"===c.substring(s.column,s.column+1))return{text:"",selection:[1,1]};if(/^(\s+[^;]|\s*$)/.test(c.substring(s.column)))return{text:":;",selection:[1,1]}}}})),this.add("colon","deletion",(function(e,t,n,i,r){var s=i.doc.getTextRange(r);if(!r.isMultiLine()&&":"===s){var a=n.getCursorPosition(),l=new o(i,a.row,a.column),c=l.getCurrentToken();if(c&&c.value.match(/\s+/)&&(c=l.stepBackward()),c&&"support.type"===c.type&&";"===i.doc.getLine(r.start.row).substring(r.end.column,r.end.column+1))return r.end.column++,r}})),this.add("semicolon","insertion",(function(e,t,n,i,r){if(";"===r&&n.selection.isEmpty()){var o=n.getCursorPosition();if(";"===i.doc.getLine(o.row).substring(o.column,o.column+1))return{text:"",selection:[1,1]}}})),this.add("!important","insertion",(function(e,t,n,i,r){if("!"===r&&n.selection.isEmpty()){var o=n.getCursorPosition(),s=i.doc.getLine(o.row);if(/^\s*(;|}|$)/.test(s.substring(o.column)))return{text:"!important",selection:[10,10]}}}))};i.inherits(s,r),t.CssBehaviour=s})),ace.define("ace/mode/css",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/css_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/css_completions","ace/mode/behaviour/css","ace/mode/folding/cstyle"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./text").Mode,o=e("./css_highlight_rules").CssHighlightRules,s=e("./matching_brace_outdent").MatchingBraceOutdent,a=e("../worker/worker_client").WorkerClient,l=e("./css_completions").CssCompletions,c=e("./behaviour/css").CssBehaviour,u=e("./folding/cstyle").FoldMode,d=function(){this.HighlightRules=o,this.$outdent=new s,this.$behaviour=new c,this.$completer=new l,this.foldingRules=new u};i.inherits(d,r),function(){this.foldingRules="cStyle",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(e,t,n){var i=this.$getIndent(t),r=this.getTokenizer().getLineTokens(t,e).tokens;return r.length&&"comment"==r[r.length-1].type||t.match(/^.*\{\s*$/)&&(i+=n),i},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.getCompletions=function(e,t,n,i){return this.$completer.getCompletions(e,t,n,i)},this.createWorker=function(e){var t=new a(["ace"],"ace/mode/css_worker","Worker");return t.attachToDocument(e.getDocument()),t.on("annotate",(function(t){e.setAnnotations(t.data)})),t.on("terminate",(function(){e.clearAnnotations()})),t},this.$id="ace/mode/css",this.snippetFileId="ace/snippets/css"}.call(d.prototype),t.Mode=d})),ace.define("ace/mode/html_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/css_highlight_rules","ace/mode/javascript_highlight_rules","ace/mode/xml_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("../lib/lang"),o=e("./css_highlight_rules").CssHighlightRules,s=e("./javascript_highlight_rules").JavaScriptHighlightRules,a=e("./xml_highlight_rules").XmlHighlightRules,l=r.createMap({a:"anchor",button:"form",form:"form",img:"image",input:"form",label:"form",option:"form",script:"script",select:"form",textarea:"form",style:"style",table:"table",tbody:"table",td:"table",tfoot:"table",th:"table",tr:"table"}),c=function(){a.call(this),this.addRules({attributes:[{include:"tag_whitespace"},{token:"entity.other.attribute-name.xml",regex:"[-_a-zA-Z0-9:.]+"},{token:"keyword.operator.attribute-equals.xml",regex:"=",push:[{include:"tag_whitespace"},{token:"string.unquoted.attribute-value.html",regex:"[^<>='\"`\\s]+",next:"pop"},{token:"empty",regex:"",next:"pop"}]},{include:"attribute_value"}],tag:[{token:function(e,t){var n=l[t];return["meta.tag.punctuation."+("<"==e?"":"end-")+"tag-open.xml","meta.tag"+(n?"."+n:"")+".tag-name.xml"]},regex:"(</?)([-_a-zA-Z0-9:.]+)",next:"tag_stuff"}],tag_stuff:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}),this.embedTagRules(o,"css-","style"),this.embedTagRules(new s({jsx:!1}).getRules(),"js-","script"),this.constructor===c&&this.normalizeRules()};i.inherits(c,a),t.HtmlHighlightRules=c})),ace.define("ace/mode/folding/mixed",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],(function(e,t,n){"use strict";var i=e("../../lib/oop"),r=e("./fold_mode").FoldMode,o=t.FoldMode=function(e,t){this.defaultMode=e,this.subModes=t};i.inherits(o,r),function(){this.$getMode=function(e){for(var t in"string"!=typeof e&&(e=e[0]),this.subModes)if(0===e.indexOf(t))return this.subModes[t];return null},this.$tryMode=function(e,t,n,i){var r=this.$getMode(e);return r?r.getFoldWidget(t,n,i):""},this.getFoldWidget=function(e,t,n){return this.$tryMode(e.getState(n-1),e,t,n)||this.$tryMode(e.getState(n),e,t,n)||this.defaultMode.getFoldWidget(e,t,n)},this.getFoldWidgetRange=function(e,t,n){var i=this.$getMode(e.getState(n-1));return i&&i.getFoldWidget(e,t,n)||(i=this.$getMode(e.getState(n))),i&&i.getFoldWidget(e,t,n)||(i=this.defaultMode),i.getFoldWidgetRange(e,t,n)}}.call(o.prototype)})),ace.define("ace/mode/folding/html",["require","exports","module","ace/lib/oop","ace/mode/folding/mixed","ace/mode/folding/xml","ace/mode/folding/cstyle"],(function(e,t,n){"use strict";var i=e("../../lib/oop"),r=e("./mixed").FoldMode,o=e("./xml").FoldMode,s=e("./cstyle").FoldMode,a=t.FoldMode=function(e,t){r.call(this,new o(e,t),{"js-":new s,"css-":new s})};i.inherits(a,r)})),ace.define("ace/mode/html_completions",["require","exports","module","ace/token_iterator"],(function(e,t,n){"use strict";var i=e("../token_iterator").TokenIterator,r=["accesskey","class","contenteditable","contextmenu","dir","draggable","dropzone","hidden","id","inert","itemid","itemprop","itemref","itemscope","itemtype","lang","spellcheck","style","tabindex","title","translate"].concat(["onabort","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextmenu","oncuechange","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpause","onplay","onplaying","onprogress","onratechange","onreset","onscroll","onseeked","onseeking","onselect","onshow","onstalled","onsubmit","onsuspend","ontimeupdate","onvolumechange","onwaiting"]),o={a:{href:1,target:{_blank:1,top:1},ping:1,rel:{nofollow:1,alternate:1,author:1,bookmark:1,help:1,license:1,next:1,noreferrer:1,prefetch:1,prev:1,search:1,tag:1},media:1,hreflang:1,type:1},abbr:{},address:{},area:{shape:1,coords:1,href:1,hreflang:1,alt:1,target:1,media:1,rel:1,ping:1,type:1},article:{pubdate:1},aside:{},audio:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},muted:{muted:1},preload:{auto:1,metadata:1,none:1}},b:{},base:{href:1,target:1},bdi:{},bdo:{},blockquote:{cite:1},body:{onafterprint:1,onbeforeprint:1,onbeforeunload:1,onhashchange:1,onmessage:1,onoffline:1,onpopstate:1,onredo:1,onresize:1,onstorage:1,onundo:1,onunload:1},br:{},button:{autofocus:1,disabled:{disabled:1},form:1,formaction:1,formenctype:1,formmethod:1,formnovalidate:1,formtarget:1,name:1,value:1,type:{button:1,submit:1}},canvas:{width:1,height:1},caption:{},cite:{},code:{},col:{span:1},colgroup:{span:1},command:{type:1,label:1,icon:1,disabled:1,checked:1,radiogroup:1,command:1},data:{},datalist:{},dd:{},del:{cite:1,datetime:1},details:{open:1},dfn:{},dialog:{open:1},div:{},dl:{},dt:{},em:{},embed:{src:1,height:1,width:1,type:1},fieldset:{disabled:1,form:1,name:1},figcaption:{},figure:{},footer:{},form:{"accept-charset":1,action:1,autocomplete:1,enctype:{"multipart/form-data":1,"application/x-www-form-urlencoded":1},method:{get:1,post:1},name:1,novalidate:1,target:{_blank:1,top:1}},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},head:{},header:{},hr:{},html:{manifest:1},i:{},iframe:{name:1,src:1,height:1,width:1,sandbox:{"allow-same-origin":1,"allow-top-navigation":1,"allow-forms":1,"allow-scripts":1},seamless:{seamless:1}},img:{alt:1,src:1,height:1,width:1,usemap:1,ismap:1},input:{type:{text:1,password:1,hidden:1,checkbox:1,submit:1,radio:1,file:1,button:1,reset:1,image:31,color:1,date:1,datetime:1,"datetime-local":1,email:1,month:1,number:1,range:1,search:1,tel:1,time:1,url:1,week:1},accept:1,alt:1,autocomplete:{on:1,off:1},autofocus:{autofocus:1},checked:{checked:1},disabled:{disabled:1},form:1,formaction:1,formenctype:{"application/x-www-form-urlencoded":1,"multipart/form-data":1,"text/plain":1},formmethod:{get:1,post:1},formnovalidate:{formnovalidate:1},formtarget:{_blank:1,_self:1,_parent:1,_top:1},height:1,list:1,max:1,maxlength:1,min:1,multiple:{multiple:1},name:1,pattern:1,placeholder:1,readonly:{readonly:1},required:{required:1},size:1,src:1,step:1,width:1,files:1,value:1},ins:{cite:1,datetime:1},kbd:{},keygen:{autofocus:1,challenge:{challenge:1},disabled:{disabled:1},form:1,keytype:{rsa:1,dsa:1,ec:1},name:1},label:{form:1,for:1},legend:{},li:{value:1},link:{href:1,hreflang:1,rel:{stylesheet:1,icon:1},media:{all:1,screen:1,print:1},type:{"text/css":1,"image/png":1,"image/jpeg":1,"image/gif":1},sizes:1},main:{},map:{name:1},mark:{},math:{},menu:{type:1,label:1},meta:{"http-equiv":{"content-type":1},name:{description:1,keywords:1},content:{"text/html; charset=UTF-8":1},charset:1},meter:{value:1,min:1,max:1,low:1,high:1,optimum:1},nav:{},noscript:{href:1},object:{param:1,data:1,type:1,height:1,width:1,usemap:1,name:1,form:1,classid:1},ol:{start:1,reversed:1},optgroup:{disabled:1,label:1},option:{disabled:1,selected:1,label:1,value:1},output:{for:1,form:1,name:1},p:{},param:{name:1,value:1},pre:{},progress:{value:1,max:1},q:{cite:1},rp:{},rt:{},ruby:{},s:{},samp:{},script:{charset:1,type:{"text/javascript":1},src:1,defer:1,async:1},select:{autofocus:1,disabled:1,form:1,multiple:{multiple:1},name:1,size:1,readonly:{readonly:1}},small:{},source:{src:1,type:1,media:1},span:{},strong:{},style:{type:1,media:{all:1,screen:1,print:1},scoped:1},sub:{},sup:{},svg:{},table:{summary:1},tbody:{},td:{headers:1,rowspan:1,colspan:1},textarea:{autofocus:{autofocus:1},disabled:{disabled:1},form:1,maxlength:1,name:1,placeholder:1,readonly:{readonly:1},required:{required:1},rows:1,cols:1,wrap:{on:1,off:1,hard:1,soft:1}},tfoot:{},th:{headers:1,rowspan:1,colspan:1,scope:1},thead:{},time:{datetime:1},title:{},tr:{},track:{kind:1,src:1,srclang:1,label:1,default:1},section:{},summary:{},u:{},ul:{},var:{},video:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},width:1,height:1,poster:1,muted:{muted:1},preload:{auto:1,metadata:1,none:1}},wbr:{}},s=Object.keys(o);function a(e,t){return e.type.lastIndexOf(t+".xml")>-1}function l(e,t){for(var n=new i(e,t.row,t.column),r=n.getCurrentToken();r&&!a(r,"tag-name");)r=n.stepBackward();if(r)return r.value}var c=function(){};(function(){this.getCompletions=function(e,t,n,i){var r=t.getTokenAt(n.row,n.column);if(!r)return[];if(a(r,"tag-name")||a(r,"tag-open")||a(r,"end-tag-open"))return this.getTagCompletions(e,t,n,i);if(a(r,"tag-whitespace")||a(r,"attribute-name"))return this.getAttributeCompletions(e,t,n,i);if(a(r,"attribute-value"))return this.getAttributeValueCompletions(e,t,n,i);var o=t.getLine(n.row).substr(0,n.column);return/&[a-z]*$/i.test(o)?this.getHTMLEntityCompletions(e,t,n,i):[]},this.getTagCompletions=function(e,t,n,i){return s.map((function(e){return{value:e,meta:"tag",score:1e6}}))},this.getAttributeCompletions=function(e,t,n,i){var s=l(t,n);if(!s)return[];var a=r;return s in o&&(a=a.concat(Object.keys(o[s]))),a.map((function(e){return{caption:e,snippet:e+'="$0"',meta:"attribute",score:1e6}}))},this.getAttributeValueCompletions=function(e,t,n,r){var s=l(t,n),c=function(e,t){for(var n=new i(e,t.row,t.column),r=n.getCurrentToken();r&&!a(r,"attribute-name");)r=n.stepBackward();if(r)return r.value}(t,n);if(!s)return[];var u=[];return s in o&&c in o[s]&&"object"==typeof o[s][c]&&(u=Object.keys(o[s][c])),u.map((function(e){return{caption:e,snippet:e,meta:"attribute value",score:1e6}}))},this.getHTMLEntityCompletions=function(e,t,n,i){return["Aacute;","aacute;","Acirc;","acirc;","acute;","AElig;","aelig;","Agrave;","agrave;","alefsym;","Alpha;","alpha;","amp;","and;","ang;","Aring;","aring;","asymp;","Atilde;","atilde;","Auml;","auml;","bdquo;","Beta;","beta;","brvbar;","bull;","cap;","Ccedil;","ccedil;","cedil;","cent;","Chi;","chi;","circ;","clubs;","cong;","copy;","crarr;","cup;","curren;","Dagger;","dagger;","dArr;","darr;","deg;","Delta;","delta;","diams;","divide;","Eacute;","eacute;","Ecirc;","ecirc;","Egrave;","egrave;","empty;","emsp;","ensp;","Epsilon;","epsilon;","equiv;","Eta;","eta;","ETH;","eth;","Euml;","euml;","euro;","exist;","fnof;","forall;","frac12;","frac14;","frac34;","frasl;","Gamma;","gamma;","ge;","gt;","hArr;","harr;","hearts;","hellip;","Iacute;","iacute;","Icirc;","icirc;","iexcl;","Igrave;","igrave;","image;","infin;","int;","Iota;","iota;","iquest;","isin;","Iuml;","iuml;","Kappa;","kappa;","Lambda;","lambda;","lang;","laquo;","lArr;","larr;","lceil;","ldquo;","le;","lfloor;","lowast;","loz;","lrm;","lsaquo;","lsquo;","lt;","macr;","mdash;","micro;","middot;","minus;","Mu;","mu;","nabla;","nbsp;","ndash;","ne;","ni;","not;","notin;","nsub;","Ntilde;","ntilde;","Nu;","nu;","Oacute;","oacute;","Ocirc;","ocirc;","OElig;","oelig;","Ograve;","ograve;","oline;","Omega;","omega;","Omicron;","omicron;","oplus;","or;","ordf;","ordm;","Oslash;","oslash;","Otilde;","otilde;","otimes;","Ouml;","ouml;","para;","part;","permil;","perp;","Phi;","phi;","Pi;","pi;","piv;","plusmn;","pound;","Prime;","prime;","prod;","prop;","Psi;","psi;","quot;","radic;","rang;","raquo;","rArr;","rarr;","rceil;","rdquo;","real;","reg;","rfloor;","Rho;","rho;","rlm;","rsaquo;","rsquo;","sbquo;","Scaron;","scaron;","sdot;","sect;","shy;","Sigma;","sigma;","sigmaf;","sim;","spades;","sub;","sube;","sum;","sup;","sup1;","sup2;","sup3;","supe;","szlig;","Tau;","tau;","there4;","Theta;","theta;","thetasym;","thinsp;","THORN;","thorn;","tilde;","times;","trade;","Uacute;","uacute;","uArr;","uarr;","Ucirc;","ucirc;","Ugrave;","ugrave;","uml;","upsih;","Upsilon;","upsilon;","Uuml;","uuml;","weierp;","Xi;","xi;","Yacute;","yacute;","yen;","Yuml;","yuml;","Zeta;","zeta;","zwj;","zwnj;"].map((function(e){return{caption:e,snippet:e,meta:"html entity",score:1e6}}))}}).call(c.prototype),t.HtmlCompletions=c})),ace.define("ace/mode/html",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/javascript","ace/mode/css","ace/mode/html_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/html","ace/mode/html_completions","ace/worker/worker_client"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("../lib/lang"),o=e("./text").Mode,s=e("./javascript").Mode,a=e("./css").Mode,l=e("./html_highlight_rules").HtmlHighlightRules,c=e("./behaviour/xml").XmlBehaviour,u=e("./folding/html").FoldMode,d=e("./html_completions").HtmlCompletions,h=e("../worker/worker_client").WorkerClient,p=["area","base","br","col","embed","hr","img","input","keygen","link","meta","menuitem","param","source","track","wbr"],f=["li","dt","dd","p","rt","rp","optgroup","option","colgroup","td","th"],m=function(e){this.fragmentContext=e&&e.fragmentContext,this.HighlightRules=l,this.$behaviour=new c,this.$completer=new d,this.createModeDelegates({"js-":s,"css-":a}),this.foldingRules=new u(this.voidElements,r.arrayToMap(f))};i.inherits(m,o),function(){this.blockComment={start:"\x3c!--",end:"--\x3e"},this.voidElements=r.arrayToMap(p),this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.getCompletions=function(e,t,n,i){return this.$completer.getCompletions(e,t,n,i)},this.createWorker=function(e){if(this.constructor==m){var t=new h(["ace"],"ace/mode/html_worker","Worker");return t.attachToDocument(e.getDocument()),this.fragmentContext&&t.call("setOptions",[{context:this.fragmentContext}]),t.on("error",(function(t){e.setAnnotations(t.data)})),t.on("terminate",(function(){e.clearAnnotations()})),t}},this.$id="ace/mode/html",this.snippetFileId="ace/snippets/html"}.call(m.prototype),t.Mode=m})),ace.define("ace/mode/markdown_highlight_rules",["require","exports","module","ace/config","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules","ace/mode/html_highlight_rules"],(function(e,t,n){"use strict";var i=e("../config").$modes,r=e("../lib/oop"),o=e("../lib/lang"),s=e("./text_highlight_rules").TextHighlightRules,a=e("./html_highlight_rules").HtmlHighlightRules,l=function(e){return"(?:[^"+o.escapeRegExp(e)+"\\\\]|\\\\.)*"},c=function(){a.call(this);var e={token:"support.function",regex:/^\s*(```+[^`]*|~~~+[^~]*)$/,onMatch:function(e,t,n,r){var o=e.match(/^(\s*)([`~]+)(.*)/),s=/[\w-]+|$/.exec(o[3])[0];return i[s]||(s=""),n.unshift("githubblock",[],[o[1],o[2],s],t),this.token},next:"githubblock"},t=[{token:"support.function",regex:".*",onMatch:function(e,t,n,r){var o=n[1],s=n[2][0],a=n[2][1],l=n[2][2],c=/^(\s*)(`+|~+)\s*$/.exec(e);if(c&&c[1].length<s.length+3&&c[2].length>=a.length&&c[2][0]==a[0])return n.splice(0,3),this.next=n.shift(),this.token;if(this.next="",l&&i[l]){var u=i[l].getTokenizer().getLineTokens(e,o.slice(0));return n[1]=u.state,u.tokens}return this.token}}];this.$rules.start.unshift({token:"empty_line",regex:"^$",next:"allowBlock"},{token:"markup.heading.1",regex:"^=+(?=\\s*$)"},{token:"markup.heading.2",regex:"^\\-+(?=\\s*$)"},{token:function(e){return"markup.heading."+e.length},regex:/^#{1,6}(?=\s|$)/,next:"header"},e,{token:"string.blockquote",regex:"^\\s*>\\s*(?:[*+-]|\\d+\\.)?\\s+",next:"blockquote"},{token:"constant",regex:"^ {0,3}(?:(?:\\* ?){3,}|(?:\\- ?){3,}|(?:\\_ ?){3,})\\s*$",next:"allowBlock"},{token:"markup.list",regex:"^\\s{0,3}(?:[*+-]|\\d+\\.)\\s+",next:"listblock-start"},{include:"basic"}),this.addRules({basic:[{token:"constant.language.escape",regex:/\\[\\`*_{}\[\]()#+\-.!]/},{token:"support.function",regex:"(`+)(.*?[^`])(\\1)"},{token:["text","constant","text","url","string","text"],regex:'^([ ]{0,3}\\[)([^\\]]+)(\\]:\\s*)([^ ]+)(\\s*(?:["][^"]+["])?(\\s*))$'},{token:["text","string","text","constant","text"],regex:"(\\[)("+l("]")+")(\\]\\s*\\[)("+l("]")+")(\\])"},{token:["text","string","text","markup.underline","string","text"],regex:"(\\!?\\[)("+l("]")+')(\\]\\()((?:[^\\)\\s\\\\]|\\\\.|\\s(?=[^"]))*)(\\s*"'+l('"')+'"\\s*)?(\\))'},{token:"string.strong",regex:"([*]{2}|[_]{2}(?=\\S))(.*?\\S[*_]*)(\\1)"},{token:"string.emphasis",regex:"([*]|[_](?=\\S))(.*?\\S[*_]*)(\\1)"},{token:["text","url","text"],regex:"(<)((?:https?|ftp|dict):[^'\">\\s]+|(?:mailto:)?[-.\\w]+\\@[-a-z0-9]+(?:\\.[-a-z0-9]+)*\\.[a-z]+)(>)"}],allowBlock:[{token:"support.function",regex:"^ {4}.+",next:"allowBlock"},{token:"empty_line",regex:"^$",next:"allowBlock"},{token:"empty",regex:"",next:"start"}],header:[{regex:"$",next:"start"},{include:"basic"},{defaultToken:"heading"}],"listblock-start":[{token:"support.variable",regex:/(?:\[[ x]\])?/,next:"listblock"}],listblock:[{token:"empty_line",regex:"^$",next:"start"},{token:"markup.list",regex:"^\\s{0,3}(?:[*+-]|\\d+\\.)\\s+",next:"listblock-start"},{include:"basic",noEscape:!0},e,{defaultToken:"list"}],blockquote:[{token:"empty_line",regex:"^\\s*$",next:"start"},{token:"string.blockquote",regex:"^\\s*>\\s*(?:[*+-]|\\d+\\.)?\\s+",next:"blockquote"},{include:"basic",noEscape:!0},{defaultToken:"string.blockquote"}],githubblock:t}),this.normalizeRules()};r.inherits(c,s),t.MarkdownHighlightRules=c})),ace.define("ace/mode/folding/markdown",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode","ace/range"],(function(e,t,n){"use strict";var i=e("../../lib/oop"),r=e("./fold_mode").FoldMode,o=e("../../range").Range,s=t.FoldMode=function(){};i.inherits(s,r),function(){this.foldingStartMarker=/^(?:[=-]+\s*$|#{1,6} |`{3})/,this.getFoldWidget=function(e,t,n){var i=e.getLine(n);return this.foldingStartMarker.test(i)?"`"==i[0]&&"start"==e.bgTokenizer.getState(n)?"end":"start":""},this.getFoldWidgetRange=function(e,t,n){var i=e.getLine(n),r=i.length,s=e.getLength(),a=n,l=n;if(i.match(this.foldingStartMarker)){if("`"==i[0]){if("start"!==e.bgTokenizer.getState(n)){for(;++n<s&&!("`"==(i=e.getLine(n))[0]&"```"==i.substring(0,3)););return new o(a,r,n,0)}for(;n-- >0&&!("`"==(i=e.getLine(n))[0]&"```"==i.substring(0,3)););return new o(n,i.length,a,0)}var c,u="markup.heading";if(p(n)){for(var d=f();++n<s&&!(p(n)&&f()>=d););if((l=n-(c&&-1!=["=","-"].indexOf(c.value[0])?2:1))>a)for(;l>a&&/^\s*$/.test(e.getLine(l));)l--;if(l>a){var h=e.getLine(l).length;return new o(a,r,l,h)}}}function p(t){return(c=e.getTokens(t)[0])&&0===c.type.lastIndexOf(u,0)}function f(){var e=c.value[0];return"="==e?6:"-"==e?5:7-c.value.search(/[^#]|$/)}}}.call(s.prototype)})),ace.define("ace/mode/sh_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules,o=t.reservedKeywords="!|{|}|case|do|done|elif|else|esac|fi|for|if|in|then|until|while|&|;|export|local|read|typeset|unset|elif|select|set|function|declare|readonly",s=t.languageConstructs="[|]|alias|bg|bind|break|builtin|cd|command|compgen|complete|continue|dirs|disown|echo|enable|eval|exec|exit|fc|fg|getopts|hash|help|history|jobs|kill|let|logout|popd|printf|pushd|pwd|return|set|shift|shopt|source|suspend|test|times|trap|type|ulimit|umask|unalias|wait",a=function(){var e=this.createKeywordMapper({keyword:o,"support.function.builtin":s,"invalid.deprecated":"debugger"},"identifier");this.$rules={start:[{token:"constant",regex:/\\./},{token:["text","comment"],regex:/(^|\s)(#.*)$/},{token:"string.start",regex:'"',push:[{token:"constant.language.escape",regex:/\\(?:[$`"\\]|$)/},{include:"variables"},{token:"keyword.operator",regex:/`/},{token:"string.end",regex:'"',next:"pop"},{defaultToken:"string"}]},{token:"string",regex:"\\$'",push:[{token:"constant.language.escape",regex:/\\(?:[abeEfnrtv\\'"]|x[a-fA-F\d]{1,2}|u[a-fA-F\d]{4}([a-fA-F\d]{4})?|c.|\d{1,3})/},{token:"string",regex:"'",next:"pop"},{defaultToken:"string"}]},{regex:"<<<",token:"keyword.operator"},{stateName:"heredoc",regex:"(<<-?)(\\s*)(['\"`]?)([\\w\\-]+)(['\"`]?)",onMatch:function(e,t,n){var i="-"==e[2]?"indentedHeredoc":"heredoc",r=e.split(this.splitRegex);return n.push(i,r[4]),[{type:"constant",value:r[1]},{type:"text",value:r[2]},{type:"string",value:r[3]},{type:"support.class",value:r[4]},{type:"string",value:r[5]}]},rules:{heredoc:[{onMatch:function(e,t,n){return e===n[1]?(n.shift(),n.shift(),this.next=n[0]||"start","support.class"):(this.next="","string")},regex:".*$",next:"start"}],indentedHeredoc:[{token:"string",regex:"^\t+"},{onMatch:function(e,t,n){return e===n[1]?(n.shift(),n.shift(),this.next=n[0]||"start","support.class"):(this.next="","string")},regex:".*$",next:"start"}]}},{regex:"$",token:"empty",next:function(e,t){return"heredoc"===t[0]||"indentedHeredoc"===t[0]?t[0]:e}},{token:["keyword","text","text","text","variable"],regex:/(declare|local|readonly)(\s+)(?:(-[fixar]+)(\s+))?([a-zA-Z_][a-zA-Z0-9_]*\b)/},{token:"variable.language",regex:"(?:\\$(?:SHLVL|\\$|\\!|\\?))"},{token:"variable",regex:"(?:[a-zA-Z_][a-zA-Z0-9_]*(?==))"},{include:"variables"},{token:"support.function",regex:"(?:[a-zA-Z_][a-zA-Z0-9_]*\\s*\\(\\))"},{token:"support.function",regex:"(?:&(?:\\d+))"},{token:"string",start:"'",end:"'"},{token:"constant.numeric",regex:"(?:(?:(?:(?:(?:(?:\\d+)?(?:\\.\\d+))|(?:(?:\\d+)\\.))|(?:\\d+)))|(?:(?:(?:\\d+)?(?:\\.\\d+))|(?:(?:\\d+)\\.)))"},{token:"constant.numeric",regex:"(?:(?:[1-9]\\d*)|(?:0))\\b"},{token:e,regex:"[a-zA-Z_][a-zA-Z0-9_]*\\b"},{token:"keyword.operator",regex:"\\+|\\-|\\*|\\*\\*|\\/|\\/\\/|~|<|>|<=|=>|=|!=|[%&|`]"},{token:"punctuation.operator",regex:";"},{token:"paren.lparen",regex:"[\\[\\(\\{]"},{token:"paren.rparen",regex:"[\\]]"},{token:"paren.rparen",regex:"[\\)\\}]",next:"pop"}],variables:[{token:"variable",regex:/(\$)(\w+)/},{token:["variable","paren.lparen"],regex:/(\$)(\()/,push:"start"},{token:["variable","paren.lparen","keyword.operator","variable","keyword.operator"],regex:/(\$)(\{)([#!]?)(\w+|[*@#?\-$!0_])(:[?+\-=]?|##?|%%?|,,?\/|\^\^?)?/,push:"start"},{token:"variable",regex:/\$[*@#?\-$!0_]/},{token:["variable","paren.lparen"],regex:/(\$)(\{)/,push:"start"}]},this.normalizeRules()};i.inherits(a,r),t.ShHighlightRules=a})),ace.define("ace/mode/sh",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/sh_highlight_rules","ace/range","ace/mode/folding/cstyle","ace/mode/behaviour/cstyle"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./text").Mode,o=e("./sh_highlight_rules").ShHighlightRules,s=e("../range").Range,a=e("./folding/cstyle").FoldMode,l=e("./behaviour/cstyle").CstyleBehaviour,c=function(){this.HighlightRules=o,this.foldingRules=new a,this.$behaviour=new l};i.inherits(c,r),function(){this.lineCommentStart="#",this.getNextLineIndent=function(e,t,n){var i=this.$getIndent(t),r=this.getTokenizer().getLineTokens(t,e).tokens;return r.length&&"comment"==r[r.length-1].type||"start"==e&&t.match(/^.*[\{\(\[:]\s*$/)&&(i+=n),i};var e={pass:1,return:1,raise:1,break:1,continue:1};this.checkOutdent=function(t,n,i){if("\r\n"!==i&&"\r"!==i&&"\n"!==i)return!1;var r=this.getTokenizer().getLineTokens(n.trim(),t).tokens;if(!r)return!1;do{var o=r.pop()}while(o&&("comment"==o.type||"text"==o.type&&o.value.match(/^\s+$/)));return!!o&&"keyword"==o.type&&e[o.value]},this.autoOutdent=function(e,t,n){n+=1;var i=this.$getIndent(t.getLine(n)),r=t.getTabString();i.slice(-r.length)==r&&t.remove(new s(n,i.length-r.length,n,i.length))},this.$id="ace/mode/sh",this.snippetFileId="ace/snippets/sh"}.call(c.prototype),t.Mode=c})),ace.define("ace/mode/markdown",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript","ace/mode/xml","ace/mode/html","ace/mode/markdown_highlight_rules","ace/mode/folding/markdown","ace/mode/javascript","ace/mode/html","ace/mode/sh","ace/mode/sh","ace/mode/xml","ace/mode/css"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./text").Mode,o=(e("./javascript").Mode,e("./xml").Mode,e("./html").Mode,e("./markdown_highlight_rules").MarkdownHighlightRules),s=e("./folding/markdown").FoldMode,a=function(){this.HighlightRules=o,this.createModeDelegates({javascript:e("./javascript").Mode,html:e("./html").Mode,bash:e("./sh").Mode,sh:e("./sh").Mode,xml:e("./xml").Mode,css:e("./css").Mode}),this.foldingRules=new s,this.$behaviour=this.$defaultBehaviour};i.inherits(a,r),function(){this.type="text",this.blockComment={start:"\x3c!--",end:"--\x3e"},this.$quotes={'"':'"',"`":"`"},this.getNextLineIndent=function(e,t,n){if("listblock"==e){var i=/^(\s*)(?:([-+*])|(\d+)\.)(\s+)/.exec(t);if(!i)return"";var r=i[2];return r||(r=parseInt(i[3],10)+1+"."),i[1]+r+i[4]}return this.$getIndent(t)},this.$id="ace/mode/markdown",this.snippetFileId="ace/snippets/markdown"}.call(a.prototype),t.Mode=a})),ace.require(["ace/mode/markdown"],(function(t){e&&(e.exports=t)}))},7136:(e,t,n)=>{e=n.nmd(e),ace.define("ace/mode/doc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules,o=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},o.getTagRule(),{defaultToken:"comment.doc",caseInsensitive:!0}]}};i.inherits(o,r),o.getTagRule=function(e){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},o.getStartRule=function(e){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:e}},o.getEndRule=function(e){return{token:"comment.doc",regex:"\\*\\/",next:e}},t.DocCommentHighlightRules=o})),ace.define("ace/mode/perl_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules,o=function(){var e=this.createKeywordMapper({keyword:"base|constant|continue|else|elsif|for|foreach|format|goto|if|last|local|my|next|no|package|parent|redo|require|scalar|sub|unless|until|while|use|vars","constant.language":"ARGV|ENV|INC|SIG","support.function":"getprotobynumber|getprotobyname|getservbyname|gethostbyaddr|gethostbyname|getservbyport|getnetbyaddr|getnetbyname|getsockname|getpeername|setpriority|getprotoent|setprotoent|getpriority|endprotoent|getservent|setservent|endservent|sethostent|socketpair|getsockopt|gethostent|endhostent|setsockopt|setnetent|quotemeta|localtime|prototype|getnetent|endnetent|rewinddir|wantarray|getpwuid|closedir|getlogin|readlink|endgrent|getgrgid|getgrnam|shmwrite|shutdown|readline|endpwent|setgrent|readpipe|formline|truncate|dbmclose|syswrite|setpwent|getpwnam|getgrent|getpwent|ucfirst|sysread|setpgrp|shmread|sysseek|sysopen|telldir|defined|opendir|connect|lcfirst|getppid|binmode|syscall|sprintf|getpgrp|readdir|seekdir|waitpid|reverse|unshift|symlink|dbmopen|semget|msgrcv|rename|listen|chroot|msgsnd|shmctl|accept|unpack|exists|fileno|shmget|system|unlink|printf|gmtime|msgctl|semctl|values|rindex|substr|splice|length|msgget|select|socket|return|caller|delete|alarm|ioctl|index|undef|lstat|times|srand|chown|fcntl|close|write|umask|rmdir|study|sleep|chomp|untie|print|utime|mkdir|atan2|split|crypt|flock|chmod|BEGIN|bless|chdir|semop|shift|reset|link|stat|chop|grep|fork|dump|join|open|tell|pipe|exit|glob|warn|each|bind|sort|pack|eval|push|keys|getc|kill|seek|sqrt|send|wait|rand|tied|read|time|exec|recv|eof|chr|int|ord|exp|pos|pop|sin|log|abs|oct|hex|tie|cos|vec|END|ref|map|die|uc|lc|do"},"identifier");this.$rules={start:[{token:"comment.doc",regex:"^=(?:begin|item)\\b",next:"block_comment"},{token:"string.regexp",regex:"[/](?:(?:\\[(?:\\\\]|[^\\]])+\\])|(?:\\\\/|[^\\]/]))*[/]\\w*\\s*(?=[).,;]|$)"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:'["].*\\\\$',next:"qqstring"},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"string",regex:"['].*\\\\$",next:"qstring"},{token:"constant.numeric",regex:"0x[0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:e,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"keyword.operator",regex:"%#|\\$#|\\.\\.\\.|\\|\\|=|>>=|<<=|<=>|&&=|=>|!~|\\^=|&=|\\|=|\\.=|x=|%=|\\/=|\\*=|\\-=|\\+=|=~|\\*\\*|\\-\\-|\\.\\.|\\|\\||&&|\\+\\+|\\->|!=|==|>=|<=|>>|<<|,|=|\\?\\:|\\^|\\||x|%|\\/|\\*|<|&|\\\\|~|!|>|\\.|\\-|\\+|\\-C|\\-b|\\-S|\\-u|\\-t|\\-p|\\-l|\\-d|\\-f|\\-g|\\-s|\\-z|\\-k|\\-e|\\-O|\\-T|\\-B|\\-M|\\-A|\\-X|\\-W|\\-c|\\-R|\\-o|\\-x|\\-w|\\-r|\\b(?:and|cmp|eq|ge|gt|le|lt|ne|not|or|xor)"},{token:"comment",regex:"#.*$"},{token:"lparen",regex:"[[({]"},{token:"rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],qqstring:[{token:"string",regex:'(?:(?:\\\\.)|(?:[^"\\\\]))*?"',next:"start"},{token:"string",regex:".+"}],qstring:[{token:"string",regex:"(?:(?:\\\\.)|(?:[^'\\\\]))*?'",next:"start"},{token:"string",regex:".+"}],block_comment:[{token:"comment.doc",regex:"^=cut\\b",next:"start"},{defaultToken:"comment.doc"}]}};i.inherits(o,r),t.PerlHighlightRules=o})),ace.define("ace/mode/python_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules,o=function(){var e=this.createKeywordMapper({"invalid.deprecated":"debugger","support.function":"abs|divmod|input|open|staticmethod|all|enumerate|int|ord|str|any|eval|isinstance|pow|sum|basestring|execfile|issubclass|print|super|binfile|bin|iter|property|tuple|bool|filter|len|range|type|bytearray|float|list|raw_input|unichr|callable|format|locals|reduce|unicode|chr|frozenset|long|reload|vars|classmethod|getattr|map|repr|xrange|cmp|globals|max|reversed|zip|compile|hasattr|memoryview|round|__import__|complex|hash|min|apply|delattr|help|next|setattr|set|buffer|dict|hex|object|slice|coerce|dir|id|oct|sorted|intern|ascii|breakpoint|bytes","variable.language":"self|cls","constant.language":"True|False|None|NotImplemented|Ellipsis|__debug__",keyword:"and|as|assert|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|not|or|pass|print|raise|return|try|while|with|yield|async|await|nonlocal"},"identifier"),t="(?:[rR][fF]|[fF][rR])",n="(?:(?:(?:[1-9]\\d*)|(?:0))|(?:0[oO]?[0-7]+)|(?:0[xX][\\dA-Fa-f]+)|(?:0[bB][01]+))",i="(?:(?:(?:(?:(?:(?:\\d+)?(?:\\.\\d+))|(?:(?:\\d+)\\.))|(?:\\d+))(?:[eE][+-]?\\d+))|(?:(?:(?:\\d+)?(?:\\.\\d+))|(?:(?:\\d+)\\.)))",r="\\\\(x[0-9A-Fa-f]{2}|[0-7]{3}|[\\\\abfnrtv'\"]|U[0-9A-Fa-f]{8}|u[0-9A-Fa-f]{4})";this.$rules={start:[{token:"comment",regex:"#.*$"},{token:"string",regex:'[uU]?"{3}',next:"qqstring3"},{token:"string",regex:'[uU]?"(?=.)',next:"qqstring"},{token:"string",regex:"[uU]?'{3}",next:"qstring3"},{token:"string",regex:"[uU]?'(?=.)",next:"qstring"},{token:"string",regex:'[rR]"{3}',next:"rawqqstring3"},{token:"string",regex:'[rR]"(?=.)',next:"rawqqstring"},{token:"string",regex:"[rR]'{3}",next:"rawqstring3"},{token:"string",regex:"[rR]'(?=.)",next:"rawqstring"},{token:"string",regex:'[fF]"{3}',next:"fqqstring3"},{token:"string",regex:'[fF]"(?=.)',next:"fqqstring"},{token:"string",regex:"[fF]'{3}",next:"fqstring3"},{token:"string",regex:"[fF]'(?=.)",next:"fqstring"},{token:"string",regex:t+'"{3}',next:"rfqqstring3"},{token:"string",regex:t+'"(?=.)',next:"rfqqstring"},{token:"string",regex:t+"'{3}",next:"rfqstring3"},{token:"string",regex:t+"'(?=.)",next:"rfqstring"},{token:"keyword.operator",regex:"\\+|\\-|\\*|\\*\\*|\\/|\\/\\/|%|@|<<|>>|&|\\||\\^|~|<|>|<=|=>|==|!=|<>|="},{token:"punctuation",regex:",|:|;|\\->|\\+=|\\-=|\\*=|\\/=|\\/\\/=|%=|@=|&=|\\|=|^=|>>=|<<=|\\*\\*="},{token:"paren.lparen",regex:"[\\[\\(\\{]"},{token:"paren.rparen",regex:"[\\]\\)\\}]"},{token:"text",regex:"\\s+"},{include:"constants"}],qqstring3:[{token:"constant.language.escape",regex:r},{token:"string",regex:'"{3}',next:"start"},{defaultToken:"string"}],qstring3:[{token:"constant.language.escape",regex:r},{token:"string",regex:"'{3}",next:"start"},{defaultToken:"string"}],qqstring:[{token:"constant.language.escape",regex:r},{token:"string",regex:"\\\\$",next:"qqstring"},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:r},{token:"string",regex:"\\\\$",next:"qstring"},{token:"string",regex:"'|$",next:"start"},{defaultToken:"string"}],rawqqstring3:[{token:"string",regex:'"{3}',next:"start"},{defaultToken:"string"}],rawqstring3:[{token:"string",regex:"'{3}",next:"start"},{defaultToken:"string"}],rawqqstring:[{token:"string",regex:"\\\\$",next:"rawqqstring"},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],rawqstring:[{token:"string",regex:"\\\\$",next:"rawqstring"},{token:"string",regex:"'|$",next:"start"},{defaultToken:"string"}],fqqstring3:[{token:"constant.language.escape",regex:r},{token:"string",regex:'"{3}',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstring3:[{token:"constant.language.escape",regex:r},{token:"string",regex:"'{3}",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqqstring:[{token:"constant.language.escape",regex:r},{token:"string",regex:"\\\\$",next:"fqqstring"},{token:"string",regex:'"|$',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstring:[{token:"constant.language.escape",regex:r},{token:"string",regex:"'|$",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqqstring3:[{token:"string",regex:'"{3}',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqstring3:[{token:"string",regex:"'{3}",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqqstring:[{token:"string",regex:"\\\\$",next:"rfqqstring"},{token:"string",regex:'"|$',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqstring:[{token:"string",regex:"'|$",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstringParRules:[{token:"paren.lparen",regex:"[\\[\\(]"},{token:"paren.rparen",regex:"[\\]\\)]"},{token:"string",regex:"\\s+"},{token:"string",regex:"'[^']*'"},{token:"string",regex:'"[^"]*"'},{token:"function.support",regex:"(!s|!r|!a)"},{include:"constants"},{token:"paren.rparen",regex:"}",next:"pop"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"}],constants:[{token:"constant.numeric",regex:"(?:"+i+"|\\d+)[jJ]\\b"},{token:"constant.numeric",regex:i},{token:"constant.numeric",regex:n+"[lL]\\b"},{token:"constant.numeric",regex:n+"\\b"},{token:["punctuation","function.support"],regex:"(\\.)([a-zA-Z_]+)\\b"},{token:e,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"}]},this.normalizeRules()};i.inherits(o,r),t.PythonHighlightRules=o})),ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules,o=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};i.inherits(o,r),t.JsonHighlightRules=o})),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./doc_comment_highlight_rules").DocCommentHighlightRules,o=e("./text_highlight_rules").TextHighlightRules,s="[a-zA-Z\\$_-][a-zA-Z\\d\\$_-]*",a=function(e){var t=this.createKeywordMapper({"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},"identifier"),n="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)";this.$rules={no_regex:[r.getStartRule("doc-start"),c("no_regex"),{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["storage.type","punctuation.operator","support.function","punctuation.operator","entity.name.function","text","keyword.operator"],regex:"("+s+")(\\.)(prototype)(\\.)("+s+")(\\s*)(=)",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+s+")(\\.)("+s+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+s+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+s+")(\\.)("+s+")(\\s*)(=)(\\s*)(function)(\\s+)(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","entity.name.function","text","paren.lparen"],regex:"(function)(\\s+)("+s+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","paren.lparen"],regex:"("+s+")(\\s*)(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:"from(?=\\s*('|\"))"},{token:"keyword",regex:"(?:case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void)\\b",next:"start"},{token:["support.constant"],regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|time|trace|timeEnd|assert)\b/},{token:t,regex:s},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+s+")(\\.)("+s+")(\\s*)(=)(\\s*)(function)(?:(\\s+)(\\w+))?(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:s},{regex:"",token:"empty",next:"no_regex"}],start:[r.getStartRule("doc-start"),c("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],function_arguments:[{token:"variable.parameter",regex:s},{token:"punctuation.operator",regex:"[, ]+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:n},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:n},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},e&&e.noES6||(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(e,t,n){if(this.next="{"==e?this.nextState:"","{"==e&&n.length)n.unshift("start",t);else if("}"==e&&n.length&&(n.shift(),this.next=n.shift(),-1!=this.next.indexOf("string")||-1!=this.next.indexOf("jsx")))return"paren.quasi.end";return"{"==e?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:n},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]}),e&&0==e.jsx||l.call(this)),this.embedRules(r,"doc-",[r.getEndRule("no_regex")]),this.normalizeRules()};function l(){var e=s.replace("\\d","\\d\\-"),t={onMatch:function(e,t,n){var i="/"==e.charAt(1)?2:1;return 1==i?(t!=this.nextState?n.unshift(this.next,this.nextState,0):n.unshift(this.next),n[2]++):2==i&&t==this.nextState&&(n[1]--,(!n[1]||n[1]<0)&&(n.shift(),n.shift())),[{type:"meta.tag.punctuation."+(1==i?"":"end-")+"tag-open.xml",value:e.slice(0,i)},{type:"meta.tag.tag-name.xml",value:e.substr(i)}]},regex:"</?"+e,next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(t);var n={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[n,t,{include:"reference"},{defaultToken:"string"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(e,t,n){return t==n[0]&&n.shift(),2==e.length&&(n[0]==this.nextState&&n[1]--,(!n[1]||n[1]<0)&&n.splice(0,2)),this.next=n[0]||"start",[{type:this.token,value:e}]},nextState:"jsx"},n,c("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:e},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},t],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function c(e){return[{token:"comment",regex:/\/\*/,next:[r.getTagRule(),{token:"comment",regex:"\\*\\/",next:e||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[r.getTagRule(),{token:"comment",regex:"$|^",next:e||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}i.inherits(a,o),t.JavaScriptHighlightRules=a})),ace.define("ace/mode/pgsql_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules","ace/mode/perl_highlight_rules","ace/mode/python_highlight_rules","ace/mode/json_highlight_rules","ace/mode/javascript_highlight_rules"],(function(e,t,n){var i=e("../lib/oop"),r=(e("../lib/lang"),e("./doc_comment_highlight_rules").DocCommentHighlightRules),o=e("./text_highlight_rules").TextHighlightRules,s=e("./perl_highlight_rules").PerlHighlightRules,a=e("./python_highlight_rules").PythonHighlightRules,l=e("./json_highlight_rules").JsonHighlightRules,c=e("./javascript_highlight_rules").JavaScriptHighlightRules,u=function(){var e=[{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"variable.language",regex:'".*?"'},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:this.createKeywordMapper({"support.function":"RI_FKey_cascade_del|RI_FKey_cascade_upd|RI_FKey_check_ins|RI_FKey_check_upd|RI_FKey_noaction_del|RI_FKey_noaction_upd|RI_FKey_restrict_del|RI_FKey_restrict_upd|RI_FKey_setdefault_del|RI_FKey_setdefault_upd|RI_FKey_setnull_del|RI_FKey_setnull_upd|abbrev|abs|abstime|abstimeeq|abstimege|abstimegt|abstimein|abstimele|abstimelt|abstimene|abstimeout|abstimerecv|abstimesend|aclcontains|acldefault|aclexplode|aclinsert|aclitemeq|aclitemin|aclitemout|aclremove|acos|age|any_in|any_out|anyarray_in|anyarray_out|anyarray_recv|anyarray_send|anyelement_in|anyelement_out|anyenum_in|anyenum_out|anynonarray_in|anynonarray_out|anyrange_in|anyrange_out|anytextcat|area|areajoinsel|areasel|array_agg|array_agg_finalfn|array_agg_transfn|array_append|array_cat|array_dims|array_eq|array_fill|array_ge|array_gt|array_in|array_larger|array_le|array_length|array_lower|array_lt|array_ndims|array_ne|array_out|array_prepend|array_recv|array_remove|array_replace|array_send|array_smaller|array_to_json|array_to_string|array_typanalyze|array_upper|arraycontained|arraycontains|arraycontjoinsel|arraycontsel|arrayoverlap|ascii|ascii_to_mic|ascii_to_utf8|asin|atan|atan2|avg|big5_to_euc_tw|big5_to_mic|big5_to_utf8|bit_and|bit_in|bit_length|bit_or|bit_out|bit_recv|bit_send|bitand|bitcat|bitcmp|biteq|bitge|bitgt|bitle|bitlt|bitne|bitnot|bitor|bitshiftleft|bitshiftright|bittypmodin|bittypmodout|bitxor|bool|bool_and|bool_or|booland_statefunc|booleq|boolge|boolgt|boolin|boolle|boollt|boolne|boolor_statefunc|boolout|boolrecv|boolsend|box|box_above|box_above_eq|box_add|box_below|box_below_eq|box_center|box_contain|box_contain_pt|box_contained|box_distance|box_div|box_eq|box_ge|box_gt|box_in|box_intersect|box_le|box_left|box_lt|box_mul|box_out|box_overabove|box_overbelow|box_overlap|box_overleft|box_overright|box_recv|box_right|box_same|box_send|box_sub|bpchar_larger|bpchar_pattern_ge|bpchar_pattern_gt|bpchar_pattern_le|bpchar_pattern_lt|bpchar_smaller|bpcharcmp|bpchareq|bpcharge|bpchargt|bpchariclike|bpcharicnlike|bpcharicregexeq|bpcharicregexne|bpcharin|bpcharle|bpcharlike|bpcharlt|bpcharne|bpcharnlike|bpcharout|bpcharrecv|bpcharregexeq|bpcharregexne|bpcharsend|bpchartypmodin|bpchartypmodout|broadcast|btabstimecmp|btarraycmp|btbeginscan|btboolcmp|btbpchar_pattern_cmp|btbuild|btbuildempty|btbulkdelete|btcanreturn|btcharcmp|btcostestimate|btendscan|btfloat48cmp|btfloat4cmp|btfloat4sortsupport|btfloat84cmp|btfloat8cmp|btfloat8sortsupport|btgetbitmap|btgettuple|btinsert|btint24cmp|btint28cmp|btint2cmp|btint2sortsupport|btint42cmp|btint48cmp|btint4cmp|btint4sortsupport|btint82cmp|btint84cmp|btint8cmp|btint8sortsupport|btmarkpos|btnamecmp|btnamesortsupport|btoidcmp|btoidsortsupport|btoidvectorcmp|btoptions|btrecordcmp|btreltimecmp|btrescan|btrestrpos|btrim|bttext_pattern_cmp|bttextcmp|bttidcmp|bttintervalcmp|btvacuumcleanup|bytea_string_agg_finalfn|bytea_string_agg_transfn|byteacat|byteacmp|byteaeq|byteage|byteagt|byteain|byteale|bytealike|bytealt|byteane|byteanlike|byteaout|bytearecv|byteasend|cash_cmp|cash_div_cash|cash_div_flt4|cash_div_flt8|cash_div_int2|cash_div_int4|cash_eq|cash_ge|cash_gt|cash_in|cash_le|cash_lt|cash_mi|cash_mul_flt4|cash_mul_flt8|cash_mul_int2|cash_mul_int4|cash_ne|cash_out|cash_pl|cash_recv|cash_send|cash_words|cashlarger|cashsmaller|cbrt|ceil|ceiling|center|char|char_length|character_length|chareq|charge|chargt|charin|charle|charlt|charne|charout|charrecv|charsend|chr|cideq|cidin|cidout|cidr|cidr_in|cidr_out|cidr_recv|cidr_send|cidrecv|cidsend|circle|circle_above|circle_add_pt|circle_below|circle_center|circle_contain|circle_contain_pt|circle_contained|circle_distance|circle_div_pt|circle_eq|circle_ge|circle_gt|circle_in|circle_le|circle_left|circle_lt|circle_mul_pt|circle_ne|circle_out|circle_overabove|circle_overbelow|circle_overlap|circle_overleft|circle_overright|circle_recv|circle_right|circle_same|circle_send|circle_sub_pt|clock_timestamp|close_lb|close_ls|close_lseg|close_pb|close_pl|close_ps|close_sb|close_sl|col_description|concat|concat_ws|contjoinsel|contsel|convert|convert_from|convert_to|corr|cos|cot|count|covar_pop|covar_samp|cstring_in|cstring_out|cstring_recv|cstring_send|cume_dist|current_database|current_query|current_schema|current_schemas|current_setting|current_user|currtid|currtid2|currval|cursor_to_xml|cursor_to_xmlschema|database_to_xml|database_to_xml_and_xmlschema|database_to_xmlschema|date|date_cmp|date_cmp_timestamp|date_cmp_timestamptz|date_eq|date_eq_timestamp|date_eq_timestamptz|date_ge|date_ge_timestamp|date_ge_timestamptz|date_gt|date_gt_timestamp|date_gt_timestamptz|date_in|date_larger|date_le|date_le_timestamp|date_le_timestamptz|date_lt|date_lt_timestamp|date_lt_timestamptz|date_mi|date_mi_interval|date_mii|date_ne|date_ne_timestamp|date_ne_timestamptz|date_out|date_part|date_pl_interval|date_pli|date_recv|date_send|date_smaller|date_sortsupport|date_trunc|daterange|daterange_canonical|daterange_subdiff|datetime_pl|datetimetz_pl|dcbrt|decode|degrees|dense_rank|dexp|diagonal|diameter|dispell_init|dispell_lexize|dist_cpoly|dist_lb|dist_pb|dist_pc|dist_pl|dist_ppath|dist_ps|dist_sb|dist_sl|div|dlog1|dlog10|domain_in|domain_recv|dpow|dround|dsimple_init|dsimple_lexize|dsnowball_init|dsnowball_lexize|dsqrt|dsynonym_init|dsynonym_lexize|dtrunc|elem_contained_by_range|encode|enum_cmp|enum_eq|enum_first|enum_ge|enum_gt|enum_in|enum_larger|enum_last|enum_le|enum_lt|enum_ne|enum_out|enum_range|enum_recv|enum_send|enum_smaller|eqjoinsel|eqsel|euc_cn_to_mic|euc_cn_to_utf8|euc_jis_2004_to_shift_jis_2004|euc_jis_2004_to_utf8|euc_jp_to_mic|euc_jp_to_sjis|euc_jp_to_utf8|euc_kr_to_mic|euc_kr_to_utf8|euc_tw_to_big5|euc_tw_to_mic|euc_tw_to_utf8|event_trigger_in|event_trigger_out|every|exp|factorial|family|fdw_handler_in|fdw_handler_out|first_value|float4|float48div|float48eq|float48ge|float48gt|float48le|float48lt|float48mi|float48mul|float48ne|float48pl|float4_accum|float4abs|float4div|float4eq|float4ge|float4gt|float4in|float4larger|float4le|float4lt|float4mi|float4mul|float4ne|float4out|float4pl|float4recv|float4send|float4smaller|float4um|float4up|float8|float84div|float84eq|float84ge|float84gt|float84le|float84lt|float84mi|float84mul|float84ne|float84pl|float8_accum|float8_avg|float8_corr|float8_covar_pop|float8_covar_samp|float8_regr_accum|float8_regr_avgx|float8_regr_avgy|float8_regr_intercept|float8_regr_r2|float8_regr_slope|float8_regr_sxx|float8_regr_sxy|float8_regr_syy|float8_stddev_pop|float8_stddev_samp|float8_var_pop|float8_var_samp|float8abs|float8div|float8eq|float8ge|float8gt|float8in|float8larger|float8le|float8lt|float8mi|float8mul|float8ne|float8out|float8pl|float8recv|float8send|float8smaller|float8um|float8up|floor|flt4_mul_cash|flt8_mul_cash|fmgr_c_validator|fmgr_internal_validator|fmgr_sql_validator|format|format_type|gb18030_to_utf8|gbk_to_utf8|generate_series|generate_subscripts|get_bit|get_byte|get_current_ts_config|getdatabaseencoding|getpgusername|gin_cmp_prefix|gin_cmp_tslexeme|gin_extract_tsquery|gin_extract_tsvector|gin_tsquery_consistent|ginarrayconsistent|ginarrayextract|ginbeginscan|ginbuild|ginbuildempty|ginbulkdelete|gincostestimate|ginendscan|gingetbitmap|gininsert|ginmarkpos|ginoptions|ginqueryarrayextract|ginrescan|ginrestrpos|ginvacuumcleanup|gist_box_compress|gist_box_consistent|gist_box_decompress|gist_box_penalty|gist_box_picksplit|gist_box_same|gist_box_union|gist_circle_compress|gist_circle_consistent|gist_point_compress|gist_point_consistent|gist_point_distance|gist_poly_compress|gist_poly_consistent|gistbeginscan|gistbuild|gistbuildempty|gistbulkdelete|gistcostestimate|gistendscan|gistgetbitmap|gistgettuple|gistinsert|gistmarkpos|gistoptions|gistrescan|gistrestrpos|gistvacuumcleanup|gtsquery_compress|gtsquery_consistent|gtsquery_decompress|gtsquery_penalty|gtsquery_picksplit|gtsquery_same|gtsquery_union|gtsvector_compress|gtsvector_consistent|gtsvector_decompress|gtsvector_penalty|gtsvector_picksplit|gtsvector_same|gtsvector_union|gtsvectorin|gtsvectorout|has_any_column_privilege|has_column_privilege|has_database_privilege|has_foreign_data_wrapper_privilege|has_function_privilege|has_language_privilege|has_schema_privilege|has_sequence_privilege|has_server_privilege|has_table_privilege|has_tablespace_privilege|has_type_privilege|hash_aclitem|hash_array|hash_numeric|hash_range|hashbeginscan|hashbpchar|hashbuild|hashbuildempty|hashbulkdelete|hashchar|hashcostestimate|hashendscan|hashenum|hashfloat4|hashfloat8|hashgetbitmap|hashgettuple|hashinet|hashinsert|hashint2|hashint2vector|hashint4|hashint8|hashmacaddr|hashmarkpos|hashname|hashoid|hashoidvector|hashoptions|hashrescan|hashrestrpos|hashtext|hashvacuumcleanup|hashvarlena|height|host|hostmask|iclikejoinsel|iclikesel|icnlikejoinsel|icnlikesel|icregexeqjoinsel|icregexeqsel|icregexnejoinsel|icregexnesel|inet_client_addr|inet_client_port|inet_in|inet_out|inet_recv|inet_send|inet_server_addr|inet_server_port|inetand|inetmi|inetmi_int8|inetnot|inetor|inetpl|initcap|int2|int24div|int24eq|int24ge|int24gt|int24le|int24lt|int24mi|int24mul|int24ne|int24pl|int28div|int28eq|int28ge|int28gt|int28le|int28lt|int28mi|int28mul|int28ne|int28pl|int2_accum|int2_avg_accum|int2_mul_cash|int2_sum|int2abs|int2and|int2div|int2eq|int2ge|int2gt|int2in|int2larger|int2le|int2lt|int2mi|int2mod|int2mul|int2ne|int2not|int2or|int2out|int2pl|int2recv|int2send|int2shl|int2shr|int2smaller|int2um|int2up|int2vectoreq|int2vectorin|int2vectorout|int2vectorrecv|int2vectorsend|int2xor|int4|int42div|int42eq|int42ge|int42gt|int42le|int42lt|int42mi|int42mul|int42ne|int42pl|int48div|int48eq|int48ge|int48gt|int48le|int48lt|int48mi|int48mul|int48ne|int48pl|int4_accum|int4_avg_accum|int4_mul_cash|int4_sum|int4abs|int4and|int4div|int4eq|int4ge|int4gt|int4in|int4inc|int4larger|int4le|int4lt|int4mi|int4mod|int4mul|int4ne|int4not|int4or|int4out|int4pl|int4range|int4range_canonical|int4range_subdiff|int4recv|int4send|int4shl|int4shr|int4smaller|int4um|int4up|int4xor|int8|int82div|int82eq|int82ge|int82gt|int82le|int82lt|int82mi|int82mul|int82ne|int82pl|int84div|int84eq|int84ge|int84gt|int84le|int84lt|int84mi|int84mul|int84ne|int84pl|int8_accum|int8_avg|int8_avg_accum|int8_sum|int8abs|int8and|int8div|int8eq|int8ge|int8gt|int8in|int8inc|int8inc_any|int8inc_float8_float8|int8larger|int8le|int8lt|int8mi|int8mod|int8mul|int8ne|int8not|int8or|int8out|int8pl|int8pl_inet|int8range|int8range_canonical|int8range_subdiff|int8recv|int8send|int8shl|int8shr|int8smaller|int8um|int8up|int8xor|integer_pl_date|inter_lb|inter_sb|inter_sl|internal_in|internal_out|interval_accum|interval_avg|interval_cmp|interval_div|interval_eq|interval_ge|interval_gt|interval_hash|interval_in|interval_larger|interval_le|interval_lt|interval_mi|interval_mul|interval_ne|interval_out|interval_pl|interval_pl_date|interval_pl_time|interval_pl_timestamp|interval_pl_timestamptz|interval_pl_timetz|interval_recv|interval_send|interval_smaller|interval_transform|interval_um|intervaltypmodin|intervaltypmodout|intinterval|isclosed|isempty|isfinite|ishorizontal|iso8859_1_to_utf8|iso8859_to_utf8|iso_to_koi8r|iso_to_mic|iso_to_win1251|iso_to_win866|isopen|isparallel|isperp|isvertical|johab_to_utf8|json_agg|json_agg_finalfn|json_agg_transfn|json_array_element|json_array_element_text|json_array_elements|json_array_length|json_each|json_each_text|json_extract_path|json_extract_path_op|json_extract_path_text|json_extract_path_text_op|json_in|json_object_field|json_object_field_text|json_object_keys|json_out|json_populate_record|json_populate_recordset|json_recv|json_send|justify_days|justify_hours|justify_interval|koi8r_to_iso|koi8r_to_mic|koi8r_to_utf8|koi8r_to_win1251|koi8r_to_win866|koi8u_to_utf8|lag|language_handler_in|language_handler_out|last_value|lastval|latin1_to_mic|latin2_to_mic|latin2_to_win1250|latin3_to_mic|latin4_to_mic|lead|left|length|like|like_escape|likejoinsel|likesel|line|line_distance|line_eq|line_horizontal|line_in|line_interpt|line_intersect|line_out|line_parallel|line_perp|line_recv|line_send|line_vertical|ln|lo_close|lo_creat|lo_create|lo_export|lo_import|lo_lseek|lo_lseek64|lo_open|lo_tell|lo_tell64|lo_truncate|lo_truncate64|lo_unlink|log|loread|lower|lower_inc|lower_inf|lowrite|lpad|lseg|lseg_center|lseg_distance|lseg_eq|lseg_ge|lseg_gt|lseg_horizontal|lseg_in|lseg_interpt|lseg_intersect|lseg_le|lseg_length|lseg_lt|lseg_ne|lseg_out|lseg_parallel|lseg_perp|lseg_recv|lseg_send|lseg_vertical|ltrim|macaddr_and|macaddr_cmp|macaddr_eq|macaddr_ge|macaddr_gt|macaddr_in|macaddr_le|macaddr_lt|macaddr_ne|macaddr_not|macaddr_or|macaddr_out|macaddr_recv|macaddr_send|makeaclitem|masklen|max|md5|mic_to_ascii|mic_to_big5|mic_to_euc_cn|mic_to_euc_jp|mic_to_euc_kr|mic_to_euc_tw|mic_to_iso|mic_to_koi8r|mic_to_latin1|mic_to_latin2|mic_to_latin3|mic_to_latin4|mic_to_sjis|mic_to_win1250|mic_to_win1251|mic_to_win866|min|mktinterval|mod|money|mul_d_interval|name|nameeq|namege|namegt|nameiclike|nameicnlike|nameicregexeq|nameicregexne|namein|namele|namelike|namelt|namene|namenlike|nameout|namerecv|nameregexeq|nameregexne|namesend|neqjoinsel|neqsel|netmask|network|network_cmp|network_eq|network_ge|network_gt|network_le|network_lt|network_ne|network_sub|network_subeq|network_sup|network_supeq|nextval|nlikejoinsel|nlikesel|notlike|now|npoints|nth_value|ntile|numeric_abs|numeric_accum|numeric_add|numeric_avg|numeric_avg_accum|numeric_cmp|numeric_div|numeric_div_trunc|numeric_eq|numeric_exp|numeric_fac|numeric_ge|numeric_gt|numeric_in|numeric_inc|numeric_larger|numeric_le|numeric_ln|numeric_log|numeric_lt|numeric_mod|numeric_mul|numeric_ne|numeric_out|numeric_power|numeric_recv|numeric_send|numeric_smaller|numeric_sqrt|numeric_stddev_pop|numeric_stddev_samp|numeric_sub|numeric_transform|numeric_uminus|numeric_uplus|numeric_var_pop|numeric_var_samp|numerictypmodin|numerictypmodout|numnode|numrange|numrange_subdiff|obj_description|octet_length|oid|oideq|oidge|oidgt|oidin|oidlarger|oidle|oidlt|oidne|oidout|oidrecv|oidsend|oidsmaller|oidvectoreq|oidvectorge|oidvectorgt|oidvectorin|oidvectorle|oidvectorlt|oidvectorne|oidvectorout|oidvectorrecv|oidvectorsend|oidvectortypes|on_pb|on_pl|on_ppath|on_ps|on_sb|on_sl|opaque_in|opaque_out|overlaps|overlay|path|path_add|path_add_pt|path_center|path_contain_pt|path_distance|path_div_pt|path_in|path_inter|path_length|path_mul_pt|path_n_eq|path_n_ge|path_n_gt|path_n_le|path_n_lt|path_npoints|path_out|path_recv|path_send|path_sub_pt|pclose|percent_rank|pg_advisory_lock|pg_advisory_lock_shared|pg_advisory_unlock|pg_advisory_unlock_all|pg_advisory_unlock_shared|pg_advisory_xact_lock|pg_advisory_xact_lock_shared|pg_available_extension_versions|pg_available_extensions|pg_backend_pid|pg_backup_start_time|pg_cancel_backend|pg_char_to_encoding|pg_client_encoding|pg_collation_for|pg_collation_is_visible|pg_column_is_updatable|pg_column_size|pg_conf_load_time|pg_conversion_is_visible|pg_create_restore_point|pg_current_xlog_insert_location|pg_current_xlog_location|pg_cursor|pg_database_size|pg_describe_object|pg_encoding_max_length|pg_encoding_to_char|pg_event_trigger_dropped_objects|pg_export_snapshot|pg_extension_config_dump|pg_extension_update_paths|pg_function_is_visible|pg_get_constraintdef|pg_get_expr|pg_get_function_arguments|pg_get_function_identity_arguments|pg_get_function_result|pg_get_functiondef|pg_get_indexdef|pg_get_keywords|pg_get_multixact_members|pg_get_ruledef|pg_get_serial_sequence|pg_get_triggerdef|pg_get_userbyid|pg_get_viewdef|pg_has_role|pg_identify_object|pg_indexes_size|pg_is_in_backup|pg_is_in_recovery|pg_is_other_temp_schema|pg_is_xlog_replay_paused|pg_last_xact_replay_timestamp|pg_last_xlog_receive_location|pg_last_xlog_replay_location|pg_listening_channels|pg_lock_status|pg_ls_dir|pg_my_temp_schema|pg_node_tree_in|pg_node_tree_out|pg_node_tree_recv|pg_node_tree_send|pg_notify|pg_opclass_is_visible|pg_operator_is_visible|pg_opfamily_is_visible|pg_options_to_table|pg_postmaster_start_time|pg_prepared_statement|pg_prepared_xact|pg_read_binary_file|pg_read_file|pg_relation_filenode|pg_relation_filepath|pg_relation_is_updatable|pg_relation_size|pg_reload_conf|pg_rotate_logfile|pg_sequence_parameters|pg_show_all_settings|pg_size_pretty|pg_sleep|pg_start_backup|pg_stat_clear_snapshot|pg_stat_file|pg_stat_get_activity|pg_stat_get_analyze_count|pg_stat_get_autoanalyze_count|pg_stat_get_autovacuum_count|pg_stat_get_backend_activity|pg_stat_get_backend_activity_start|pg_stat_get_backend_client_addr|pg_stat_get_backend_client_port|pg_stat_get_backend_dbid|pg_stat_get_backend_idset|pg_stat_get_backend_pid|pg_stat_get_backend_start|pg_stat_get_backend_userid|pg_stat_get_backend_waiting|pg_stat_get_backend_xact_start|pg_stat_get_bgwriter_buf_written_checkpoints|pg_stat_get_bgwriter_buf_written_clean|pg_stat_get_bgwriter_maxwritten_clean|pg_stat_get_bgwriter_requested_checkpoints|pg_stat_get_bgwriter_stat_reset_time|pg_stat_get_bgwriter_timed_checkpoints|pg_stat_get_blocks_fetched|pg_stat_get_blocks_hit|pg_stat_get_buf_alloc|pg_stat_get_buf_fsync_backend|pg_stat_get_buf_written_backend|pg_stat_get_checkpoint_sync_time|pg_stat_get_checkpoint_write_time|pg_stat_get_db_blk_read_time|pg_stat_get_db_blk_write_time|pg_stat_get_db_blocks_fetched|pg_stat_get_db_blocks_hit|pg_stat_get_db_conflict_all|pg_stat_get_db_conflict_bufferpin|pg_stat_get_db_conflict_lock|pg_stat_get_db_conflict_snapshot|pg_stat_get_db_conflict_startup_deadlock|pg_stat_get_db_conflict_tablespace|pg_stat_get_db_deadlocks|pg_stat_get_db_numbackends|pg_stat_get_db_stat_reset_time|pg_stat_get_db_temp_bytes|pg_stat_get_db_temp_files|pg_stat_get_db_tuples_deleted|pg_stat_get_db_tuples_fetched|pg_stat_get_db_tuples_inserted|pg_stat_get_db_tuples_returned|pg_stat_get_db_tuples_updated|pg_stat_get_db_xact_commit|pg_stat_get_db_xact_rollback|pg_stat_get_dead_tuples|pg_stat_get_function_calls|pg_stat_get_function_self_time|pg_stat_get_function_total_time|pg_stat_get_last_analyze_time|pg_stat_get_last_autoanalyze_time|pg_stat_get_last_autovacuum_time|pg_stat_get_last_vacuum_time|pg_stat_get_live_tuples|pg_stat_get_numscans|pg_stat_get_tuples_deleted|pg_stat_get_tuples_fetched|pg_stat_get_tuples_hot_updated|pg_stat_get_tuples_inserted|pg_stat_get_tuples_returned|pg_stat_get_tuples_updated|pg_stat_get_vacuum_count|pg_stat_get_wal_senders|pg_stat_get_xact_blocks_fetched|pg_stat_get_xact_blocks_hit|pg_stat_get_xact_function_calls|pg_stat_get_xact_function_self_time|pg_stat_get_xact_function_total_time|pg_stat_get_xact_numscans|pg_stat_get_xact_tuples_deleted|pg_stat_get_xact_tuples_fetched|pg_stat_get_xact_tuples_hot_updated|pg_stat_get_xact_tuples_inserted|pg_stat_get_xact_tuples_returned|pg_stat_get_xact_tuples_updated|pg_stat_reset|pg_stat_reset_shared|pg_stat_reset_single_function_counters|pg_stat_reset_single_table_counters|pg_stop_backup|pg_switch_xlog|pg_table_is_visible|pg_table_size|pg_tablespace_databases|pg_tablespace_location|pg_tablespace_size|pg_terminate_backend|pg_timezone_abbrevs|pg_timezone_names|pg_total_relation_size|pg_trigger_depth|pg_try_advisory_lock|pg_try_advisory_lock_shared|pg_try_advisory_xact_lock|pg_try_advisory_xact_lock_shared|pg_ts_config_is_visible|pg_ts_dict_is_visible|pg_ts_parser_is_visible|pg_ts_template_is_visible|pg_type_is_visible|pg_typeof|pg_xlog_location_diff|pg_xlog_replay_pause|pg_xlog_replay_resume|pg_xlogfile_name|pg_xlogfile_name_offset|pi|plainto_tsquery|plpgsql_call_handler|plpgsql_inline_handler|plpgsql_validator|point|point_above|point_add|point_below|point_distance|point_div|point_eq|point_horiz|point_in|point_left|point_mul|point_ne|point_out|point_recv|point_right|point_send|point_sub|point_vert|poly_above|poly_below|poly_center|poly_contain|poly_contain_pt|poly_contained|poly_distance|poly_in|poly_left|poly_npoints|poly_out|poly_overabove|poly_overbelow|poly_overlap|poly_overleft|poly_overright|poly_recv|poly_right|poly_same|poly_send|polygon|popen|position|positionjoinsel|positionsel|postgresql_fdw_validator|pow|power|prsd_end|prsd_headline|prsd_lextype|prsd_nexttoken|prsd_start|pt_contained_circle|pt_contained_poly|query_to_xml|query_to_xml_and_xmlschema|query_to_xmlschema|querytree|quote_ident|quote_literal|quote_nullable|radians|radius|random|range_adjacent|range_after|range_before|range_cmp|range_contained_by|range_contains|range_contains_elem|range_eq|range_ge|range_gist_compress|range_gist_consistent|range_gist_decompress|range_gist_penalty|range_gist_picksplit|range_gist_same|range_gist_union|range_gt|range_in|range_intersect|range_le|range_lt|range_minus|range_ne|range_out|range_overlaps|range_overleft|range_overright|range_recv|range_send|range_typanalyze|range_union|rangesel|rank|record_eq|record_ge|record_gt|record_in|record_le|record_lt|record_ne|record_out|record_recv|record_send|regclass|regclassin|regclassout|regclassrecv|regclasssend|regconfigin|regconfigout|regconfigrecv|regconfigsend|regdictionaryin|regdictionaryout|regdictionaryrecv|regdictionarysend|regexeqjoinsel|regexeqsel|regexnejoinsel|regexnesel|regexp_matches|regexp_replace|regexp_split_to_array|regexp_split_to_table|regoperatorin|regoperatorout|regoperatorrecv|regoperatorsend|regoperin|regoperout|regoperrecv|regopersend|regprocedurein|regprocedureout|regprocedurerecv|regproceduresend|regprocin|regprocout|regprocrecv|regprocsend|regr_avgx|regr_avgy|regr_count|regr_intercept|regr_r2|regr_slope|regr_sxx|regr_sxy|regr_syy|regtypein|regtypeout|regtyperecv|regtypesend|reltime|reltimeeq|reltimege|reltimegt|reltimein|reltimele|reltimelt|reltimene|reltimeout|reltimerecv|reltimesend|repeat|replace|reverse|right|round|row_number|row_to_json|rpad|rtrim|scalargtjoinsel|scalargtsel|scalarltjoinsel|scalarltsel|schema_to_xml|schema_to_xml_and_xmlschema|schema_to_xmlschema|session_user|set_bit|set_byte|set_config|set_masklen|setseed|setval|setweight|shell_in|shell_out|shift_jis_2004_to_euc_jis_2004|shift_jis_2004_to_utf8|shobj_description|sign|similar_escape|sin|sjis_to_euc_jp|sjis_to_mic|sjis_to_utf8|slope|smgreq|smgrin|smgrne|smgrout|spg_kd_choose|spg_kd_config|spg_kd_inner_consistent|spg_kd_picksplit|spg_quad_choose|spg_quad_config|spg_quad_inner_consistent|spg_quad_leaf_consistent|spg_quad_picksplit|spg_range_quad_choose|spg_range_quad_config|spg_range_quad_inner_consistent|spg_range_quad_leaf_consistent|spg_range_quad_picksplit|spg_text_choose|spg_text_config|spg_text_inner_consistent|spg_text_leaf_consistent|spg_text_picksplit|spgbeginscan|spgbuild|spgbuildempty|spgbulkdelete|spgcanreturn|spgcostestimate|spgendscan|spggetbitmap|spggettuple|spginsert|spgmarkpos|spgoptions|spgrescan|spgrestrpos|spgvacuumcleanup|split_part|sqrt|statement_timestamp|stddev|stddev_pop|stddev_samp|string_agg|string_agg_finalfn|string_agg_transfn|string_to_array|strip|strpos|substr|substring|sum|suppress_redundant_updates_trigger|table_to_xml|table_to_xml_and_xmlschema|table_to_xmlschema|tan|text|text_ge|text_gt|text_larger|text_le|text_lt|text_pattern_ge|text_pattern_gt|text_pattern_le|text_pattern_lt|text_smaller|textanycat|textcat|texteq|texticlike|texticnlike|texticregexeq|texticregexne|textin|textlen|textlike|textne|textnlike|textout|textrecv|textregexeq|textregexne|textsend|thesaurus_init|thesaurus_lexize|tideq|tidge|tidgt|tidin|tidlarger|tidle|tidlt|tidne|tidout|tidrecv|tidsend|tidsmaller|time_cmp|time_eq|time_ge|time_gt|time_hash|time_in|time_larger|time_le|time_lt|time_mi_interval|time_mi_time|time_ne|time_out|time_pl_interval|time_recv|time_send|time_smaller|time_transform|timedate_pl|timemi|timenow|timeofday|timepl|timestamp_cmp|timestamp_cmp_date|timestamp_cmp_timestamptz|timestamp_eq|timestamp_eq_date|timestamp_eq_timestamptz|timestamp_ge|timestamp_ge_date|timestamp_ge_timestamptz|timestamp_gt|timestamp_gt_date|timestamp_gt_timestamptz|timestamp_hash|timestamp_in|timestamp_larger|timestamp_le|timestamp_le_date|timestamp_le_timestamptz|timestamp_lt|timestamp_lt_date|timestamp_lt_timestamptz|timestamp_mi|timestamp_mi_interval|timestamp_ne|timestamp_ne_date|timestamp_ne_timestamptz|timestamp_out|timestamp_pl_interval|timestamp_recv|timestamp_send|timestamp_smaller|timestamp_sortsupport|timestamp_transform|timestamptypmodin|timestamptypmodout|timestamptz_cmp|timestamptz_cmp_date|timestamptz_cmp_timestamp|timestamptz_eq|timestamptz_eq_date|timestamptz_eq_timestamp|timestamptz_ge|timestamptz_ge_date|timestamptz_ge_timestamp|timestamptz_gt|timestamptz_gt_date|timestamptz_gt_timestamp|timestamptz_in|timestamptz_larger|timestamptz_le|timestamptz_le_date|timestamptz_le_timestamp|timestamptz_lt|timestamptz_lt_date|timestamptz_lt_timestamp|timestamptz_mi|timestamptz_mi_interval|timestamptz_ne|timestamptz_ne_date|timestamptz_ne_timestamp|timestamptz_out|timestamptz_pl_interval|timestamptz_recv|timestamptz_send|timestamptz_smaller|timestamptztypmodin|timestamptztypmodout|timetypmodin|timetypmodout|timetz_cmp|timetz_eq|timetz_ge|timetz_gt|timetz_hash|timetz_in|timetz_larger|timetz_le|timetz_lt|timetz_mi_interval|timetz_ne|timetz_out|timetz_pl_interval|timetz_recv|timetz_send|timetz_smaller|timetzdate_pl|timetztypmodin|timetztypmodout|timezone|tinterval|tintervalct|tintervalend|tintervaleq|tintervalge|tintervalgt|tintervalin|tintervalle|tintervalleneq|tintervallenge|tintervallengt|tintervallenle|tintervallenlt|tintervallenne|tintervallt|tintervalne|tintervalout|tintervalov|tintervalrecv|tintervalrel|tintervalsame|tintervalsend|tintervalstart|to_ascii|to_char|to_date|to_hex|to_json|to_number|to_timestamp|to_tsquery|to_tsvector|transaction_timestamp|translate|trigger_in|trigger_out|trunc|ts_debug|ts_headline|ts_lexize|ts_match_qv|ts_match_tq|ts_match_tt|ts_match_vq|ts_parse|ts_rank|ts_rank_cd|ts_rewrite|ts_stat|ts_token_type|ts_typanalyze|tsmatchjoinsel|tsmatchsel|tsq_mcontained|tsq_mcontains|tsquery_and|tsquery_cmp|tsquery_eq|tsquery_ge|tsquery_gt|tsquery_le|tsquery_lt|tsquery_ne|tsquery_not|tsquery_or|tsqueryin|tsqueryout|tsqueryrecv|tsquerysend|tsrange|tsrange_subdiff|tstzrange|tstzrange_subdiff|tsvector_cmp|tsvector_concat|tsvector_eq|tsvector_ge|tsvector_gt|tsvector_le|tsvector_lt|tsvector_ne|tsvector_update_trigger|tsvector_update_trigger_column|tsvectorin|tsvectorout|tsvectorrecv|tsvectorsend|txid_current|txid_current_snapshot|txid_snapshot_in|txid_snapshot_out|txid_snapshot_recv|txid_snapshot_send|txid_snapshot_xip|txid_snapshot_xmax|txid_snapshot_xmin|txid_visible_in_snapshot|uhc_to_utf8|unique_key_recheck|unknownin|unknownout|unknownrecv|unknownsend|unnest|upper|upper_inc|upper_inf|utf8_to_ascii|utf8_to_big5|utf8_to_euc_cn|utf8_to_euc_jis_2004|utf8_to_euc_jp|utf8_to_euc_kr|utf8_to_euc_tw|utf8_to_gb18030|utf8_to_gbk|utf8_to_iso8859|utf8_to_iso8859_1|utf8_to_johab|utf8_to_koi8r|utf8_to_koi8u|utf8_to_shift_jis_2004|utf8_to_sjis|utf8_to_uhc|utf8_to_win|uuid_cmp|uuid_eq|uuid_ge|uuid_gt|uuid_hash|uuid_in|uuid_le|uuid_lt|uuid_ne|uuid_out|uuid_recv|uuid_send|var_pop|var_samp|varbit_in|varbit_out|varbit_recv|varbit_send|varbit_transform|varbitcmp|varbiteq|varbitge|varbitgt|varbitle|varbitlt|varbitne|varbittypmodin|varbittypmodout|varchar_transform|varcharin|varcharout|varcharrecv|varcharsend|varchartypmodin|varchartypmodout|variance|version|void_in|void_out|void_recv|void_send|width|width_bucket|win1250_to_latin2|win1250_to_mic|win1251_to_iso|win1251_to_koi8r|win1251_to_mic|win1251_to_win866|win866_to_iso|win866_to_koi8r|win866_to_mic|win866_to_win1251|win_to_utf8|xideq|xideqint4|xidin|xidout|xidrecv|xidsend|xml|xml_in|xml_is_well_formed|xml_is_well_formed_content|xml_is_well_formed_document|xml_out|xml_recv|xml_send|xmlagg|xmlcomment|xmlconcat2|xmlexists|xmlvalidate|xpath|xpath_exists",keyword:"abort|absolute|abstime|access|aclitem|action|add|admin|after|aggregate|all|also|alter|always|analyse|analyze|and|any|anyarray|anyelement|anyenum|anynonarray|anyrange|array|as|asc|assertion|assignment|asymmetric|at|attribute|authorization|backward|before|begin|between|bigint|binary|bit|bool|boolean|both|box|bpchar|by|bytea|cache|called|cascade|cascaded|case|cast|catalog|chain|char|character|characteristics|check|checkpoint|cid|cidr|circle|class|close|cluster|coalesce|collate|collation|column|comment|comments|commit|committed|concurrently|configuration|connection|constraint|constraints|content|continue|conversion|copy|cost|create|cross|cstring|csv|current|current_catalog|current_date|current_role|current_schema|current_time|current_timestamp|current_user|cursor|cycle|data|database|date|daterange|day|deallocate|dec|decimal|declare|default|defaults|deferrable|deferred|definer|delete|delimiter|delimiters|desc|dictionary|disable|discard|distinct|do|document|domain|double|drop|each|else|enable|encoding|encrypted|end|enum|escape|event|event_trigger|except|exclude|excluding|exclusive|execute|exists|explain|extension|external|extract|false|family|fdw_handler|fetch|first|float|float4|float8|following|for|force|foreign|forward|freeze|from|full|function|functions|global|grant|granted|greatest|group|gtsvector|handler|having|header|hold|hour|identity|if|ilike|immediate|immutable|implicit|in|including|increment|index|indexes|inet|inherit|inherits|initially|inline|inner|inout|input|insensitive|insert|instead|int|int2|int2vector|int4|int4range|int8|int8range|integer|internal|intersect|interval|into|invoker|is|isnull|isolation|join|json|key|label|language|language_handler|large|last|lateral|lc_collate|lc_ctype|leading|leakproof|least|left|level|like|limit|line|listen|load|local|localtime|localtimestamp|location|lock|lseg|macaddr|mapping|match|materialized|maxvalue|minute|minvalue|mode|money|month|move|name|names|national|natural|nchar|next|no|none|not|nothing|notify|notnull|nowait|null|nullif|nulls|numeric|numrange|object|of|off|offset|oid|oids|oidvector|on|only|opaque|operator|option|options|or|order|out|outer|over|overlaps|overlay|owned|owner|parser|partial|partition|passing|password|path|pg_attribute|pg_auth_members|pg_authid|pg_class|pg_database|pg_node_tree|pg_proc|pg_type|placing|plans|point|polygon|position|preceding|precision|prepare|prepared|preserve|primary|prior|privileges|procedural|procedure|program|quote|range|read|real|reassign|recheck|record|recursive|ref|refcursor|references|refresh|regclass|regconfig|regdictionary|regoper|regoperator|regproc|regprocedure|regtype|reindex|relative|release|reltime|rename|repeatable|replace|replica|reset|restart|restrict|returning|returns|revoke|right|role|rollback|row|rows|rule|savepoint|schema|scroll|search|second|security|select|sequence|sequences|serializable|server|session|session_user|set|setof|share|show|similar|simple|smallint|smgr|snapshot|some|stable|standalone|start|statement|statistics|stdin|stdout|storage|strict|strip|substring|symmetric|sysid|system|table|tables|tablespace|temp|template|temporary|text|then|tid|time|timestamp|timestamptz|timetz|tinterval|to|trailing|transaction|treat|trigger|trim|true|truncate|trusted|tsquery|tsrange|tstzrange|tsvector|txid_snapshot|type|types|unbounded|uncommitted|unencrypted|union|unique|unknown|unlisten|unlogged|until|update|user|using|uuid|vacuum|valid|validate|validator|value|values|varbit|varchar|variadic|varying|verbose|version|view|void|volatile|when|where|whitespace|window|with|without|work|wrapper|write|xid|xml|xmlattributes|xmlconcat|xmlelement|xmlexists|xmlforest|xmlparse|xmlpi|xmlroot|xmlserialize|year|yes|zone"},"identifier",!0),regex:"[a-zA-Z_][a-zA-Z0-9_$]*\\b"},{token:"keyword.operator",regex:"!|!!|!~|!~\\*|!~~|!~~\\*|#|##|#<|#<=|#<>|#=|#>|#>=|%|\\&|\\&\\&|\\&<|\\&<\\||\\&>|\\*|\\+|\\-|/|<|<#>|<\\->|<<|<<=|<<\\||<=|<>|<\\?>|<@|<\\^|=|>|>=|>>|>>=|>\\^|\\?#|\\?\\-|\\?\\-\\||\\?\\||\\?\\|\\||@|@\\-@|@>|@@|@@@|\\^|\\||\\|\\&>|\\|/|\\|>>|\\|\\||\\|\\|/|~|~\\*|~<=~|~<~|~=|~>=~|~>~|~~|~~\\*"},{token:"paren.lparen",regex:"[\\(]"},{token:"paren.rparen",regex:"[\\)]"},{token:"text",regex:"\\s+"}];this.$rules={start:[{token:"comment",regex:"--.*$"},r.getStartRule("doc-start"),{token:"comment",regex:"\\/\\*",next:"comment"},{token:"keyword.statementBegin",regex:"[a-zA-Z]+",next:"statement"},{token:"support.buildin",regex:"^\\\\[\\S]+.*$"}],statement:[{token:"comment",regex:"--.*$"},{token:"comment",regex:"\\/\\*",next:"commentStatement"},{token:"statementEnd",regex:";",next:"start"},{token:"string",regex:"\\$perl\\$",next:"perl-start"},{token:"string",regex:"\\$python\\$",next:"python-start"},{token:"string",regex:"\\$json\\$",next:"json-start"},{token:"string",regex:"\\$(js|javascript)\\$",next:"javascript-start"},{token:"string",regex:"\\$[\\w_0-9]*\\$$",next:"dollarSql"},{token:"string",regex:"\\$[\\w_0-9]*\\$",next:"dollarStatementString"}].concat(e),dollarSql:[{token:"comment",regex:"--.*$"},{token:"comment",regex:"\\/\\*",next:"commentDollarSql"},{token:"string",regex:"^\\$[\\w_0-9]*\\$",next:"statement"},{token:"string",regex:"\\$[\\w_0-9]*\\$",next:"dollarSqlString"}].concat(e),comment:[{token:"comment",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}],commentStatement:[{token:"comment",regex:"\\*\\/",next:"statement"},{defaultToken:"comment"}],commentDollarSql:[{token:"comment",regex:"\\*\\/",next:"dollarSql"},{defaultToken:"comment"}],dollarStatementString:[{token:"string",regex:".*?\\$[\\w_0-9]*\\$",next:"statement"},{token:"string",regex:".+"}],dollarSqlString:[{token:"string",regex:".*?\\$[\\w_0-9]*\\$",next:"dollarSql"},{token:"string",regex:".+"}]},this.embedRules(r,"doc-",[r.getEndRule("start")]),this.embedRules(s,"perl-",[{token:"string",regex:"\\$perl\\$",next:"statement"}]),this.embedRules(a,"python-",[{token:"string",regex:"\\$python\\$",next:"statement"}]),this.embedRules(l,"json-",[{token:"string",regex:"\\$json\\$",next:"statement"}]),this.embedRules(c,"javascript-",[{token:"string",regex:"\\$(js|javascript)\\$",next:"statement"}])};i.inherits(u,o),t.PgsqlHighlightRules=u})),ace.define("ace/mode/pgsql",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/pgsql_highlight_rules"],(function(e,t,n){var i=e("../lib/oop"),r=e("../mode/text").Mode,o=e("./pgsql_highlight_rules").PgsqlHighlightRules,s=function(){this.HighlightRules=o,this.$behaviour=this.$defaultBehaviour};i.inherits(s,r),function(){this.lineCommentStart="--",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(e,t,n){return"start"==e||"keyword.statementEnd"==e?"":this.$getIndent(t)},this.$id="ace/mode/pgsql"}.call(s.prototype),t.Mode=s})),ace.require(["ace/mode/pgsql"],(function(t){e&&(e.exports=t)}))},9669:(e,t,n)=>{e.exports=n(1609)},5448:(e,t,n)=>{"use strict";var i=n(4867),r=n(6026),o=n(4372),s=n(5327),a=n(4097),l=n(4109),c=n(7985),u=n(5061);e.exports=function(e){return new Promise((function(t,n){var d=e.data,h=e.headers;i.isFormData(d)&&delete h["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var f=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";h.Authorization="Basic "+btoa(f+":"+m)}var g=a(e.baseURL,e.url);if(p.open(e.method.toUpperCase(),s(g,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var i="getAllResponseHeaders"in p?l(p.getAllResponseHeaders()):null,o={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:i,config:e,request:p};r(t,n,o),p=null}},p.onabort=function(){p&&(n(u("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){n(u("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(u(t,e,"ECONNABORTED",p)),p=null},i.isStandardBrowserEnv()){var v=(e.withCredentials||c(g))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;v&&(h[e.xsrfHeaderName]=v)}if("setRequestHeader"in p&&i.forEach(h,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete h[t]:p.setRequestHeader(t,e)})),i.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),n(e),p=null)})),d||(d=null),p.send(d)}))}},1609:(e,t,n)=>{"use strict";var i=n(4867),r=n(1849),o=n(321),s=n(7185);function a(e){var t=new o(e),n=r(o.prototype.request,t);return i.extend(n,o.prototype,t),i.extend(n,t),n}var l=a(n(5655));l.Axios=o,l.create=function(e){return a(s(l.defaults,e))},l.Cancel=n(5263),l.CancelToken=n(4972),l.isCancel=n(6502),l.all=function(e){return Promise.all(e)},l.spread=n(8713),l.isAxiosError=n(6268),e.exports=l,e.exports.default=l},5263:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},4972:(e,t,n)=>{"use strict";var i=n(5263);function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new i(e),t(n.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e;return{token:new r((function(t){e=t})),cancel:e}},e.exports=r},6502:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},321:(e,t,n)=>{"use strict";var i=n(4867),r=n(5327),o=n(782),s=n(3572),a=n(7185);function l(e){this.defaults=e,this.interceptors={request:new o,response:new o}}l.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[s,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},l.prototype.getUri=function(e){return e=a(this.defaults,e),r(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),i.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,i){return this.request(a(i||{},{method:e,url:t,data:n}))}})),e.exports=l},782:(e,t,n)=>{"use strict";var i=n(4867);function r(){this.handlers=[]}r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){i.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=r},4097:(e,t,n)=>{"use strict";var i=n(1793),r=n(7303);e.exports=function(e,t){return e&&!i(t)?r(e,t):t}},5061:(e,t,n)=>{"use strict";var i=n(481);e.exports=function(e,t,n,r,o){var s=new Error(e);return i(s,t,n,r,o)}},3572:(e,t,n)=>{"use strict";var i=n(4867),r=n(8527),o=n(6502),s=n(5655);function a(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return a(e),e.headers=e.headers||{},e.data=r(e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return a(e),t.data=r(t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(a(e),t&&t.response&&(t.response.data=r(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},481:e=>{"use strict";e.exports=function(e,t,n,i,r){return e.config=t,n&&(e.code=n),e.request=i,e.response=r,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},7185:(e,t,n)=>{"use strict";var i=n(4867);e.exports=function(e,t){t=t||{};var n={},r=["url","method","data"],o=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function l(e,t){return i.isPlainObject(e)&&i.isPlainObject(t)?i.merge(e,t):i.isPlainObject(t)?i.merge({},t):i.isArray(t)?t.slice():t}function c(r){i.isUndefined(t[r])?i.isUndefined(e[r])||(n[r]=l(void 0,e[r])):n[r]=l(e[r],t[r])}i.forEach(r,(function(e){i.isUndefined(t[e])||(n[e]=l(void 0,t[e]))})),i.forEach(o,c),i.forEach(s,(function(r){i.isUndefined(t[r])?i.isUndefined(e[r])||(n[r]=l(void 0,e[r])):n[r]=l(void 0,t[r])})),i.forEach(a,(function(i){i in t?n[i]=l(e[i],t[i]):i in e&&(n[i]=l(void 0,e[i]))}));var u=r.concat(o).concat(s).concat(a),d=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===u.indexOf(e)}));return i.forEach(d,c),n}},6026:(e,t,n)=>{"use strict";var i=n(5061);e.exports=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(i("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},8527:(e,t,n)=>{"use strict";var i=n(4867);e.exports=function(e,t,n){return i.forEach(n,(function(n){e=n(e,t)})),e}},5655:(e,t,n)=>{"use strict";var i=n(4867),r=n(6016),o={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,l={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(a=n(5448)),a),transformRequest:[function(e,t){return r(t,"Accept"),r(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){l.headers[e]=i.merge(o)})),e.exports=l},1849:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return e.apply(t,n)}}},5327:(e,t,n)=>{"use strict";var i=n(4867);function r(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(i.isURLSearchParams(t))o=t.toString();else{var s=[];i.forEach(t,(function(e,t){null!=e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,(function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),s.push(r(t)+"="+r(e))})))})),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},7303:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:(e,t,n)=>{"use strict";var i=n(4867);e.exports=i.isStandardBrowserEnv()?{write:function(e,t,n,r,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),i.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),i.isString(r)&&a.push("path="+r),i.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},6268:e=>{"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},7985:(e,t,n)=>{"use strict";var i=n(4867);e.exports=i.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var i=e;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=i.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},6016:(e,t,n)=>{"use strict";var i=n(4867);e.exports=function(e,t){i.forEach(e,(function(n,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[i])}))}},4109:(e,t,n)=>{"use strict";var i=n(4867),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,s={};return e?(i.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=i.trim(e.substr(0,o)).toLowerCase(),n=i.trim(e.substr(o+1)),t){if(s[t]&&r.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},8713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},4867:(e,t,n)=>{"use strict";var i=n(1849),r=Object.prototype.toString;function o(e){return"[object Array]"===r.call(e)}function s(e){return void 0===e}function a(e){return null!==e&&"object"==typeof e}function l(e){if("[object Object]"!==r.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===r.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===r.call(e)},isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isPlainObject:l,isUndefined:s,isDate:function(e){return"[object Date]"===r.call(e)},isFile:function(e){return"[object File]"===r.call(e)},isBlob:function(e){return"[object Blob]"===r.call(e)},isFunction:c,isStream:function(e){return a(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function e(){var t={};function n(n,i){l(t[i])&&l(n)?t[i]=e(t[i],n):l(n)?t[i]=e({},n):o(n)?t[i]=n.slice():t[i]=n}for(var i=0,r=arguments.length;i<r;i++)u(arguments[i],n);return t},extend:function(e,t,n){return u(t,(function(t,r){e[r]=n&&"function"==typeof t?i(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},7248:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(9669),r=n.n(i),o=n(129),s=n.n(o),a=n(649);const l=r().create({baseURL:a.sb+"api",paramsSerializer:function(e){return s().stringify(e,{arrayFormat:"brackets"})}})},2345:(e,t,n)=>{"use strict";n.d(t,{r:()=>s,j:()=>c}),n(2707),n(561),n(2222),n(1539),n(8674),n(7727),n(9753),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(1038),n(7042),n(8309);var i=n(2262),r=n(7248);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var s=(0,i.qj)([]);function a(e){var t;s.splice.apply(s,[0,s.length].concat(function(e){if(Array.isArray(e))return o(e)}(t=function(e){return e.sort((function(e,t){return e.updated_at>t.updated_at?-1:1}))}(e))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))}var l=null;function c(){return l||(l=r.Z.get("forms",{params:{include:"tags",fields:{form:"id,name,tags,updated_at",tags:"id,name"}}}).then((function(e){a(e.data.data)})).finally((function(){l=null}))),l}var u=document.getElementById("app");a(JSON.parse(u.getAttribute("data-forms")))},1896:(e,t,n)=>{"use strict";n.d(t,{J:()=>r,Q:()=>o}),n(6699),n(2023),n(5827),n(8309);var i={eq:function(e,t){return e==t},neq:function(e,t){return e!=t},empty:function(e,t){return!e&&0!==e},nempty:function(e,t){return!(!e&&""===e)},contains:function(e,t){return e.includes(t)},gt:function(e,t){return e>t},gte:function(e,t){return e>=t},lt:function(e,t){return e<t},lte:function(e,t){return e<=t}};function r(e){return e.reduce((function(e,t){if(t.default_value)e[t.name]=t.default_value||(t.is_array?[]:"");else if(t.items){var n=r(t.items);e[t.name]=t.is_array?[n]:n}return e}),{})}function o(e,t){return null==e||!e.length||e.reduce((function(e,n){var r,o=i[n.action](null!==(r=t[n.field])&&void 0!==r?r:"",n.value);return e&&o}),!0)}},9476:(e,t,n)=>{"use strict";function i(){var e=this;this.$nextTick((function(){var t,n=e.$refs.form.$el.querySelector(".ivu-form-item-error");n?n.scrollIntoView():null===(t=e.$refs.form.$el.querySelector(".ivu-alert-error"))||void 0===t||t.scrollIntoView()}))}n.d(t,{o:()=>i})},645:(e,t,n)=>{"use strict";n.d(t,{om:()=>o,j$:()=>s,JG:()=>a}),n(8309),n(6699),n(4944),n(7327),n(1249),n(4916),n(5306),n(4603),n(9714),n(2023),n(5827);var i=n(8369),r=n(649);function o(e,t){return("json"===e.column_type||t[e.name]instanceof Object&&t[e.name].constructor===Object)&&!["file","image","reference"].includes(e.column_type)}function s(e,t){if(e.is_array)return[];var n=e.validators.map((function(t){return t.required?{required:!0,message:r.cR.field_is_required.replace("%{field}",e.display_name)}:t.format?{pattern:new RegExp(t.format.source,t.format.options),message:r.cR.field_value_does_not_match_pattern.replace("%{field}",e.display_name).replace("%{pattern}",t.format.source)}:t.includes?{required:!0,message:r.cR.field_is_required.replace("%{field}",e.display_name)}:t.length?{validator:i.Z.length,fullField:e.display_name,options:t.length}:t.numeric?[{validator:i.Z.number,fullField:e.display_name},{required:!t.numeric.allow_nil,message:r.cR.field_is_required.replace("%{field}",e.display_name)},{required:!t.numeric.allow_nil,validator:i.Z.numeric,fullField:e.display_name,options:t.numeric}]:null})).filter(Boolean).flat();return"email"===e.name&&n.push({type:"email"}),o(e,t)&&n.push({validator:i.Z.json,fullField:e.display_name}),!e.reference&&["integer","float"].includes(e.column_type)&&n.push({validator:i.Z.number,fullField:e.display_name}),n}function a(e){return e.columns.reduce((function(e,t){return null!==t.default_value&&(e[t.name]=t.default_value),e}),{})}},2734:(e,t,n)=>{"use strict";n.d(t,{p:()=>s,n:()=>a}),n(9600),n(7327),n(1249),n(6699),n(2023),n(8309),n(9554),n(4747),n(9070);var i=n(48);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["read_only","read_write"];return e.columns.map((function(n){return t.includes(n.access_type)||e.primary_key===n.name?n.name:null})).filter(Boolean).join(",")}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["read_only","read_write"];return e.columns.map((function(e){var n;return t.includes(e.access_type)&&null!==(n=e.reference)&&void 0!==n&&n.name?e.reference.name:null})).filter(Boolean).join(",")}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["read_only","read_write"],n=r({},e.name,o(e,t));return e.columns.forEach((function(e){var r;if(null!==(r=e.reference)&&void 0!==r&&r.name&&!e.reference.polymorphic&&t.includes(e.access_type)){var s,a=i.r3[e.reference.model_name];a&&(n[s=e.reference.name]||(n[s]=o(a,t)))}})),n}},48:(e,t,n)=>{"use strict";n.d(t,{fK:()=>o,ik:()=>s,r3:()=>a}),n(6992),n(8559),n(1249),n(8309);var i=n(2262),r=document.getElementById("app"),o=(0,i.qj)(JSON.parse(r.getAttribute("data-schema"))),s=Object.fromEntries(o.map((function(e){return[e.slug,e]}))),a=Object.fromEntries(o.map((function(e){return[e.name,e]})))},8104:(e,t,n)=>{"use strict";n.d(t,{F:()=>i,y:()=>r});var i=(0,n(2262).qj)({});function r(e,t,n){i[e]||(i[e]={}),i[e][t]=n}},8424:(e,t,n)=>{"use strict";n.d(t,{ay:()=>h,XD:()=>C,Kp:()=>S,jc:()=>A,db:()=>p,n3:()=>f,vS:()=>m}),n(1249),n(2707),n(1539),n(8674),n(7727),n(561),n(2222),n(6992),n(8783),n(3948),n(9070),n(7941),n(2526),n(7327),n(5003),n(9554),n(4747),n(9337),n(3321),n(9753),n(1817),n(2165),n(1038),n(7042),n(8309);var i=n(2262),r=n(7248),o=n(4800);function s(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=(0,i.qj)([]),p=(0,i.qj)([]),f=(0,i.qj)([]),m=(0,i.qj)([]);function g(e,t){return e.map((function(e){return u(u({},e),{},{type:t})}))}function v(e){return e.sort((function(e,t){return e.updated_at>t.updated_at?-1:1}))}var y=null;function b(){return y||(y=r.Z.get("queries",{params:{include:"tags",fields:{query:"id,name,tags,updated_at",tags:"id,name"}}}).finally((function(){y=null}))),y}var w=null;function _(){return w||(w=r.Z.get("dashboards",{params:{include:"tags",fields:{dashboard:"id,title,tags,updated_at",tags:"id,name"}}}).finally((function(){w=null}))),w}var x=null;function k(e,t,n){var i=g(e,"dashboard"),r=g(t,"query"),o=g(n,"alert");p.splice.apply(p,[0,p.length].concat(s(v(r)))),f.splice.apply(f,[0,f.length].concat(s(v(i)))),m.splice.apply(m,[0,m.length].concat(s(v(o)))),h.splice.apply(h,[0,h.length].concat(s(v(f.concat(p).concat(m)))))}function C(){return Promise.all([o.Z.$can("read","Motor::Dashboard")?_():Promise.resolve({data:{data:[]}}),o.Z.$can("read","Motor::Query")?b():Promise.resolve({data:{data:[]}}),o.Z.$can("read","Motor::Alert")?(x||(x=r.Z.get("alerts",{params:{include:"tags",fields:{alert:"id,name,tags,is_enabled,updated_at",tags:"id,name"}}}).finally((function(){x=null}))),x):Promise.resolve({data:{data:[]}})]).then((function(e){var t,n,i=(n=3,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(t,n)||a(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=i[0],o=i[1],s=i[2];k(r.data.data,o.data.data,s.data.data)})).catch((function(e){console.error(e)}))}function S(){return b().then((function(e){var t=g(e.data.data,"query");p.splice.apply(p,[0,p.length].concat(s(v(t)))),h.splice.apply(h,[0,h.length].concat(s(v(f.concat(p).concat(m)))))})).catch((function(e){console.error(e)}))}function A(){return _().then((function(e){var t=g(e.data.data,"dashboard");f.splice.apply(f,[0,f.length].concat(s(v(t)))),h.splice.apply(h,[0,h.length].concat(s(v(p.concat(f).concat(m)))))})).catch((function(e){console.error(e)}))}var D=document.getElementById("app");k(JSON.parse(D.getAttribute("data-dashboards")),JSON.parse(D.getAttribute("data-queries")),JSON.parse(D.getAttribute("data-alerts")))},873:(e,t,n)=>{"use strict";n.d(t,{r:()=>Qt}),n(4916),n(5306),n(9070),n(7941),n(2526),n(7327),n(5003),n(9554),n(4747),n(9337),n(3321);var i=n(6252);(0,i.dD)("data-v-17415677");var r={key:1,class:"pt-3"};(0,i.Cn)(),n(1249),n(8309);var o=n(3577),s=n(9963);(0,i.dD)("data-v-7f3597aa");var a={class:"ivu-card-body d-flex align-items-center justify-content-between"},l={class:"d-flex align-items-center"},c={class:"d-flex align-items-center"};(0,i.Cn)();var u=n(7248),d=n(2343);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n(9753),n(1817),n(1539),n(2165),n(6992),n(8783),n(3948),n(7042),n(1038),(0,i.dD)("data-v-b265b63e");var p={style:{"min-height":"350px"}},f={style:{"min-height":"260px","max-height":"260px",overflowY:"auto"}},m=["onClick","innerHTML"];function g(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}(0,i.Cn)(),n(6699),n(2023),n(8674),n(7727),n(561),n(2222);var y=(0,n(2262).qj)([]);const b={name:"IconSelect",emits:["select","close"],data:function(){return{isLoading:!1,searchQuery:""}},computed:{icons:function(){var e=this;return y.filter((function(t){var n,i,r=(i=2,function(e){if(Array.isArray(e))return e}(n=t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(n,i)||g(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0];return r[1],o.includes(e.searchQuery.toLowerCase())}))}},mounted:function(){this.loadIcons()},methods:{loadIcons:function(){var e=this;y.length||(this.isLoading=!0,u.Z.get("icons").then((function(e){var t;y.splice.apply(y,[0,0].concat(function(e){if(Array.isArray(e))return v(e)}(t=e.data.data)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||g(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))})).catch((function(e){console.error(e)})).finally((function(){e.isLoading=!1})))}},render:function(e,t,n,r,s,a){var l=(0,i.up)("Spin"),c=(0,i.up)("VInput"),u=(0,i.up)("VButton");return(0,i.wg)(),(0,i.iD)("div",p,[s.isLoading?((0,i.wg)(),(0,i.j4)(l,{key:0,fix:""})):(0,i.kq)("v-if",!0),(0,i.Wm)(c,{modelValue:s.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.searchQuery=e}),search:"",placeholder:e.i18n.search_placeholder,size:"large",class:"mb-2"},null,8,["modelValue","placeholder"]),(0,i._)("div",f,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.icons,(function(t){var n,r,o=(r=2,function(e){if(Array.isArray(e))return e}(n=t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(n,r)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=o[0],a=o[1];return(0,i.wg)(),(0,i.iD)("span",{key:s,onClick:function(t){return e.$emit("select",s.replace(".svg",""))},innerHTML:a},null,8,m)})),128))]),s.isLoading?(0,i.kq)("v-if",!0):((0,i.wg)(),(0,i.j4)(u,{key:1,long:"",icon:"md-close",class:"mt-2",onClick:t[1]||(t[1]=function(t){return e.$emit("close")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.close),1)]})),_:1}))])},__scopeId:"data-v-b265b63e"},w={name:"ResourceSettingsItem",components:{CustomIcon:d.Z},props:{resource:{type:Object,required:!0}},methods:{openIconEditor:function(){var e=this;this.$Modal.open(b,{onSelect:function(t){e.resource.icon=t,e.persistChanges(),e.$Modal.remove()},onClose:function(){e.$Modal.remove()}})},persistChanges:function(){return u.Z.post("resources",{data:{name:this.resource.name,preferences:{display_name:this.resource.display_name,icon:this.resource.icon,visible:this.resource.visible}}}).then((function(e){})).catch((function(e){console.error(e)}))}},render:function(e,t,n,r,u,d){var h=(0,i.up)("Icon"),p=(0,i.up)("Checkbox"),f=(0,i.up)("CustomIcon"),m=(0,i.up)("Contenteditable");return(0,i.wg)(),(0,i.iD)("div",{class:"ivu-card ivu-card-bordered",style:(0,o.j5)({opacity:n.resource.visible?1:.5})},[(0,i._)("div",a,[(0,i._)("div",l,[(0,i.Wm)(h,{type:"ios-menu",class:"me-3 cursor-grab handle"}),(0,i.Wm)(p,{modelValue:n.resource.visible,"onUpdate:modelValue":t[0]||(t[0]=function(e){return n.resource.visible=e}),class:"m-0",onClick:t[1]||(t[1]=(0,s.iM)((function(){}),["stop"])),onChange:d.persistChanges},null,8,["modelValue","onChange"]),(0,i.Wm)(f,{type:n.resource.icon,size:36,class:"p-2 mx-1",onClick:(0,s.iM)(d.openIconEditor,["stop"])},null,8,["type","onClick"]),(0,i.Wm)(m,{modelValue:n.resource.display_name,"onUpdate:modelValue":t[2]||(t[2]=function(e){return n.resource.display_name=e}),class:"fs-4 fw-bold",onClick:t[3]||(t[3]=(0,s.iM)((function(){}),["stop"])),onChange:d.persistChanges},null,8,["modelValue","onChange"])]),(0,i._)("div",c,[(0,i.Wm)(h,{type:"ios-arrow-forward"})])])],4)},__scopeId:"data-v-7f3597aa"};(0,i.dD)("data-v-0725d696");var _={class:"resource-settings"},x={class:"sticky-footer"};(0,i.Cn)();var k={key:1,class:"py-2 border-top"},C={class:"ivu-card ivu-card-bordered"},S={class:"ivu-card-body py-0"},A={class:"d-flex align-items-center"},D={class:"d-flex align-items-center"};n(4553),n(9601);var O={class:"row"},T={key:0,class:"col-sm-6 ps-sm-1"},E={key:0,class:"row"},$={class:"col-sm-6 pe-sm-1"},M={class:"col-sm-6 ps-sm-1"},R={class:"text-center"},L={class:"d-flex justify-content-between"};n(9254),n(9826),n(4944),n(4723),n(3123),n(4603),n(9714);var P=n(1789),F=n(8369),I=n(478),j=n(3093),N={class:"row"},V={class:"col-sm-12"},B={class:"col-sm-6 pe-sm-1"},q={class:"col-sm-6 ps-sm-1"},z={class:"col-sm-6 pe-sm-1"},W={class:"col-sm-6 ps-sm-1"},U={key:1,class:"col-sm-12"},H=n(48);const K={name:"ResourceReferenceForm",props:{resourceName:{type:String,required:!0},reference:{type:Object,required:!0}},computed:{model:function(){return H.r3[this.resourceName]},resourceColumns:function(){return this.model.columns.filter((function(e){return"table"===e.column_source}))},resourceReferences:function(){return this.resourceColumns.map((function(e){return e.reference})).filter(Boolean)},throughReferences:function(){var e=this,t=this.resourceReferences.find((function(t){return t.name===e.reference.options.through}));return t?H.r3[t.model_name].columns.map((function(e){return e.reference})).filter(Boolean):[]},referenceColumns:function(){return this.reference.model_name?H.r3[this.reference.model_name].columns.filter((function(e){return"table"===e.column_source})):[]},referenceModels:function(){return H.fK},modelNameMap:function(){return H.r3}},methods:{setReferenceKeys:function(e){e?(this.reference.primary_key=e.primary_key,this.reference.foreign_key=e.foreign_key,this.reference.model_name=e.model_name):(this.reference.primary_key=null,this.reference.foreign_key=null,this.reference.model_name=null)},onPolymorphicChange:function(e){e&&(this.reference.model_name=null,this.reference.primary_key="id")}},render:function(e,t,n,r,o,s){var a=(0,i.up)("MSelect"),l=(0,i.up)("FormItem"),c=(0,i.up)("Checkbox");return(0,i.wg)(),(0,i.iD)("div",N,[(0,i._)("div",V,[(0,i.Wm)(l,{label:e.i18n.reference_resource,prop:"reference.model_name"},{default:(0,i.w5)((function(){return[(0,i.Wm)(a,{modelValue:n.reference.model_name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return n.reference.model_name=e}),"value-key":"name","label-key":"display_name","with-deselect":!1,options:s.referenceModels,disabled:n.reference.polymorphic||!!n.reference.options.through,placeholder:e.i18n.select_resource_placeholder,filterable:""},null,8,["modelValue","options","disabled","placeholder"])]})),_:1},8,["label"])]),"active_storage/attachment"!==n.reference.model_name?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i._)("div",B,[(0,i.Wm)(l,{label:e.i18n.foreign_key,prop:"reference.foreign_key"},{default:(0,i.w5)((function(){return[(0,i.Wm)(a,{modelValue:n.reference.foreign_key,"onUpdate:modelValue":t[1]||(t[1]=function(e){return n.reference.foreign_key=e}),"value-key":"name","label-key":"name","with-deselect":!1,disabled:!!n.reference.options.through,options:"has_one"===n.reference.reference_type?s.referenceColumns:s.resourceColumns,filterable:""},null,8,["modelValue","disabled","options"])]})),_:1},8,["label"])]),(0,i._)("div",q,[(0,i.Wm)(l,{label:e.i18n.primary_key,prop:"reference.primary_key"},{default:(0,i.w5)((function(){return[(0,i.Wm)(a,{modelValue:n.reference.primary_key,"onUpdate:modelValue":t[2]||(t[2]=function(e){return n.reference.primary_key=e}),"value-key":"name","label-key":"name","with-deselect":!1,disabled:n.reference.polymorphic||!!n.reference.options.through,options:"has_one"===n.reference.reference_type?s.resourceColumns:s.referenceColumns,filterable:""},null,8,["modelValue","disabled","options"])]})),_:1},8,["label"])]),"has_one"===n.reference.reference_type?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i._)("div",z,[(0,i.Wm)(l,{label:e.i18n.through,prop:"reference.options.through"},{default:(0,i.w5)((function(){return[(0,i.Wm)(a,{modelValue:n.reference.options.through,"onUpdate:modelValue":t[3]||(t[3]=function(e){return n.reference.options.through=e}),"value-key":"name","label-key":"display_name",options:s.resourceReferences,filterable:""},null,8,["modelValue","options"])]})),_:1},8,["label"])]),(0,i._)("div",W,[(0,i.Wm)(l,{label:e.i18n.source,prop:"reference.options.source"},{default:(0,i.w5)((function(){return[(0,i.Wm)(a,{modelValue:n.reference.options.source,"onUpdate:modelValue":t[4]||(t[4]=function(e){return n.reference.options.source=e}),"value-key":"name","label-key":"display_name",options:s.throughReferences,filterable:"",onSelect:s.setReferenceKeys},null,8,["modelValue","options","onSelect"])]})),_:1},8,["label"])])],64)):((0,i.wg)(),(0,i.iD)("div",U,[(0,i.Wm)(l,{label:e.i18n.polymorphic,prop:"reference.polymorphic"},{default:(0,i.w5)((function(){return[(0,i.Wm)(c,{modelValue:n.reference.polymorphic,"onUpdate:modelValue":[t[5]||(t[5]=function(e){return n.reference.polymorphic=e}),s.onPolymorphicChange]},null,8,["modelValue","onUpdate:modelValue"])]})),_:1},8,["label"])]))],64)):(0,i.kq)("v-if",!0)])}};var Z=n(5487),G=n(5763);const Y={name:"ResourceColumnForm",components:{FormInput:P.Z,CurrencySelect:I.Z,OptionsInput:j.Z,ReferenceForm:K},props:{column:{type:Object,required:!0},resourceName:{type:String,required:!0},withRemove:{type:Boolean,required:!1,default:!1}},emits:["cancel","submit","remove"],data:function(){return{isLoading:!1,dataColumn:{}}},computed:{rules:function(){var e,t={display_name:[{required:!0,message:(0,Z.w)("name")}]};return"json"===this.dataColumn.column_type&&(t.default_value=[{validator:F.Z.json,fullField:this.i18n.default_value}]),"reference"===this.dataColumn.column_type&&(null!==(e=this.dataColumn.reference)&&void 0!==e&&e.polymorphic||(t["reference.model_name"]=[{required:!0,message:(0,Z.w)("reference_resource")}]),t["reference.foreign_key"]=[{required:!0,message:(0,Z.w)("foreign_key")}],t["reference.primary_key"]=[{required:!0,message:(0,Z.w)("primary_key")}]),t},currencyBaseOptions:function(){return[{label:this.i18n.unit,value:"unit"},{label:this.i18n.cents,value:"cents"}]},columnTypes:function(){return[{label:this.i18n.text,value:"string"},{label:this.i18n.integer,value:"integer"},{label:this.i18n.decimal,value:"float"},{label:this.i18n.reference,value:"reference"},{label:this.i18n.date_and_time,value:"datetime"},{label:this.i18n.date,value:"date"},{label:this.i18n.boolean,value:"boolean"},{label:this.i18n.long_text,value:"textarea"},{label:this.i18n.richtext,value:"richtext"},{label:this.i18n.currency,value:"currency"},{label:this.i18n.percentage,value:"percentage"},{label:this.i18n.change,value:"change"},{label:this.i18n.chart,value:"chart"},{label:this.i18n.tag,value:"tag"},{label:this.i18n.link,value:"link"},{label:this.i18n.color,value:"color"},{label:this.i18n.image,value:"image"},{label:this.i18n.audio,value:"audio"},{label:this.i18n.video,value:"video"},{label:this.i18n.file,value:"file"},{label:this.i18n.json,value:"json"}]},accessTypes:function(){return[{label:this.i18n.read_write,value:"read_write"},{label:this.i18n.read_only,value:"read_only"},{label:this.i18n.write_only,value:"write_only"},{label:this.i18n.hidden,value:"hidden"}]},splitTagOptions:function(){return[{label:this.i18n.semicolon,value:";"},{label:this.i18n.comma,value:","},{label:this.i18n.hyphen,value:"-"},{label:this.i18n.slash,value:"/"}]}},watch:{"dataColumn.column_type":function(e){e!==this.column.column_type?this.dataColumn.default_value=null:this.column.default_value&&"object"==typeof this.column.default_value?this.dataColumn.default_value=JSON.stringify(this.column.default_value,null,"  "):this.dataColumn.default_value=JSON.parse(JSON.stringify(this.column.default_value)||"null")}},created:function(){this.dataColumn=this.normalizeDataColumn()},methods:{assignDefaultData:function(){var e,t;if(this.column.reference&&(this.column.reference.virtual?this.dataColumn.reference=null:this.dataColumn.reference=JSON.parse(JSON.stringify(this.column.reference))),"currency"===this.dataColumn.column_type)(e=this.dataColumn.format).currency||(e.currency="USD"),(t=this.dataColumn.format).currency_base||(t.currency_base="unit");else if("reference"===this.dataColumn.column_type){var n;this.dataColumn.reference={name:"",display_name:"",model_name:null===(n=H.r3[this.column.name]||H.r3[this.column.name.replace(/_id$/,"")])||void 0===n?void 0:n.name,reference_type:this.column.virtual?"has_one":"belongs_to",foreign_key:this.column.virtual?"":this.column.name,primary_key:"id",options:{},polymorphic:!1,virtual:!0}}},normalizeDataColumn:function(e){var t=this,n=JSON.parse(JSON.stringify(this.column));return n.default_value&&"object"==typeof n.default_value&&(n.default_value=JSON.stringify(n.default_value,null,"  ")),this.columnTypes.find((function(e){return e.value===t.column.column_type}))||(n.column_type="string"),n},loadSelectOptions:function(){var e=this,t="SELECT DISTINCT(".concat(this.dataColumn.name,") FROM ").concat(H.r3[this.resourceName].table_name);u.Z.post("run_queries",{sql_body:t}).then((function(t){e.dataColumn.format.select_options=t.data.data.flat().map((function(e){return null!=e&&e.match&&e.match(/^{.*}$/)?e.split(/[{},]/):e})).flat().filter(Boolean)}))},submit:function(){var e=this;this.$refs.form.validate((function(t){if(t){if(e.dataColumn.reference){var n,i,r,o=new RegExp("_".concat(e.dataColumn.reference.primary_key,"$"));"active_storage/attachment"===e.dataColumn.reference.model_name?(i=e.dataColumn.reference).name||(i.name=(0,G.It)(e.dataColumn.display_name)+"_attachment"):(r=e.dataColumn.reference).name||(r.name=(0,G.It)(e.dataColumn.display_name).replace(o,"")),(n=e.dataColumn.reference).display_name||(n.display_name=e.dataColumn.display_name)}e.$emit("submit",e.dataColumn)}}))}},render:function(e,t,n,r,s,a){var l=(0,i.up)("VInput"),c=(0,i.up)("FormItem"),u=(0,i.up)("MSelect"),d=(0,i.up)("CurrencySelect"),h=(0,i.up)("ReferenceForm"),p=(0,i.up)("OptionsInput"),f=(0,i.up)("VButton"),m=(0,i.up)("FormInput"),g=(0,i.up)("VForm");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(g,{ref:"form",rules:a.rules,"label-position":"top",model:s.dataColumn},{default:(0,i.w5)((function(){var r;return[(0,i.Wm)(c,{label:e.i18n.name,prop:"display_name"},{default:(0,i.w5)((function(){return[(0,i.Wm)(l,{modelValue:s.dataColumn.display_name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.dataColumn.display_name=e})},null,8,["modelValue"])]})),_:1},8,["label"]),(0,i._)("div",O,[(0,i._)("div",{class:(0,o.C_)("hidden"!==s.dataColumn.access_type?"col-sm-6 pe-sm-1":"col-12")},[(0,i.Wm)(c,{label:e.i18n.visibility,prop:"access_type"},{default:(0,i.w5)((function(){return[(0,i.Wm)(u,{modelValue:s.dataColumn.access_type,"onUpdate:modelValue":t[1]||(t[1]=function(e){return s.dataColumn.access_type=e}),"with-deselect":!1,options:a.accessTypes},null,8,["modelValue","options"])]})),_:1},8,["label"])],2),"hidden"!==s.dataColumn.access_type?((0,i.wg)(),(0,i.iD)("div",T,[(0,i.Wm)(c,{label:e.i18n.type,prop:"column_type"},{default:(0,i.w5)((function(){var e;return[(0,i.Wm)(u,{modelValue:s.dataColumn.column_type,"onUpdate:modelValue":[t[2]||(t[2]=function(e){return s.dataColumn.column_type=e}),a.assignDefaultData],options:a.columnTypes,filterable:"","with-deselect":!1,disabled:!1===(null===(e=s.dataColumn.reference)||void 0===e?void 0:e.virtual)},null,8,["modelValue","options","disabled","onUpdate:modelValue"])]})),_:1},8,["label"])])):(0,i.kq)("v-if",!0)]),"hidden"!==s.dataColumn.access_type&&["currency"].includes(s.dataColumn.column_type)?((0,i.wg)(),(0,i.iD)("div",E,[(0,i._)("div",$,[(0,i.Wm)(c,{label:e.i18n.label,prop:"format.currency"},{default:(0,i.w5)((function(){return[(0,i.Wm)(d,{modelValue:s.dataColumn.format.currency,"onUpdate:modelValue":t[3]||(t[3]=function(e){return s.dataColumn.format.currency=e})},null,8,["modelValue"])]})),_:1},8,["label"])]),(0,i._)("div",M,[(0,i.Wm)(c,{label:e.i18n.base,prop:"format.currency_base"},{default:(0,i.w5)((function(){return[(0,i.Wm)(u,{modelValue:s.dataColumn.format.currency_base,"onUpdate:modelValue":t[4]||(t[4]=function(e){return s.dataColumn.format.currency_base=e}),"with-deselect":!1,options:a.currencyBaseOptions},null,8,["modelValue","options"])]})),_:1},8,["label"])])])):(0,i.kq)("v-if",!0),"hidden"!==s.dataColumn.access_type&&["reference"].includes(s.dataColumn.column_type)&&s.dataColumn.reference&&s.dataColumn.reference.virtual?((0,i.wg)(),(0,i.j4)(h,{key:1,"resource-name":n.resourceName,reference:s.dataColumn.reference},null,8,["resource-name","reference"])):(0,i.kq)("v-if",!0),"tag"===s.dataColumn.column_type?((0,i.wg)(),(0,i.j4)(c,{key:2,label:e.i18n.select_options,prop:"format.select_options"},{default:(0,i.w5)((function(){var n;return[(0,i.Wm)(p,{modelValue:s.dataColumn.format.select_options,"onUpdate:modelValue":t[5]||(t[5]=function(e){return s.dataColumn.format.select_options=e})},null,8,["modelValue"]),(0,i._)("div",R,[null!==(n=s.dataColumn.format.select_options)&&void 0!==n&&n.length?(0,i.kq)("v-if",!0):((0,i.wg)(),(0,i.j4)(f,{key:0,type:"text",onClick:a.loadSelectOptions},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.load_existing_options_from_database),1)]})),_:1},8,["onClick"]))])]})),_:1},8,["label"])):(0,i.kq)("v-if",!0),"link"===s.dataColumn.column_type?((0,i.wg)(),(0,i.j4)(c,{key:3,label:e.i18n.link_text,prop:"format.link_text"},{default:(0,i.w5)((function(){return[(0,i.Wm)(l,{modelValue:s.dataColumn.format.link_text,"onUpdate:modelValue":t[6]||(t[6]=function(e){return s.dataColumn.format.link_text=e})},null,8,["modelValue"])]})),_:1},8,["label"])):(0,i.kq)("v-if",!0),["tag"].includes(s.dataColumn.column_type)?((0,i.wg)(),(0,i.j4)(c,{key:4,label:e.i18n.split_tags_by,prop:"format.split_tags_by"},{default:(0,i.w5)((function(){return[(0,i.Wm)(u,{modelValue:s.dataColumn.format.split_tags_by,"onUpdate:modelValue":t[7]||(t[7]=function(e){return s.dataColumn.format.split_tags_by=e}),options:a.splitTagOptions},null,8,["modelValue","options"])]})),_:1},8,["label"])):(0,i.kq)("v-if",!0),["read_write","write_only"].includes(s.dataColumn.access_type)&&!["image","file","audio","video"].includes(s.dataColumn.column_type)&&"active_storage/attachment"!==(null===(r=s.dataColumn.reference)||void 0===r?void 0:r.model_name)?((0,i.wg)(),(0,i.j4)(c,{key:5,label:e.i18n.default_value,prop:"default_value"},{default:(0,i.w5)((function(){return[(0,i.Wm)(m,{modelValue:s.dataColumn.default_value,"onUpdate:modelValue":t[8]||(t[8]=function(e){return s.dataColumn.default_value=e}),column:s.dataColumn},null,8,["modelValue","column"])]})),_:1},8,["label"])):(0,i.kq)("v-if",!0)]})),_:1},8,["rules","model"]),(0,i._)("div",L,[(0,i._)("div",null,[n.withRemove?((0,i.wg)(),(0,i.j4)(f,{key:0,type:"error",ghost:"",class:"me-2",onClick:t[9]||(t[9]=function(t){return e.$emit("remove")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.remove),1)]})),_:1})):(0,i.kq)("v-if",!0),(0,i.Wm)(f,{onClick:t[10]||(t[10]=function(t){return e.$emit("cancel")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.cancel),1)]})),_:1})]),(0,i.Wm)(f,{type:"primary",loading:s.isLoading,onClick:a.submit},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.save),1)]})),_:1},8,["loading","onClick"])])])}};function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){X(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ie={display_name:"",name:"",column_type:"string",access_type:"read_write",format:{},validators:[]};const re={name:"ResourceColumnsList",components:{ResourceColumn:{name:"ResourceColumn",components:{ColumnForm:Y},props:{resourceName:{type:String,required:!0},column:{type:Object,required:!0}},emits:["reorder"],data:function(){return{isForm:!1}},computed:{resource:function(){return H.r3[this.resourceName]}},methods:{removeColumn:function(){var e=this;this.$Dialog.confirm({title:this.i18n.are_you_sure,closable:!0,onOk:function(){var t=e.resource.columns.findIndex((function(t){return t.name===e.column.name}));e.resource.columns.splice(t,1),u.Z.post("resources",{data:{name:e.resourceName,preferences:{columns:[{name:e.column.name,_remove:!0}]}}}).then((function(e){})).catch((function(e){console.error(e)}))}})},persistChanges:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=J({},t||this.column);return n.name&&(n._update=n.name),n.virtual&&(n.name=(0,G.It)(n.display_name)),u.Z.post("resources",{data:{name:this.resourceName,preferences:{columns:[n]}}}).then((function(t){e.column.name!==n.name&&(e.column.name=n.name,e.$emit("reorder"))})).catch((function(e){console.error(e)}))},toggleAccessType:function(e){this.column.access_type=e?"read_write":"hidden",this.persistChanges()},toggleForm:function(){var e=this;this.isForm=!this.isForm,this.isForm&&this.$nextTick((function(){e.$el.scrollIntoView({inline:"end",block:"center",behavior:"smooth"})}))},updateName:function(e){this.column.display_name=e.target.innerText},updateColumn:function(e){var t=this;this.persistChanges(e).then((function(){Object.assign(t.column,e)})),this.isForm=!1}},render:function(e,t,n,r,a,l){var c=(0,i.up)("Icon"),u=(0,i.up)("Checkbox"),d=(0,i.up)("Contenteditable"),h=(0,i.up)("ColumnForm");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",C,[(0,i._)("div",S,[(0,i._)("div",{class:"cursor-pointer d-flex align-items-center justify-content-between py-2",style:(0,o.j5)({opacity:a.isForm||"hidden"!==n.column.access_type?1:.5}),onClick:t[4]||(t[4]=function(){return l.toggleForm&&l.toggleForm.apply(l,arguments)})},[(0,i._)("div",A,[(0,i.Wm)(c,{type:"ios-menu",class:"me-3 cursor-grab handle"}),(0,i.Wm)(u,{"model-value":["read_only","read_write"].includes(n.column.access_type),indeterminate:["write_only","read_only"].includes(n.column.access_type),onClick:t[0]||(t[0]=(0,s.iM)((function(){}),["stop"])),onOnChange:l.toggleAccessType},null,8,["model-value","indeterminate","onOnChange"]),(0,i.Wm)(d,{modelValue:n.column.display_name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return n.column.display_name=e}),class:"fs-5 fw-bold",onClick:t[2]||(t[2]=(0,s.iM)((function(){}),["stop"])),onChange:t[3]||(t[3]=function(e){return l.persistChanges()})},null,8,["modelValue"])]),(0,i._)("div",D,[(0,i.Wm)(c,{type:a.isForm?"ios-arrow-up":"ios-arrow-down"},null,8,["type"])])],4),a.isForm?((0,i.wg)(),(0,i.j4)(h,{key:0,column:n.column,"resource-name":n.resourceName,class:"py-3","with-remove":n.column.virtual,onCancel:l.toggleForm,onRemove:l.removeColumn,onSubmit:l.updateColumn},null,8,["column","resource-name","with-remove","onCancel","onRemove","onSubmit"])):(0,i.kq)("v-if",!0)])])])}},ResourceColumnForm:Y},props:{resource:{type:Object,required:!0}},data:function(){return{newColumn:null}},methods:{addColumn:function(){var e=this;this.newColumn=te(te({},ie),{},{virtual:!0}),this.$nextTick((function(){e.$refs.newForm.$el.scrollIntoView({inline:"end",block:"center",behavior:"smooth"})}))},onColumnSubmit:function(e){var t,n=this;return e.name=(0,G.It)(e.display_name),"active_storage/attachment"===(null===(t=e.reference)||void 0===t?void 0:t.model_name)&&(e.name+="_attachment"),this.newColumn=null,u.Z.post("resources",{data:{name:this.resource.name,preferences:{columns:[e]}}}).then((function(t){n.resource.columns.push(e)})).catch((function(e){console.error(e)}))},onColumnMove:function(){return u.Z.post("configs",{data:{key:"resources.".concat(this.resource.name,".columns.order"),value:this.resource.columns.map((function(e){return e.name}))}}).then((function(e){})).catch((function(e){console.error(e)}))}},render:function(e,t,n,r,s,a){var l=(0,i.up)("ResourceColumn"),c=(0,i.up)("VueDraggableNext"),u=(0,i.up)("ResourceColumnForm"),d=(0,i.up)("Card"),h=(0,i.up)("VButton");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(c,{list:n.resource.columns,handle:".handle",onChange:a.onColumnMove},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.resource.columns,(function(e){return(0,i.wg)(),(0,i.j4)(l,{key:e.name,"resource-name":n.resource.name,column:e,class:"pb-2",onReorder:a.onColumnMove},null,8,["resource-name","column","onReorder"])})),128))]})),_:1},8,["list","onChange"]),s.newColumn?((0,i.wg)(),(0,i.j4)(d,{key:0},{default:(0,i.w5)((function(){return[(0,i.Wm)(u,{ref:"newForm",column:s.newColumn,"resource-name":n.resource.name,onCancel:t[0]||(t[0]=function(e){return s.newColumn=null}),onSubmit:a.onColumnSubmit},null,8,["column","resource-name","onSubmit"])]})),_:1})):((0,i.wg)(),(0,i.iD)("div",k,[(0,i.Wm)(h,{long:"",icon:"md-add",onClick:a.addColumn},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.add_column),1)]})),_:1},8,["onClick"])]))],64)}};var oe={key:1,class:"py-2 border-top"};(0,i.dD)("data-v-562fb018");var se={class:"ivu-card ivu-card-bordered"},ae={class:"ivu-card-body"},le={class:"d-flex align-items-center"},ce={key:0,class:"d-flex align-items-center"};(0,i.Cn)();var ue={class:"row"},de={class:"col-sm-12"},he={class:"col-sm-12"},pe={class:"col-sm-6 pe-sm-1"},fe={class:"col-sm-6 ps-sm-1"},me={class:"col-sm-6 pe-sm-1"},ge={class:"col-sm-6 ps-sm-1"},ve={class:"col-sm-12 mb-2"},ye=(0,i._)("br",null,null,-1),be={class:"d-flex justify-content-between"},we=n(2883);function _e(e){return function(e){if(Array.isArray(e))return xe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xe(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}const ke={name:"ResourceAssociationForm",components:{Filters:we.Z},props:{association:{type:Object,required:!0},resourceName:{type:String,required:!0},withRemove:{type:Boolean,required:!1,default:!1}},emits:["cancel","submit","remove"],data:function(){return{isLoading:!1,dataAssoc:{}}},computed:{rules:function(){var e={display_name:[{required:!0,message:(0,Z.w)("name")}],model_name:[{required:!0,message:(0,Z.w)("resource")}],primary_key:[{required:!0,message:(0,Z.w)("primary_key")}],foreign_key:[{required:!0,message:(0,Z.w)("foreign_key")}]};return this.dataAssoc.options.through&&(e["options.source"]=[{required:!0,message:(0,Z.w)("source")}]),e},model:function(){return H.r3[this.resourceName]},resourceColumns:function(){return this.model.columns.filter((function(e){return!e.virtual}))},resourceReferences:function(){var e=this;return[].concat(_e(this.resourceColumns.map((function(e){return e.reference})).filter(Boolean)),_e(this.model.associations.filter((function(t){return t.display_name!==e.dataAssoc.display_name}))))},associationModel:function(){return H.r3[this.dataAssoc.model_name]},throughModel:function(){var e=this,t=this.resourceReferences.find((function(t){return t.name===e.dataAssoc.options.through}));return H.r3[null==t?void 0:t.model_name]},throughReferences:function(){return this.throughModel?[].concat(_e(this.throughModel.associations),_e(this.throughModel.columns.map((function(e){return e.reference})).filter(Boolean))):[]},associationColumns:function(){return this.dataAssoc.model_name?H.r3[this.dataAssoc.model_name].columns.filter((function(e){return"table"===e.column_source})):[]},associationModels:function(){return H.fK},modelNameMap:function(){return H.r3}},created:function(){this.dataAssoc=JSON.parse(JSON.stringify(this.association))},methods:{setAssociationKeys:function(e){e?(this.dataAssoc.primary_key=e.primary_key,this.dataAssoc.foreign_key=e.foreign_key,this.dataAssoc.model_name=e.model_name):(this.dataAssoc.primary_key=null,this.dataAssoc.foreign_key=null,this.dataAssoc.model_name=null)},onFiltersToggle:function(e){e?this.dataAssoc.options.filters=[]:delete this.dataAssoc.options.filters},onPolymorphicChange:function(e){e&&(this.dataAssoc.model_name=null,this.dataAssoc.primary_key="id")},submit:function(){var e=this;this.$refs.form.validate((function(t){t&&e.$emit("submit",e.dataAssoc)}))}},render:function(e,t,n,r,s,a){var l=(0,i.up)("VInput"),c=(0,i.up)("FormItem"),u=(0,i.up)("MSelect"),d=(0,i.up)("Checkbox"),h=(0,i.up)("Filters"),p=(0,i.up)("VForm"),f=(0,i.up)("VButton");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(p,{ref:"form",rules:a.rules,"label-position":"top",model:s.dataAssoc},{default:(0,i.w5)((function(){return[(0,i._)("div",ue,[(0,i._)("div",de,[(0,i.Wm)(c,{label:e.i18n.name,prop:"display_name"},{default:(0,i.w5)((function(){return[(0,i.Wm)(l,{modelValue:s.dataAssoc.display_name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.dataAssoc.display_name=e})},null,8,["modelValue"])]})),_:1},8,["label"])]),(0,i._)("div",he,[(0,i.Wm)(c,{label:e.i18n.resource,prop:"model_name"},{default:(0,i.w5)((function(){return[(0,i.Wm)(u,{modelValue:s.dataAssoc.model_name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return s.dataAssoc.model_name=e}),"value-key":"name","label-key":"display_name","with-deselect":!1,disabled:!!s.dataAssoc.options.through,options:a.associationModels,placeholder:e.i18n.select_resource_placeholder,filterable:""},null,8,["modelValue","disabled","options","placeholder"])]})),_:1},8,["label"])]),"active_storage/attachment"!==s.dataAssoc.model_name?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i._)("div",pe,[(0,i.Wm)(c,{label:e.i18n.foreign_key,prop:"foreign_key"},{default:(0,i.w5)((function(){return[(0,i.Wm)(u,{modelValue:s.dataAssoc.foreign_key,"onUpdate:modelValue":t[2]||(t[2]=function(e){return s.dataAssoc.foreign_key=e}),"value-key":"name",disabled:!!s.dataAssoc.options.through,"label-key":"name","with-deselect":!1,options:a.associationColumns,filterable:""},null,8,["modelValue","disabled","options"])]})),_:1},8,["label"])]),(0,i._)("div",fe,[(0,i.Wm)(c,{label:e.i18n.primary_key,prop:"primary_key"},{default:(0,i.w5)((function(){return[(0,i.Wm)(u,{modelValue:s.dataAssoc.primary_key,"onUpdate:modelValue":t[3]||(t[3]=function(e){return s.dataAssoc.primary_key=e}),disabled:!!s.dataAssoc.options.through,"value-key":"name","label-key":"name","with-deselect":!1,options:a.resourceColumns,filterable:""},null,8,["modelValue","disabled","options"])]})),_:1},8,["label"])]),(0,i._)("div",me,[(0,i.Wm)(c,{label:e.i18n.through,prop:"options.through"},{default:(0,i.w5)((function(){return[(0,i.Wm)(u,{modelValue:s.dataAssoc.options.through,"onUpdate:modelValue":[t[4]||(t[4]=function(e){return s.dataAssoc.options.through=e}),t[5]||(t[5]=function(e){return e?"":s.dataAssoc.options.source=null})],"value-key":"name","label-key":"display_name",options:a.resourceReferences,filterable:""},null,8,["modelValue","options"])]})),_:1},8,["label"])]),(0,i._)("div",ge,[(0,i.Wm)(c,{label:e.i18n.source,prop:"options.source"},{default:(0,i.w5)((function(){return[(0,i.Wm)(u,{modelValue:s.dataAssoc.options.source,"onUpdate:modelValue":t[6]||(t[6]=function(e){return s.dataAssoc.options.source=e}),"value-key":"name","label-key":"display_name",options:a.throughReferences,filterable:"",onSelect:a.setAssociationKeys},null,8,["modelValue","options","onSelect"])]})),_:1},8,["label"])]),(0,i._)("div",ve,[(0,i.Wm)(d,{modelValue:s.dataAssoc.polymorphic,"onUpdate:modelValue":[t[7]||(t[7]=function(e){return s.dataAssoc.polymorphic=e}),a.onPolymorphicChange]},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(" ")+(0,o.zw)(e.i18n.polymorphic),1)]})),_:1},8,["modelValue","onUpdate:modelValue"]),ye,(0,i.Wm)(d,{"model-value":!!s.dataAssoc.options.filters,"onUpdate:modelValue":a.onFiltersToggle},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(" ")+(0,o.zw)(e.i18n.filter),1)]})),_:1},8,["model-value","onUpdate:modelValue"])])],64)):(0,i.kq)("v-if",!0)]),s.dataAssoc.options.filters&&"active_storage/attachment"!==s.dataAssoc.model_name?((0,i.wg)(),(0,i.j4)(h,{key:0,filters:s.dataAssoc.options.filters,"onUpdate:filters":t[8]||(t[8]=function(e){return s.dataAssoc.options.filters=e}),model:a.associationModel||a.throughModel},null,8,["filters","model"])):(0,i.kq)("v-if",!0)]})),_:1},8,["rules","model"]),(0,i._)("div",be,[(0,i._)("div",null,[n.withRemove?((0,i.wg)(),(0,i.j4)(f,{key:0,type:"error",ghost:"",class:"me-2",onClick:t[9]||(t[9]=function(t){return e.$emit("remove")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.remove),1)]})),_:1})):(0,i.kq)("v-if",!0),(0,i.Wm)(f,{onClick:t[10]||(t[10]=function(t){return e.$emit("cancel")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.cancel),1)]})),_:1})]),(0,i.Wm)(f,{type:"primary",loading:s.isLoading,onClick:a.submit},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.save),1)]})),_:1},8,["loading","onClick"])])])}},Ce={name:"AssociationItem",components:{CustomIcon:d.Z,AssociationForm:ke},props:{resourceName:{type:String,required:!0},association:{type:Object,required:!0}},data:function(){return{isForm:!1}},computed:{model:function(){return H.r3[this.resourceName]}},methods:{removeAssociation:function(){var e=this;this.$Dialog.confirm({title:this.i18n.are_you_sure,closable:!0,onOk:function(){var t=e.model.associations.findIndex((function(t){return t.name===e.association.name}));e.model.associations.splice(t,1),u.Z.post("resources",{data:{name:e.resourceName,preferences:{associations:[{name:e.association.name,_remove:!0}]}}}).then((function(e){})).catch((function(e){console.error(e)}))}})},openIconEditor:function(){var e=this;this.$Modal.open(b,{onSelect:function(t){e.association.icon=t,e.persistChanges(),e.$Modal.remove()},onClose:function(){e.$Modal.remove()}})},toggleForm:function(){var e=this;this.association.virtual&&(this.isForm=!this.isForm,this.$nextTick((function(){e.$el.scrollIntoView({inline:"end",block:"center",behavior:"smooth"})})))},updateAssociation:function(e){var t=this;this.persistChanges(e).then((function(){Object.assign(t.association,e)})),this.isForm=!1},persistChanges:function(e){return u.Z.post("resources",{data:{name:this.resourceName,preferences:{associations:[e||this.association]}}}).then((function(e){})).catch((function(e){console.error(e)}))}},render:function(e,t,n,r,a,l){var c=(0,i.up)("Icon"),u=(0,i.up)("Checkbox"),d=(0,i.up)("CustomIcon"),h=(0,i.up)("Contenteditable"),p=(0,i.up)("AssociationForm");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",se,[(0,i._)("div",ae,[(0,i._)("div",{class:"cursor-pointer d-flex align-items-center justify-content-between",style:(0,o.j5)({opacity:!a.isForm&&n.association.visible?1:.5}),onClick:t[6]||(t[6]=function(){return l.toggleForm&&l.toggleForm.apply(l,arguments)})},[(0,i._)("div",le,[(0,i.Wm)(c,{type:"ios-menu",class:"me-3 cursor-grab handle"}),(0,i.Wm)(u,{modelValue:n.association.visible,"onUpdate:modelValue":t[0]||(t[0]=function(e){return n.association.visible=e}),class:"m-0",onClick:t[1]||(t[1]=(0,s.iM)((function(){}),["stop"])),onChange:t[2]||(t[2]=function(e){return l.persistChanges()})},null,8,["modelValue"]),(0,i.Wm)(d,{type:n.association.icon,size:26,class:"p-1 mx-1 cursor-pointer",onClick:(0,s.iM)(l.openIconEditor,["stop"])},null,8,["type","onClick"]),(0,i.Wm)(h,{modelValue:n.association.display_name,"onUpdate:modelValue":t[3]||(t[3]=function(e){return n.association.display_name=e}),class:"fs-5 fw-bold",onClick:t[4]||(t[4]=(0,s.iM)((function(){}),["stop"])),onChange:t[5]||(t[5]=function(e){return l.persistChanges()})},null,8,["modelValue"])]),n.association.virtual?((0,i.wg)(),(0,i.iD)("div",ce,[(0,i.Wm)(c,{type:a.isForm?"ios-arrow-up":"ios-arrow-down"},null,8,["type"])])):(0,i.kq)("v-if",!0)],4),a.isForm?((0,i.wg)(),(0,i.j4)(p,{key:0,association:n.association,"resource-name":n.resourceName,class:"py-3","with-remove":!0,onCancel:l.toggleForm,onRemove:l.removeAssociation,onSubmit:l.updateAssociation},null,8,["association","resource-name","onCancel","onRemove","onSubmit"])):(0,i.kq)("v-if",!0)])])])},__scopeId:"data-v-562fb018"};var Se={display_name:"",name:"",slug:"",model_name:"",foreign_key:"",primary_key:"",polymorphic:!1,options:{},icon:"database",virtual:!0,visible:!0};const Ae={name:"ResourceAssociationsList",components:{Association:Ce,AssociationForm:ke},props:{resource:{type:Object,required:!0}},data:function(){return{newAssociation:null}},methods:{addAssociation:function(){this.newAssociation=JSON.parse(JSON.stringify(Se))},onAssociationSubmit:function(e){var t=this;return e.name=(0,G.It)(e.display_name),e.slug=(0,G.It)(e.display_name),"active_storage/attachment"===e.model_name&&(e.name+="_attachments",e.slug+="_attachments"),this.newAssociation=null,u.Z.post("resources",{data:{name:this.resource.name,preferences:{associations:[e]}}}).then((function(n){t.resource.associations.push(e)})).catch((function(e){console.error(e)}))},onAssociationMove:function(){return u.Z.post("configs",{data:{key:"resources.".concat(this.resource.name,".associations.order"),value:this.resource.associations.map((function(e){return e.name}))}}).then((function(e){})).catch((function(e){console.error(e)}))}},render:function(e,t,n,r,s,a){var l=(0,i.up)("Association"),c=(0,i.up)("VueDraggableNext"),u=(0,i.up)("AssociationForm"),d=(0,i.up)("Card"),h=(0,i.up)("VButton");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(c,{list:n.resource.associations,handle:".handle",onChange:a.onAssociationMove},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.resource.associations,(function(e){return(0,i.wg)(),(0,i.j4)(l,{key:e.slug,"resource-name":n.resource.name,association:e,class:"pb-2"},null,8,["resource-name","association"])})),128))]})),_:1},8,["list","onChange"]),s.newAssociation?((0,i.wg)(),(0,i.j4)(d,{key:0},{default:(0,i.w5)((function(){return[(0,i.Wm)(u,{ref:"newForm",association:s.newAssociation,"resource-name":n.resource.name,onCancel:t[0]||(t[0]=function(e){return s.newAssociation=null}),onSubmit:a.onAssociationSubmit},null,8,["association","resource-name","onSubmit"])]})),_:1})):((0,i.wg)(),(0,i.iD)("div",oe,[(0,i.Wm)(h,{long:"",icon:"md-add",onClick:a.addAssociation},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.add_association),1)]})),_:1},8,["onClick"])]))],64)}};var De={key:1,class:"py-2 border-top"},Oe={class:"ivu-card ivu-card-bordered"},Te={class:"ivu-card-body py-0"},Ee={class:"d-flex align-items-center"},$e={key:1,class:"fs-5 fw-bold"},Me={class:"d-flex align-items-center"},Re={class:"row"},Le={key:0,class:"col-sm-8 ps-sm-1"},Pe={class:"d-flex justify-content-between"};const Fe={name:"ResourceMethodSelect",props:{modelValue:{type:String,required:!1,default:""},resourceSlug:{type:String,required:!0}},emits:["update:modelValue"],data:function(){return{options:[]}},mounted:function(){this.loadMethods()},methods:{loadMethods:function(e){var t=this;return u.Z.get("resource_methods/".concat(this.resourceSlug),{}).then((function(e){t.options=e.data.data})).catch((function(e){console.error(e)}))}},render:function(e,t,n,r,o,s){var a=(0,i.up)("MSelect");return(0,i.wg)(),(0,i.j4)(a,{modelValue:n.modelValue,"onUpdate:modelValue":[t[0]||(t[0]=function(e){return n.modelValue=e}),t[1]||(t[1]=function(t){return e.$emit("update:modelValue",t)})],filterable:"",options:o.options,"with-deselect":!1},null,8,["modelValue","options"])}};n(9653);var Ie=n(2345);const je={name:"ResourceSelect",props:{modelValue:{type:[String,Number],required:!1,default:""},size:{type:String,required:!1,default:"default"}},emits:["update:modelValue"],computed:{forms:function(){return Ie.r}},mounted:function(){(0,Ie.j)()},render:function(e,t,n,r,o,s){var a=(0,i.up)("MSelect");return(0,i.wg)(),(0,i.j4)(a,{"model-value":n.modelValue,filterable:"",size:n.size,options:s.forms,"label-key":"name","value-key":"id",placeholder:e.i18n.select_form,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.$emit("update:modelValue",t)})},null,8,["model-value","size","options","placeholder"])}};var Ne=n(649);function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const qe={name:"ResourceActionForm",components:{MethodSelect:Fe,FormSelect:je},props:{action:{type:Object,required:!0},resource:{type:Object,required:!0},withRemove:{type:Boolean,required:!1,default:!1},withName:{type:Boolean,required:!1,default:!0}},emits:["cancel","submit","remove"],data:function(){return{isLoading:!1,dataAction:{}}},computed:{rules:function(){var e={action_type:[{required:!0,message:(0,Z.w)("action_type")}]},t=this.actionTypeKeys[this.dataAction.action_type];return t&&(e["preferences.".concat(t)]=[{required:!0,message:(0,Z.w)(this.dataAction.action_type)}]),this.withName&&(e.display_name=[{required:!0,message:(0,Z.w)("name")}]),e},actionTypeKeys:function(){return{api:"api_path",method:"method_name",form:"form_id"}},isCrudAction:function(){return["create","edit","remove"].includes(this.dataAction.name)},actionTypes:function(){var e=[{label:this.i18n.form,value:"form"}];return["create","edit"].includes(this.dataAction.name)||(Ne.$W||e.unshift({label:this.i18n.method_call,value:"method"}),e.unshift({label:this.i18n.api_request,value:"api"})),this.isCrudAction&&e.unshift({label:this.i18n.default,value:"default"}),e}},created:function(){this.dataAction=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){Be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.action)},methods:{submit:function(){var e=this;this.$refs.form.validate((function(t){t&&e.$emit("submit",e.dataAction)}))}},render:function(e,t,n,r,a,l){var c=(0,i.up)("VInput"),u=(0,i.up)("FormItem"),d=(0,i.up)("MSelect"),h=(0,i.up)("FormSelect"),p=(0,i.up)("MethodSelect"),f=(0,i.up)("VForm"),m=(0,i.up)("VButton");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(f,{ref:"form",rules:l.rules,"label-position":"top",model:a.dataAction,onSubmit:t[6]||(t[6]=(0,s.iM)((function(){}),["prevent"]))},{default:(0,i.w5)((function(){return[n.withName?((0,i.wg)(),(0,i.j4)(u,{key:0,label:e.i18n.name,prop:"display_name"},{default:(0,i.w5)((function(){return[(0,i.Wm)(c,{modelValue:a.dataAction.display_name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.dataAction.display_name=e})},null,8,["modelValue"])]})),_:1},8,["label"])):(0,i.kq)("v-if",!0),(0,i._)("div",Re,[(0,i._)("div",{class:(0,o.C_)(a.dataAction.action_type&&"default"!==a.dataAction.action_type?"col-sm-4 pe-sm-1":"col-12")},[(0,i.Wm)(u,{label:e.i18n.action_type,prop:"action_type"},{default:(0,i.w5)((function(){return[(0,i.Wm)(d,{modelValue:a.dataAction.action_type,"onUpdate:modelValue":[t[1]||(t[1]=function(e){return a.dataAction.action_type=e}),t[2]||(t[2]=function(e){return a.dataAction.preferences={}})],options:l.actionTypes,placeholder:e.i18n.select},null,8,["modelValue","options","placeholder"])]})),_:1},8,["label"])],2),a.dataAction.action_type&&"default"!==a.dataAction.action_type?((0,i.wg)(),(0,i.iD)("div",Le,["form"===a.dataAction.action_type?((0,i.wg)(),(0,i.j4)(u,{key:0,label:e.i18n.form,prop:"preferences.form_id"},{default:(0,i.w5)((function(){return[(0,i.Wm)(h,{modelValue:a.dataAction.preferences.form_id,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.dataAction.preferences.form_id=e})},null,8,["modelValue"])]})),_:1},8,["label"])):(0,i.kq)("v-if",!0),"method"===a.dataAction.action_type?((0,i.wg)(),(0,i.j4)(u,{key:1,label:e.i18n.method,prop:"preferences.method_name"},{default:(0,i.w5)((function(){return[(0,i.Wm)(p,{modelValue:a.dataAction.preferences.method_name,"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.dataAction.preferences.method_name=e}),"resource-slug":n.resource.slug},null,8,["modelValue","resource-slug"])]})),_:1},8,["label"])):(0,i.kq)("v-if",!0),"api"===a.dataAction.action_type?((0,i.wg)(),(0,i.j4)(u,{key:2,label:e.i18n.api_path,placeholder:"/api/path/{id}...",prop:"preferences.api_path"},{default:(0,i.w5)((function(){return[(0,i.Wm)(c,{modelValue:a.dataAction.preferences.api_path,"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.dataAction.preferences.api_path=e})},null,8,["modelValue"])]})),_:1},8,["label","placeholder"])):(0,i.kq)("v-if",!0)])):(0,i.kq)("v-if",!0)])]})),_:1},8,["rules","model"]),(0,i._)("div",Pe,[(0,i._)("div",null,[n.withRemove&&!l.isCrudAction?((0,i.wg)(),(0,i.j4)(m,{key:0,type:"error",ghost:"",class:"me-2",onClick:t[7]||(t[7]=function(t){return e.$emit("remove")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.remove),1)]})),_:1})):(0,i.kq)("v-if",!0),(0,i.Wm)(m,{onClick:t[8]||(t[8]=function(t){return e.$emit("cancel")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.cancel),1)]})),_:1})]),(0,i.Wm)(m,{type:"primary",loading:a.isLoading,onClick:l.submit},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.save),1)]})),_:1},8,["loading","onClick"])])])}};function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ue={name:"ResourceAction",components:{ActionForm:qe},props:{resource:{type:Object,required:!0},movable:{type:Boolean,required:!1,default:!0},action:{type:Object,required:!0}},emits:["reorder"],data:function(){return{isForm:!1}},computed:{isCrudAction:function(){return["edit","create","remove"].includes(this.action.name)}},methods:{removeAction:function(){var e=this;this.$Dialog.confirm({title:this.i18n.are_you_sure,closable:!0,onOk:function(){var t=e.resource.actions.findIndex((function(t){return t.name===e.action.name}));e.removeRequest(),e.resource.actions.splice(t,1)}})},removeRequest:function(){return u.Z.post("resources",{data:{name:this.resource.name,preferences:{actions:[{name:this.action.name,_remove:!0}]}}}).then((function(e){})).catch((function(e){console.error(e)}))},persistChanges:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){We(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.action);return t.name&&(t._update=t.name),this.isCrudAction||(t.name=(0,G.It)(t.display_name)),u.Z.post("resources",{data:{name:this.resource.name,preferences:{actions:[t]}}}).then((function(n){e.action.name!==t.name&&(e.action.name=t.name,e.$emit("reorder"))})).catch((function(e){console.error(e)}))},toggleVisible:function(e){this.action.visible=e,this.persistChanges()},toggleForm:function(){var e=this;this.isForm=!this.isForm,this.isForm&&this.$nextTick((function(){e.$el.scrollIntoView({inline:"end",block:"center",behavior:"smooth"})}))},onTextClick:function(e){this.isCrudAction||e.stopPropagation()},updateAction:function(e){this.isForm=!1,Object.assign(this.action,e),this.persistChanges()}},render:function(e,t,n,r,a,l){var c=(0,i.up)("Icon"),u=(0,i.up)("Checkbox"),d=(0,i.up)("Contenteditable"),h=(0,i.up)("ActionForm");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",Oe,[(0,i._)("div",Te,[(0,i._)("div",{class:"cursor-pointer d-flex align-items-center justify-content-between py-2",style:(0,o.j5)({opacity:a.isForm||n.action.visible?1:.5}),onClick:t[3]||(t[3]=function(){return l.toggleForm&&l.toggleForm.apply(l,arguments)})},[(0,i._)("div",Ee,[n.movable?((0,i.wg)(),(0,i.j4)(c,{key:0,type:"ios-menu",class:"me-3 cursor-grab handle"})):(0,i.kq)("v-if",!0),(0,i.Wm)(u,{"model-value":n.action.visible,onClick:t[0]||(t[0]=(0,s.iM)((function(){}),["stop"])),onOnChange:l.toggleVisible},null,8,["model-value","onOnChange"]),l.isCrudAction?((0,i.wg)(),(0,i.iD)("p",$e,(0,o.zw)(n.action.display_name),1)):((0,i.wg)(),(0,i.j4)(d,{key:2,modelValue:n.action.display_name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return n.action.display_name=e}),class:"fs-5 fw-bold",onClick:t[2]||(t[2]=(0,s.iM)((function(){}),["stop"])),onChange:l.persistChanges},null,8,["modelValue","onChange"]))]),(0,i._)("div",Me,[(0,i.Wm)(c,{type:a.isForm?"ios-arrow-up":"ios-arrow-down"},null,8,["type"])])],4),a.isForm?((0,i.wg)(),(0,i.j4)(h,{key:0,action:n.action,class:"py-3","with-remove":!l.isCrudAction,"with-name":!l.isCrudAction,resource:n.resource,onCancel:l.toggleForm,onRemove:l.removeAction,onSubmit:l.updateAction},null,8,["action","with-remove","with-name","resource","onCancel","onRemove","onSubmit"])):(0,i.kq)("v-if",!0)])])])}};function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ze={display_name:"",name:"",action_type:"",preferences:{},visible:!0};const Ge={name:"ActionsList",components:{Action:Ue,ActionForm:qe},props:{resource:{type:Object,required:!0}},data:function(){return{newAction:null}},methods:{addAction:function(){var e=this;this.newAction=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach((function(t){Ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Ze),this.$nextTick((function(){e.$refs.newForm.$el.scrollIntoView({inline:"end",block:"center",behavior:"smooth"})}))},onActionSubmit:function(e){return e.name=(0,G.It)(e.display_name),this.resource.actions.push(e),this.newAction=null,u.Z.post("resources",{data:{name:this.resource.name,preferences:{actions:[e]}}}).then((function(e){})).catch((function(e){console.error(e)}))},onActionMove:function(){return u.Z.post("configs",{data:{key:"resources.".concat(this.resource.name,".actions.order"),value:this.resource.actions.map((function(e){return e.name}))}}).then((function(e){})).catch((function(e){console.error(e)}))}},render:function(e,t,n,r,s,a){var l=(0,i.up)("Action"),c=(0,i.up)("VueDraggableNext"),u=(0,i.up)("ActionForm"),d=(0,i.up)("Card"),h=(0,i.up)("VButton");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(c,{list:n.resource.actions,handle:".handle",onChange:a.onActionMove},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.resource.actions,(function(e){return(0,i.wg)(),(0,i.j4)(l,{key:e.name,resource:n.resource,action:e,class:"pb-2",onReorder:a.onActionMove},null,8,["resource","action","onReorder"])})),128))]})),_:1},8,["list","onChange"]),s.newAction?((0,i.wg)(),(0,i.j4)(d,{key:0},{default:(0,i.w5)((function(){return[(0,i.Wm)(u,{ref:"newForm",action:s.newAction,resource:n.resource,"with-name":!0,onCancel:t[0]||(t[0]=function(e){return s.newAction=null}),onSubmit:a.onActionSubmit},null,8,["action","resource","onSubmit"])]})),_:1})):((0,i.wg)(),(0,i.iD)("div",De,[(0,i.Wm)(h,{long:"",icon:"md-add",onClick:a.addAction},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.add_action),1)]})),_:1},8,["onClick"])]))],64)}};var Ye={key:1,class:"py-2 border-top"},Qe={class:"ivu-card ivu-card-bordered"},Je={class:"ivu-card-body py-0"},Xe={class:"d-flex align-items-center"},et={key:2,class:"fs-5 fw-bold"},tt={class:"d-flex align-items-center"},nt={class:"row"},it={key:0,class:"col-sm-8 ps-sm-1"},rt={class:"d-flex justify-content-between"},ot=n(480),st=n(7272);function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ct={name:"ResourceTabForm",components:{FormSelect:je,QuerySelect:ot.Z,DashboardSelect:st.Z},props:{tab:{type:Object,required:!0},resource:{type:Object,required:!0},withRemove:{type:Boolean,required:!1,default:!1},withName:{type:Boolean,required:!1,default:!0}},emits:["cancel","submit","remove"],data:function(){return{isLoading:!1,dataTab:{}}},computed:{rules:function(){var e={tab_type:[{required:!0,message:(0,Z.w)(this.i18n.tab_type)}]},t=this.tabTypeKeys[this.dataTab.tab_type];return t&&(e["preferences.".concat(t)]=[{required:!0,message:(0,Z.w)(this.dataTab.tab_type)}]),this.withName&&(e.display_name=[{required:!0,message:(0,Z.w)("name")}]),e},tabTypeKeys:function(){return{form:"form_id",dashboard:"dashboard_id",query:"query_id"}},tabTypes:function(){var e=[{label:this.i18n.dashboard,value:"dashboard"},{label:this.i18n.query,value:"query"},{label:this.i18n.form,value:"form"}];return"details"===this.dataTab.name&&e.unshift({label:this.i18n.default,value:"default"}),e}},created:function(){this.dataTab=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){lt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.tab)},methods:{titleize:G.MI,submit:function(){var e=this;this.$refs.form.validate((function(t){t&&e.$emit("submit",e.dataTab)}))}},render:function(e,t,n,r,a,l){var c=(0,i.up)("VInput"),u=(0,i.up)("FormItem"),d=(0,i.up)("MSelect"),h=(0,i.up)("FormSelect"),p=(0,i.up)("QuerySelect"),f=(0,i.up)("DashboardSelect"),m=(0,i.up)("VForm"),g=(0,i.up)("VButton");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(m,{ref:"form",rules:l.rules,"label-position":"top",model:a.dataTab,onSubmit:t[6]||(t[6]=(0,s.iM)((function(){}),["prevent"]))},{default:(0,i.w5)((function(){return[n.withName?((0,i.wg)(),(0,i.j4)(u,{key:0,label:e.i18n.name,prop:"display_name"},{default:(0,i.w5)((function(){return[(0,i.Wm)(c,{modelValue:a.dataTab.display_name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.dataTab.display_name=e})},null,8,["modelValue"])]})),_:1},8,["label"])):(0,i.kq)("v-if",!0),(0,i._)("div",nt,[(0,i._)("div",{class:(0,o.C_)(a.dataTab.tab_type&&"default"!==a.dataTab.tab_type?"col-sm-4 pe-sm-1":"col-12")},[(0,i.Wm)(u,{label:e.i18n.tab_type,prop:"tab_type"},{default:(0,i.w5)((function(){return[(0,i.Wm)(d,{modelValue:a.dataTab.tab_type,"onUpdate:modelValue":[t[1]||(t[1]=function(e){return a.dataTab.tab_type=e}),t[2]||(t[2]=function(e){return a.dataTab.preferences={}})],options:l.tabTypes,"with-deselect":!1},null,8,["modelValue","options"])]})),_:1},8,["label"])],2),a.dataTab.tab_type&&"default"!==a.dataTab.tab_type?((0,i.wg)(),(0,i.iD)("div",it,[a.dataTab.tab_type&&"default"!==a.dataTab.tab_type?((0,i.wg)(),(0,i.j4)(u,{key:0,label:l.titleize(a.dataTab.tab_type),prop:"preferences.".concat(a.dataTab.tab_type,"_id")},{default:(0,i.w5)((function(){return["form"===a.dataTab.tab_type?((0,i.wg)(),(0,i.j4)(h,{key:0,modelValue:a.dataTab.preferences.form_id,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.dataTab.preferences.form_id=e})},null,8,["modelValue"])):(0,i.kq)("v-if",!0),"query"===a.dataTab.tab_type?((0,i.wg)(),(0,i.j4)(p,{key:1,modelValue:a.dataTab.preferences.query_id,"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.dataTab.preferences.query_id=e})},null,8,["modelValue"])):(0,i.kq)("v-if",!0),"dashboard"===a.dataTab.tab_type?((0,i.wg)(),(0,i.j4)(f,{key:2,modelValue:a.dataTab.preferences.dashboard_id,"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.dataTab.preferences.dashboard_id=e})},null,8,["modelValue"])):(0,i.kq)("v-if",!0)]})),_:1},8,["label","prop"])):(0,i.kq)("v-if",!0)])):(0,i.kq)("v-if",!0)])]})),_:1},8,["rules","model"]),(0,i._)("div",rt,[(0,i._)("div",null,[n.withRemove&&"details"!==a.dataTab.name?((0,i.wg)(),(0,i.j4)(g,{key:0,type:"error",ghost:"",class:"me-2",onClick:t[7]||(t[7]=function(t){return e.$emit("remove")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.remove),1)]})),_:1})):(0,i.kq)("v-if",!0),(0,i.Wm)(g,{onClick:t[8]||(t[8]=function(t){return e.$emit("cancel")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.cancel),1)]})),_:1})]),(0,i.Wm)(g,{type:"primary",loading:a.isLoading,onClick:l.submit},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.save),1)]})),_:1},8,["loading","onClick"])])])}};function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ht={name:"ResourceTab",components:{TabForm:ct},props:{resource:{type:Object,required:!0},movable:{type:Boolean,required:!1,default:!0},tab:{type:Object,required:!0}},emits:["reorder"],data:function(){return{isForm:!1}},methods:{removeTab:function(){var e=this;this.$Dialog.confirm({title:this.i18n.are_you_sure,closable:!0,onOk:function(){var t=e.resource.tabs.findIndex((function(t){return t.name===e.tab.name}));e.removeRequest(),e.resource.tabs.splice(t,1)}})},removeRequest:function(){return u.Z.post("resources",{data:{name:this.resource.name,preferences:{tabs:[{name:this.tab.name,_remove:!0}]}}}).then((function(e){})).catch((function(e){console.error(e)}))},persistChanges:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach((function(t){dt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.tab);return t.name&&(t._update=t.name),"details"!==t.name&&(t.name=(0,G.It)(t.display_name)),u.Z.post("resources",{data:{name:this.resource.name,preferences:{tabs:[t]}}}).then((function(n){e.tab.name!==t.name&&(e.tab.name=t.name,e.$emit("reorder"))})).catch((function(e){console.error(e)}))},toggleVisible:function(e){this.tab.visible=e,this.persistChanges()},toggleForm:function(){var e=this;this.isForm=!this.isForm,this.isForm&&this.$nextTick((function(){e.$el.scrollIntoView({inline:"end",block:"center",behavior:"smooth"})}))},onTextClick:function(e){"details"===this.tab.name&&e.stopPropagation()},updateTab:function(e){this.isForm=!1,Object.assign(this.tab,e),this.persistChanges()}},render:function(e,t,n,r,a,l){var c=(0,i.up)("Icon"),u=(0,i.up)("Checkbox"),d=(0,i.up)("Contenteditable"),h=(0,i.up)("TabForm");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",Qe,[(0,i._)("div",Je,[(0,i._)("div",{class:"cursor-pointer d-flex align-items-center justify-content-between py-2",style:(0,o.j5)({opacity:a.isForm||n.tab.visible?1:.5}),onClick:t[3]||(t[3]=function(){return l.toggleForm&&l.toggleForm.apply(l,arguments)})},[(0,i._)("div",Xe,[n.movable?((0,i.wg)(),(0,i.j4)(c,{key:0,type:"ios-menu",class:"me-3 cursor-grab handle"})):(0,i.kq)("v-if",!0),"details"!==n.tab.name?((0,i.wg)(),(0,i.j4)(u,{key:1,"model-value":n.tab.visible,onClick:t[0]||(t[0]=(0,s.iM)((function(){}),["stop"])),onOnChange:l.toggleVisible},null,8,["model-value","onOnChange"])):(0,i.kq)("v-if",!0),"details"===n.tab.name?((0,i.wg)(),(0,i.iD)("p",et,(0,o.zw)(n.tab.display_name),1)):((0,i.wg)(),(0,i.j4)(d,{key:3,modelValue:n.tab.display_name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return n.tab.display_name=e}),class:"fs-5 fw-bold",onClick:t[2]||(t[2]=(0,s.iM)((function(){}),["stop"])),onChange:l.persistChanges},null,8,["modelValue","onChange"]))]),(0,i._)("div",tt,[(0,i.Wm)(c,{type:a.isForm?"ios-arrow-up":"ios-arrow-down"},null,8,["type"])])],4),a.isForm?((0,i.wg)(),(0,i.j4)(h,{key:0,tab:n.tab,class:"py-3","with-remove":"details"!==n.tab.name,"with-name":"details"!==n.tab.name,resource:n.resource,onCancel:l.toggleForm,onRemove:l.removeTab,onSubmit:l.updateTab},null,8,["tab","with-remove","with-name","resource","onCancel","onRemove","onSubmit"])):(0,i.kq)("v-if",!0)])])])}};function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ft(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mt={display_name:"",name:"",tab_type:"",preferences:{},visible:!0};const gt={name:"TabsList",components:{TabItem:ht,TabForm:ct},props:{resource:{type:Object,required:!0}},data:function(){return{newTab:null}},methods:{addTab:function(){var e=this;this.newTab=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){ft(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},mt),this.$nextTick((function(){e.$refs.newForm.$el.scrollIntoView({inline:"end",block:"center",behavior:"smooth"})}))},onTabSubmit:function(e){return e.name=(0,G.It)(e.display_name),this.resource.tabs.push(e),this.newTab=null,u.Z.post("resources",{data:{name:this.resource.name,preferences:{tabs:[e]}}}).then((function(e){})).catch((function(e){console.error(e)}))},onTabMove:function(){return u.Z.post("configs",{data:{key:"resources.".concat(this.resource.name,".tabs.order"),value:this.resource.tabs.map((function(e){return e.name}))}}).then((function(e){})).catch((function(e){console.error(e)}))}},render:function(e,t,n,r,s,a){var l=(0,i.up)("TabItem"),c=(0,i.up)("VueDraggableNext"),u=(0,i.up)("TabForm"),d=(0,i.up)("Card"),h=(0,i.up)("VButton");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(c,{list:n.resource.tabs,handle:".handle",onChange:a.onTabMove},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.resource.tabs,(function(e){return(0,i.wg)(),(0,i.j4)(l,{key:e.name,resource:n.resource,tab:e,class:"pb-2",onReorder:a.onTabMove},null,8,["resource","tab","onReorder"])})),128))]})),_:1},8,["list","onChange"]),s.newTab?((0,i.wg)(),(0,i.j4)(d,{key:0},{default:(0,i.w5)((function(){return[(0,i.Wm)(u,{ref:"newForm",tab:s.newTab,resource:n.resource,"with-name":!0,onCancel:t[0]||(t[0]=function(e){return s.newTab=null}),onSubmit:a.onTabSubmit},null,8,["tab","resource","onSubmit"])]})),_:1})):((0,i.wg)(),(0,i.iD)("div",Ye,[(0,i.Wm)(h,{long:"",icon:"md-add",onClick:a.addTab},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.add_tab),1)]})),_:1},8,["onClick"])]))],64)}};var vt={key:1,class:"py-2 border-top"},yt={class:"ivu-card ivu-card-bordered"},bt={class:"ivu-card-body py-0"},wt={class:"d-flex align-items-center"},_t={key:0,class:"d-flex align-items-center"},xt={class:"d-flex justify-content-between"};function kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const St={name:"ResourceScopeForm",components:{Filters:we.Z},props:{scope:{type:Object,required:!0},resource:{type:Object,required:!0},withRemove:{type:Boolean,required:!1,default:!1}},emits:["cancel","submit","remove"],data:function(){return{isLoading:!1,dataScope:{}}},computed:{rules:function(){return{display_name:[{required:!0,message:(0,Z.w)("name")}]}}},created:function(){this.dataScope=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(n),!0).forEach((function(t){Ct(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.scope)},methods:{submit:function(){var e=this;this.$refs.form.validate((function(t){t&&(e.dataScope.preferences.filter&&(e.dataScope.preferences.filter=e.dataScope.preferences.filter.filter((function(e){return"OR"===e||!!Object.keys(e)[0]}))),e.$emit("submit",e.dataScope))}))}},render:function(e,t,n,r,s,a){var l=(0,i.up)("VInput"),c=(0,i.up)("FormItem"),u=(0,i.up)("Filters"),d=(0,i.up)("VForm"),h=(0,i.up)("VButton");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(d,{ref:"form",rules:a.rules,"label-position":"top",model:s.dataScope},{default:(0,i.w5)((function(){return[(0,i.Wm)(c,{label:e.i18n.name,prop:"display_name"},{default:(0,i.w5)((function(){return[(0,i.Wm)(l,{modelValue:s.dataScope.display_name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.dataScope.display_name=e})},null,8,["modelValue"])]})),_:1},8,["label"]),(0,i.Wm)(u,{filters:s.dataScope.preferences.filter,"onUpdate:filters":t[1]||(t[1]=function(e){return s.dataScope.preferences.filter=e}),model:n.resource},null,8,["filters","model"])]})),_:1},8,["rules","model"]),(0,i._)("div",xt,[(0,i._)("div",null,[n.withRemove?((0,i.wg)(),(0,i.j4)(h,{key:0,type:"error",ghost:"",class:"me-2",onClick:t[2]||(t[2]=function(t){return e.$emit("remove")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.remove),1)]})),_:1})):(0,i.kq)("v-if",!0),(0,i.Wm)(h,{onClick:t[3]||(t[3]=function(t){return e.$emit("cancel")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.cancel),1)]})),_:1})]),(0,i.Wm)(h,{type:"primary",loading:s.isLoading,onClick:a.submit},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.save),1)]})),_:1},8,["loading","onClick"])])])}};function At(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(n),!0).forEach((function(t){Et(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $t={display_name:"",name:"",visible:!0,scope_type:"filter",preferences:{}};const Mt={name:"ResourceScopesList",components:{ResourceScope:{name:"ResourceScope",components:{ScopeForm:St},props:{resource:{type:Object,required:!0},scope:{type:Object,required:!0}},emits:["reorder"],data:function(){return{isForm:!1}},methods:{removeScope:function(){var e=this;this.$Dialog.confirm({title:this.i18n.are_you_sure,closable:!0,onOk:function(){var t=e.resource.scopes.findIndex((function(t){return t.name===e.scope.name}));e.resource.scopes.splice(t,1),u.Z.post("resources",{data:{name:e.resource.name,preferences:{scopes:[{name:e.scope.name,_remove:!0}]}}}).then((function(e){})).catch((function(e){console.error(e)}))}})},persistChanges:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?At(Object(n),!0).forEach((function(t){Dt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.scope);return t.name&&(t._update=t.name),"filter"===t.scope_type&&(t.name=(0,G.It)(t.display_name)),u.Z.post("resources",{data:{name:this.resource.name,preferences:{scopes:[t]}}}).then((function(n){e.scope.name!==t.name&&(e.scope.name=t.name,e.$emit("reorder"))})).catch((function(e){console.error(e)}))},toggleVisible:function(e){this.scope.visible=e,this.persistChanges()},toggleForm:function(){var e=this;"filter"===this.scope.scope_type&&(this.isForm=!this.isForm,this.$nextTick((function(){e.$el.scrollIntoView({inline:"end",block:"center",behavior:"smooth"})})))},updateScope:function(e){Object.assign(this.scope,e),this.persistChanges(),this.isForm=!1}},render:function(e,t,n,r,a,l){var c=(0,i.up)("Icon"),u=(0,i.up)("Checkbox"),d=(0,i.up)("Contenteditable"),h=(0,i.up)("ScopeForm");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",yt,[(0,i._)("div",bt,[(0,i._)("div",{class:"cursor-pointer d-flex align-items-center justify-content-between py-2",style:(0,o.j5)({opacity:a.isForm||"hidden"!==n.scope.access_type?1:.5}),onClick:t[3]||(t[3]=function(){return l.toggleForm&&l.toggleForm.apply(l,arguments)})},[(0,i._)("div",wt,[(0,i.Wm)(c,{type:"ios-menu",class:"me-3 cursor-grab handle"}),(0,i.Wm)(u,{"model-value":n.scope.visible,onClick:t[0]||(t[0]=(0,s.iM)((function(){}),["stop"])),onOnChange:l.toggleVisible},null,8,["model-value","onOnChange"]),(0,i.Wm)(d,{modelValue:n.scope.display_name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return n.scope.display_name=e}),class:"fs-5 fw-bold cursor-text",onClick:t[2]||(t[2]=(0,s.iM)((function(){}),["stop"])),onChange:l.persistChanges},null,8,["modelValue","onChange"])]),"filter"===n.scope.scope_type?((0,i.wg)(),(0,i.iD)("div",_t,[(0,i.Wm)(c,{type:a.isForm?"ios-arrow-up":"ios-arrow-down"},null,8,["type"])])):(0,i.kq)("v-if",!0)],4),a.isForm?((0,i.wg)(),(0,i.j4)(h,{key:0,scope:n.scope,resource:n.resource,class:"py-3","with-remove":!0,onCancel:l.toggleForm,onRemove:l.removeScope,onSubmit:l.updateScope},null,8,["scope","resource","onCancel","onRemove","onSubmit"])):(0,i.kq)("v-if",!0)])])])}},ResourceScopeForm:St},props:{resource:{type:Object,required:!0}},data:function(){return{newScope:null}},methods:{addScope:function(){var e=this;this.newScope=Tt(Tt({},$t),{},{virtual:!0}),this.$nextTick((function(){e.$refs.newForm.$el.scrollIntoView({inline:"end",block:"center",behavior:"smooth"})}))},onScopeSubmit:function(e){return e.name=(0,G.It)(e.display_name),this.resource.scopes.push(e),this.newScope=null,u.Z.post("resources",{data:{name:this.resource.name,preferences:{scopes:[e]}}}).then((function(e){})).catch((function(e){console.error(e)}))},onScopeMove:function(){return u.Z.post("configs",{data:{key:"resources.".concat(this.resource.name,".scopes.order"),value:this.resource.scopes.map((function(e){return e.name}))}}).then((function(e){})).catch((function(e){console.error(e)}))}},render:function(e,t,n,r,s,a){var l=(0,i.up)("ResourceScope"),c=(0,i.up)("VueDraggableNext"),u=(0,i.up)("ResourceScopeForm"),d=(0,i.up)("Card"),h=(0,i.up)("VButton");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(c,{list:n.resource.scopes,handle:".handle",onChange:a.onScopeMove},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.resource.scopes,(function(e){return(0,i.wg)(),(0,i.j4)(l,{key:e.name,resource:n.resource,scope:e,class:"pb-2",onReorder:a.onScopeMove},null,8,["resource","scope","onReorder"])})),128))]})),_:1},8,["list","onChange"]),s.newScope?((0,i.wg)(),(0,i.j4)(d,{key:0},{default:(0,i.w5)((function(){return[(0,i.Wm)(u,{ref:"newForm",scope:s.newScope,resource:n.resource,onCancel:t[0]||(t[0]=function(e){return s.newScope=null}),onSubmit:a.onScopeSubmit},null,8,["scope","resource","onSubmit"])]})),_:1})):((0,i.wg)(),(0,i.iD)("div",vt,[(0,i.Wm)(h,{long:"",icon:"md-add",onClick:a.addScope},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.add_scope),1)]})),_:1},8,["onClick"])]))],64)}};var Rt={style:{height:"190px"},class:"pb-2 position-relative"},Lt={key:1,class:"d-flex justify-content-center align-items-center",style:{height:"100%"}},Pt={class:"d-flex justify-content-between"},Ft=n(7757),It=n.n(Ft),jt=n(4487),Nt=n(9434);function Vt(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,r)}function Bt(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){Vt(o,i,r,s,a,"next",e)}function a(e){Vt(o,i,r,s,a,"throw",e)}s(void 0)}))}}const qt={name:"ResourceQueryForm",components:{CodeEditor:jt.Z,QueryResult:Nt.Z},props:{resource:{type:Object,required:!0}},emits:["close"],data:function(){return{sqlBody:"",collapseValue:"",isLoading:!1,isLoadingSave:!1,data:[],errors:[],columns:[]}},mounted:function(){var e=this;return Bt(It().mark((function t(){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isLoading=!0,!e.resource.custom_sql){t.next=5;break}e.sqlBody=e.resource.custom_sql,t.next=7;break;case 5:return t.next=7,e.loadDefaultQuery();case 7:e.runQuery();case 8:case"end":return t.stop()}}),t)})))()},methods:{resetDefault:function(){var e,t=this;this.$Dialog.confirm({title:this.i18n.are_you_sure,closable:!0,onOk:(e=Bt(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadDefaultQuery();case 2:t.submit(),t.runQuery();case 4:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})})},submit:function(){var e=this;return this.isLoadingSave=!0,u.Z.post("resources",{data:{name:this.resource.name,preferences:{custom_sql:this.sqlBody}}}).then((function(t){e.reloadSchema().then((function(){e.$Message.info(e.i18n.query_has_been_saved)}))})).catch((function(e){console.error(e)})).finally((function(){e.isLoadingSave=!1}))},reloadSchema:function(){var e=this;return u.Z.get("schema/".concat(this.resource.slug)).then((function(t){Object.assign(e.resource,t.data.data)}))},loadDefaultQuery:function(){var e=this;return u.Z.get("resource_default_queries/".concat(this.resource.slug)).then((function(t){e.sqlBody=t.data.data.sql}))},runQuery:function(){var e=this;return this.isLoading=!0,u.Z.post("run_queries",{limit:20,data:{sql_body:this.sqlBody}}).then((function(t){e.errors=[],e.data=t.data.data,e.columns=t.data.meta.columns})).catch((function(t){var n;t.response?e.errors=null===(n=t.response.data)||void 0===n?void 0:n.errors:e.$Message.error(t.message)})).finally((function(){e.isLoading=!1}))}},render:function(e,t,n,r,s,a){var l=(0,i.up)("CodeEditor"),c=(0,i.up)("Spin"),u=(0,i.up)("QueryResult"),d=(0,i.up)("VButton");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(l,{modelValue:s.sqlBody,"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.sqlBody=e}),style:{height:"140px"},language:"pgsql",placeholder:"SELECT * FROM ...",onRun:a.runQuery},null,8,["modelValue","onRun"]),(0,i._)("div",Rt,[s.isLoading?((0,i.wg)(),(0,i.j4)(c,{key:0,fix:""})):s.data.length||s.errors.length?(0,i.kq)("v-if",!0):((0,i.wg)(),(0,i.iD)("div",Lt,(0,o.zw)(e.i18n.no_data),1)),s.data.length||s.errors.length?((0,i.wg)(),(0,i.j4)(u,{key:2,data:s.data,errors:s.errors,columns:s.columns,"with-footer":!1},null,8,["data","errors","columns"])):(0,i.kq)("v-if",!0)]),(0,i._)("div",Pt,[(0,i._)("div",null,[(0,i.Wm)(d,{class:"me-2",onClick:t[1]||(t[1]=function(t){return e.$emit("close")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.cancel),1)]})),_:1}),(0,i.Wm)(d,{type:"error",ghost:"",class:"me-2",onClick:a.resetDefault},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.use_default),1)]})),_:1},8,["onClick"])]),(0,i._)("div",null,[(0,i.Wm)(d,{class:"me-2",loading:s.isLoading,icon:"md-play",onClick:a.runQuery},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.run),1)]})),_:1},8,["loading","onClick"]),(0,i.Wm)(d,{type:"primary",loading:s.isLoadingSave,onClick:a.submit},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.save),1)]})),_:1},8,["loading","onClick"])])])])}},zt={name:"ResourceGeneral",props:{resource:{type:Object,required:!0}},computed:{readableColumns:function(){return this.resource.columns.filter((function(e){var t;return["read_only","read_write"].includes(e.access_type)&&"has_one"!==(null===(t=e.reference)||void 0===t?void 0:t.reference_type)}))},rules:function(){return{}}},methods:{persistChanges:function(){return u.Z.post("resources",{data:{name:this.resource.name,preferences:{display_column:this.resource.display_column,display_primary_key:this.resource.display_primary_key}}}).then((function(e){})).catch((function(e){console.error(e)}))}},render:function(e,t,n,r,o,s){var a=(0,i.up)("MSelect"),l=(0,i.up)("FormItem"),c=(0,i.up)("Checkbox"),u=(0,i.up)("VForm");return(0,i.wg)(),(0,i.j4)(u,{"label-position":"top",model:n.resource,rules:s.rules},{default:(0,i.w5)((function(){return[(0,i.Wm)(l,{label:e.i18n.display_column,prop:"display_column"},{default:(0,i.w5)((function(){return[(0,i.Wm)(a,{modelValue:n.resource.display_column,"onUpdate:modelValue":[t[0]||(t[0]=function(e){return n.resource.display_column=e}),s.persistChanges],"with-deselect":!1,"label-key":"display_name","value-key":"name",options:s.readableColumns},null,8,["modelValue","options","onUpdate:modelValue"])]})),_:1},8,["label"]),(0,i.Wm)(l,{label:e.i18n.display_id,class:"mb-1",prop:"display_column"},{default:(0,i.w5)((function(){return[(0,i.Wm)(c,{modelValue:n.resource.display_primary_key,"onUpdate:modelValue":[t[1]||(t[1]=function(e){return n.resource.display_primary_key=e}),s.persistChanges]},null,8,["modelValue","onUpdate:modelValue"])]})),_:1},8,["label"])]})),_:1},8,["model","rules"])}},Wt={name:"ResourcesSettings",components:{ResourceSettings:{name:"ResourceSettings",components:{AssociationsList:Ae,ResourceColumnsList:re,ActionsList:Ge,ScopesList:Mt,TabsList:gt,Tabs:n(4635).Z,ResourceGeneralForm:zt,ResourceQueryForm:qt},props:{resource:{type:Object,required:!0},activeTab:{type:String,required:!1,default:""}},emits:["back"],data:function(){return{collapseValue:[],selectedTab:this.activeTab||"columns"}},render:function(e,t,n,r,s,a){var l=(0,i.up)("Tabs"),c=(0,i.up)("ResourceQueryForm"),u=(0,i.up)("Panel"),d=(0,i.up)("Collapse"),h=(0,i.up)("ResourceGeneralForm"),p=(0,i.up)("ResourceColumnsList"),f=(0,i.up)("AssociationsList"),m=(0,i.up)("ScopesList"),g=(0,i.up)("ActionsList"),v=(0,i.up)("TabsList"),y=(0,i.up)("VButton");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",_,[(0,i.Wm)(l,{modelValue:s.selectedTab,"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.selectedTab=e}),position:"center",tabs:[{label:e.i18n.columns,value:"columns"},{label:e.i18n.actions,value:"actions"},{label:e.i18n.tabs,value:"tabs"},{label:e.i18n.scopes,value:"scopes"},{label:e.i18n.associations,value:"associations"}]},null,8,["modelValue","tabs"]),"columns"===s.selectedTab?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i.Wm)(d,{modelValue:s.collapseValue,"onUpdate:modelValue":t[2]||(t[2]=function(e){return s.collapseValue=e}),simple:"",class:"mb-3",style:{margin:"0 -16px"}},{default:(0,i.w5)((function(){return[(0,i.Wm)(u,{name:"1"},{content:(0,i.w5)((function(){return[s.collapseValue.includes("1")?((0,i.wg)(),(0,i.j4)(c,{key:0,resource:n.resource,onClose:t[1]||(t[1]=function(e){return s.collapseValue=[]})},null,8,["resource"])):(0,i.kq)("v-if",!0)]})),default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.query_editor)+" ",1)]})),_:1})]})),_:1},8,["modelValue"]),(0,i.Wm)(d,{modelValue:s.collapseValue,"onUpdate:modelValue":t[3]||(t[3]=function(e){return s.collapseValue=e}),simple:"",class:"mb-3",style:{margin:"0 -16px"}},{default:(0,i.w5)((function(){return[(0,i.Wm)(u,{name:"2"},{content:(0,i.w5)((function(){return[(0,i.Wm)(h,{resource:n.resource},null,8,["resource"])]})),default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.display_settings)+" ",1)]})),_:1})]})),_:1},8,["modelValue"]),(0,i.Wm)(p,{resource:n.resource},null,8,["resource"])],64)):"associations"===s.selectedTab?((0,i.wg)(),(0,i.j4)(f,{key:1,resource:n.resource},null,8,["resource"])):"scopes"===s.selectedTab?((0,i.wg)(),(0,i.j4)(m,{key:2,resource:n.resource},null,8,["resource"])):"actions"===s.selectedTab?((0,i.wg)(),(0,i.j4)(g,{key:3,resource:n.resource},null,8,["resource"])):"tabs"===s.selectedTab?((0,i.wg)(),(0,i.j4)(v,{key:4,resource:n.resource},null,8,["resource"])):(0,i.kq)("v-if",!0)]),(0,i._)("div",x,[(0,i.Wm)(y,{long:"",size:"large",icon:"ios-arrow-back",onClick:t[4]||(t[4]=function(t){return e.$emit("back")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.all_resources),1)]})),_:1})])],64)},__scopeId:"data-v-0725d696"},ResourceItem:w},props:{selectedResource:{type:Object,required:!1,default:null},settingsType:{type:String,required:!1,default:""}},emits:["change-resource"],data:function(){return{dataSelectedResource:this.selectedResource}},computed:{schema:function(){return H.fK}},watch:{dataSelectedResource:function(){this.$emit("change-resource",this.dataSelectedResource)}},methods:{updateOrder:function(){return u.Z.post("configs",{data:{key:"resources.order",value:this.schema.map((function(e){return e.name}))}}).then((function(e){})).catch((function(e){console.error(e)}))}},render:function(e,t,n,o,s,a){var l=(0,i.up)("ResourceSettings"),c=(0,i.up)("ResourceItem"),u=(0,i.up)("VueDraggableNext");return s.dataSelectedResource?((0,i.wg)(),(0,i.j4)(l,{key:0,resource:s.dataSelectedResource,"active-tab":n.settingsType,onBack:t[0]||(t[0]=function(e){return s.dataSelectedResource=null})},null,8,["resource","active-tab"])):((0,i.wg)(),(0,i.iD)("div",r,[(0,i.Wm)(u,{list:a.schema,"ghost-class":"ghost",handle:".handle",onChange:a.updateOrder},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.schema,(function(e){return(0,i.wg)(),(0,i.j4)(c,{key:e.slug,resource:e,class:"cursor-pointer mb-2",onClick:function(t){return s.dataSelectedResource=e}},null,8,["resource","onClick"])})),128))]})),_:1},8,["list","onChange"])]))},__scopeId:"data-v-17415677"};var Ut=n(6112);function Ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(n),!0).forEach((function(t){Zt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gt(e){Ut.Z.component.setTitle(Yt(e))}function Yt(e){return e?Ne.cR.resource_settings.replace("%{resource}",e.display_name):Ne.cR.settings}function Qt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ut.Z.open(Wt,Kt({onChangeResource:Gt},e),{title:Yt(e.selectedResource),className:"drawer-no-bottom-padding drawer-no-top-padding",closable:!0})}},8564:(e,t,n)=>{"use strict";n.d(t,{Qy:()=>s,js:()=>r,E3:()=>o});var i=(0,n(2262).iH)(!1);function r(){i.value=!i.value}function o(){i.value=!1}function s(){return i.value}},1006:(e,t,n)=>{"use strict";n.d(t,{w:()=>u});var i=n(7757),r=n.n(i),o=(n(4916),n(5306),n(3710),n(1539),n(8674),n(7248));function s(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,r)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function a(e){s(o,i,r,a,l,"next",e)}function l(e){s(o,i,r,a,l,"throw",e)}a(void 0)}))}}var l=null,c=null;function u(){return d.apply(this,arguments)}function d(){return(d=a(r().mark((function e(){var t,n,i,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l||p()){e.next=2;break}return e.abrupt("return",l);case 2:return e.prev=2,e.next=5,o.Z.post("auth_tokens");case 5:t=e.sent,e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return",{headers:{}});case 12:return"string"==typeof t.data?l={headers:{Authorization:h(t.data)}}:((n=t.data.token||t.data.jwt)&&((i=t.data).headers||(i.headers={}),(s=t.data.headers).Authorization||(s.Authorization=h(n))),l=t.data),c=new Date,e.abrupt("return",l);case 15:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}function h(e){return e?"Bearer ".concat(e.replace(/^bearer\s+/i,"")):""}function p(){return!c||36e5<(new Date).getTime()-c.getTime()}},4800:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c}),n(5069),n(5827),n(9720),n(9753),n(5212),n(6699),n(2023),n(3710),n(1539),n(9714),n(7327),n(9826),n(7941),n(9554),n(4747),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(7042),n(8309),n(1038);var i=n(649);function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var o={};function s(e,t){var n=e+t,r=o[n];if(r)return r;var s=function(e){var t=-1;return e.forEach((function(n,i){n.base_behavior?-1!==t?1===n.subjects.lenght&&"all"===n.subjects[0]&&(e[i]=e[t],e[t]=n,t+=1):t=i:t=-1})),e}(function(e,t,n){return e.filter((function(e){return e.subjects.find((function(e){return"all"===(t=e)||t===n;var t}))&&e.actions.find((function(n){return i=n,r=t,o=!e.base_behavior,"manage"===i||i===r||o&&"manage"===r;var i,r,o}))&&(e.base_behavior||!e.attributes.length||Object.keys(e.conditions).length)}))}(i.HF,e,t).reverse());return o[n]=s,s}function a(e,t){return Object.entries(e).reduce((function(e,n){var i,o,s=(o=2,function(e){if(Array.isArray(e))return e}(i=n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(i,o)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(i,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=s[0],u=s[1];return Array.isArray(u)?e&&u.some((function(e){return l(t,c,e)})):u instanceof Object?e&&a(u,t[c]||{}):e&&l(t,c,u)}),!0)}function l(e,t,n){var i;return Array.isArray(e)?e.some((function(e){var i;return null==n?void 0:n.toString().includes(null===(i=e[t])||void 0===i?void 0:i.toString())})):(null==n?void 0:n.toString())===(null===(i=e[t])||void 0===i?void 0:i.toString())}const c={$can:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=s(e,t).find((function(e){return!n||a(e.conditions,n)}));return"manage"===e&&"all"===t?!!r&&r.base_behavior&&!i.HF.some((function(e){return!e.base_behavior})):!!r&&r.base_behavior},install:function(e,t){var n=this;e.config.globalProperties.$can=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return n.$can(e,t,i)}}}},649:(e,t,n)=>{"use strict";n.d(t,{i8:()=>s,sb:()=>r,sc:()=>o,HF:()=>a,cR:()=>l,$W:()=>c});var i=document.getElementById("app"),r=i.getAttribute("data-base-path"),o=i.getAttribute("data-admin-settings-path"),s=i.getAttribute("data-version"),a=JSON.parse(i.getAttribute("data-current-rules")),l=JSON.parse(i.getAttribute("data-i18n")),c=!!o},1308:(e,t,n)=>{"use strict";function i(e,t,n){var i=new Date(e);return t||(t={year:"numeric",month:"short",day:"numeric"}),n&&(t.hour="numeric",t.minute="numeric",t.hour12=!0),i.toLocaleString?i.toLocaleString("en-US",t):i.toString()}function r(e,t){var n=new Date(e),i=(new Date(t).getTime()-n.getTime())/1e3;if(i<60){var r=parseInt(i)||1;return"".concat(r," second").concat(r>1?"s":"")}if(i<3600){var o=parseInt(i/60)||1;return"".concat(o," minute").concat(o>1?"s":"")}var s=parseInt(i/3600)||1;return"".concat(s," hour").concat(s>1?"s":"")}n.d(t,{p:()=>i,q:()=>r}),n(3710),n(1539),n(9714),n(1058),n(2222)},7605:(e,t,n)=>{"use strict";n.d(t,{uK:()=>a,aJ:()=>l});var i=n(2262),r=n(7209),o={xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400},s=(0,i.iH)(window.innerWidth),a=(0,i.iH)(window.innerHeight);function l(e){return s.value<o[e]}window.addEventListener("resize",(0,r.Z)((function(e){s.value=window.innerWidth,a.value=window.innerHeight}),80))},5487:(e,t,n)=>{"use strict";n.d(t,{c:()=>i.cR,w:()=>r}),n(4916),n(5306);var i=n(649);function r(e){return i.cR.field_is_required.replace("%{field}",i.cR[e])}},5763:(e,t,n)=>{"use strict";function i(e,t){return e&&e.length>t?e.slice(0,t)+"...":e}function r(e){return e.replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()}function o(e){return e?e.replace(/_+/g," ").replace(/(?:^|\s|-)\S/g,(function(e){return e.toUpperCase()})):""}function s(e,t){return e.replace(/{{?(\w+)}}?/g,(function(e,n){return t[n]||e}))}function a(e,t){return e.replace(/{{(\w+)}}/g,(function(e,n){return t[n]||e}))}n.d(t,{$G:()=>i,It:()=>r,MI:()=>o,sX:()=>s,rA:()=>a}),n(7042),n(4916),n(5306)},8369:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c}),n(4678),n(6699),n(9826),n(9720),n(4916),n(5306),n(4723),n(3710),n(1539),n(9714),n(5827),n(9753),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(7042),n(8309),n(1038),n(9070),n(7941),n(7327),n(5003),n(9554),n(4747),n(9337),n(3321);var i=n(649);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var l={greater_than:function(e,t){return t>e},greater_than_or_equal_to:function(e,t){return t>=e},equal_to:function(e,t){return parseFloat(t)===parseFloat(e)},less_than:function(e,t){return t<e},less_than_or_equal_to:function(e,t){return t<=e},other_than:function(e,t){return parseFloat(t)!==parseFloat(e)}};const c={numeric:function(e,t,n){if([null,void 0,""].includes(t))return!0;var r=Object.entries(e.options).find((function(e){var n=s(e,2),i=n[0],r=n[1];return!!l[i]&&!l[i](r,t)}))||[],o=s(r,2),a=o[0],c=o[1];return!a||new Error(i.cR.should_be_error_constraint.replace("%{field}",e.fullField).replace("%{error}",i.cR[a].toLowerCase()).replace("%{constraint}",c))},number:function(e,t,n,r,o){var s=typeof t;return"number"===s||!("string"!==s||!t.match(/^\d+(?:\.\d+)?$/))||new Error(i.cR.field_is_not_a_number.replace("%{field}",e.fullField))},length:function(e,t,n,a,l){var c=t.toString(),u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.options);return u.in&&(u.minimum=u.in[0],u.maximum=u.in[1],delete u.in),Object.entries(u).reduce((function(t,n){var r=s(n,2),o=r[0],a=r[1];return"is"===o&&c.length!==a?new Error(i.cR.field_must_be_exactly_in_length.replace("%{field}",e.fullField).replace("%{length}",a)):"minimum"===o&&c.length<a?new Error(i.cR.field_must_be_more_in_length.replace("%{field}",e.fullField).replace("%{length}",a)):"maximum"===o&&c.length>a?new Error(i.cR.field_must_be_less_in_length.replace("%{field}",e.fullField).replace("%{length}",a)):t}),!0)},json:function(e,t,n){try{return t&&JSON.parse(t),!0}catch(t){return new Error(i.cR.should_be_a_valid_json.replace("%{field}",e.fullField))}}}},1924:(e,t,n)=>{"use strict";var i=n(210),r=n(5559),o=r(i("String.prototype.indexOf"));e.exports=function(e,t){var n=i(e,!!t);return"function"==typeof n&&o(e,".prototype.")>-1?r(n):n}},5559:(e,t,n)=>{"use strict";var i=n(8612),r=n(210),o=r("%Function.prototype.apply%"),s=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||i.call(s,o),l=r("%Object.getOwnPropertyDescriptor%",!0),c=r("%Object.defineProperty%",!0),u=r("%Math.max%");if(c)try{c({},"a",{value:1})}catch(e){c=null}e.exports=function(e){var t=a(i,s,arguments);if(l&&c){var n=l(t,"length");n.configurable&&c(t,"length",{value:1+u(0,e.length-(arguments.length-1))})}return t};var d=function(){return a(i,o,arguments)};c?c(e.exports,"apply",{value:d}):e.exports.apply=d},1483:function(e,t){"use strict";var n,i,r,o,s,a,l,c,u,d,h,p,f,m,g,v,y,b,w,_,x,k,C,S=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),A=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},D=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};t.__esModule=!0,t.default=void 0;var O=function(e){var t=0;e+="x";for(var n=Math.floor(65745979961613.07),i=0;i<e.length;i++)t>n&&(t=Math.floor(t/137)),t=131*t+e.charCodeAt(i);return t},T="0123456789abcdef".split(""),E=[-2147483648,8388608,32768,128],$=[24,16,8,0],M=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],R=[],L=function(){function e(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1),i.set(this,void 0),r.set(this,void 0),o.set(this,void 0),s.set(this,void 0),a.set(this,void 0),l.set(this,void 0),c.set(this,void 0),u.set(this,void 0),d.set(this,void 0),h.set(this,void 0),p.set(this,void 0),f.set(this,void 0),m.set(this,void 0),g.set(this,void 0),v.set(this,void 0),y.set(this,void 0),b.set(this,0),w.set(this,void 0),this.init(e,t)}return e.prototype.init=function(e,t){t?(R[0]=R[16]=R[1]=R[2]=R[3]=R[4]=R[5]=R[6]=R[7]=R[8]=R[9]=R[10]=R[11]=R[12]=R[13]=R[14]=R[15]=0,A(this,r,R)):A(this,r,[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),e?(A(this,l,3238371032),A(this,c,914150663),A(this,u,812702999),A(this,d,4144912697),A(this,h,4290775857),A(this,p,1750603025),A(this,f,1694076839),A(this,m,3204075428)):(A(this,l,1779033703),A(this,c,3144134277),A(this,u,1013904242),A(this,d,2773480762),A(this,h,1359893119),A(this,p,2600822924),A(this,f,528734635),A(this,m,1541459225)),A(this,i,A(this,w,A(this,o,A(this,v,0)))),A(this,s,A(this,g,!1)),A(this,a,!0),A(this,y,e)},e.prototype.update=function(e){if(D(this,s))return this;for(var t,n=0,a=(t=e instanceof ArrayBuffer?new Uint8Array(e):e).length,l=D(this,r);n<a;){var c=void 0;if(D(this,g)&&(A(this,g,!1),l[0]=D(this,i),l[16]=l[1]=l[2]=l[3]=l[4]=l[5]=l[6]=l[7]=l[8]=l[9]=l[10]=l[11]=l[12]=l[13]=l[14]=l[15]=0),"string"!=typeof t)for(c=D(this,w);n<a&&c<64;++n)l[c>>2]|=t[n]<<$[3&c++];else for(c=D(this,w);n<a&&c<64;++n){var u=t.charCodeAt(n);u<128?l[c>>2]|=u<<$[3&c++]:u<2048?(l[c>>2]|=(192|u>>6)<<$[3&c++],l[c>>2]|=(128|63&u)<<$[3&c++]):u<55296||u>=57344?(l[c>>2]|=(224|u>>12)<<$[3&c++],l[c>>2]|=(128|u>>6&63)<<$[3&c++],l[c>>2]|=(128|63&u)<<$[3&c++]):(u=65536+((1023&u)<<10|1023&t.charCodeAt(++n)),l[c>>2]|=(240|u>>18)<<$[3&c++],l[c>>2]|=(128|u>>12&63)<<$[3&c++],l[c>>2]|=(128|u>>6&63)<<$[3&c++],l[c>>2]|=(128|63&u)<<$[3&c++])}A(this,b,c),A(this,o,D(this,o)+(c-D(this,w))),c>=64?(A(this,i,l[16]),A(this,w,c-64),this.hash(),A(this,g,!0)):A(this,w,c)}return D(this,o)>4294967295&&(A(this,v,D(this,v)+(D(this,o)/4294967296<<0)),A(this,o,D(this,o)%4294967296)),this},e.prototype.finalize=function(){if(!D(this,s)){A(this,s,!0);var e=D(this,r),t=D(this,b);e[16]=D(this,i),e[t>>2]|=E[3&t],A(this,i,e[16]),t>=56&&(D(this,g)||this.hash(),e[0]=D(this,i),e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=D(this,v)<<3|D(this,o)>>>29,e[15]=D(this,o)<<3,this.hash()}},e.prototype.hash=function(){for(var e,t,n,i,o,s,g,v,b=D(this,l),w=D(this,c),_=D(this,u),x=D(this,d),k=D(this,h),C=D(this,p),S=D(this,f),O=D(this,m),T=D(this,r),E=16;E<64;++E)e=((i=T[E-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t=((i=T[E-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,T[E]=T[E-16]+e+T[E-7]+t<<0;v=w&_;for(var $=0;$<64;$+=4)D(this,a)?(D(this,y)?(o=300032,O=(i=T[0]-1413257819)-150054599<<0,x=i+24177077<<0):(o=704751109,O=(i=T[0]-210244248)-1521486534<<0,x=i+143694565<<0),A(this,a,!1)):(e=(b>>>2|b<<30)^(b>>>13|b<<19)^(b>>>22|b<<10),n=(o=b&w)^b&_^v,O=x+(i=O+(t=(k>>>6|k<<26)^(k>>>11|k<<21)^(k>>>25|k<<7))+(k&C^~k&S)+M[$]+T[$])<<0,x=i+(e+n)<<0),e=(x>>>2|x<<30)^(x>>>13|x<<19)^(x>>>22|x<<10),n=(s=x&b)^x&w^o,S=_+(i=S+(t=(O>>>6|O<<26)^(O>>>11|O<<21)^(O>>>25|O<<7))+(O&k^~O&C)+M[$+1]+T[$+1])<<0,e=((_=i+(e+n)<<0)>>>2|_<<30)^(_>>>13|_<<19)^(_>>>22|_<<10),n=(g=_&x)^_&b^s,C=w+(i=C+(t=(S>>>6|S<<26)^(S>>>11|S<<21)^(S>>>25|S<<7))+(S&O^~S&k)+M[$+2]+T[$+2])<<0,e=((w=i+(e+n)<<0)>>>2|w<<30)^(w>>>13|w<<19)^(w>>>22|w<<10),n=(v=w&_)^w&x^g,k=b+(i=k+(t=(C>>>6|C<<26)^(C>>>11|C<<21)^(C>>>25|C<<7))+(C&S^~C&O)+M[$+3]+T[$+3])<<0,b=i+(e+n)<<0;A(this,l,D(this,l)+b<<0),A(this,c,D(this,c)+w<<0),A(this,u,D(this,u)+_<<0),A(this,d,D(this,d)+x<<0),A(this,h,D(this,h)+k<<0),A(this,p,D(this,p)+C<<0),A(this,f,D(this,f)+S<<0),A(this,m,D(this,m)+O<<0)},e.prototype.hex=function(){this.finalize();var e=D(this,l),t=D(this,c),n=D(this,u),i=D(this,d),r=D(this,h),o=D(this,p),s=D(this,f),a=D(this,m),g=T[e>>28&15]+T[e>>24&15]+T[e>>20&15]+T[e>>16&15]+T[e>>12&15]+T[e>>8&15]+T[e>>4&15]+T[15&e]+T[t>>28&15]+T[t>>24&15]+T[t>>20&15]+T[t>>16&15]+T[t>>12&15]+T[t>>8&15]+T[t>>4&15]+T[15&t]+T[n>>28&15]+T[n>>24&15]+T[n>>20&15]+T[n>>16&15]+T[n>>12&15]+T[n>>8&15]+T[n>>4&15]+T[15&n]+T[i>>28&15]+T[i>>24&15]+T[i>>20&15]+T[i>>16&15]+T[i>>12&15]+T[i>>8&15]+T[i>>4&15]+T[15&i]+T[r>>28&15]+T[r>>24&15]+T[r>>20&15]+T[r>>16&15]+T[r>>12&15]+T[r>>8&15]+T[r>>4&15]+T[15&r]+T[o>>28&15]+T[o>>24&15]+T[o>>20&15]+T[o>>16&15]+T[o>>12&15]+T[o>>8&15]+T[o>>4&15]+T[15&o]+T[s>>28&15]+T[s>>24&15]+T[s>>20&15]+T[s>>16&15]+T[s>>12&15]+T[s>>8&15]+T[s>>4&15]+T[15&s];return D(this,y)||(g+=T[a>>28&15]+T[a>>24&15]+T[a>>20&15]+T[a>>16&15]+T[a>>12&15]+T[a>>8&15]+T[a>>4&15]+T[15&a]),g},e.prototype.toString=function(){return this.hex()},e.prototype.digest=function(){this.finalize();var e=D(this,l),t=D(this,c),n=D(this,u),i=D(this,d),r=D(this,h),o=D(this,p),s=D(this,f),a=D(this,m),g=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24&255,n>>16&255,n>>8&255,255&n,i>>24&255,i>>16&255,i>>8&255,255&i,r>>24&255,r>>16&255,r>>8&255,255&r,o>>24&255,o>>16&255,o>>8&255,255&o,s>>24&255,s>>16&255,s>>8&255,255&s];return D(this,y)||g.push(a>>24&255,a>>16&255,a>>8&255,255&a),g},e.prototype.array=function(){return this.digest()},e.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(D(this,y)?28:32),t=new DataView(e);return t.setUint32(0,D(this,l)),t.setUint32(4,D(this,c)),t.setUint32(8,D(this,u)),t.setUint32(12,D(this,d)),t.setUint32(16,D(this,h)),t.setUint32(20,D(this,p)),t.setUint32(24,D(this,f)),D(this,y)||t.setUint32(28,D(this,m)),e},e}();function P(e){var t=new L;return t.update(e),parseInt(t.hex().substring(0,8),16)}i=new WeakMap,r=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,p=new WeakMap,f=new WeakMap,m=new WeakMap,g=new WeakMap,v=new WeakMap,y=new WeakMap,b=new WeakMap,w=new WeakMap,function(e){function t(t,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1);var r,o=e.call(this,n,i)||this;if(_.set(o,void 0),x.set(o,void 0),k.set(o,void 0),C.set(o,void 0),"string"==typeof t){for(var s=[],a=t.length,l=0,c=0;c<a;++c){var u=t.charCodeAt(c);u<128?s[l++]=u:u<2048?(s[l++]=192|u>>6,s[l++]=128|63&u):u<55296||u>=57344?(s[l++]=224|u>>12,s[l++]=128|u>>6&63,s[l++]=128|63&u):(u=65536+((1023&u)<<10|1023&t.charCodeAt(++c)),s[l++]=240|u>>18,s[l++]=128|u>>12&63,s[l++]=128|u>>6&63,s[l++]=128|63&u)}r=s}else r=t instanceof ArrayBuffer?new Uint8Array(t):t;r.length>64&&(r=new L(n,!0).update(r).array());var d=[],h=[];for(c=0;c<64;++c){var p=r[c]||0;d[c]=92^p,h[c]=54^p}return o.update(h),A(o,k,d),A(o,_,!0),A(o,x,n),A(o,C,i),o}S(t,e),t.prototype.finalize=function(){if(e.prototype.finalize.call(this),D(this,_)){A(this,_,!1);var t=this.array();e.prototype.init.call(this,D(this,x),D(this,C)),this.update(D(this,k)),this.update(t),e.prototype.finalize.call(this)}}}(L),_=new WeakMap,x=new WeakMap,k=new WeakMap,C=new WeakMap;var F=function(e,t,n){var i=n<.5?n*(1+t):n+t-n*t,r=2*n-i;return[(e/=360)+1/3,e,e-1/3].map((function(e){return e<0&&e++,e>1&&e--,e=e<1/6?r+6*(i-r)*e:e<.5?i:e<2/3?r+6*(i-r)*(2/3-e):r,Math.round(255*e)}))},I=function(){function e(e){void 0===e&&(e={});var t=[e.lightness,e.saturation].map((function(e){return e=void 0!==e?e:[.35,.5,.65],Array.isArray(e)?e.concat():[e]})),n=t[0],i=t[1];this.L=n,this.S=i,"number"==typeof e.hue&&(e.hue={min:e.hue,max:e.hue}),"object"!=typeof e.hue||Array.isArray(e.hue)||(e.hue=[e.hue]),void 0===e.hue&&(e.hue=[]),this.hueRanges=e.hue.map((function(e){return{min:void 0===e.min?0:e.min,max:void 0===e.max?360:e.max}})),this.hash=P,"function"==typeof e.hash&&(this.hash=e.hash),"bkdr"===e.hash&&(this.hash=O)}return e.prototype.hsl=function(e){var t,n,i=this.hash(e);if(this.hueRanges.length){var r=this.hueRanges[i%this.hueRanges.length];t=i/this.hueRanges.length%727*(r.max-r.min)/727+r.min}else t=i%359;return i=Math.ceil(i/360),n=this.S[i%this.S.length],i=Math.ceil(i/this.S.length),[t,n,this.L[i%this.L.length]]},e.prototype.rgb=function(e){var t=this.hsl(e);return F.apply(this,t)},e.prototype.hex=function(e){var t,n=this.rgb(e);return t="#",n.forEach((function(e){e<16&&(t+=0),t+=e.toString(16)})),t},e}();t.default=I},3099:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},6077:(e,t,n)=>{var i=n(111);e.exports=function(e){if(!i(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},1223:(e,t,n)=>{var i=n(5112),r=n(30),o=n(3070),s=i("unscopables"),a=Array.prototype;null==a[s]&&o.f(a,s,{configurable:!0,value:r(null)}),e.exports=function(e){a[s][e]=!0}},1530:(e,t,n)=>{"use strict";var i=n(8710).charAt;e.exports=function(e,t,n){return t+(n?i(e,t).length:1)}},5787:e=>{e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},9670:(e,t,n)=>{var i=n(111);e.exports=function(e){if(!i(e))throw TypeError(String(e)+" is not an object");return e}},8533:(e,t,n)=>{"use strict";var i=n(2092).forEach,r=n(9341)("forEach");e.exports=r?[].forEach:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}},8457:(e,t,n)=>{"use strict";var i=n(9974),r=n(7908),o=n(3411),s=n(7659),a=n(7466),l=n(6135),c=n(1246);e.exports=function(e){var t,n,u,d,h,p,f=r(e),m="function"==typeof this?this:Array,g=arguments.length,v=g>1?arguments[1]:void 0,y=void 0!==v,b=c(f),w=0;if(y&&(v=i(v,g>2?arguments[2]:void 0,2)),null==b||m==Array&&s(b))for(n=new m(t=a(f.length));t>w;w++)p=y?v(f[w],w):f[w],l(n,w,p);else for(h=(d=b.call(f)).next,n=new m;!(u=h.call(d)).done;w++)p=y?o(d,v,[u.value,w],!0):u.value,l(n,w,p);return n.length=w,n}},1318:(e,t,n)=>{var i=n(5656),r=n(7466),o=n(1400),s=function(e){return function(t,n,s){var a,l=i(t),c=r(l.length),u=o(s,c);if(e&&n!=n){for(;c>u;)if((a=l[u++])!=a)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},2092:(e,t,n)=>{var i=n(9974),r=n(8361),o=n(7908),s=n(7466),a=n(5417),l=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,u=4==e,d=6==e,h=7==e,p=5==e||d;return function(f,m,g,v){for(var y,b,w=o(f),_=r(w),x=i(m,g,3),k=s(_.length),C=0,S=v||a,A=t?S(f,k):n||h?S(f,0):void 0;k>C;C++)if((p||C in _)&&(b=x(y=_[C],C,w),e))if(t)A[C]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return C;case 2:l.call(A,y)}else switch(e){case 4:return!1;case 7:l.call(A,y)}return d?-1:c||u?u:A}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},1194:(e,t,n)=>{var i=n(7293),r=n(5112),o=n(7392),s=r("species");e.exports=function(e){return o>=51||!i((function(){var t=[];return(t.constructor={})[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},9341:(e,t,n)=>{"use strict";var i=n(7293);e.exports=function(e,t){var n=[][e];return!!n&&i((function(){n.call(null,t||function(){throw 1},1)}))}},3671:(e,t,n)=>{var i=n(3099),r=n(7908),o=n(8361),s=n(7466),a=function(e){return function(t,n,a,l){i(n);var c=r(t),u=o(c),d=s(c.length),h=e?d-1:0,p=e?-1:1;if(a<2)for(;;){if(h in u){l=u[h],h+=p;break}if(h+=p,e?h<0:d<=h)throw TypeError("Reduce of empty array with no initial value")}for(;e?h>=0:d>h;h+=p)h in u&&(l=n(l,u[h],h,c));return l}};e.exports={left:a(!1),right:a(!0)}},4362:e=>{var t=Math.floor,n=function(e,o){var s=e.length,a=t(s/2);return s<8?i(e,o):r(n(e.slice(0,a),o),n(e.slice(a),o),o)},i=function(e,t){for(var n,i,r=e.length,o=1;o<r;){for(i=o,n=e[o];i&&t(e[i-1],n)>0;)e[i]=e[--i];i!==o++&&(e[i]=n)}return e},r=function(e,t,n){for(var i=e.length,r=t.length,o=0,s=0,a=[];o<i||s<r;)o<i&&s<r?a.push(n(e[o],t[s])<=0?e[o++]:t[s++]):a.push(o<i?e[o++]:t[s++]);return a};e.exports=n},7475:(e,t,n)=>{var i=n(111),r=n(3157),o=n(5112)("species");e.exports=function(e){var t;return r(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!r(t.prototype)?i(t)&&null===(t=t[o])&&(t=void 0):t=void 0),void 0===t?Array:t}},5417:(e,t,n)=>{var i=n(7475);e.exports=function(e,t){return new(i(e))(0===t?0:t)}},3411:(e,t,n)=>{var i=n(9670),r=n(9212);e.exports=function(e,t,n,o){try{return o?t(i(n)[0],n[1]):t(n)}catch(t){throw r(e),t}}},7072:(e,t,n)=>{var i=n(5112)("iterator"),r=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){r=!0}};s[i]=function(){return this},Array.from(s,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var o={};o[i]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(e){}return n}},4326:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},648:(e,t,n)=>{var i=n(1694),r=n(4326),o=n(5112)("toStringTag"),s="Arguments"==r(function(){return arguments}());e.exports=i?r:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:s?r(t):"Object"==(i=r(t))&&"function"==typeof t.callee?"Arguments":i}},5631:(e,t,n)=>{"use strict";var i=n(3070).f,r=n(30),o=n(2248),s=n(9974),a=n(5787),l=n(408),c=n(654),u=n(6340),d=n(9781),h=n(2423).fastKey,p=n(9909),f=p.set,m=p.getterFor;e.exports={getConstructor:function(e,t,n,c){var u=e((function(e,i){a(e,u,t),f(e,{type:t,index:r(null),first:void 0,last:void 0,size:0}),d||(e.size=0),null!=i&&l(i,e[c],{that:e,AS_ENTRIES:n})})),p=m(t),g=function(e,t,n){var i,r,o=p(e),s=v(e,t);return s?s.value=n:(o.last=s={index:r=h(t,!0),key:t,value:n,previous:i=o.last,next:void 0,removed:!1},o.first||(o.first=s),i&&(i.next=s),d?o.size++:e.size++,"F"!==r&&(o.index[r]=s)),e},v=function(e,t){var n,i=p(e),r=h(t);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key==t)return n};return o(u.prototype,{clear:function(){for(var e=p(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,d?e.size=0:this.size=0},delete:function(e){var t=this,n=p(t),i=v(t,e);if(i){var r=i.next,o=i.previous;delete n.index[i.index],i.removed=!0,o&&(o.next=r),r&&(r.previous=o),n.first==i&&(n.first=r),n.last==i&&(n.last=o),d?n.size--:t.size--}return!!i},forEach:function(e){for(var t,n=p(this),i=s(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(i(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!v(this,e)}}),o(u.prototype,n?{get:function(e){var t=v(this,e);return t&&t.value},set:function(e,t){return g(this,0===e?0:e,t)}}:{add:function(e){return g(this,e=0===e?0:e,e)}}),d&&i(u.prototype,"size",{get:function(){return p(this).size}}),u},setStrong:function(e,t,n){var i=t+" Iterator",r=m(t),o=m(i);c(e,t,(function(e,t){f(this,{type:i,target:e,state:r(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),u(t)}}},7710:(e,t,n)=>{"use strict";var i=n(2109),r=n(7854),o=n(4705),s=n(1320),a=n(2423),l=n(408),c=n(5787),u=n(111),d=n(7293),h=n(7072),p=n(8003),f=n(9587);e.exports=function(e,t,n){var m=-1!==e.indexOf("Map"),g=-1!==e.indexOf("Weak"),v=m?"set":"add",y=r[e],b=y&&y.prototype,w=y,_={},x=function(e){var t=b[e];s(b,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(g&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return g&&!u(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(g&&!u(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(o(e,"function"!=typeof y||!(g||b.forEach&&!d((function(){(new y).entries().next()})))))w=n.getConstructor(t,e,m,v),a.enable();else if(o(e,!0)){var k=new w,C=k[v](g?{}:-0,1)!=k,S=d((function(){k.has(1)})),A=h((function(e){new y(e)})),D=!g&&d((function(){for(var e=new y,t=5;t--;)e[v](t,t);return!e.has(-0)}));A||((w=t((function(t,n){c(t,w,e);var i=f(new y,t,w);return null!=n&&l(n,i[v],{that:i,AS_ENTRIES:m}),i}))).prototype=b,b.constructor=w),(S||D)&&(x("delete"),x("has"),m&&x("get")),(D||C)&&x(v),g&&b.clear&&delete b.clear}return _[e]=w,i({global:!0,forced:w!=y},_),p(w,e),g||n.setStrong(w,e,m),w}},9920:(e,t,n)=>{var i=n(6656),r=n(3887),o=n(1236),s=n(3070);e.exports=function(e,t){for(var n=r(t),a=s.f,l=o.f,c=0;c<n.length;c++){var u=n[c];i(e,u)||a(e,u,l(t,u))}}},4964:(e,t,n)=>{var i=n(5112)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(e){}}return!1}},8544:(e,t,n)=>{var i=n(7293);e.exports=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},4230:(e,t,n)=>{var i=n(4488),r=n(1340),o=/"/g;e.exports=function(e,t,n,s){var a=r(i(e)),l="<"+t;return""!==n&&(l+=" "+n+'="'+r(s).replace(o,"&quot;")+'"'),l+">"+a+"</"+t+">"}},4994:(e,t,n)=>{"use strict";var i=n(3383).IteratorPrototype,r=n(30),o=n(9114),s=n(8003),a=n(7497),l=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=r(i,{next:o(1,n)}),s(e,c,!1,!0),a[c]=l,e}},8880:(e,t,n)=>{var i=n(9781),r=n(3070),o=n(9114);e.exports=i?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},9114:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6135:(e,t,n)=>{"use strict";var i=n(4948),r=n(3070),o=n(9114);e.exports=function(e,t,n){var s=i(t);s in e?r.f(e,s,o(0,n)):e[s]=n}},654:(e,t,n)=>{"use strict";var i=n(2109),r=n(4994),o=n(9518),s=n(7674),a=n(8003),l=n(8880),c=n(1320),u=n(5112),d=n(1913),h=n(7497),p=n(3383),f=p.IteratorPrototype,m=p.BUGGY_SAFARI_ITERATORS,g=u("iterator"),v="keys",y="values",b="entries",w=function(){return this};e.exports=function(e,t,n,u,p,_,x){r(n,t,u);var k,C,S,A=function(e){if(e===p&&$)return $;if(!m&&e in T)return T[e];switch(e){case v:case y:case b:return function(){return new n(this,e)}}return function(){return new n(this)}},D=t+" Iterator",O=!1,T=e.prototype,E=T[g]||T["@@iterator"]||p&&T[p],$=!m&&E||A(p),M="Array"==t&&T.entries||E;if(M&&(k=o(M.call(new e)),f!==Object.prototype&&k.next&&(d||o(k)===f||(s?s(k,f):"function"!=typeof k[g]&&l(k,g,w)),a(k,D,!0,!0),d&&(h[D]=w))),p==y&&E&&E.name!==y&&(O=!0,$=function(){return E.call(this)}),d&&!x||T[g]===$||l(T,g,$),h[t]=$,p)if(C={values:A(y),keys:_?$:A(v),entries:A(b)},x)for(S in C)(m||O||!(S in T))&&c(T,S,C[S]);else i({target:t,proto:!0,forced:m||O},C);return C}},7235:(e,t,n)=>{var i=n(857),r=n(6656),o=n(6061),s=n(3070).f;e.exports=function(e){var t=i.Symbol||(i.Symbol={});r(t,e)||s(t,e,{value:o.f(e)})}},9781:(e,t,n)=>{var i=n(7293);e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(e,t,n)=>{var i=n(7854),r=n(111),o=i.document,s=r(o)&&r(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},8324:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8886:(e,t,n)=>{var i=n(8113).match(/firefox\/(\d+)/i);e.exports=!!i&&+i[1]},7871:e=>{e.exports="object"==typeof window},256:(e,t,n)=>{var i=n(8113);e.exports=/MSIE|Trident/.test(i)},1528:(e,t,n)=>{var i=n(8113),r=n(7854);e.exports=/iphone|ipod|ipad/i.test(i)&&void 0!==r.Pebble},6833:(e,t,n)=>{var i=n(8113);e.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(i)},5268:(e,t,n)=>{var i=n(4326),r=n(7854);e.exports="process"==i(r.process)},1036:(e,t,n)=>{var i=n(8113);e.exports=/web0s(?!.*chrome)/i.test(i)},8113:(e,t,n)=>{var i=n(5005);e.exports=i("navigator","userAgent")||""},7392:(e,t,n)=>{var i,r,o=n(7854),s=n(8113),a=o.process,l=o.Deno,c=a&&a.versions||l&&l.version,u=c&&c.v8;u?r=(i=u.split("."))[0]<4?1:i[0]+i[1]:s&&(!(i=s.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=s.match(/Chrome\/(\d+)/))&&(r=i[1]),e.exports=r&&+r},8008:(e,t,n)=>{var i=n(8113).match(/AppleWebKit\/(\d+)\./);e.exports=!!i&&+i[1]},748:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(e,t,n)=>{var i=n(7854),r=n(1236).f,o=n(8880),s=n(1320),a=n(3505),l=n(9920),c=n(4705);e.exports=function(e,t){var n,u,d,h,p,f=e.target,m=e.global,g=e.stat;if(n=m?i:g?i[f]||a(f,{}):(i[f]||{}).prototype)for(u in t){if(h=t[u],d=e.noTargetGet?(p=r(n,u))&&p.value:n[u],!c(m?u:f+(g?".":"#")+u,e.forced)&&void 0!==d){if(typeof h==typeof d)continue;l(h,d)}(e.sham||d&&d.sham)&&o(h,"sham",!0),s(n,u,h,e)}}},7293:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},7007:(e,t,n)=>{"use strict";n(4916);var i=n(1320),r=n(2261),o=n(7293),s=n(5112),a=n(8880),l=s("species"),c=RegExp.prototype;e.exports=function(e,t,n,u){var d=s(e),h=!o((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),p=h&&!o((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[l]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return t=!0,null},n[d](""),!t}));if(!h||!p||n){var f=/./[d],m=t(d,""[e],(function(e,t,n,i,o){var s=t.exec;return s===r||s===c.exec?h&&!o?{done:!0,value:f.call(t,n,i)}:{done:!0,value:e.call(n,t,i)}:{done:!1}}));i(String.prototype,e,m[0]),i(c,d,m[1])}u&&a(c[d],"sham",!0)}},6790:(e,t,n)=>{"use strict";var i=n(3157),r=n(7466),o=n(9974),s=function(e,t,n,a,l,c,u,d){for(var h,p=l,f=0,m=!!u&&o(u,d,3);f<a;){if(f in n){if(h=m?m(n[f],f,t):n[f],c>0&&i(h))p=s(e,t,h,r(h.length),p,c-1)-1;else{if(p>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[p]=h}p++}f++}return p};e.exports=s},6677:(e,t,n)=>{var i=n(7293);e.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))},9974:(e,t,n)=>{var i=n(3099);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},5005:(e,t,n)=>{var i=n(7854),r=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?r(i[e]):i[e]&&i[e][t]}},1246:(e,t,n)=>{var i=n(648),r=n(7497),o=n(5112)("iterator");e.exports=function(e){if(null!=e)return e[o]||e["@@iterator"]||r[i(e)]}},8554:(e,t,n)=>{var i=n(9670),r=n(1246);e.exports=function(e){var t=r(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return i(t.call(e))}},647:(e,t,n)=>{var i=n(7908),r=Math.floor,o="".replace,s=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,a=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,l,c,u){var d=n+e.length,h=l.length,p=a;return void 0!==c&&(c=i(c),p=s),o.call(u,p,(function(i,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(d);case"<":s=c[o.slice(1,-1)];break;default:var a=+o;if(0===a)return i;if(a>h){var u=r(a/10);return 0===u?i:u<=h?void 0===l[u-1]?o.charAt(1):l[u-1]+o.charAt(1):i}s=l[a-1]}return void 0===s?"":s}))}},7854:(e,t,n)=>{var i=function(e){return e&&e.Math==Math&&e};e.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},6656:(e,t,n)=>{var i=n(7908),r={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return r.call(i(e),t)}},3501:e=>{e.exports={}},842:(e,t,n)=>{var i=n(7854);e.exports=function(e,t){var n=i.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},490:(e,t,n)=>{var i=n(5005);e.exports=i("document","documentElement")},4664:(e,t,n)=>{var i=n(9781),r=n(7293),o=n(317);e.exports=!i&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8361:(e,t,n)=>{var i=n(7293),r=n(4326),o="".split;e.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==r(e)?o.call(e,""):Object(e)}:Object},9587:(e,t,n)=>{var i=n(111),r=n(7674);e.exports=function(e,t,n){var o,s;return r&&"function"==typeof(o=t.constructor)&&o!==n&&i(s=o.prototype)&&s!==n.prototype&&r(e,s),e}},2788:(e,t,n)=>{var i=n(5465),r=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(e){return r.call(e)}),e.exports=i.inspectSource},2423:(e,t,n)=>{var i=n(2109),r=n(3501),o=n(111),s=n(6656),a=n(3070).f,l=n(8006),c=n(1156),u=n(9711),d=n(6677),h=!1,p=u("meta"),f=0,m=Object.isExtensible||function(){return!0},g=function(e){a(e,p,{value:{objectID:"O"+f++,weakData:{}}})},v=e.exports={enable:function(){v.enable=function(){},h=!0;var e=l.f,t=[].splice,n={};n[p]=1,e(n).length&&(l.f=function(n){for(var i=e(n),r=0,o=i.length;r<o;r++)if(i[r]===p){t.call(i,r,1);break}return i},i({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:c.f}))},fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,p)){if(!m(e))return"F";if(!t)return"E";g(e)}return e[p].objectID},getWeakData:function(e,t){if(!s(e,p)){if(!m(e))return!0;if(!t)return!1;g(e)}return e[p].weakData},onFreeze:function(e){return d&&h&&m(e)&&!s(e,p)&&g(e),e}};r[p]=!0},9909:(e,t,n)=>{var i,r,o,s=n(8536),a=n(7854),l=n(111),c=n(8880),u=n(6656),d=n(5465),h=n(6200),p=n(3501),f="Object already initialized",m=a.WeakMap;if(s||d.state){var g=d.state||(d.state=new m),v=g.get,y=g.has,b=g.set;i=function(e,t){if(y.call(g,e))throw new TypeError(f);return t.facade=e,b.call(g,e,t),t},r=function(e){return v.call(g,e)||{}},o=function(e){return y.call(g,e)}}else{var w=h("state");p[w]=!0,i=function(e,t){if(u(e,w))throw new TypeError(f);return t.facade=e,c(e,w,t),t},r=function(e){return u(e,w)?e[w]:{}},o=function(e){return u(e,w)}}e.exports={set:i,get:r,has:o,enforce:function(e){return o(e)?r(e):i(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=r(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},7659:(e,t,n)=>{var i=n(5112),r=n(7497),o=i("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||s[o]===e)}},3157:(e,t,n)=>{var i=n(4326);e.exports=Array.isArray||function(e){return"Array"==i(e)}},4705:(e,t,n)=>{var i=n(7293),r=/#|\.prototype\./,o=function(e,t){var n=a[s(e)];return n==c||n!=l&&("function"==typeof t?i(t):!!t)},s=o.normalize=function(e){return String(e).replace(r,".").toLowerCase()},a=o.data={},l=o.NATIVE="N",c=o.POLYFILL="P";e.exports=o},111:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},1913:e=>{e.exports=!1},7850:(e,t,n)=>{var i=n(111),r=n(4326),o=n(5112)("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==r(e))}},2190:(e,t,n)=>{var i=n(5005),r=n(3307);e.exports=r?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return"function"==typeof t&&Object(e)instanceof t}},408:(e,t,n)=>{var i=n(9670),r=n(7659),o=n(7466),s=n(9974),a=n(1246),l=n(9212),c=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,n){var u,d,h,p,f,m,g,v=n&&n.that,y=!(!n||!n.AS_ENTRIES),b=!(!n||!n.IS_ITERATOR),w=!(!n||!n.INTERRUPTED),_=s(t,v,1+y+w),x=function(e){return u&&l(u),new c(!0,e)},k=function(e){return y?(i(e),w?_(e[0],e[1],x):_(e[0],e[1])):w?_(e,x):_(e)};if(b)u=e;else{if("function"!=typeof(d=a(e)))throw TypeError("Target is not iterable");if(r(d)){for(h=0,p=o(e.length);p>h;h++)if((f=k(e[h]))&&f instanceof c)return f;return new c(!1)}u=d.call(e)}for(m=u.next;!(g=m.call(u)).done;){try{f=k(g.value)}catch(e){throw l(u),e}if("object"==typeof f&&f&&f instanceof c)return f}return new c(!1)}},9212:(e,t,n)=>{var i=n(9670);e.exports=function(e){var t=e.return;if(void 0!==t)return i(t.call(e)).value}},3383:(e,t,n)=>{"use strict";var i,r,o,s=n(7293),a=n(9518),l=n(8880),c=n(6656),u=n(5112),d=n(1913),h=u("iterator"),p=!1;[].keys&&("next"in(o=[].keys())?(r=a(a(o)))!==Object.prototype&&(i=r):p=!0);var f=null==i||s((function(){var e={};return i[h].call(e)!==e}));f&&(i={}),d&&!f||c(i,h)||l(i,h,(function(){return this})),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:p}},7497:e=>{e.exports={}},5948:(e,t,n)=>{var i,r,o,s,a,l,c,u,d=n(7854),h=n(1236).f,p=n(261).set,f=n(6833),m=n(1528),g=n(1036),v=n(5268),y=d.MutationObserver||d.WebKitMutationObserver,b=d.document,w=d.process,_=d.Promise,x=h(d,"queueMicrotask"),k=x&&x.value;k||(i=function(){var e,t;for(v&&(e=w.domain)&&e.exit();r;){t=r.fn,r=r.next;try{t()}catch(e){throw r?s():o=void 0,e}}o=void 0,e&&e.enter()},f||v||g||!y||!b?!m&&_&&_.resolve?((c=_.resolve(void 0)).constructor=_,u=c.then,s=function(){u.call(c,i)}):s=v?function(){w.nextTick(i)}:function(){p.call(d,i)}:(a=!0,l=b.createTextNode(""),new y(i).observe(l,{characterData:!0}),s=function(){l.data=a=!a})),e.exports=k||function(e){var t={fn:e,next:void 0};o&&(o.next=t),r||(r=t,s()),o=t}},3366:(e,t,n)=>{var i=n(7854);e.exports=i.Promise},133:(e,t,n)=>{var i=n(7392),r=n(7293);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},590:(e,t,n)=>{var i=n(7293),r=n(5112),o=n(1913),s=r("iterator");e.exports=!i((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,i){t.delete("b"),n+=i+e})),o&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},8536:(e,t,n)=>{var i=n(7854),r=n(2788),o=i.WeakMap;e.exports="function"==typeof o&&/native code/.test(r(o))},8523:(e,t,n)=>{"use strict";var i=n(3099),r=function(e){var t,n;this.promise=new e((function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i})),this.resolve=i(t),this.reject=i(n)};e.exports.f=function(e){return new r(e)}},3929:(e,t,n)=>{var i=n(7850);e.exports=function(e){if(i(e))throw TypeError("The method doesn't accept regular expressions");return e}},2814:(e,t,n)=>{var i=n(7854),r=n(1340),o=n(3111).trim,s=n(1361),a=i.parseFloat,l=1/a(s+"-0")!=-1/0;e.exports=l?function(e){var t=o(r(e)),n=a(t);return 0===n&&"-"==t.charAt(0)?-0:n}:a},3009:(e,t,n)=>{var i=n(7854),r=n(1340),o=n(3111).trim,s=n(1361),a=i.parseInt,l=/^[+-]?0[Xx]/,c=8!==a(s+"08")||22!==a(s+"0x16");e.exports=c?function(e,t){var n=o(r(e));return a(n,t>>>0||(l.test(n)?16:10))}:a},1574:(e,t,n)=>{"use strict";var i=n(9781),r=n(7293),o=n(1956),s=n(5181),a=n(5296),l=n(7908),c=n(8361),u=Object.assign,d=Object.defineProperty;e.exports=!u||r((function(){if(i&&1!==u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||o(u({},t)).join("")!=r}))?function(e,t){for(var n=l(e),r=arguments.length,u=1,d=s.f,h=a.f;r>u;)for(var p,f=c(arguments[u++]),m=d?o(f).concat(d(f)):o(f),g=m.length,v=0;g>v;)p=m[v++],i&&!h.call(f,p)||(n[p]=f[p]);return n}:u},30:(e,t,n)=>{var i,r=n(9670),o=n(6048),s=n(748),a=n(3501),l=n(490),c=n(317),u=n(6200)("IE_PROTO"),d=function(){},h=function(e){return"<script>"+e+"<\/script>"},p=function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t},f=function(){try{i=new ActiveXObject("htmlfile")}catch(e){}f=document.domain&&i?p(i):function(){var e,t=c("iframe");if(t.style)return t.style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F}()||p(i);for(var e=s.length;e--;)delete f.prototype[s[e]];return f()};a[u]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=r(e),n=new d,d.prototype=null,n[u]=e):n=f(),void 0===t?n:o(n,t)}},6048:(e,t,n)=>{var i=n(9781),r=n(3070),o=n(9670),s=n(1956);e.exports=i?Object.defineProperties:function(e,t){o(e);for(var n,i=s(t),a=i.length,l=0;a>l;)r.f(e,n=i[l++],t[n]);return e}},3070:(e,t,n)=>{var i=n(9781),r=n(4664),o=n(9670),s=n(4948),a=Object.defineProperty;t.f=i?a:function(e,t,n){if(o(e),t=s(t),o(n),r)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1236:(e,t,n)=>{var i=n(9781),r=n(5296),o=n(9114),s=n(5656),a=n(4948),l=n(6656),c=n(4664),u=Object.getOwnPropertyDescriptor;t.f=i?u:function(e,t){if(e=s(e),t=a(t),c)try{return u(e,t)}catch(e){}if(l(e,t))return o(!r.f.call(e,t),e[t])}},1156:(e,t,n)=>{var i=n(5656),r=n(8006).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"[object Window]"==o.call(e)?function(e){try{return r(e)}catch(e){return s.slice()}}(e):r(i(e))}},8006:(e,t,n)=>{var i=n(6324),r=n(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},5181:(e,t)=>{t.f=Object.getOwnPropertySymbols},9518:(e,t,n)=>{var i=n(6656),r=n(7908),o=n(6200),s=n(8544),a=o("IE_PROTO"),l=Object.prototype;e.exports=s?Object.getPrototypeOf:function(e){return e=r(e),i(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},6324:(e,t,n)=>{var i=n(6656),r=n(5656),o=n(1318).indexOf,s=n(3501);e.exports=function(e,t){var n,a=r(e),l=0,c=[];for(n in a)!i(s,n)&&i(a,n)&&c.push(n);for(;t.length>l;)i(a,n=t[l++])&&(~o(c,n)||c.push(n));return c}},1956:(e,t,n)=>{var i=n(6324),r=n(748);e.exports=Object.keys||function(e){return i(e,r)}},5296:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!n.call({1:2},1);t.f=r?function(e){var t=i(this,e);return!!t&&t.enumerable}:n},7674:(e,t,n)=>{var i=n(9670),r=n(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,o){return i(n),r(o),t?e.call(n,o):n.__proto__=o,n}}():void 0)},4699:(e,t,n)=>{var i=n(9781),r=n(1956),o=n(5656),s=n(5296).f,a=function(e){return function(t){for(var n,a=o(t),l=r(a),c=l.length,u=0,d=[];c>u;)n=l[u++],i&&!s.call(a,n)||d.push(e?[n,a[n]]:a[n]);return d}};e.exports={entries:a(!0),values:a(!1)}},288:(e,t,n)=>{"use strict";var i=n(1694),r=n(648);e.exports=i?{}.toString:function(){return"[object "+r(this)+"]"}},2140:(e,t,n)=>{var i=n(111);e.exports=function(e,t){var n,r;if("string"===t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if("string"!==t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},3887:(e,t,n)=>{var i=n(5005),r=n(8006),o=n(5181),s=n(9670);e.exports=i("Reflect","ownKeys")||function(e){var t=r.f(s(e)),n=o.f;return n?t.concat(n(e)):t}},857:(e,t,n)=>{var i=n(7854);e.exports=i},2534:e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},9478:(e,t,n)=>{var i=n(9670),r=n(111),o=n(8523);e.exports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},2248:(e,t,n)=>{var i=n(1320);e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},1320:(e,t,n)=>{var i=n(7854),r=n(8880),o=n(6656),s=n(3505),a=n(2788),l=n(9909),c=l.get,u=l.enforce,d=String(String).split("String");(e.exports=function(e,t,n,a){var l,c=!!a&&!!a.unsafe,h=!!a&&!!a.enumerable,p=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof t||o(n,"name")||r(n,"name",t),(l=u(n)).source||(l.source=d.join("string"==typeof t?t:""))),e!==i?(c?!p&&e[t]&&(h=!0):delete e[t],h?e[t]=n:r(e,t,n)):h?e[t]=n:s(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||a(this)}))},7651:(e,t,n)=>{var i=n(4326),r=n(2261);e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var o=n.call(e,t);if("object"!=typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==i(e))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(e,t)}},2261:(e,t,n)=>{"use strict";var i,r,o=n(1340),s=n(7066),a=n(2999),l=n(2309),c=n(30),u=n(9909).get,d=n(9441),h=n(8173),p=RegExp.prototype.exec,f=l("native-string-replace",String.prototype.replace),m=p,g=(i=/a/,r=/b*/g,p.call(i,"a"),p.call(r,"a"),0!==i.lastIndex||0!==r.lastIndex),v=a.UNSUPPORTED_Y||a.BROKEN_CARET,y=void 0!==/()??/.exec("")[1];(g||y||v||d||h)&&(m=function(e){var t,n,i,r,a,l,d,h=this,b=u(h),w=o(e),_=b.raw;if(_)return _.lastIndex=h.lastIndex,t=m.call(_,w),h.lastIndex=_.lastIndex,t;var x=b.groups,k=v&&h.sticky,C=s.call(h),S=h.source,A=0,D=w;if(k&&(-1===(C=C.replace("y","")).indexOf("g")&&(C+="g"),D=w.slice(h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&"\n"!==w.charAt(h.lastIndex-1))&&(S="(?: "+S+")",D=" "+D,A++),n=new RegExp("^(?:"+S+")",C)),y&&(n=new RegExp("^"+S+"$(?!\\s)",C)),g&&(i=h.lastIndex),r=p.call(k?n:h,D),k?r?(r.input=r.input.slice(A),r[0]=r[0].slice(A),r.index=h.lastIndex,h.lastIndex+=r[0].length):h.lastIndex=0:g&&r&&(h.lastIndex=h.global?r.index+r[0].length:i),y&&r&&r.length>1&&f.call(r[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(r[a]=void 0)})),r&&x)for(r.groups=l=c(null),a=0;a<x.length;a++)l[(d=x[a])[0]]=r[d[1]];return r}),e.exports=m},7066:(e,t,n)=>{"use strict";var i=n(9670);e.exports=function(){var e=i(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},2999:(e,t,n)=>{var i=n(7293),r=function(e,t){return RegExp(e,t)};t.UNSUPPORTED_Y=i((function(){var e=r("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=i((function(){var e=r("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},9441:(e,t,n)=>{var i=n(7293);e.exports=i((function(){var e=RegExp(".","string".charAt(0));return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},8173:(e,t,n)=>{var i=n(7293);e.exports=i((function(){var e=RegExp("(?<a>b)","string".charAt(5));return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},4488:e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},1150:e=>{e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},3505:(e,t,n)=>{var i=n(7854);e.exports=function(e,t){try{Object.defineProperty(i,e,{value:t,configurable:!0,writable:!0})}catch(n){i[e]=t}return t}},6340:(e,t,n)=>{"use strict";var i=n(5005),r=n(3070),o=n(5112),s=n(9781),a=o("species");e.exports=function(e){var t=i(e),n=r.f;s&&t&&!t[a]&&n(t,a,{configurable:!0,get:function(){return this}})}},8003:(e,t,n)=>{var i=n(3070).f,r=n(6656),o=n(5112)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,o)&&i(e,o,{configurable:!0,value:t})}},6200:(e,t,n)=>{var i=n(2309),r=n(9711),o=i("keys");e.exports=function(e){return o[e]||(o[e]=r(e))}},5465:(e,t,n)=>{var i=n(7854),r=n(3505),o="__core-js_shared__",s=i[o]||r(o,{});e.exports=s},2309:(e,t,n)=>{var i=n(1913),r=n(5465);(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.16.1",mode:i?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},6707:(e,t,n)=>{var i=n(9670),r=n(3099),o=n(5112)("species");e.exports=function(e,t){var n,s=i(e).constructor;return void 0===s||null==(n=i(s)[o])?t:r(n)}},3429:(e,t,n)=>{var i=n(7293);e.exports=function(e){return i((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},8710:(e,t,n)=>{var i=n(9958),r=n(1340),o=n(4488),s=function(e){return function(t,n){var s,a,l=r(o(t)),c=i(n),u=l.length;return c<0||c>=u?e?"":void 0:(s=l.charCodeAt(c))<55296||s>56319||c+1===u||(a=l.charCodeAt(c+1))<56320||a>57343?e?l.charAt(c):s:e?l.slice(c,c+2):a-56320+(s-55296<<10)+65536}};e.exports={codeAt:s(!1),charAt:s(!0)}},3197:e=>{"use strict";var t=2147483647,n=/[^\0-\u007E]/,i=/[.\u3002\uFF0E\uFF61]/g,r="Overflow: input needs wider integers to process",o=Math.floor,s=String.fromCharCode,a=function(e){return e+22+75*(e<26)},l=function(e,t,n){var i=0;for(e=n?o(e/700):e>>1,e+=o(e/t);e>455;i+=36)e=o(e/35);return o(i+36*e/(e+38))},c=function(e){var n,i,c=[],u=(e=function(e){for(var t=[],n=0,i=e.length;n<i;){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&r)<<10)+(1023&o)+65536):(t.push(r),n--)}else t.push(r)}return t}(e)).length,d=128,h=0,p=72;for(n=0;n<e.length;n++)(i=e[n])<128&&c.push(s(i));var f=c.length,m=f;for(f&&c.push("-");m<u;){var g=t;for(n=0;n<e.length;n++)(i=e[n])>=d&&i<g&&(g=i);var v=m+1;if(g-d>o((t-h)/v))throw RangeError(r);for(h+=(g-d)*v,d=g,n=0;n<e.length;n++){if((i=e[n])<d&&++h>t)throw RangeError(r);if(i==d){for(var y=h,b=36;;b+=36){var w=b<=p?1:b>=p+26?26:b-p;if(y<w)break;var _=y-w,x=36-w;c.push(s(a(w+_%x))),y=o(_/x)}c.push(s(a(y))),p=l(h,v,m==f),h=0,++m}}++h,++d}return c.join("")};e.exports=function(e){var t,r,o=[],s=e.toLowerCase().replace(i,".").split(".");for(t=0;t<s.length;t++)r=s[t],o.push(n.test(r)?"xn--"+c(r):r);return o.join(".")}},6091:(e,t,n)=>{var i=n(7293),r=n(1361);e.exports=function(e){return i((function(){return!!r[e]()||""!=""[e]()||r[e].name!==e}))}},3111:(e,t,n)=>{var i=n(4488),r=n(1340),o="["+n(1361)+"]",s=RegExp("^"+o+o+"*"),a=RegExp(o+o+"*$"),l=function(e){return function(t){var n=r(i(t));return 1&e&&(n=n.replace(s,"")),2&e&&(n=n.replace(a,"")),n}};e.exports={start:l(1),end:l(2),trim:l(3)}},261:(e,t,n)=>{var i,r,o,s,a=n(7854),l=n(7293),c=n(9974),u=n(490),d=n(317),h=n(6833),p=n(5268),f=a.setImmediate,m=a.clearImmediate,g=a.process,v=a.MessageChannel,y=a.Dispatch,b=0,w={};try{i=a.location}catch(e){}var _=function(e){if(w.hasOwnProperty(e)){var t=w[e];delete w[e],t()}},x=function(e){return function(){_(e)}},k=function(e){_(e.data)},C=function(e){a.postMessage(String(e),i.protocol+"//"+i.host)};f&&m||(f=function(e){for(var t=[],n=arguments.length,i=1;n>i;)t.push(arguments[i++]);return w[++b]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(b),b},m=function(e){delete w[e]},p?r=function(e){g.nextTick(x(e))}:y&&y.now?r=function(e){y.now(x(e))}:v&&!h?(s=(o=new v).port2,o.port1.onmessage=k,r=c(s.postMessage,s,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&i&&"file:"!==i.protocol&&!l(C)?(r=C,a.addEventListener("message",k,!1)):r="onreadystatechange"in d("script")?function(e){u.appendChild(d("script")).onreadystatechange=function(){u.removeChild(this),_(e)}}:function(e){setTimeout(x(e),0)}),e.exports={set:f,clear:m}},1400:(e,t,n)=>{var i=n(9958),r=Math.max,o=Math.min;e.exports=function(e,t){var n=i(e);return n<0?r(n+t,0):o(n,t)}},5656:(e,t,n)=>{var i=n(8361),r=n(4488);e.exports=function(e){return i(r(e))}},9958:e=>{var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},7466:(e,t,n)=>{var i=n(9958),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},7908:(e,t,n)=>{var i=n(4488);e.exports=function(e){return Object(i(e))}},7593:(e,t,n)=>{var i=n(111),r=n(2190),o=n(2140),s=n(5112)("toPrimitive");e.exports=function(e,t){if(!i(e)||r(e))return e;var n,a=e[s];if(void 0!==a){if(void 0===t&&(t="default"),n=a.call(e,t),!i(n)||r(n))return n;throw TypeError("Can't convert object to primitive value")}return void 0===t&&(t="number"),o(e,t)}},4948:(e,t,n)=>{var i=n(7593),r=n(2190);e.exports=function(e){var t=i(e,"string");return r(t)?t:String(t)}},1694:(e,t,n)=>{var i={};i[n(5112)("toStringTag")]="z",e.exports="[object z]"===String(i)},1340:(e,t,n)=>{var i=n(2190);e.exports=function(e){if(i(e))throw TypeError("Cannot convert a Symbol value to a string");return String(e)}},9711:e=>{var t=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+n).toString(36)}},3307:(e,t,n)=>{var i=n(133);e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},6061:(e,t,n)=>{var i=n(5112);t.f=i},5112:(e,t,n)=>{var i=n(7854),r=n(2309),o=n(6656),s=n(9711),a=n(133),l=n(3307),c=r("wks"),u=i.Symbol,d=l?u:u&&u.withoutSetter||s;e.exports=function(e){return o(c,e)&&(a||"string"==typeof c[e])||(a&&o(u,e)?c[e]=u[e]:c[e]=d("Symbol."+e)),c[e]}},1361:e=>{e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},2222:(e,t,n)=>{"use strict";var i=n(2109),r=n(7293),o=n(3157),s=n(111),a=n(7908),l=n(7466),c=n(6135),u=n(5417),d=n(1194),h=n(5112),p=n(7392),f=h("isConcatSpreadable"),m=9007199254740991,g="Maximum allowed index exceeded",v=p>=51||!r((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),y=d("concat"),b=function(e){if(!s(e))return!1;var t=e[f];return void 0!==t?!!t:o(e)};i({target:"Array",proto:!0,forced:!v||!y},{concat:function(e){var t,n,i,r,o,s=a(this),d=u(s,0),h=0;for(t=-1,i=arguments.length;t<i;t++)if(b(o=-1===t?s:arguments[t])){if(h+(r=l(o.length))>m)throw TypeError(g);for(n=0;n<r;n++,h++)n in o&&c(d,h,o[n])}else{if(h>=m)throw TypeError(g);c(d,h++,o)}return d.length=h,d}})},6541:(e,t,n)=>{"use strict";var i=n(2109),r=n(2092).every;i({target:"Array",proto:!0,forced:!n(9341)("every")},{every:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},7327:(e,t,n)=>{"use strict";var i=n(2109),r=n(2092).filter;i({target:"Array",proto:!0,forced:!n(1194)("filter")},{filter:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},4553:(e,t,n)=>{"use strict";var i=n(2109),r=n(2092).findIndex,o=n(1223),s="findIndex",a=!0;s in[]&&Array(1).findIndex((function(){a=!1})),i({target:"Array",proto:!0,forced:a},{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),o(s)},9826:(e,t,n)=>{"use strict";var i=n(2109),r=n(2092).find,o=n(1223),s="find",a=!0;s in[]&&Array(1).find((function(){a=!1})),i({target:"Array",proto:!0,forced:a},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),o(s)},4944:(e,t,n)=>{"use strict";var i=n(2109),r=n(6790),o=n(7908),s=n(7466),a=n(9958),l=n(5417);i({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=o(this),n=s(t.length),i=l(t,0);return i.length=r(i,t,t,n,0,void 0===e?1:a(e)),i}})},9554:(e,t,n)=>{"use strict";var i=n(2109),r=n(8533);i({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},1038:(e,t,n)=>{var i=n(2109),r=n(8457);i({target:"Array",stat:!0,forced:!n(7072)((function(e){Array.from(e)}))},{from:r})},6699:(e,t,n)=>{"use strict";var i=n(2109),r=n(1318).includes,o=n(1223);i({target:"Array",proto:!0},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},2772:(e,t,n)=>{"use strict";var i=n(2109),r=n(1318).indexOf,o=n(9341),s=[].indexOf,a=!!s&&1/[1].indexOf(1,-0)<0,l=o("indexOf");i({target:"Array",proto:!0,forced:a||!l},{indexOf:function(e){return a?s.apply(this,arguments)||0:r(this,e,arguments.length>1?arguments[1]:void 0)}})},9753:(e,t,n)=>{n(2109)({target:"Array",stat:!0},{isArray:n(3157)})},6992:(e,t,n)=>{"use strict";var i=n(5656),r=n(1223),o=n(7497),s=n(9909),a=n(654),l="Array Iterator",c=s.set,u=s.getterFor(l);e.exports=a(Array,"Array",(function(e,t){c(this,{type:l,target:i(e),index:0,kind:t})}),(function(){var e=u(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},9600:(e,t,n)=>{"use strict";var i=n(2109),r=n(8361),o=n(5656),s=n(9341),a=[].join,l=r!=Object,c=s("join",",");i({target:"Array",proto:!0,forced:l||!c},{join:function(e){return a.call(o(this),void 0===e?",":e)}})},1249:(e,t,n)=>{"use strict";var i=n(2109),r=n(2092).map;i({target:"Array",proto:!0,forced:!n(1194)("map")},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},5827:(e,t,n)=>{"use strict";var i=n(2109),r=n(3671).left,o=n(9341),s=n(7392),a=n(5268);i({target:"Array",proto:!0,forced:!o("reduce")||!a&&s>79&&s<83},{reduce:function(e){return r(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},5069:(e,t,n)=>{"use strict";var i=n(2109),r=n(3157),o=[].reverse,s=[1,2];i({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),o.call(this)}})},7042:(e,t,n)=>{"use strict";var i=n(2109),r=n(111),o=n(3157),s=n(1400),a=n(7466),l=n(5656),c=n(6135),u=n(5112),d=n(1194)("slice"),h=u("species"),p=[].slice,f=Math.max;i({target:"Array",proto:!0,forced:!d},{slice:function(e,t){var n,i,u,d=l(this),m=a(d.length),g=s(e,m),v=s(void 0===t?m:t,m);if(o(d)&&("function"!=typeof(n=d.constructor)||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[h])&&(n=void 0):n=void 0,n===Array||void 0===n))return p.call(d,g,v);for(i=new(void 0===n?Array:n)(f(v-g,0)),u=0;g<v;g++,u++)g in d&&c(i,u,d[g]);return i.length=u,i}})},5212:(e,t,n)=>{"use strict";var i=n(2109),r=n(2092).some;i({target:"Array",proto:!0,forced:!n(9341)("some")},{some:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},2707:(e,t,n)=>{"use strict";var i=n(2109),r=n(3099),o=n(7908),s=n(7466),a=n(1340),l=n(7293),c=n(4362),u=n(9341),d=n(8886),h=n(256),p=n(7392),f=n(8008),m=[],g=m.sort,v=l((function(){m.sort(void 0)})),y=l((function(){m.sort(null)})),b=u("sort"),w=!l((function(){if(p)return p<70;if(!(d&&d>3)){if(h)return!0;if(f)return f<603;var e,t,n,i,r="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)m.push({k:t+i,v:n})}for(m.sort((function(e,t){return t.v-e.v})),i=0;i<m.length;i++)t=m[i].k.charAt(0),r.charAt(r.length-1)!==t&&(r+=t);return"DGBEFHACIJK"!==r}}));i({target:"Array",proto:!0,forced:v||!y||!b||!w},{sort:function(e){void 0!==e&&r(e);var t=o(this);if(w)return void 0===e?g.call(t):g.call(t,e);var n,i,l=[],u=s(t.length);for(i=0;i<u;i++)i in t&&l.push(t[i]);for(n=(l=c(l,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:a(t)>a(n)?1:-1}}(e))).length,i=0;i<n;)t[i]=l[i++];for(;i<u;)delete t[i++];return t}})},561:(e,t,n)=>{"use strict";var i=n(2109),r=n(1400),o=n(9958),s=n(7466),a=n(7908),l=n(5417),c=n(6135),u=n(1194)("splice"),d=Math.max,h=Math.min,p=9007199254740991,f="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var n,i,u,m,g,v,y=a(this),b=s(y.length),w=r(e,b),_=arguments.length;if(0===_?n=i=0:1===_?(n=0,i=b-w):(n=_-2,i=h(d(o(t),0),b-w)),b+n-i>p)throw TypeError(f);for(u=l(y,i),m=0;m<i;m++)(g=w+m)in y&&c(u,m,y[g]);if(u.length=i,n<i){for(m=w;m<b-i;m++)v=m+n,(g=m+i)in y?y[v]=y[g]:delete y[v];for(m=b;m>b-i+n;m--)delete y[m-1]}else if(n>i)for(m=b-i;m>w;m--)v=m+n-1,(g=m+i-1)in y?y[v]=y[g]:delete y[v];for(m=0;m<n;m++)y[m+w]=arguments[m+2];return y.length=b-i+n,u}})},3710:(e,t,n)=>{var i=n(1320),r=Date.prototype,o="Invalid Date",s=r.toString,a=r.getTime;String(new Date(NaN))!=o&&i(r,"toString",(function(){var e=a.call(this);return e==e?s.call(this):o}))},8309:(e,t,n)=>{var i=n(9781),r=n(3070).f,o=Function.prototype,s=o.toString,a=/^\s*function ([^ (]*)/,l="name";i&&!(l in o)&&r(o,l,{configurable:!0,get:function(){try{return s.call(this).match(a)[1]}catch(e){return""}}})},9653:(e,t,n)=>{"use strict";var i=n(9781),r=n(7854),o=n(4705),s=n(1320),a=n(6656),l=n(4326),c=n(9587),u=n(2190),d=n(7593),h=n(7293),p=n(30),f=n(8006).f,m=n(1236).f,g=n(3070).f,v=n(3111).trim,y="Number",b=r.Number,w=b.prototype,_=l(p(w))==y,x=function(e){if(u(e))throw TypeError("Cannot convert a Symbol value to a number");var t,n,i,r,o,s,a,l,c=d(e,"number");if("string"==typeof c&&c.length>2)if(43===(t=(c=v(c)).charCodeAt(0))||45===t){if(88===(n=c.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+c}for(s=(o=c.slice(2)).length,a=0;a<s;a++)if((l=o.charCodeAt(a))<48||l>r)return NaN;return parseInt(o,i)}return+c};if(o(y,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var k,C=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof C&&(_?h((function(){w.valueOf.call(n)})):l(n)!=y)?c(new b(x(t)),n,C):x(t)},S=i?f(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),A=0;S.length>A;A++)a(b,k=S[A])&&!a(C,k)&&g(C,k,m(b,k));C.prototype=w,w.constructor=C,s(r,y,C)}},9601:(e,t,n)=>{var i=n(2109),r=n(1574);i({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},3321:(e,t,n)=>{var i=n(2109),r=n(9781);i({target:"Object",stat:!0,forced:!r,sham:!r},{defineProperties:n(6048)})},9070:(e,t,n)=>{var i=n(2109),r=n(9781);i({target:"Object",stat:!0,forced:!r,sham:!r},{defineProperty:n(3070).f})},9720:(e,t,n)=>{var i=n(2109),r=n(4699).entries;i({target:"Object",stat:!0},{entries:function(e){return r(e)}})},8559:(e,t,n)=>{var i=n(2109),r=n(408),o=n(6135);i({target:"Object",stat:!0},{fromEntries:function(e){var t={};return r(e,(function(e,n){o(t,e,n)}),{AS_ENTRIES:!0}),t}})},5003:(e,t,n)=>{var i=n(2109),r=n(7293),o=n(5656),s=n(1236).f,a=n(9781),l=r((function(){s(1)}));i({target:"Object",stat:!0,forced:!a||l,sham:!a},{getOwnPropertyDescriptor:function(e,t){return s(o(e),t)}})},9337:(e,t,n)=>{var i=n(2109),r=n(9781),o=n(3887),s=n(5656),a=n(1236),l=n(6135);i({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(e){for(var t,n,i=s(e),r=a.f,c=o(i),u={},d=0;c.length>d;)void 0!==(n=r(i,t=c[d++]))&&l(u,t,n);return u}})},7941:(e,t,n)=>{var i=n(2109),r=n(7908),o=n(1956);i({target:"Object",stat:!0,forced:n(7293)((function(){o(1)}))},{keys:function(e){return o(r(e))}})},1539:(e,t,n)=>{var i=n(1694),r=n(1320),o=n(288);i||r(Object.prototype,"toString",o,{unsafe:!0})},2479:(e,t,n)=>{var i=n(2109),r=n(4699).values;i({target:"Object",stat:!0},{values:function(e){return r(e)}})},4678:(e,t,n)=>{var i=n(2109),r=n(2814);i({global:!0,forced:parseFloat!=r},{parseFloat:r})},1058:(e,t,n)=>{var i=n(2109),r=n(3009);i({global:!0,forced:parseInt!=r},{parseInt:r})},7727:(e,t,n)=>{"use strict";var i=n(2109),r=n(1913),o=n(3366),s=n(7293),a=n(5005),l=n(6707),c=n(9478),u=n(1320);if(i({target:"Promise",proto:!0,real:!0,forced:!!o&&s((function(){o.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=l(this,a("Promise")),n="function"==typeof e;return this.then(n?function(n){return c(t,e()).then((function(){return n}))}:e,n?function(n){return c(t,e()).then((function(){throw n}))}:e)}}),!r&&"function"==typeof o){var d=a("Promise").prototype.finally;o.prototype.finally!==d&&u(o.prototype,"finally",d,{unsafe:!0})}},8674:(e,t,n)=>{"use strict";var i,r,o,s,a=n(2109),l=n(1913),c=n(7854),u=n(5005),d=n(3366),h=n(1320),p=n(2248),f=n(7674),m=n(8003),g=n(6340),v=n(111),y=n(3099),b=n(5787),w=n(2788),_=n(408),x=n(7072),k=n(6707),C=n(261).set,S=n(5948),A=n(9478),D=n(842),O=n(8523),T=n(2534),E=n(9909),$=n(4705),M=n(5112),R=n(7871),L=n(5268),P=n(7392),F=M("species"),I="Promise",j=E.get,N=E.set,V=E.getterFor(I),B=d&&d.prototype,q=d,z=B,W=c.TypeError,U=c.document,H=c.process,K=O.f,Z=K,G=!!(U&&U.createEvent&&c.dispatchEvent),Y="function"==typeof PromiseRejectionEvent,Q="unhandledrejection",J=!1,X=$(I,(function(){var e=w(q),t=e!==String(q);if(!t&&66===P)return!0;if(l&&!z.finally)return!0;if(P>=51&&/native code/.test(e))return!1;var n=new q((function(e){e(1)})),i=function(e){e((function(){}),(function(){}))};return(n.constructor={})[F]=i,!(J=n.then((function(){}))instanceof i)||!t&&R&&!Y})),ee=X||!x((function(e){q.all(e).catch((function(){}))})),te=function(e){var t;return!(!v(e)||"function"!=typeof(t=e.then))&&t},ne=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;S((function(){for(var i=e.value,r=1==e.state,o=0;n.length>o;){var s,a,l,c=n[o++],u=r?c.ok:c.fail,d=c.resolve,h=c.reject,p=c.domain;try{u?(r||(2===e.rejection&&se(e),e.rejection=1),!0===u?s=i:(p&&p.enter(),s=u(i),p&&(p.exit(),l=!0)),s===c.promise?h(W("Promise-chain cycle")):(a=te(s))?a.call(s,d,h):d(s)):h(i)}catch(e){p&&!l&&p.exit(),h(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&re(e)}))}},ie=function(e,t,n){var i,r;G?((i=U.createEvent("Event")).promise=t,i.reason=n,i.initEvent(e,!1,!0),c.dispatchEvent(i)):i={promise:t,reason:n},!Y&&(r=c["on"+e])?r(i):e===Q&&D("Unhandled promise rejection",n)},re=function(e){C.call(c,(function(){var t,n=e.facade,i=e.value;if(oe(e)&&(t=T((function(){L?H.emit("unhandledRejection",i,n):ie(Q,n,i)})),e.rejection=L||oe(e)?2:1,t.error))throw t.value}))},oe=function(e){return 1!==e.rejection&&!e.parent},se=function(e){C.call(c,(function(){var t=e.facade;L?H.emit("rejectionHandled",t):ie("rejectionhandled",t,e.value)}))},ae=function(e,t,n){return function(i){e(t,i,n)}},le=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,ne(e,!0))},ce=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw W("Promise can't be resolved itself");var i=te(t);i?S((function(){var n={done:!1};try{i.call(t,ae(ce,n,e),ae(le,n,e))}catch(t){le(n,t,e)}})):(e.value=t,e.state=1,ne(e,!1))}catch(t){le({done:!1},t,e)}}};if(X&&(z=(q=function(e){b(this,q,I),y(e),i.call(this);var t=j(this);try{e(ae(ce,t),ae(le,t))}catch(e){le(t,e)}}).prototype,(i=function(e){N(this,{type:I,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(z,{then:function(e,t){var n=V(this),i=K(k(this,q));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=L?H.domain:void 0,n.parent=!0,n.reactions.push(i),0!=n.state&&ne(n,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),r=function(){var e=new i,t=j(e);this.promise=e,this.resolve=ae(ce,t),this.reject=ae(le,t)},O.f=K=function(e){return e===q||e===o?new r(e):Z(e)},!l&&"function"==typeof d&&B!==Object.prototype)){s=B.then,J||(h(B,"then",(function(e,t){var n=this;return new q((function(e,t){s.call(n,e,t)})).then(e,t)}),{unsafe:!0}),h(B,"catch",z.catch,{unsafe:!0}));try{delete B.constructor}catch(e){}f&&f(B,z)}a({global:!0,wrap:!0,forced:X},{Promise:q}),m(q,I,!1,!0),g(I),o=u(I),a({target:I,stat:!0,forced:X},{reject:function(e){var t=K(this);return t.reject.call(void 0,e),t.promise}}),a({target:I,stat:!0,forced:l||X},{resolve:function(e){return A(l&&this===o?q:this,e)}}),a({target:I,stat:!0,forced:ee},{all:function(e){var t=this,n=K(t),i=n.resolve,r=n.reject,o=T((function(){var n=y(t.resolve),o=[],s=0,a=1;_(e,(function(e){var l=s++,c=!1;o.push(void 0),a++,n.call(t,e).then((function(e){c||(c=!0,o[l]=e,--a||i(o))}),r)})),--a||i(o)}));return o.error&&r(o.value),n.promise},race:function(e){var t=this,n=K(t),i=n.reject,r=T((function(){var r=y(t.resolve);_(e,(function(e){r.call(t,e).then(n.resolve,i)}))}));return r.error&&i(r.value),n.promise}})},4603:(e,t,n)=>{var i=n(9781),r=n(7854),o=n(4705),s=n(9587),a=n(8880),l=n(3070).f,c=n(8006).f,u=n(7850),d=n(1340),h=n(7066),p=n(2999),f=n(1320),m=n(7293),g=n(6656),v=n(9909).enforce,y=n(6340),b=n(5112),w=n(9441),_=n(8173),x=b("match"),k=r.RegExp,C=k.prototype,S=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,A=/a/g,D=/a/g,O=new k(A)!==A,T=p.UNSUPPORTED_Y;if(o("RegExp",i&&(!O||T||w||_||m((function(){return D[x]=!1,k(A)!=A||k(D)==D||"/a/i"!=k(A,"i")}))))){for(var E=function(e,t){var n,i,r,o,l,c,p=this instanceof E,f=u(e),m=void 0===t,y=[],b=e;if(!p&&f&&m&&e.constructor===E)return e;if((f||e instanceof E)&&(e=e.source,m&&(t="flags"in b?b.flags:h.call(b))),e=void 0===e?"":d(e),t=void 0===t?"":d(t),b=e,w&&"dotAll"in A&&(i=!!t&&t.indexOf("s")>-1)&&(t=t.replace(/s/g,"")),n=t,T&&"sticky"in A&&(r=!!t&&t.indexOf("y")>-1)&&(t=t.replace(/y/g,"")),_&&(e=(o=function(e){for(var t,n=e.length,i=0,r="",o=[],s={},a=!1,l=!1,c=0,u="";i<=n;i++){if("\\"===(t=e.charAt(i)))t+=e.charAt(++i);else if("]"===t)a=!1;else if(!a)switch(!0){case"["===t:a=!0;break;case"("===t:S.test(e.slice(i+1))&&(i+=2,l=!0),r+=t,c++;continue;case">"===t&&l:if(""===u||g(s,u))throw new SyntaxError("Invalid capture group name");s[u]=!0,o.push([u,c]),l=!1,u="";continue}l?u+=t:r+=t}return[r,o]}(e))[0],y=o[1]),l=s(k(e,t),p?this:C,E),(i||r||y.length)&&(c=v(l),i&&(c.dotAll=!0,c.raw=E(function(e){for(var t,n=e.length,i=0,r="",o=!1;i<=n;i++)"\\"!==(t=e.charAt(i))?o||"."!==t?("["===t?o=!0:"]"===t&&(o=!1),r+=t):r+="[\\s\\S]":r+=t+e.charAt(++i);return r}(e),n)),r&&(c.sticky=!0),y.length&&(c.groups=y)),e!==b)try{a(l,"source",""===b?"(?:)":b)}catch(e){}return l},$=function(e){e in E||l(E,e,{configurable:!0,get:function(){return k[e]},set:function(t){k[e]=t}})},M=c(k),R=0;M.length>R;)$(M[R++]);C.constructor=E,E.prototype=C,f(r,"RegExp",E)}y("RegExp")},4916:(e,t,n)=>{"use strict";var i=n(2109),r=n(2261);i({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},9714:(e,t,n)=>{"use strict";var i=n(1320),r=n(9670),o=n(1340),s=n(7293),a=n(7066),l="toString",c=RegExp.prototype,u=c.toString,d=s((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),h=u.name!=l;(d||h)&&i(RegExp.prototype,l,(function(){var e=r(this),t=o(e.source),n=e.flags;return"/"+t+"/"+o(void 0===n&&e instanceof RegExp&&!("flags"in c)?a.call(e):n)}),{unsafe:!0})},189:(e,t,n)=>{"use strict";var i=n(7710),r=n(5631);e.exports=i("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r)},2023:(e,t,n)=>{"use strict";var i=n(2109),r=n(3929),o=n(4488),s=n(1340);i({target:"String",proto:!0,forced:!n(4964)("includes")},{includes:function(e){return!!~s(o(this)).indexOf(s(r(e)),arguments.length>1?arguments[1]:void 0)}})},8783:(e,t,n)=>{"use strict";var i=n(8710).charAt,r=n(1340),o=n(9909),s=n(654),a="String Iterator",l=o.set,c=o.getterFor(a);s(String,"String",(function(e){l(this,{type:a,string:r(e),index:0})}),(function(){var e,t=c(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=i(n,r),t.index+=e.length,{value:e,done:!1})}))},9254:(e,t,n)=>{"use strict";var i=n(2109),r=n(4230);i({target:"String",proto:!0,forced:n(3429)("link")},{link:function(e){return r(this,"a","href",e)}})},4723:(e,t,n)=>{"use strict";var i=n(7007),r=n(9670),o=n(7466),s=n(1340),a=n(4488),l=n(1530),c=n(7651);i("match",(function(e,t,n){return[function(t){var n=a(this),i=null==t?void 0:t[e];return void 0!==i?i.call(t,n):new RegExp(t)[e](s(n))},function(e){var i=r(this),a=s(e),u=n(t,i,a);if(u.done)return u.value;if(!i.global)return c(i,a);var d=i.unicode;i.lastIndex=0;for(var h,p=[],f=0;null!==(h=c(i,a));){var m=s(h[0]);p[f]=m,""===m&&(i.lastIndex=l(a,o(i.lastIndex),d)),f++}return 0===f?null:p}]}))},5306:(e,t,n)=>{"use strict";var i=n(7007),r=n(7293),o=n(9670),s=n(9958),a=n(7466),l=n(1340),c=n(4488),u=n(1530),d=n(647),h=n(7651),p=n(5112)("replace"),f=Math.max,m=Math.min,g="$0"==="a".replace(/./,"$0"),v=!!/./[p]&&""===/./[p]("a","$0");i("replace",(function(e,t,n){var i=v?"$":"$0";return[function(e,n){var i=c(this),r=null==e?void 0:e[p];return void 0!==r?r.call(e,i,n):t.call(l(i),e,n)},function(e,r){var c=o(this),p=l(e);if("string"==typeof r&&-1===r.indexOf(i)&&-1===r.indexOf("$<")){var g=n(t,c,p,r);if(g.done)return g.value}var v="function"==typeof r;v||(r=l(r));var y=c.global;if(y){var b=c.unicode;c.lastIndex=0}for(var w=[];;){var _=h(c,p);if(null===_)break;if(w.push(_),!y)break;""===l(_[0])&&(c.lastIndex=u(p,a(c.lastIndex),b))}for(var x,k="",C=0,S=0;S<w.length;S++){_=w[S];for(var A=l(_[0]),D=f(m(s(_.index),p.length),0),O=[],T=1;T<_.length;T++)O.push(void 0===(x=_[T])?x:String(x));var E=_.groups;if(v){var $=[A].concat(O,D,p);void 0!==E&&$.push(E);var M=l(r.apply(void 0,$))}else M=d(A,p,D,O,E,r);D>=C&&(k+=p.slice(C,D)+M,C=D+A.length)}return k+p.slice(C)}]}),!!r((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!g||v)},4765:(e,t,n)=>{"use strict";var i=n(7007),r=n(9670),o=n(4488),s=n(1150),a=n(1340),l=n(7651);i("search",(function(e,t,n){return[function(t){var n=o(this),i=null==t?void 0:t[e];return void 0!==i?i.call(t,n):new RegExp(t)[e](a(n))},function(e){var i=r(this),o=a(e),c=n(t,i,o);if(c.done)return c.value;var u=i.lastIndex;s(u,0)||(i.lastIndex=0);var d=l(i,o);return s(i.lastIndex,u)||(i.lastIndex=u),null===d?-1:d.index}]}))},3123:(e,t,n)=>{"use strict";var i=n(7007),r=n(7850),o=n(9670),s=n(4488),a=n(6707),l=n(1530),c=n(7466),u=n(1340),d=n(7651),h=n(2261),p=n(2999),f=n(7293),m=p.UNSUPPORTED_Y,g=[].push,v=Math.min,y=4294967295;i("split",(function(e,t,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var i=u(s(this)),o=void 0===n?y:n>>>0;if(0===o)return[];if(void 0===e)return[i];if(!r(e))return t.call(i,e,o);for(var a,l,c,d=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,m=new RegExp(e.source,p+"g");(a=h.call(m,i))&&!((l=m.lastIndex)>f&&(d.push(i.slice(f,a.index)),a.length>1&&a.index<i.length&&g.apply(d,a.slice(1)),c=a[0].length,f=l,d.length>=o));)m.lastIndex===a.index&&m.lastIndex++;return f===i.length?!c&&m.test("")||d.push(""):d.push(i.slice(f)),d.length>o?d.slice(0,o):d}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var r=s(this),o=null==t?void 0:t[e];return void 0!==o?o.call(t,r,n):i.call(u(r),t,n)},function(e,r){var s=o(this),h=u(e),p=n(i,s,h,r,i!==t);if(p.done)return p.value;var f=a(s,RegExp),g=s.unicode,b=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(m?"g":"y"),w=new f(m?"^(?:"+s.source+")":s,b),_=void 0===r?y:r>>>0;if(0===_)return[];if(0===h.length)return null===d(w,h)?[h]:[];for(var x=0,k=0,C=[];k<h.length;){w.lastIndex=m?0:k;var S,A=d(w,m?h.slice(k):h);if(null===A||(S=v(c(w.lastIndex+(m?k:0)),h.length))===x)k=l(h,k,g);else{if(C.push(h.slice(x,k)),C.length===_)return C;for(var D=1;D<=A.length-1;D++)if(C.push(A[D]),C.length===_)return C;k=x=S}}return C.push(h.slice(x)),C}]}),!!f((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),m)},6755:(e,t,n)=>{"use strict";var i,r=n(2109),o=n(1236).f,s=n(7466),a=n(1340),l=n(3929),c=n(4488),u=n(4964),d=n(1913),h="".startsWith,p=Math.min,f=u("startsWith");r({target:"String",proto:!0,forced:!(!d&&!f&&(i=o(String.prototype,"startsWith"),i&&!i.writable)||f)},{startsWith:function(e){var t=a(c(this));l(e);var n=s(p(arguments.length>1?arguments[1]:void 0,t.length)),i=a(e);return h?h.call(t,i,n):t.slice(n,n+i.length)===i}})},3210:(e,t,n)=>{"use strict";var i=n(2109),r=n(3111).trim;i({target:"String",proto:!0,forced:n(6091)("trim")},{trim:function(){return r(this)}})},1817:(e,t,n)=>{"use strict";var i=n(2109),r=n(9781),o=n(7854),s=n(6656),a=n(111),l=n(3070).f,c=n(9920),u=o.Symbol;if(r&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},h=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof h?new u(e):void 0===e?u():u(e);return""===e&&(d[t]=!0),t};c(h,u);var p=h.prototype=u.prototype;p.constructor=h;var f=p.toString,m="Symbol(test)"==String(u("test")),g=/^Symbol\((.*)\)[^)]+$/;l(p,"description",{configurable:!0,get:function(){var e=a(this)?this.valueOf():this,t=f.call(e);if(s(d,e))return"";var n=m?t.slice(7,-1):t.replace(g,"$1");return""===n?void 0:n}}),i({global:!0,forced:!0},{Symbol:h})}},2165:(e,t,n)=>{n(7235)("iterator")},2526:(e,t,n)=>{"use strict";var i=n(2109),r=n(7854),o=n(5005),s=n(1913),a=n(9781),l=n(133),c=n(7293),u=n(6656),d=n(3157),h=n(111),p=n(2190),f=n(9670),m=n(7908),g=n(5656),v=n(4948),y=n(1340),b=n(9114),w=n(30),_=n(1956),x=n(8006),k=n(1156),C=n(5181),S=n(1236),A=n(3070),D=n(5296),O=n(8880),T=n(1320),E=n(2309),$=n(6200),M=n(3501),R=n(9711),L=n(5112),P=n(6061),F=n(7235),I=n(8003),j=n(9909),N=n(2092).forEach,V=$("hidden"),B="Symbol",q=L("toPrimitive"),z=j.set,W=j.getterFor(B),U=Object.prototype,H=r.Symbol,K=o("JSON","stringify"),Z=S.f,G=A.f,Y=k.f,Q=D.f,J=E("symbols"),X=E("op-symbols"),ee=E("string-to-symbol-registry"),te=E("symbol-to-string-registry"),ne=E("wks"),ie=r.QObject,re=!ie||!ie.prototype||!ie.prototype.findChild,oe=a&&c((function(){return 7!=w(G({},"a",{get:function(){return G(this,"a",{value:7}).a}})).a}))?function(e,t,n){var i=Z(U,t);i&&delete U[t],G(e,t,n),i&&e!==U&&G(U,t,i)}:G,se=function(e,t){var n=J[e]=w(H.prototype);return z(n,{type:B,tag:e,description:t}),a||(n.description=t),n},ae=function(e,t,n){e===U&&ae(X,t,n),f(e);var i=v(t);return f(n),u(J,i)?(n.enumerable?(u(e,V)&&e[V][i]&&(e[V][i]=!1),n=w(n,{enumerable:b(0,!1)})):(u(e,V)||G(e,V,b(1,{})),e[V][i]=!0),oe(e,i,n)):G(e,i,n)},le=function(e,t){f(e);var n=g(t),i=_(n).concat(he(n));return N(i,(function(t){a&&!ce.call(n,t)||ae(e,t,n[t])})),e},ce=function(e){var t=v(e),n=Q.call(this,t);return!(this===U&&u(J,t)&&!u(X,t))&&(!(n||!u(this,t)||!u(J,t)||u(this,V)&&this[V][t])||n)},ue=function(e,t){var n=g(e),i=v(t);if(n!==U||!u(J,i)||u(X,i)){var r=Z(n,i);return!r||!u(J,i)||u(n,V)&&n[V][i]||(r.enumerable=!0),r}},de=function(e){var t=Y(g(e)),n=[];return N(t,(function(e){u(J,e)||u(M,e)||n.push(e)})),n},he=function(e){var t=e===U,n=Y(t?X:g(e)),i=[];return N(n,(function(e){!u(J,e)||t&&!u(U,e)||i.push(J[e])})),i};l||(T((H=function(){if(this instanceof H)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?y(arguments[0]):void 0,t=R(e),n=function(e){this===U&&n.call(X,e),u(this,V)&&u(this[V],t)&&(this[V][t]=!1),oe(this,t,b(1,e))};return a&&re&&oe(U,t,{configurable:!0,set:n}),se(t,e)}).prototype,"toString",(function(){return W(this).tag})),T(H,"withoutSetter",(function(e){return se(R(e),e)})),D.f=ce,A.f=ae,S.f=ue,x.f=k.f=de,C.f=he,P.f=function(e){return se(L(e),e)},a&&(G(H.prototype,"description",{configurable:!0,get:function(){return W(this).description}}),s||T(U,"propertyIsEnumerable",ce,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:H}),N(_(ne),(function(e){F(e)})),i({target:B,stat:!0,forced:!l},{for:function(e){var t=y(e);if(u(ee,t))return ee[t];var n=H(t);return ee[t]=n,te[n]=t,n},keyFor:function(e){if(!p(e))throw TypeError(e+" is not a symbol");if(u(te,e))return te[e]},useSetter:function(){re=!0},useSimple:function(){re=!1}}),i({target:"Object",stat:!0,forced:!l,sham:!a},{create:function(e,t){return void 0===t?w(e):le(w(e),t)},defineProperty:ae,defineProperties:le,getOwnPropertyDescriptor:ue}),i({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:de,getOwnPropertySymbols:he}),i({target:"Object",stat:!0,forced:c((function(){C.f(1)}))},{getOwnPropertySymbols:function(e){return C.f(m(e))}}),K&&i({target:"JSON",stat:!0,forced:!l||c((function(){var e=H();return"[null]"!=K([e])||"{}"!=K({a:e})||"{}"!=K(Object(e))}))},{stringify:function(e,t,n){for(var i,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(i=t,(h(t)||void 0!==e)&&!p(e))return d(t)||(t=function(e,t){if("function"==typeof i&&(t=i.call(this,e,t)),!p(t))return t}),r[1]=t,K.apply(null,r)}}),H.prototype[q]||O(H.prototype,q,H.prototype.valueOf),I(H,B),M[V]=!0},4747:(e,t,n)=>{var i=n(7854),r=n(8324),o=n(8533),s=n(8880);for(var a in r){var l=i[a],c=l&&l.prototype;if(c&&c.forEach!==o)try{s(c,"forEach",o)}catch(e){c.forEach=o}}},3948:(e,t,n)=>{var i=n(7854),r=n(8324),o=n(6992),s=n(8880),a=n(5112),l=a("iterator"),c=a("toStringTag"),u=o.values;for(var d in r){var h=i[d],p=h&&h.prototype;if(p){if(p[l]!==u)try{s(p,l,u)}catch(e){p[l]=u}if(p[c]||s(p,c,d),r[d])for(var f in o)if(p[f]!==o[f])try{s(p,f,o[f])}catch(e){p[f]=o[f]}}}},2564:(e,t,n)=>{var i=n(2109),r=n(7854),o=n(8113),s=[].slice,a=function(e){return function(t,n){var i=arguments.length>2,r=i?s.call(arguments,2):void 0;return e(i?function(){("function"==typeof t?t:Function(t)).apply(this,r)}:t,n)}};i({global:!0,bind:!0,forced:/MSIE .\./.test(o)},{setTimeout:a(r.setTimeout),setInterval:a(r.setInterval)})},1637:(e,t,n)=>{"use strict";n(6992);var i=n(2109),r=n(5005),o=n(590),s=n(1320),a=n(2248),l=n(8003),c=n(4994),u=n(9909),d=n(5787),h=n(6656),p=n(9974),f=n(648),m=n(9670),g=n(111),v=n(1340),y=n(30),b=n(9114),w=n(8554),_=n(1246),x=n(5112),k=r("fetch"),C=r("Request"),S=C&&C.prototype,A=r("Headers"),D=x("iterator"),O="URLSearchParams",T="URLSearchParamsIterator",E=u.set,$=u.getterFor(O),M=u.getterFor(T),R=/\+/g,L=Array(4),P=function(e){return L[e-1]||(L[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},F=function(e){try{return decodeURIComponent(e)}catch(t){return e}},I=function(e){var t=e.replace(R," "),n=4;try{return decodeURIComponent(t)}catch(e){for(;n;)t=t.replace(P(n--),F);return t}},j=/[!'()~]|%20/g,N={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},V=function(e){return N[e]},B=function(e){return encodeURIComponent(e).replace(j,V)},q=function(e,t){if(t)for(var n,i,r=t.split("&"),o=0;o<r.length;)(n=r[o++]).length&&(i=n.split("="),e.push({key:I(i.shift()),value:I(i.join("="))}))},z=function(e){this.entries.length=0,q(this.entries,e)},W=function(e,t){if(e<t)throw TypeError("Not enough arguments")},U=c((function(e,t){E(this,{type:T,iterator:w($(e).entries),kind:t})}),"Iterator",(function(){var e=M(this),t=e.kind,n=e.iterator.next(),i=n.value;return n.done||(n.value="keys"===t?i.key:"values"===t?i.value:[i.key,i.value]),n})),H=function(){d(this,H,O);var e,t,n,i,r,o,s,a,l,c=arguments.length>0?arguments[0]:void 0,u=this,p=[];if(E(u,{type:O,entries:p,updateURL:function(){},updateSearchParams:z}),void 0!==c)if(g(c))if("function"==typeof(e=_(c)))for(n=(t=e.call(c)).next;!(i=n.call(t)).done;){if((s=(o=(r=w(m(i.value))).next).call(r)).done||(a=o.call(r)).done||!o.call(r).done)throw TypeError("Expected sequence with length 2");p.push({key:v(s.value),value:v(a.value)})}else for(l in c)h(c,l)&&p.push({key:l,value:v(c[l])});else q(p,"string"==typeof c?"?"===c.charAt(0)?c.slice(1):c:v(c))},K=H.prototype;if(a(K,{append:function(e,t){W(arguments.length,2);var n=$(this);n.entries.push({key:v(e),value:v(t)}),n.updateURL()},delete:function(e){W(arguments.length,1);for(var t=$(this),n=t.entries,i=v(e),r=0;r<n.length;)n[r].key===i?n.splice(r,1):r++;t.updateURL()},get:function(e){W(arguments.length,1);for(var t=$(this).entries,n=v(e),i=0;i<t.length;i++)if(t[i].key===n)return t[i].value;return null},getAll:function(e){W(arguments.length,1);for(var t=$(this).entries,n=v(e),i=[],r=0;r<t.length;r++)t[r].key===n&&i.push(t[r].value);return i},has:function(e){W(arguments.length,1);for(var t=$(this).entries,n=v(e),i=0;i<t.length;)if(t[i++].key===n)return!0;return!1},set:function(e,t){W(arguments.length,1);for(var n,i=$(this),r=i.entries,o=!1,s=v(e),a=v(t),l=0;l<r.length;l++)(n=r[l]).key===s&&(o?r.splice(l--,1):(o=!0,n.value=a));o||r.push({key:s,value:a}),i.updateURL()},sort:function(){var e,t,n,i=$(this),r=i.entries,o=r.slice();for(r.length=0,n=0;n<o.length;n++){for(e=o[n],t=0;t<n;t++)if(r[t].key>e.key){r.splice(t,0,e);break}t===n&&r.push(e)}i.updateURL()},forEach:function(e){for(var t,n=$(this).entries,i=p(e,arguments.length>1?arguments[1]:void 0,3),r=0;r<n.length;)i((t=n[r++]).value,t.key,this)},keys:function(){return new U(this,"keys")},values:function(){return new U(this,"values")},entries:function(){return new U(this,"entries")}},{enumerable:!0}),s(K,D,K.entries),s(K,"toString",(function(){for(var e,t=$(this).entries,n=[],i=0;i<t.length;)e=t[i++],n.push(B(e.key)+"="+B(e.value));return n.join("&")}),{enumerable:!0}),l(H,O),i({global:!0,forced:!o},{URLSearchParams:H}),!o&&"function"==typeof A){var Z=function(e){if(g(e)){var t,n=e.body;if(f(n)===O)return(t=e.headers?new A(e.headers):new A).has("content-type")||t.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),y(e,{body:b(0,String(n)),headers:b(0,t)})}return e};if("function"==typeof k&&i({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return k(e,arguments.length>1?Z(arguments[1]):{})}}),"function"==typeof C){var G=function(e){return d(this,G,"Request"),new C(e,arguments.length>1?Z(arguments[1]):{})};S.constructor=G,G.prototype=S,i({global:!0,forced:!0},{Request:G})}}e.exports={URLSearchParams:H,getState:$}},285:(e,t,n)=>{"use strict";n(8783);var i,r=n(2109),o=n(9781),s=n(590),a=n(7854),l=n(6048),c=n(1320),u=n(5787),d=n(6656),h=n(1574),p=n(8457),f=n(8710).codeAt,m=n(3197),g=n(1340),v=n(8003),y=n(1637),b=n(9909),w=a.URL,_=y.URLSearchParams,x=y.getState,k=b.set,C=b.getterFor("URL"),S=Math.floor,A=Math.pow,D="Invalid scheme",O="Invalid host",T="Invalid port",E=/[A-Za-z]/,$=/[\d+-.A-Za-z]/,M=/\d/,R=/^0x/i,L=/^[0-7]+$/,P=/^\d+$/,F=/^[\dA-Fa-f]+$/,I=/[\0\t\n\r #%/:<>?@[\\\]^|]/,j=/[\0\t\n\r #/:<>?@[\\\]^|]/,N=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,V=/[\t\n\r]/g,B=function(e,t){var n,i,r;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return O;if(!(n=z(t.slice(1,-1))))return O;e.host=n}else if(Q(e)){if(t=m(t),I.test(t))return O;if(null===(n=q(t)))return O;e.host=n}else{if(j.test(t))return O;for(n="",i=p(t),r=0;r<i.length;r++)n+=G(i[r],U);e.host=n}},q=function(e){var t,n,i,r,o,s,a,l=e.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),(t=l.length)>4)return e;for(n=[],i=0;i<t;i++){if(""==(r=l[i]))return e;if(o=10,r.length>1&&"0"==r.charAt(0)&&(o=R.test(r)?16:8,r=r.slice(8==o?1:2)),""===r)s=0;else{if(!(10==o?P:8==o?L:F).test(r))return e;s=parseInt(r,o)}n.push(s)}for(i=0;i<t;i++)if(s=n[i],i==t-1){if(s>=A(256,5-t))return null}else if(s>255)return null;for(a=n.pop(),i=0;i<n.length;i++)a+=n[i]*A(256,3-i);return a},z=function(e){var t,n,i,r,o,s,a,l=[0,0,0,0,0,0,0,0],c=0,u=null,d=0,h=function(){return e.charAt(d)};if(":"==h()){if(":"!=e.charAt(1))return;d+=2,u=++c}for(;h();){if(8==c)return;if(":"!=h()){for(t=n=0;n<4&&F.test(h());)t=16*t+parseInt(h(),16),d++,n++;if("."==h()){if(0==n)return;if(d-=n,c>6)return;for(i=0;h();){if(r=null,i>0){if(!("."==h()&&i<4))return;d++}if(!M.test(h()))return;for(;M.test(h());){if(o=parseInt(h(),10),null===r)r=o;else{if(0==r)return;r=10*r+o}if(r>255)return;d++}l[c]=256*l[c]+r,2!=++i&&4!=i||c++}if(4!=i)return;break}if(":"==h()){if(d++,!h())return}else if(h())return;l[c++]=t}else{if(null!==u)return;d++,u=++c}}if(null!==u)for(s=c-u,c=7;0!=c&&s>0;)a=l[c],l[c--]=l[u+s-1],l[u+--s]=a;else if(8!=c)return;return l},W=function(e){var t,n,i,r;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=S(e/256);return t.join(".")}if("object"==typeof e){for(t="",i=function(e){for(var t=null,n=1,i=null,r=0,o=0;o<8;o++)0!==e[o]?(r>n&&(t=i,n=r),i=null,r=0):(null===i&&(i=o),++r);return r>n&&(t=i,n=r),t}(e),n=0;n<8;n++)r&&0===e[n]||(r&&(r=!1),i===n?(t+=n?":":"::",r=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},U={},H=h({},U,{" ":1,'"':1,"<":1,">":1,"`":1}),K=h({},H,{"#":1,"?":1,"{":1,"}":1}),Z=h({},K,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),G=function(e,t){var n=f(e,0);return n>32&&n<127&&!d(t,e)?e:encodeURIComponent(e)},Y={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Q=function(e){return d(Y,e.scheme)},J=function(e){return""!=e.username||""!=e.password},X=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},ee=function(e,t){var n;return 2==e.length&&E.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},te=function(e){var t;return e.length>1&&ee(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},ne=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&ee(t[0],!0)||t.pop()},ie=function(e){return"."===e||"%2e"===e.toLowerCase()},re={},oe={},se={},ae={},le={},ce={},ue={},de={},he={},pe={},fe={},me={},ge={},ve={},ye={},be={},we={},_e={},xe={},ke={},Ce={},Se=function(e,t,n,r){var o,s,a,l,c,u=n||re,h=0,f="",m=!1,g=!1,v=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(N,"")),t=t.replace(V,""),o=p(t);h<=o.length;){switch(s=o[h],u){case re:if(!s||!E.test(s)){if(n)return D;u=se;continue}f+=s.toLowerCase(),u=oe;break;case oe:if(s&&($.test(s)||"+"==s||"-"==s||"."==s))f+=s.toLowerCase();else{if(":"!=s){if(n)return D;f="",u=se,h=0;continue}if(n&&(Q(e)!=d(Y,f)||"file"==f&&(J(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=f,n)return void(Q(e)&&Y[e.scheme]==e.port&&(e.port=null));f="","file"==e.scheme?u=ve:Q(e)&&r&&r.scheme==e.scheme?u=ae:Q(e)?u=de:"/"==o[h+1]?(u=le,h++):(e.cannotBeABaseURL=!0,e.path.push(""),u=xe)}break;case se:if(!r||r.cannotBeABaseURL&&"#"!=s)return D;if(r.cannotBeABaseURL&&"#"==s){e.scheme=r.scheme,e.path=r.path.slice(),e.query=r.query,e.fragment="",e.cannotBeABaseURL=!0,u=Ce;break}u="file"==r.scheme?ve:ce;continue;case ae:if("/"!=s||"/"!=o[h+1]){u=ce;continue}u=he,h++;break;case le:if("/"==s){u=pe;break}u=_e;continue;case ce:if(e.scheme=r.scheme,s==i)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query;else if("/"==s||"\\"==s&&Q(e))u=ue;else if("?"==s)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query="",u=ke;else{if("#"!=s){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.path.pop(),u=_e;continue}e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query,e.fragment="",u=Ce}break;case ue:if(!Q(e)||"/"!=s&&"\\"!=s){if("/"!=s){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,u=_e;continue}u=pe}else u=he;break;case de:if(u=he,"/"!=s||"/"!=f.charAt(h+1))continue;h++;break;case he:if("/"!=s&&"\\"!=s){u=pe;continue}break;case pe:if("@"==s){m&&(f="%40"+f),m=!0,a=p(f);for(var y=0;y<a.length;y++){var b=a[y];if(":"!=b||v){var w=G(b,Z);v?e.password+=w:e.username+=w}else v=!0}f=""}else if(s==i||"/"==s||"?"==s||"#"==s||"\\"==s&&Q(e)){if(m&&""==f)return"Invalid authority";h-=p(f).length+1,f="",u=fe}else f+=s;break;case fe:case me:if(n&&"file"==e.scheme){u=be;continue}if(":"!=s||g){if(s==i||"/"==s||"?"==s||"#"==s||"\\"==s&&Q(e)){if(Q(e)&&""==f)return O;if(n&&""==f&&(J(e)||null!==e.port))return;if(l=B(e,f))return l;if(f="",u=we,n)return;continue}"["==s?g=!0:"]"==s&&(g=!1),f+=s}else{if(""==f)return O;if(l=B(e,f))return l;if(f="",u=ge,n==me)return}break;case ge:if(!M.test(s)){if(s==i||"/"==s||"?"==s||"#"==s||"\\"==s&&Q(e)||n){if(""!=f){var _=parseInt(f,10);if(_>65535)return T;e.port=Q(e)&&_===Y[e.scheme]?null:_,f=""}if(n)return;u=we;continue}return T}f+=s;break;case ve:if(e.scheme="file","/"==s||"\\"==s)u=ye;else{if(!r||"file"!=r.scheme){u=_e;continue}if(s==i)e.host=r.host,e.path=r.path.slice(),e.query=r.query;else if("?"==s)e.host=r.host,e.path=r.path.slice(),e.query="",u=ke;else{if("#"!=s){te(o.slice(h).join(""))||(e.host=r.host,e.path=r.path.slice(),ne(e)),u=_e;continue}e.host=r.host,e.path=r.path.slice(),e.query=r.query,e.fragment="",u=Ce}}break;case ye:if("/"==s||"\\"==s){u=be;break}r&&"file"==r.scheme&&!te(o.slice(h).join(""))&&(ee(r.path[0],!0)?e.path.push(r.path[0]):e.host=r.host),u=_e;continue;case be:if(s==i||"/"==s||"\\"==s||"?"==s||"#"==s){if(!n&&ee(f))u=_e;else if(""==f){if(e.host="",n)return;u=we}else{if(l=B(e,f))return l;if("localhost"==e.host&&(e.host=""),n)return;f="",u=we}continue}f+=s;break;case we:if(Q(e)){if(u=_e,"/"!=s&&"\\"!=s)continue}else if(n||"?"!=s)if(n||"#"!=s){if(s!=i&&(u=_e,"/"!=s))continue}else e.fragment="",u=Ce;else e.query="",u=ke;break;case _e:if(s==i||"/"==s||"\\"==s&&Q(e)||!n&&("?"==s||"#"==s)){if(".."===(c=(c=f).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(ne(e),"/"==s||"\\"==s&&Q(e)||e.path.push("")):ie(f)?"/"==s||"\\"==s&&Q(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&ee(f)&&(e.host&&(e.host=""),f=f.charAt(0)+":"),e.path.push(f)),f="","file"==e.scheme&&(s==i||"?"==s||"#"==s))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==s?(e.query="",u=ke):"#"==s&&(e.fragment="",u=Ce)}else f+=G(s,K);break;case xe:"?"==s?(e.query="",u=ke):"#"==s?(e.fragment="",u=Ce):s!=i&&(e.path[0]+=G(s,U));break;case ke:n||"#"!=s?s!=i&&("'"==s&&Q(e)?e.query+="%27":e.query+="#"==s?"%23":G(s,U)):(e.fragment="",u=Ce);break;case Ce:s!=i&&(e.fragment+=G(s,H))}h++}},Ae=function(e){var t,n,i=u(this,Ae,"URL"),r=arguments.length>1?arguments[1]:void 0,s=g(e),a=k(i,{type:"URL"});if(void 0!==r)if(r instanceof Ae)t=C(r);else if(n=Se(t={},g(r)))throw TypeError(n);if(n=Se(a,s,null,t))throw TypeError(n);var l=a.searchParams=new _,c=x(l);c.updateSearchParams(a.query),c.updateURL=function(){a.query=String(l)||null},o||(i.href=Oe.call(i),i.origin=Te.call(i),i.protocol=Ee.call(i),i.username=$e.call(i),i.password=Me.call(i),i.host=Re.call(i),i.hostname=Le.call(i),i.port=Pe.call(i),i.pathname=Fe.call(i),i.search=Ie.call(i),i.searchParams=je.call(i),i.hash=Ne.call(i))},De=Ae.prototype,Oe=function(){var e=C(this),t=e.scheme,n=e.username,i=e.password,r=e.host,o=e.port,s=e.path,a=e.query,l=e.fragment,c=t+":";return null!==r?(c+="//",J(e)&&(c+=n+(i?":"+i:"")+"@"),c+=W(r),null!==o&&(c+=":"+o)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?s[0]:s.length?"/"+s.join("/"):"",null!==a&&(c+="?"+a),null!==l&&(c+="#"+l),c},Te=function(){var e=C(this),t=e.scheme,n=e.port;if("blob"==t)try{return new Ae(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&Q(e)?t+"://"+W(e.host)+(null!==n?":"+n:""):"null"},Ee=function(){return C(this).scheme+":"},$e=function(){return C(this).username},Me=function(){return C(this).password},Re=function(){var e=C(this),t=e.host,n=e.port;return null===t?"":null===n?W(t):W(t)+":"+n},Le=function(){var e=C(this).host;return null===e?"":W(e)},Pe=function(){var e=C(this).port;return null===e?"":String(e)},Fe=function(){var e=C(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Ie=function(){var e=C(this).query;return e?"?"+e:""},je=function(){return C(this).searchParams},Ne=function(){var e=C(this).fragment;return e?"#"+e:""},Ve=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(o&&l(De,{href:Ve(Oe,(function(e){var t=C(this),n=g(e),i=Se(t,n);if(i)throw TypeError(i);x(t.searchParams).updateSearchParams(t.query)})),origin:Ve(Te),protocol:Ve(Ee,(function(e){var t=C(this);Se(t,g(e)+":",re)})),username:Ve($e,(function(e){var t=C(this),n=p(g(e));if(!X(t)){t.username="";for(var i=0;i<n.length;i++)t.username+=G(n[i],Z)}})),password:Ve(Me,(function(e){var t=C(this),n=p(g(e));if(!X(t)){t.password="";for(var i=0;i<n.length;i++)t.password+=G(n[i],Z)}})),host:Ve(Re,(function(e){var t=C(this);t.cannotBeABaseURL||Se(t,g(e),fe)})),hostname:Ve(Le,(function(e){var t=C(this);t.cannotBeABaseURL||Se(t,g(e),me)})),port:Ve(Pe,(function(e){var t=C(this);X(t)||(""==(e=g(e))?t.port=null:Se(t,e,ge))})),pathname:Ve(Fe,(function(e){var t=C(this);t.cannotBeABaseURL||(t.path=[],Se(t,g(e),we))})),search:Ve(Ie,(function(e){var t=C(this);""==(e=g(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Se(t,e,ke)),x(t.searchParams).updateSearchParams(t.query)})),searchParams:Ve(je),hash:Ve(Ne,(function(e){var t=C(this);""!=(e=g(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Se(t,e,Ce)):t.fragment=null}))}),c(De,"toJSON",(function(){return Oe.call(this)}),{enumerable:!0}),c(De,"toString",(function(){return Oe.call(this)}),{enumerable:!0}),w){var Be=w.createObjectURL,qe=w.revokeObjectURL;Be&&c(Ae,"createObjectURL",(function(e){return Be.apply(w,arguments)})),qe&&c(Ae,"revokeObjectURL",(function(e){return qe.apply(w,arguments)}))}v(Ae,"URL"),r({global:!0,forced:!s,sham:!o},{URL:Ae})},9996:e=>{"use strict";var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(e,t){return!1!==t.clone&&t.isMergeableObject(e)?a((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function r(e,t,n){return e.concat(t).map((function(e){return i(e,n)}))}function o(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function s(e,t){try{return t in e}catch(e){return!1}}function a(e,n,l){(l=l||{}).arrayMerge=l.arrayMerge||r,l.isMergeableObject=l.isMergeableObject||t,l.cloneUnlessOtherwiseSpecified=i;var c=Array.isArray(n);return c===Array.isArray(e)?c?l.arrayMerge(e,n,l):function(e,t,n){var r={};return n.isMergeableObject(e)&&o(e).forEach((function(t){r[t]=i(e[t],n)})),o(t).forEach((function(o){(function(e,t){return s(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(s(e,o)&&n.isMergeableObject(t[o])?r[o]=function(e,t){if(!t.customMerge)return a;var n=t.customMerge(e);return"function"==typeof n?n:a}(o,n)(e[o],t[o],n):r[o]=i(t[o],n))})),r}(e,n,l):i(n,l)}a.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return a(e,n,t)}),{})};var l=a;e.exports=l},7856:function(e){e.exports=function(){"use strict";var e=Object.hasOwnProperty,t=Object.setPrototypeOf,n=Object.isFrozen,i=Object.getPrototypeOf,r=Object.getOwnPropertyDescriptor,o=Object.freeze,s=Object.seal,a=Object.create,l="undefined"!=typeof Reflect&&Reflect,c=l.apply,u=l.construct;c||(c=function(e,t,n){return e.apply(t,n)}),o||(o=function(e){return e}),s||(s=function(e){return e}),u||(u=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))))});var d,h=x(Array.prototype.forEach),p=x(Array.prototype.pop),f=x(Array.prototype.push),m=x(String.prototype.toLowerCase),g=x(String.prototype.match),v=x(String.prototype.replace),y=x(String.prototype.indexOf),b=x(String.prototype.trim),w=x(RegExp.prototype.test),_=(d=TypeError,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return u(d,t)});function x(e){return function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return c(e,t,i)}}function k(e,i){t&&t(e,null);for(var r=i.length;r--;){var o=i[r];if("string"==typeof o){var s=m(o);s!==o&&(n(i)||(i[r]=s),o=s)}e[o]=!0}return e}function C(t){var n=a(null),i=void 0;for(i in t)c(e,t,[i])&&(n[i]=t[i]);return n}function S(e,t){for(;null!==e;){var n=r(e,t);if(n){if(n.get)return x(n.get);if("function"==typeof n.value)return x(n.value)}e=i(e)}return function(e){return console.warn("fallback value for",e),null}}var A=o(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),D=o(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),O=o(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),T=o(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),E=o(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),$=o(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),M=o(["#text"]),R=o(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),L=o(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),P=o(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),F=o(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),I=s(/\{\{[\s\S]*|[\s\S]*\}\}/gm),j=s(/<%[\s\S]*|[\s\S]*%>/gm),N=s(/^data-[\-\w.\u00B7-\uFFFF]/),V=s(/^aria-[\-\w]+$/),B=s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),q=s(/^(?:\w+script|data):/i),z=s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function U(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var H=function(){return"undefined"==typeof window?null:window},K=function(e,t){if("object"!==(void 0===e?"undefined":W(e))||"function"!=typeof e.createPolicy)return null;var n=null,i="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(i)&&(n=t.currentScript.getAttribute(i));var r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H(),n=function(t){return e(t)};if(n.version="2.3.0",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var i=t.document,r=t.document,s=t.DocumentFragment,a=t.HTMLTemplateElement,l=t.Node,c=t.Element,u=t.NodeFilter,d=t.NamedNodeMap,x=void 0===d?t.NamedNodeMap||t.MozNamedAttrMap:d,Z=t.Text,G=t.Comment,Y=t.DOMParser,Q=t.trustedTypes,J=c.prototype,X=S(J,"cloneNode"),ee=S(J,"nextSibling"),te=S(J,"childNodes"),ne=S(J,"parentNode");if("function"==typeof a){var ie=r.createElement("template");ie.content&&ie.content.ownerDocument&&(r=ie.content.ownerDocument)}var re=K(Q,i),oe=re&&Ie?re.createHTML(""):"",se=r,ae=se.implementation,le=se.createNodeIterator,ce=se.createDocumentFragment,ue=se.getElementsByTagName,de=i.importNode,he={};try{he=C(r).documentMode?r.documentMode:{}}catch(e){}var pe={};n.isSupported="function"==typeof ne&&ae&&void 0!==ae.createHTMLDocument&&9!==he;var fe=I,me=j,ge=N,ve=V,ye=q,be=z,we=B,_e=null,xe=k({},[].concat(U(A),U(D),U(O),U(E),U(M))),ke=null,Ce=k({},[].concat(U(R),U(L),U(P),U(F))),Se=null,Ae=null,De=!0,Oe=!0,Te=!1,Ee=!1,$e=!1,Me=!1,Re=!1,Le=!1,Pe=!1,Fe=!0,Ie=!1,je=!0,Ne=!0,Ve=!1,Be={},qe=k({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ze=null,We=k({},["audio","video","img","source","image","track"]),Ue=null,He=k({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),Ke="http://www.w3.org/1998/Math/MathML",Ze="http://www.w3.org/2000/svg",Ge="http://www.w3.org/1999/xhtml",Ye=Ge,Qe=!1,Je=null,Xe=r.createElement("form"),et=function(e){Je&&Je===e||(e&&"object"===(void 0===e?"undefined":W(e))||(e={}),e=C(e),_e="ALLOWED_TAGS"in e?k({},e.ALLOWED_TAGS):xe,ke="ALLOWED_ATTR"in e?k({},e.ALLOWED_ATTR):Ce,Ue="ADD_URI_SAFE_ATTR"in e?k(C(He),e.ADD_URI_SAFE_ATTR):He,ze="ADD_DATA_URI_TAGS"in e?k(C(We),e.ADD_DATA_URI_TAGS):We,Se="FORBID_TAGS"in e?k({},e.FORBID_TAGS):{},Ae="FORBID_ATTR"in e?k({},e.FORBID_ATTR):{},Be="USE_PROFILES"in e&&e.USE_PROFILES,De=!1!==e.ALLOW_ARIA_ATTR,Oe=!1!==e.ALLOW_DATA_ATTR,Te=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Ee=e.SAFE_FOR_TEMPLATES||!1,$e=e.WHOLE_DOCUMENT||!1,Le=e.RETURN_DOM||!1,Pe=e.RETURN_DOM_FRAGMENT||!1,Fe=!1!==e.RETURN_DOM_IMPORT,Ie=e.RETURN_TRUSTED_TYPE||!1,Re=e.FORCE_BODY||!1,je=!1!==e.SANITIZE_DOM,Ne=!1!==e.KEEP_CONTENT,Ve=e.IN_PLACE||!1,we=e.ALLOWED_URI_REGEXP||we,Ye=e.NAMESPACE||Ge,Ee&&(Oe=!1),Pe&&(Le=!0),Be&&(_e=k({},[].concat(U(M))),ke=[],!0===Be.html&&(k(_e,A),k(ke,R)),!0===Be.svg&&(k(_e,D),k(ke,L),k(ke,F)),!0===Be.svgFilters&&(k(_e,O),k(ke,L),k(ke,F)),!0===Be.mathMl&&(k(_e,E),k(ke,P),k(ke,F))),e.ADD_TAGS&&(_e===xe&&(_e=C(_e)),k(_e,e.ADD_TAGS)),e.ADD_ATTR&&(ke===Ce&&(ke=C(ke)),k(ke,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&k(Ue,e.ADD_URI_SAFE_ATTR),Ne&&(_e["#text"]=!0),$e&&k(_e,["html","head","body"]),_e.table&&(k(_e,["tbody"]),delete Se.tbody),o&&o(e),Je=e)},tt=k({},["mi","mo","mn","ms","mtext"]),nt=k({},["foreignobject","desc","title","annotation-xml"]),it=k({},D);k(it,O),k(it,T);var rt=k({},E);k(rt,$);var ot=function(e){var t=ne(e);t&&t.tagName||(t={namespaceURI:Ge,tagName:"template"});var n=m(e.tagName),i=m(t.tagName);if(e.namespaceURI===Ze)return t.namespaceURI===Ge?"svg"===n:t.namespaceURI===Ke?"svg"===n&&("annotation-xml"===i||tt[i]):Boolean(it[n]);if(e.namespaceURI===Ke)return t.namespaceURI===Ge?"math"===n:t.namespaceURI===Ze?"math"===n&&nt[i]:Boolean(rt[n]);if(e.namespaceURI===Ge){if(t.namespaceURI===Ze&&!nt[i])return!1;if(t.namespaceURI===Ke&&!tt[i])return!1;var r=k({},["title","style","font","a","script"]);return!rt[n]&&(r[n]||!it[n])}return!1},st=function(e){f(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=oe}catch(t){e.remove()}}},at=function(e,t){try{f(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){f(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!ke[e])if(Le||Pe)try{st(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},lt=function(e){var t=void 0,n=void 0;if(Re)e="<remove></remove>"+e;else{var i=g(e,/^[\r\n\t ]+/);n=i&&i[0]}var o=re?re.createHTML(e):e;if(Ye===Ge)try{t=(new Y).parseFromString(o,"text/html")}catch(e){}if(!t||!t.documentElement){t=ae.createDocument(Ye,"template",null);try{t.documentElement.innerHTML=Qe?"":o}catch(e){}}var s=t.body||t.documentElement;return e&&n&&s.insertBefore(r.createTextNode(n),s.childNodes[0]||null),Ye===Ge?ue.call(t,$e?"html":"body")[0]:$e?t.documentElement:s},ct=function(e){return le.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,null,!1)},ut=function(e){return!(e instanceof Z||e instanceof G||"string"==typeof e.nodeName&&"string"==typeof e.textContent&&"function"==typeof e.removeChild&&e.attributes instanceof x&&"function"==typeof e.removeAttribute&&"function"==typeof e.setAttribute&&"string"==typeof e.namespaceURI&&"function"==typeof e.insertBefore)},dt=function(e){return"object"===(void 0===l?"undefined":W(l))?e instanceof l:e&&"object"===(void 0===e?"undefined":W(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},ht=function(e,t,i){pe[e]&&h(pe[e],(function(e){e.call(n,t,i,Je)}))},pt=function(e){var t=void 0;if(ht("beforeSanitizeElements",e,null),ut(e))return st(e),!0;if(g(e.nodeName,/[\u0080-\uFFFF]/))return st(e),!0;var i=m(e.nodeName);if(ht("uponSanitizeElement",e,{tagName:i,allowedTags:_e}),!dt(e.firstElementChild)&&(!dt(e.content)||!dt(e.content.firstElementChild))&&w(/<[/\w]/g,e.innerHTML)&&w(/<[/\w]/g,e.textContent))return st(e),!0;if(!_e[i]||Se[i]){if(Ne&&!qe[i]){var r=ne(e)||e.parentNode,o=te(e)||e.childNodes;if(o&&r)for(var s=o.length-1;s>=0;--s)r.insertBefore(X(o[s],!0),ee(e))}return st(e),!0}return e instanceof c&&!ot(e)?(st(e),!0):"noscript"!==i&&"noembed"!==i||!w(/<\/no(script|embed)/i,e.innerHTML)?(Ee&&3===e.nodeType&&(t=e.textContent,t=v(t,fe," "),t=v(t,me," "),e.textContent!==t&&(f(n.removed,{element:e.cloneNode()}),e.textContent=t)),ht("afterSanitizeElements",e,null),!1):(st(e),!0)},ft=function(e,t,n){if(je&&("id"===t||"name"===t)&&(n in r||n in Xe))return!1;if(Oe&&!Ae[t]&&w(ge,t));else if(De&&w(ve,t));else{if(!ke[t]||Ae[t])return!1;if(Ue[t]);else if(w(we,v(n,be,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==y(n,"data:")||!ze[e])if(Te&&!w(ye,v(n,be,"")));else if(n)return!1}return!0},mt=function(e){var t=void 0,i=void 0,r=void 0,o=void 0;ht("beforeSanitizeAttributes",e,null);var s=e.attributes;if(s){var a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ke};for(o=s.length;o--;){var l=t=s[o],c=l.name,u=l.namespaceURI;if(i=b(t.value),r=m(c),a.attrName=r,a.attrValue=i,a.keepAttr=!0,a.forceKeepAttr=void 0,ht("uponSanitizeAttribute",e,a),i=a.attrValue,!a.forceKeepAttr&&(at(c,e),a.keepAttr))if(w(/\/>/i,i))at(c,e);else{Ee&&(i=v(i,fe," "),i=v(i,me," "));var d=e.nodeName.toLowerCase();if(ft(d,r,i))try{u?e.setAttributeNS(u,c,i):e.setAttribute(c,i),p(n.removed)}catch(e){}}}ht("afterSanitizeAttributes",e,null)}},gt=function e(t){var n=void 0,i=ct(t);for(ht("beforeSanitizeShadowDOM",t,null);n=i.nextNode();)ht("uponSanitizeShadowNode",n,null),pt(n)||(n.content instanceof s&&e(n.content),mt(n));ht("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e,r){var o=void 0,a=void 0,c=void 0,u=void 0,d=void 0;if((Qe=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!dt(e)){if("function"!=typeof e.toString)throw _("toString is not a function");if("string"!=typeof(e=e.toString()))throw _("dirty is not a string, aborting")}if(!n.isSupported){if("object"===W(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(dt(e))return t.toStaticHTML(e.outerHTML)}return e}if(Me||et(r),n.removed=[],"string"==typeof e&&(Ve=!1),Ve);else if(e instanceof l)1===(a=(o=lt("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===a.nodeName||"HTML"===a.nodeName?o=a:o.appendChild(a);else{if(!Le&&!Ee&&!$e&&-1===e.indexOf("<"))return re&&Ie?re.createHTML(e):e;if(!(o=lt(e)))return Le?null:oe}o&&Re&&st(o.firstChild);for(var h=ct(Ve?e:o);c=h.nextNode();)3===c.nodeType&&c===u||pt(c)||(c.content instanceof s&&gt(c.content),mt(c),u=c);if(u=null,Ve)return e;if(Le){if(Pe)for(d=ce.call(o.ownerDocument);o.firstChild;)d.appendChild(o.firstChild);else d=o;return Fe&&(d=de.call(i,d,!0)),d}var p=$e?o.outerHTML:o.innerHTML;return Ee&&(p=v(p,fe," "),p=v(p,me," ")),re&&Ie?re.createHTML(p):p},n.setConfig=function(e){et(e),Me=!0},n.clearConfig=function(){Je=null,Me=!1},n.isValidAttribute=function(e,t,n){Je||et({});var i=m(e),r=m(t);return ft(i,r,n)},n.addHook=function(e,t){"function"==typeof t&&(pe[e]=pe[e]||[],f(pe[e],t))},n.removeHook=function(e){pe[e]&&p(pe[e])},n.removeHooks=function(e){pe[e]&&(pe[e]=[])},n.removeAllHooks=function(){pe={}},n}()}()},7648:e=>{"use strict";var t="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,i=Object.prototype.toString,r="[object Function]";e.exports=function(e){var o=this;if("function"!=typeof o||i.call(o)!==r)throw new TypeError(t+o);for(var s,a=n.call(arguments,1),l=function(){if(this instanceof s){var t=o.apply(this,a.concat(n.call(arguments)));return Object(t)===t?t:this}return o.apply(e,a.concat(n.call(arguments)))},c=Math.max(0,o.length-a.length),u=[],d=0;d<c;d++)u.push("$"+d);if(s=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(l),o.prototype){var h=function(){};h.prototype=o.prototype,s.prototype=new h,h.prototype=null}return s}},8612:(e,t,n)=>{"use strict";var i=n(7648);e.exports=Function.prototype.bind||i},210:(e,t,n)=>{"use strict";var i,r=SyntaxError,o=Function,s=TypeError,a=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var c=function(){throw new s},u=l?function(){try{return c}catch(e){try{return l(arguments,"callee").get}catch(e){return c}}}():c,d=n(1405)(),h=Object.getPrototypeOf||function(e){return e.__proto__},p={},f="undefined"==typeof Uint8Array?i:h(Uint8Array),m={"%AggregateError%":"undefined"==typeof AggregateError?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer,"%ArrayIteratorPrototype%":d?h([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"==typeof Atomics?i:Atomics,"%BigInt%":"undefined"==typeof BigInt?i:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?i:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?i:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?i:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":p,"%Int8Array%":"undefined"==typeof Int8Array?i:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?i:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d?h(h([][Symbol.iterator]())):i,"%JSON%":"object"==typeof JSON?JSON:i,"%Map%":"undefined"==typeof Map?i:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&d?h((new Map)[Symbol.iterator]()):i,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?i:Promise,"%Proxy%":"undefined"==typeof Proxy?i:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?i:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?i:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&d?h((new Set)[Symbol.iterator]()):i,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d?h(""[Symbol.iterator]()):i,"%Symbol%":d?Symbol:i,"%SyntaxError%":r,"%ThrowTypeError%":u,"%TypedArray%":f,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?i:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?i:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?i:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?i:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?i:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?i:WeakSet},g=function e(t){var n;if("%AsyncFunction%"===t)n=a("async function () {}");else if("%GeneratorFunction%"===t)n=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=a("async function* () {}");else if("%AsyncGenerator%"===t){var i=e("%AsyncGeneratorFunction%");i&&(n=i.prototype)}else if("%AsyncIteratorPrototype%"===t){var r=e("%AsyncGenerator%");r&&(n=h(r.prototype))}return m[t]=n,n},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},y=n(8612),b=n(7642),w=y.call(Function.call,Array.prototype.concat),_=y.call(Function.apply,Array.prototype.splice),x=y.call(Function.call,String.prototype.replace),k=y.call(Function.call,String.prototype.slice),C=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,S=/\\(\\)?/g,A=function(e){var t=k(e,0,1),n=k(e,-1);if("%"===t&&"%"!==n)throw new r("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new r("invalid intrinsic syntax, expected opening `%`");var i=[];return x(e,C,(function(e,t,n,r){i[i.length]=n?x(r,S,"$1"):t||e})),i},D=function(e,t){var n,i=e;if(b(v,i)&&(i="%"+(n=v[i])[0]+"%"),b(m,i)){var o=m[i];if(o===p&&(o=g(i)),void 0===o&&!t)throw new s("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:o}}throw new r("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new s('"allowMissing" argument must be a boolean');var n=A(e),i=n.length>0?n[0]:"",o=D("%"+i+"%",t),a=o.name,c=o.value,u=!1,d=o.alias;d&&(i=d[0],_(n,w([0,1],d)));for(var h=1,p=!0;h<n.length;h+=1){var f=n[h],g=k(f,0,1),v=k(f,-1);if(('"'===g||"'"===g||"`"===g||'"'===v||"'"===v||"`"===v)&&g!==v)throw new r("property names with quotes must have matching quotes");if("constructor"!==f&&p||(u=!0),b(m,a="%"+(i+="."+f)+"%"))c=m[a];else if(null!=c){if(!(f in c)){if(!t)throw new s("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&h+1>=n.length){var y=l(c,f);c=(p=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:c[f]}else p=b(c,f),c=c[f];p&&!u&&(m[a]=c)}}return c}},1405:(e,t,n)=>{"use strict";var i="undefined"!=typeof Symbol&&Symbol,r=n(5419);e.exports=function(){return"function"==typeof i&&"function"==typeof Symbol&&"symbol"==typeof i("foo")&&"symbol"==typeof Symbol("bar")&&r()}},5419:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var r=Object.getOwnPropertyDescriptor(e,t);if(42!==r.value||!0!==r.enumerable)return!1}return!0}},7642:(e,t,n)=>{"use strict";var i=n(8612);e.exports=i.call(Function.call,Object.prototype.hasOwnProperty)},8688:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(5423);function r(e){return e.split("").map((e=>`(?:${e.toUpperCase()}|${e.toLowerCase()})`)).join("")}function o(e,t){for(let n=e.length-1;n>=0;n--)e[n]===t&&Array.prototype.splice.call(e,n,1)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const a={};class l{static getInstance(e){return a[e]=a[e]||new l,a[e]}constructor(){this.plurals=[],this.singulars=[],this.uncountables=[],this.humans=[],this.acronyms={},this.acronymRegex=/(?=a)b/}acronym(e){this.acronyms[e.toLowerCase()]=e;const t=[];for(const e in this.acronyms)s(this.acronyms,e)&&t.push(this.acronyms[e]);this.acronymRegex=new RegExp(t.join("|"))}plural(e,t){"string"==typeof e&&o(this.uncountables,e),o(this.uncountables,t),this.plurals.unshift([e,t])}singular(e,t){"string"==typeof e&&o(this.uncountables,e),o(this.uncountables,t),this.singulars.unshift([e,t])}irregular(e,t){o(this.uncountables,e),o(this.uncountables,t);const n=e[0],i=e.substr(1),s=t[0],a=t.substr(1);if(n.toUpperCase()===s.toUpperCase())this.plural(new RegExp("("+n+")"+i+"$","i"),"$1"+a),this.plural(new RegExp("("+s+")"+a+"$","i"),"$1"+a),this.singular(new RegExp("("+n+")"+i+"$","i"),"$1"+i),this.singular(new RegExp("("+s+")"+a+"$","i"),"$1"+i);else{const e=r(i),t=r(a);this.plural(new RegExp(n.toUpperCase()+e+"$"),s.toUpperCase()+a),this.plural(new RegExp(n.toLowerCase()+e+"$"),s.toLowerCase()+a),this.plural(new RegExp(s.toUpperCase()+t+"$"),s.toUpperCase()+a),this.plural(new RegExp(s.toLowerCase()+t+"$"),s.toLowerCase()+a),this.singular(new RegExp(n.toUpperCase()+e+"$"),n.toUpperCase()+i),this.singular(new RegExp(n.toLowerCase()+e+"$"),n.toLowerCase()+i),this.singular(new RegExp(s.toUpperCase()+t+"$"),n.toUpperCase()+i),this.singular(new RegExp(s.toLowerCase()+t+"$"),n.toLowerCase()+i)}}uncountable(...e){this.uncountables=this.uncountables.concat(e)}human(e,t){this.humans.unshift([e,t])}clear(e="all"){"all"===e?(this.plurals=[],this.singulars=[],this.uncountables=[],this.humans=[]):this[e]=[]}}const c={en:function(e){e.plural(/$/,"s"),e.plural(/s$/i,"s"),e.plural(/^(ax|test)is$/i,"$1es"),e.plural(/(octop|vir)us$/i,"$1i"),e.plural(/(octop|vir)i$/i,"$1i"),e.plural(/(alias|status)$/i,"$1es"),e.plural(/(bu)s$/i,"$1ses"),e.plural(/(buffal|tomat)o$/i,"$1oes"),e.plural(/([ti])um$/i,"$1a"),e.plural(/([ti])a$/i,"$1a"),e.plural(/sis$/i,"ses"),e.plural(/(?:([^f])fe|([lr])f)$/i,"$1$2ves"),e.plural(/(hive)$/i,"$1s"),e.plural(/([^aeiouy]|qu)y$/i,"$1ies"),e.plural(/(x|ch|ss|sh)$/i,"$1es"),e.plural(/(matr|vert|ind)(?:ix|ex)$/i,"$1ices"),e.plural(/^(m|l)ouse$/i,"$1ice"),e.plural(/^(m|l)ice$/i,"$1ice"),e.plural(/^(ox)$/i,"$1en"),e.plural(/^(oxen)$/i,"$1"),e.plural(/(quiz)$/i,"$1zes"),e.singular(/s$/i,""),e.singular(/(ss)$/i,"$1"),e.singular(/(n)ews$/i,"$1ews"),e.singular(/([ti])a$/i,"$1um"),e.singular(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)(sis|ses)$/i,"$1sis"),e.singular(/(^analy)(sis|ses)$/i,"$1sis"),e.singular(/([^f])ves$/i,"$1fe"),e.singular(/(hive)s$/i,"$1"),e.singular(/(tive)s$/i,"$1"),e.singular(/([lr])ves$/i,"$1f"),e.singular(/([^aeiouy]|qu)ies$/i,"$1y"),e.singular(/(s)eries$/i,"$1eries"),e.singular(/(m)ovies$/i,"$1ovie"),e.singular(/(x|ch|ss|sh)es$/i,"$1"),e.singular(/^(m|l)ice$/i,"$1ouse"),e.singular(/(bus)(es)?$/i,"$1"),e.singular(/(o)es$/i,"$1"),e.singular(/(shoe)s$/i,"$1"),e.singular(/(cris|test)(is|es)$/i,"$1is"),e.singular(/^(a)x[ie]s$/i,"$1xis"),e.singular(/(octop|vir)(us|i)$/i,"$1us"),e.singular(/(alias|status)(es)?$/i,"$1"),e.singular(/^(ox)en/i,"$1"),e.singular(/(vert|ind)ices$/i,"$1ex"),e.singular(/(matr)ices$/i,"$1ix"),e.singular(/(quiz)zes$/i,"$1"),e.singular(/(database)s$/i,"$1"),e.irregular("person","people"),e.irregular("man","men"),e.irregular("child","children"),e.irregular("sex","sexes"),e.irregular("move","moves"),e.irregular("zombie","zombies"),e.uncountable("equipment","information","rice","money","species","series","fish","sheep","jeans","police")}};function u(e,t){if((0,i.Z)(e)&&(t=e,e=null),e=e||"en",!t)return l.getInstance(e);t(l.getInstance(e))}for(let e in c)u(e,c[e]);function d(e,t="en"){return function(e,t){var n,i,r,o=""+e;if(0===o.length)return o;var s=o.toLowerCase().match(/\b\w+$/);if(s&&u().uncountables.indexOf(s[0])>-1)return o;for(var a=0,l=t.length;a<l;a++)if(i=(n=t[a])[0],r=n[1],o.match(i)){o=o.replace(i,r);break}return o}(e,u(t).singulars)}},5423:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const i=Object.prototype.toString;function r(e){return"[object Function]"===i.call(e)}},7556:(e,t,n)=>{e.exports={Generator:n(5229),addLabels:n(4141)}},4141:(e,t,n)=>{var i=n(3683);function r(e,t){for(var n in e)t[n]?null==(i=e[n])||i.constructor!==Array&&i.constructor!==Object||r(e[n],t[n]):t[n]=e[n];var i}function o(e,t){var n=[i.classes[e.type]];return e.class?e.class=("string"==typeof e.class?[e.class]:e.class).concat(n):e.class=n,e.type.indexOf("Label")>0&&(0==e.index&&i.weekPlaceholder?e.desc=i.weekPlaceholder:e.index<8?e.desc=i.columnNames[t][e.index]:e.index%8==0&&(e.desc=e.week)),e.date&&(e.monthName=i.monthNames[t][e.date.getMonth()]),this.monthName||(this.monthName=i.monthNames[t][this.month]),this.labels||(this.labels={monthNames:i.monthNames[t],columnNames:i.columnNames[t],classes:i.classes}),e}o.setLabels=function(e){r(e,i)},e.exports=o},5229:e=>{var t=864e5;function n(e,t){return new Date(e,t+1,0).getDate()}function i(e,t,n){return 0===t&&n>50?e-1:11===t&&n<10?e+1:e}function r(e,n,i,r){n>11&&(n=0,e++);var o=new Date(e,n,i);r&&o.setDate(o.getDate()+4-(o.getDay()||7));var s=r?o.getFullYear():e,a=new Date(s,0,1),l=1+Math.round((o-a)/t);r||(l+=a.getDay());var c=Math.ceil(l/7);if(!r){var u=new Date(e,n,i),d=new Date(e+1,0,1),h=d.getDay();u.getTime()>=d.getTime()-t*h&&(c=1)}return c}function o(e,t,o){for(var s,a,l,c=this.lang||"en",u=this.onlyDays,d=void 0===this.weekStart?1:this.weekStart,h=1===d,p=[],f=d-(new Date(e,t,1).getDay()||(h?7:0)),m=r(e,t,1,h),g=n(e,t),v=n(e,t-1),y=i(e,t,m),b={month:t,year:e,daysInMonth:g},w=0;w<7;w++){l=f;for(var _=0;_<8;_++){w>0&&_>0&&f++,f>g||f<1?(a=f>g?f-g:v+f,s=f>g?t+1:t-1):(a=f,s=t);var x=l!==f&&w>0,k={desc:x?a:m,week:m,type:0===_?"weekLabel":0===w?"dayLabel":f<1?"prevMonth":f>g?"nextMonth":"monthDay",format:h?"ISO 8601":"US",date:!!x&&new Date(Date.UTC(e,s,a)),year:y,index:p.length};o&&("function"==typeof o?k=o.call(b,k,c):o.forEach((function(e){k=e.call(b,k,c)}))),u&&x?p.push(k):u||p.push(k)}w>0&&(m=r(e,s,a+1,h)),y=i(e,t,m)}return b.cells=p,b}e.exports=function(e){return o.bind(e)}},3683:e=>{e.exports={weekPlaceholder:"",columnNames:{en:{0:"w",1:"monday",2:"tuesday",3:"wednesday",4:"thursday",5:"friday",6:"saturday",7:"sunday"},sv:{0:"v",1:"mndag",2:"tisdag",3:"onsdag",4:"torsdag",5:"fredag",6:"lrdag",7:"sndag"},pt:{0:"s",1:"segunda",2:"tera",3:"quarta",4:"quinta",5:"sexta",6:"sbado",7:"domingo"}},monthNames:{en:["January","February","March","April","May","June","July","August","September","October","November","December"],sv:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"],pt:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"]},classes:{dayLabel:"day-of-week",weekLabel:"week-number",prevMonth:"inactive",nextMonth:"inactive",monthDay:"day-in-month"}}},7084:function(e){e.exports=function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function n(e,n){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=function(e,n){if(e){if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?t(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){i&&(e=i);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i={exports:{}};function r(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}i.exports={defaults:{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},getDefaults:r,changeDefaults:function(e){i.exports.defaults=e}};var o=/[&<>"']/,s=/[&<>"']/g,a=/[<>"']|&(?!#?\w+;)/,l=/[<>"']|&(?!#?\w+;)/g,c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},u=function(e){return c[e]};var d=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function h(e){return e.replace(d,(function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}var p=/(^|[^\[])\^/g;var f=/[^\w:]/g,m=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;var g={},v=/^[^:]+:\/*[^/]*$/,y=/^([^:]+:)[\s\S]*$/,b=/^([^:]+:\/*[^/]*)[\s\S]*$/;function w(e,t){g[" "+e]||(v.test(e)?g[" "+e]=e+"/":g[" "+e]=_(e,"/",!0));var n=-1===(e=g[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(y,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(b,"$1")+t:e+t}function _(e,t,n){var i=e.length;if(0===i)return"";for(var r=0;r<i;){var o=e.charAt(i-r-1);if(o!==t||n){if(o===t||!n)break;r++}else r++}return e.substr(0,i-r)}var x=function(e,t){if(t){if(o.test(e))return e.replace(s,u)}else if(a.test(e))return e.replace(l,u);return e},k=h,C=function(e,t){e=e.source||e,t=t||"";var n={replace:function(t,i){return i=(i=i.source||i).replace(p,"$1"),e=e.replace(t,i),n},getRegex:function(){return new RegExp(e,t)}};return n},S=function(e,t,n){if(e){var i;try{i=decodeURIComponent(h(n)).replace(f,"").toLowerCase()}catch(e){return null}if(0===i.indexOf("javascript:")||0===i.indexOf("vbscript:")||0===i.indexOf("data:"))return null}t&&!m.test(n)&&(n=w(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n},A={exec:function(){}},D=function(e){for(var t,n,i=1;i<arguments.length;i++)for(n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},O=function(e,t){var n=e.replace(/\|/g,(function(e,t,n){for(var i=!1,r=t;--r>=0&&"\\"===n[r];)i=!i;return i?"|":" |"})).split(/ \|/),i=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n},T=_,E=function(e,t){if(-1===e.indexOf(t[1]))return-1;for(var n=e.length,i=0,r=0;r<n;r++)if("\\"===e[r])r++;else if(e[r]===t[0])i++;else if(e[r]===t[1]&&--i<0)return r;return-1},$=function(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},M=function(e,t){if(t<1)return"";for(var n="";t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e},R=i.exports.defaults,L=T,P=O,F=x,I=E;function j(e,t,n){var i=t.href,r=t.title?F(t.title):null,o=e[1].replace(/\\([\[\]])/g,"$1");return"!"!==e[0].charAt(0)?{type:"link",raw:n,href:i,title:r,text:o}:{type:"image",raw:n,href:i,title:r,text:F(o)}}var N=function(){function e(e){this.options=e||R}var t=e.prototype;return t.space=function(e){var t=this.rules.block.newline.exec(e);if(t)return t[0].length>1?{type:"space",raw:t[0]}:{raw:"\n"}},t.code=function(e){var t=this.rules.block.code.exec(e);if(t){var n=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:L(n,"\n")}}},t.fences=function(e){var t=this.rules.block.fences.exec(e);if(t){var n=t[0],i=function(e,t){var n=e.match(/^(\s+)(?:```)/);if(null===n)return t;var i=n[1];return t.split("\n").map((function(e){var t=e.match(/^\s+/);return null===t?e:t[0].length>=i.length?e.slice(i.length):e})).join("\n")}(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim():t[2],text:i}}},t.heading=function(e){var t=this.rules.block.heading.exec(e);if(t){var n=t[2].trim();if(/#$/.test(n)){var i=L(n,"#");this.options.pedantic?n=i.trim():i&&!/ $/.test(i)||(n=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n}}},t.nptable=function(e){var t=this.rules.block.nptable.exec(e);if(t){var n={type:"table",header:P(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[],raw:t[0]};if(n.header.length===n.align.length){var i,r=n.align.length;for(i=0;i<r;i++)/^ *-+: *$/.test(n.align[i])?n.align[i]="right":/^ *:-+: *$/.test(n.align[i])?n.align[i]="center":/^ *:-+ *$/.test(n.align[i])?n.align[i]="left":n.align[i]=null;for(r=n.cells.length,i=0;i<r;i++)n.cells[i]=P(n.cells[i],n.header.length);return n}}},t.hr=function(e){var t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}},t.blockquote=function(e){var t=this.rules.block.blockquote.exec(e);if(t){var n=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],text:n}}},t.list=function(e){var t=this.rules.block.list.exec(e);if(t){var n,i,r,o,s,a,l,c,u,d=t[0],h=t[2],p=h.length>1,f={type:"list",raw:d,ordered:p,start:p?+h.slice(0,-1):"",loose:!1,items:[]},m=t[0].match(this.rules.block.item),g=!1,v=m.length;r=this.rules.block.listItemStart.exec(m[0]);for(var y=0;y<v;y++){if(d=n=m[y],this.options.pedantic||(u=n.match(new RegExp("\\n\\s*\\n {0,"+(r[0].length-1)+"}\\S")))&&(s=n.length-u.index+m.slice(y+1).join("\n").length,f.raw=f.raw.substring(0,f.raw.length-s),d=n=n.substring(0,u.index),v=y+1),y!==v-1){if(o=this.rules.block.listItemStart.exec(m[y+1]),this.options.pedantic?o[1].length>r[1].length:o[1].length>=r[0].length||o[1].length>3){m.splice(y,2,m[y]+(!this.options.pedantic&&o[1].length<r[0].length&&!m[y].match(/\n$/)?"":"\n")+m[y+1]),y--,v--;continue}(!this.options.pedantic||this.options.smartLists?o[2][o[2].length-1]!==h[h.length-1]:p===(1===o[2].length))&&(s=m.slice(y+1).join("\n").length,f.raw=f.raw.substring(0,f.raw.length-s),y=v-1),r=o}i=n.length,~(n=n.replace(/^ *([*+-]|\d+[.)]) ?/,"")).indexOf("\n ")&&(i-=n.length,n=this.options.pedantic?n.replace(/^ {1,4}/gm,""):n.replace(new RegExp("^ {1,"+i+"}","gm"),"")),n=L(n,"\n"),y!==v-1&&(d+="\n"),a=g||/\n\n(?!\s*$)/.test(d),y!==v-1&&(g="\n\n"===d.slice(-2),a||(a=g)),a&&(f.loose=!0),this.options.gfm&&(c=void 0,(l=/^\[[ xX]\] /.test(n))&&(c=" "!==n[1],n=n.replace(/^\[[ xX]\] +/,""))),f.items.push({type:"list_item",raw:d,task:l,checked:c,loose:a,text:n})}return f}},t.html=function(e){var t=this.rules.block.html.exec(e);if(t)return{type:this.options.sanitize?"paragraph":"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):F(t[0]):t[0]}},t.def=function(e){var t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{type:"def",tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}},t.table=function(e){var t=this.rules.block.table.exec(e);if(t){var n={type:"table",header:P(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[]};if(n.header.length===n.align.length){n.raw=t[0];var i,r=n.align.length;for(i=0;i<r;i++)/^ *-+: *$/.test(n.align[i])?n.align[i]="right":/^ *:-+: *$/.test(n.align[i])?n.align[i]="center":/^ *:-+ *$/.test(n.align[i])?n.align[i]="left":n.align[i]=null;for(r=n.cells.length,i=0;i<r;i++)n.cells[i]=P(n.cells[i].replace(/^ *\| *| *\| *$/g,""),n.header.length);return n}}},t.lheading=function(e){var t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1]}},t.paragraph=function(e){var t=this.rules.block.paragraph.exec(e);if(t)return{type:"paragraph",raw:t[0],text:"\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1]}},t.text=function(e){var t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0]}},t.escape=function(e){var t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:F(t[1])}},t.tag=function(e,t,n){var i=this.rules.inline.tag.exec(e);if(i)return!t&&/^<a /i.test(i[0])?t=!0:t&&/^<\/a>/i.test(i[0])&&(t=!1),!n&&/^<(pre|code|kbd|script)(\s|>)/i.test(i[0])?n=!0:n&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(i[0])&&(n=!1),{type:this.options.sanitize?"text":"html",raw:i[0],inLink:t,inRawBlock:n,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):F(i[0]):i[0]}},t.link=function(e){var t=this.rules.inline.link.exec(e);if(t){var n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;var i=L(n.slice(0,-1),"\\");if((n.length-i.length)%2==0)return}else{var r=I(t[2],"()");if(r>-1){var o=(0===t[0].indexOf("!")?5:4)+t[1].length+r;t[2]=t[2].substring(0,r),t[0]=t[0].substring(0,o).trim(),t[3]=""}}var s=t[2],a="";if(this.options.pedantic){var l=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);l&&(s=l[1],a=l[3])}else a=t[3]?t[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(s=this.options.pedantic&&!/>$/.test(n)?s.slice(1):s.slice(1,-1)),j(t,{href:s?s.replace(this.rules.inline._escapes,"$1"):s,title:a?a.replace(this.rules.inline._escapes,"$1"):a},t[0])}},t.reflink=function(e,t){var n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){var i=(n[2]||n[1]).replace(/\s+/g," ");if(!(i=t[i.toLowerCase()])||!i.href){var r=n[0].charAt(0);return{type:"text",raw:r,text:r}}return j(n,i,n[0])}},t.emStrong=function(e,t,n){void 0===n&&(n="");var i=this.rules.inline.emStrong.lDelim.exec(e);if(i&&(!i[3]||!n.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var r=i[1]||i[2]||"";if(!r||r&&(""===n||this.rules.inline.punctuation.exec(n))){var o,s,a=i[0].length-1,l=a,c=0,u="*"===i[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(u.lastIndex=0,t=t.slice(-1*e.length+a);null!=(i=u.exec(t));)if(o=i[1]||i[2]||i[3]||i[4]||i[5]||i[6])if(s=o.length,i[3]||i[4])l+=s;else if(!((i[5]||i[6])&&a%3)||(a+s)%3){if(!((l-=s)>0))return s=Math.min(s,s+l+c),Math.min(a,s)%2?{type:"em",raw:e.slice(0,a+i.index+s+1),text:e.slice(1,a+i.index+s)}:{type:"strong",raw:e.slice(0,a+i.index+s+1),text:e.slice(2,a+i.index+s-1)}}else c+=s}}},t.codespan=function(e){var t=this.rules.inline.code.exec(e);if(t){var n=t[2].replace(/\n/g," "),i=/[^ ]/.test(n),r=/^ /.test(n)&&/ $/.test(n);return i&&r&&(n=n.substring(1,n.length-1)),n=F(n,!0),{type:"codespan",raw:t[0],text:n}}},t.br=function(e){var t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}},t.del=function(e){var t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2]}},t.autolink=function(e,t){var n,i,r=this.rules.inline.autolink.exec(e);if(r)return i="@"===r[2]?"mailto:"+(n=F(this.options.mangle?t(r[1]):r[1])):n=F(r[1]),{type:"link",raw:r[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}},t.url=function(e,t){var n;if(n=this.rules.inline.url.exec(e)){var i,r;if("@"===n[2])r="mailto:"+(i=F(this.options.mangle?t(n[0]):n[0]));else{var o;do{o=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(o!==n[0]);i=F(n[0]),r="www."===n[1]?"http://"+i:i}return{type:"link",raw:n[0],text:i,href:r,tokens:[{type:"text",raw:i,text:i}]}}},t.inlineText=function(e,t,n){var i,r=this.rules.inline.text.exec(e);if(r)return i=t?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):F(r[0]):r[0]:F(this.options.smartypants?n(r[0]):r[0]),{type:"text",raw:r[0],text:i}},e}(),V=A,B=C,q=D,z={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:V,table:V,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};z.def=B(z.def).replace("label",z._label).replace("title",z._title).getRegex(),z.bullet=/(?:[*+-]|\d{1,9}[.)])/,z.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,z.item=B(z.item,"gm").replace(/bull/g,z.bullet).getRegex(),z.listItemStart=B(/^( *)(bull) */).replace("bull",z.bullet).getRegex(),z.list=B(z.list).replace(/bull/g,z.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+z.def.source+")").getRegex(),z._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",z._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,z.html=B(z.html,"i").replace("comment",z._comment).replace("tag",z._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),z.paragraph=B(z._paragraph).replace("hr",z.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",z._tag).getRegex(),z.blockquote=B(z.blockquote).replace("paragraph",z.paragraph).getRegex(),z.normal=q({},z),z.gfm=q({},z.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),z.gfm.nptable=B(z.gfm.nptable).replace("hr",z.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",z._tag).getRegex(),z.gfm.table=B(z.gfm.table).replace("hr",z.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",z._tag).getRegex(),z.pedantic=q({},z.normal,{html:B("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",z._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:V,paragraph:B(z.normal._paragraph).replace("hr",z.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",z.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var W={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:V,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_*]*?\*[^_*]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^_*]*?\_[^_*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:V,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};W.punctuation=B(W.punctuation).replace(/punctuation/g,W._punctuation).getRegex(),W.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,W.escapedEmSt=/\\\*|\\_/g,W._comment=B(z._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),W.emStrong.lDelim=B(W.emStrong.lDelim).replace(/punct/g,W._punctuation).getRegex(),W.emStrong.rDelimAst=B(W.emStrong.rDelimAst,"g").replace(/punct/g,W._punctuation).getRegex(),W.emStrong.rDelimUnd=B(W.emStrong.rDelimUnd,"g").replace(/punct/g,W._punctuation).getRegex(),W._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,W._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,W._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,W.autolink=B(W.autolink).replace("scheme",W._scheme).replace("email",W._email).getRegex(),W._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,W.tag=B(W.tag).replace("comment",W._comment).replace("attribute",W._attribute).getRegex(),W._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,W._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,W._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,W.link=B(W.link).replace("label",W._label).replace("href",W._href).replace("title",W._title).getRegex(),W.reflink=B(W.reflink).replace("label",W._label).getRegex(),W.reflinkSearch=B(W.reflinkSearch,"g").replace("reflink",W.reflink).replace("nolink",W.nolink).getRegex(),W.normal=q({},W),W.pedantic=q({},W.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:B(/^!?\[(label)\]\((.*?)\)/).replace("label",W._label).getRegex(),reflink:B(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",W._label).getRegex()}),W.gfm=q({},W.normal,{escape:B(W.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),W.gfm.url=B(W.gfm.url,"i").replace("email",W.gfm._extended_email).getRegex(),W.breaks=q({},W.gfm,{br:B(W.br).replace("{2,}","*").getRegex(),text:B(W.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var U={block:z,inline:W},H=N,K=i.exports.defaults,Z=U.block,G=U.inline,Y=M;function Q(e){return e.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function J(e){var t,n,i="",r=e.length;for(t=0;t<r;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),i+="&#"+n+";";return i}var X=function(){function t(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||K,this.options.tokenizer=this.options.tokenizer||new H,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var t={block:Z.normal,inline:G.normal};this.options.pedantic?(t.block=Z.pedantic,t.inline=G.pedantic):this.options.gfm&&(t.block=Z.gfm,this.options.breaks?t.inline=G.breaks:t.inline=G.gfm),this.tokenizer.rules=t}t.lex=function(e,n){return new t(n).lex(e)},t.lexInline=function(e,n){return new t(n).inlineTokens(e)};var n,i,r,o=t.prototype;return o.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(e,this.tokens,!0),this.inline(this.tokens),this.tokens},o.blockTokens=function(e,t,n){var i,r,o,s,a,l,c=this;for(void 0===t&&(t=[]),void 0===n&&(n=!0),this.options.pedantic&&(e=e.replace(/^ +$/gm,""));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((function(n){return!!(i=n.call(c,e,t))&&(e=e.substring(i.raw.length),t.push(i),!0)}))))if(i=this.tokenizer.space(e))e=e.substring(i.raw.length),i.type&&t.push(i);else if(i=this.tokenizer.code(e))e=e.substring(i.raw.length),(s=t[t.length-1])&&"paragraph"===s.type?(s.raw+="\n"+i.raw,s.text+="\n"+i.text):t.push(i);else if(i=this.tokenizer.fences(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.heading(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.nptable(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.hr(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.blockquote(e))e=e.substring(i.raw.length),i.tokens=this.blockTokens(i.text,[],n),t.push(i);else if(i=this.tokenizer.list(e)){for(e=e.substring(i.raw.length),o=i.items.length,r=0;r<o;r++)i.items[r].tokens=this.blockTokens(i.items[r].text,[],!1);t.push(i)}else if(i=this.tokenizer.html(e))e=e.substring(i.raw.length),t.push(i);else if(n&&(i=this.tokenizer.def(e)))e=e.substring(i.raw.length),this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});else if(i=this.tokenizer.table(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.lheading(e))e=e.substring(i.raw.length),t.push(i);else if(a=e,this.options.extensions&&this.options.extensions.startBlock&&function(){var t=1/0,n=e.slice(1),i=void 0;c.options.extensions.startBlock.forEach((function(e){"number"==typeof(i=e.call(this,n))&&i>=0&&(t=Math.min(t,i))})),t<1/0&&t>=0&&(a=e.substring(0,t+1))}(),n&&(i=this.tokenizer.paragraph(a)))s=t[t.length-1],l&&"paragraph"===s.type?(s.raw+="\n"+i.raw,s.text+="\n"+i.text):t.push(i),l=a.length!==e.length,e=e.substring(i.raw.length);else if(i=this.tokenizer.text(e))e=e.substring(i.raw.length),(s=t[t.length-1])&&"text"===s.type?(s.raw+="\n"+i.raw,s.text+="\n"+i.text):t.push(i);else if(e){var u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}throw new Error(u)}return t},o.inline=function(e){var t,n,i,r,o,s,a=e.length;for(t=0;t<a;t++)switch((s=e[t]).type){case"paragraph":case"text":case"heading":s.tokens=[],this.inlineTokens(s.text,s.tokens);break;case"table":for(s.tokens={header:[],cells:[]},r=s.header.length,n=0;n<r;n++)s.tokens.header[n]=[],this.inlineTokens(s.header[n],s.tokens.header[n]);for(r=s.cells.length,n=0;n<r;n++)for(o=s.cells[n],s.tokens.cells[n]=[],i=0;i<o.length;i++)s.tokens.cells[n][i]=[],this.inlineTokens(o[i],s.tokens.cells[n][i]);break;case"blockquote":this.inline(s.tokens);break;case"list":for(r=s.items.length,n=0;n<r;n++)this.inline(s.items[n].tokens)}return e},o.inlineTokens=function(e,t,n,i){var r,o,s,a=this;void 0===t&&(t=[]),void 0===n&&(n=!1),void 0===i&&(i=!1);var l,c,u,d=e;if(this.tokens.links){var h=Object.keys(this.tokens.links);if(h.length>0)for(;null!=(l=this.tokenizer.rules.inline.reflinkSearch.exec(d));)h.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(d=d.slice(0,l.index)+"["+Y("a",l[0].length-2)+"]"+d.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(l=this.tokenizer.rules.inline.blockSkip.exec(d));)d=d.slice(0,l.index)+"["+Y("a",l[0].length-2)+"]"+d.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(l=this.tokenizer.rules.inline.escapedEmSt.exec(d));)d=d.slice(0,l.index)+"++"+d.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(c||(u=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((function(n){return!!(r=n.call(a,e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)}))))if(r=this.tokenizer.escape(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.tag(e,n,i))e=e.substring(r.raw.length),n=r.inLink,i=r.inRawBlock,(o=t[t.length-1])&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):t.push(r);else if(r=this.tokenizer.link(e))e=e.substring(r.raw.length),"link"===r.type&&(r.tokens=this.inlineTokens(r.text,[],!0,i)),t.push(r);else if(r=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(r.raw.length),o=t[t.length-1],"link"===r.type?(r.tokens=this.inlineTokens(r.text,[],!0,i),t.push(r)):o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):t.push(r);else if(r=this.tokenizer.emStrong(e,d,u))e=e.substring(r.raw.length),r.tokens=this.inlineTokens(r.text,[],n,i),t.push(r);else if(r=this.tokenizer.codespan(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.br(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.del(e))e=e.substring(r.raw.length),r.tokens=this.inlineTokens(r.text,[],n,i),t.push(r);else if(r=this.tokenizer.autolink(e,J))e=e.substring(r.raw.length),t.push(r);else if(n||!(r=this.tokenizer.url(e,J))){if(s=e,this.options.extensions&&this.options.extensions.startInline&&function(){var t=1/0,n=e.slice(1),i=void 0;a.options.extensions.startInline.forEach((function(e){"number"==typeof(i=e.call(this,n))&&i>=0&&(t=Math.min(t,i))})),t<1/0&&t>=0&&(s=e.substring(0,t+1))}(),r=this.tokenizer.inlineText(s,i,Q))e=e.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(u=r.raw.slice(-1)),c=!0,(o=t[t.length-1])&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):t.push(r);else if(e){var p="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(p);break}throw new Error(p)}}else e=e.substring(r.raw.length),t.push(r);return t},n=t,r=[{key:"rules",get:function(){return{block:Z,inline:G}}}],(i=null)&&e(n.prototype,i),r&&e(n,r),t}(),ee=i.exports.defaults,te=S,ne=x,ie=function(){function e(e){this.options=e||ee}var t=e.prototype;return t.code=function(e,t,n){var i=(t||"").match(/\S*/)[0];if(this.options.highlight){var r=this.options.highlight(e,i);null!=r&&r!==e&&(n=!0,e=r)}return e=e.replace(/\n$/,"")+"\n",i?'<pre><code class="'+this.options.langPrefix+ne(i,!0)+'">'+(n?e:ne(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:ne(e,!0))+"</code></pre>\n"},t.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},t.html=function(e){return e},t.heading=function(e,t,n,i){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+i.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},t.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},t.list=function(e,t,n){var i=t?"ol":"ul";return"<"+i+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+i+">\n"},t.listitem=function(e){return"<li>"+e+"</li>\n"},t.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},t.paragraph=function(e){return"<p>"+e+"</p>\n"},t.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},t.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},t.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},t.strong=function(e){return"<strong>"+e+"</strong>"},t.em=function(e){return"<em>"+e+"</em>"},t.codespan=function(e){return"<code>"+e+"</code>"},t.br=function(){return this.options.xhtml?"<br/>":"<br>"},t.del=function(e){return"<del>"+e+"</del>"},t.link=function(e,t,n){if(null===(e=te(this.options.sanitize,this.options.baseUrl,e)))return n;var i='<a href="'+ne(e)+'"';return t&&(i+=' title="'+t+'"'),i+">"+n+"</a>"},t.image=function(e,t,n){if(null===(e=te(this.options.sanitize,this.options.baseUrl,e)))return n;var i='<img src="'+e+'" alt="'+n+'"';return t&&(i+=' title="'+t+'"'),i+(this.options.xhtml?"/>":">")},t.text=function(e){return e},e}(),re=function(){function e(){}var t=e.prototype;return t.strong=function(e){return e},t.em=function(e){return e},t.codespan=function(e){return e},t.del=function(e){return e},t.html=function(e){return e},t.text=function(e){return e},t.link=function(e,t,n){return""+n},t.image=function(e,t,n){return""+n},t.br=function(){return""},e}(),oe=function(){function e(){this.seen={}}var t=e.prototype;return t.serialize=function(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},t.getNextSafeSlug=function(e,t){var n=e,i=0;if(this.seen.hasOwnProperty(n)){i=this.seen[e];do{n=e+"-"+ ++i}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=i,this.seen[n]=0),n},t.slug=function(e,t){void 0===t&&(t={});var n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)},e}(),se=ie,ae=re,le=oe,ce=i.exports.defaults,ue=k,de=X,he=function(){function e(e){this.options=e||ce,this.options.renderer=this.options.renderer||new se,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new ae,this.slugger=new le}e.parse=function(t,n){return new e(n).parse(t)},e.parseInline=function(t,n){return new e(n).parseInline(t)};var t=e.prototype;return t.parse=function(e,t){void 0===t&&(t=!0);var n,i,r,o,s,a,l,c,u,d,h,p,f,m,g,v,y,b,w,_="",x=e.length;for(n=0;n<x;n++)if(d=e[n],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[d.type])||!1===(w=this.options.extensions.renderers[d.type].call(this,d))&&["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(d.type))switch(d.type){case"space":continue;case"hr":_+=this.renderer.hr();continue;case"heading":_+=this.renderer.heading(this.parseInline(d.tokens),d.depth,ue(this.parseInline(d.tokens,this.textRenderer)),this.slugger);continue;case"code":_+=this.renderer.code(d.text,d.lang,d.escaped);continue;case"table":for(c="",l="",o=d.header.length,i=0;i<o;i++)l+=this.renderer.tablecell(this.parseInline(d.tokens.header[i]),{header:!0,align:d.align[i]});for(c+=this.renderer.tablerow(l),u="",o=d.cells.length,i=0;i<o;i++){for(l="",s=(a=d.tokens.cells[i]).length,r=0;r<s;r++)l+=this.renderer.tablecell(this.parseInline(a[r]),{header:!1,align:d.align[r]});u+=this.renderer.tablerow(l)}_+=this.renderer.table(c,u);continue;case"blockquote":u=this.parse(d.tokens),_+=this.renderer.blockquote(u);continue;case"list":for(h=d.ordered,p=d.start,f=d.loose,o=d.items.length,u="",i=0;i<o;i++)v=(g=d.items[i]).checked,y=g.task,m="",g.task&&(b=this.renderer.checkbox(v),f?g.tokens.length>0&&"text"===g.tokens[0].type?(g.tokens[0].text=b+" "+g.tokens[0].text,g.tokens[0].tokens&&g.tokens[0].tokens.length>0&&"text"===g.tokens[0].tokens[0].type&&(g.tokens[0].tokens[0].text=b+" "+g.tokens[0].tokens[0].text)):g.tokens.unshift({type:"text",text:b}):m+=b),m+=this.parse(g.tokens,f),u+=this.renderer.listitem(m,y,v);_+=this.renderer.list(u,h,p);continue;case"html":_+=this.renderer.html(d.text);continue;case"paragraph":_+=this.renderer.paragraph(this.parseInline(d.tokens));continue;case"text":for(u=d.tokens?this.parseInline(d.tokens):d.text;n+1<x&&"text"===e[n+1].type;)u+="\n"+((d=e[++n]).tokens?this.parseInline(d.tokens):d.text);_+=t?this.renderer.paragraph(u):u;continue;default:var k='Token with "'+d.type+'" type was not found.';if(this.options.silent)return void console.error(k);throw new Error(k)}else _+=w||"";return _},t.parseInline=function(e,t){t=t||this.renderer;var n,i,r,o="",s=e.length;for(n=0;n<s;n++)if(i=e[n],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type])||!1===(r=this.options.extensions.renderers[i.type].call(this,i))&&["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type))switch(i.type){case"escape":o+=t.text(i.text);break;case"html":o+=t.html(i.text);break;case"link":o+=t.link(i.href,i.title,this.parseInline(i.tokens,t));break;case"image":o+=t.image(i.href,i.title,i.text);break;case"strong":o+=t.strong(this.parseInline(i.tokens,t));break;case"em":o+=t.em(this.parseInline(i.tokens,t));break;case"codespan":o+=t.codespan(i.text);break;case"br":o+=t.br();break;case"del":o+=t.del(this.parseInline(i.tokens,t));break;case"text":o+=t.text(i.text);break;default:var a='Token with "'+i.type+'" type was not found.';if(this.options.silent)return void console.error(a);throw new Error(a)}else o+=r||"";return o},e}(),pe=N,fe=ie,me=re,ge=oe,ve=D,ye=$,be=x,we=i.exports.getDefaults,_e=i.exports.changeDefaults,xe=i.exports.defaults;function ke(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(n=t,t=null),t=ve({},ke.defaults,t||{}),ye(t),n){var i,r=t.highlight;try{i=de.lex(e,t)}catch(e){return n(e)}var o=function(e){var o;if(!e)try{t.walkTokens&&ke.walkTokens(i,t.walkTokens),o=he.parse(i,t)}catch(t){e=t}return t.highlight=r,e?n(e):n(null,o)};if(!r||r.length<3)return o();if(delete t.highlight,!i.length)return o();var s=0;return ke.walkTokens(i,(function(e){"code"===e.type&&(s++,setTimeout((function(){r(e.text,e.lang,(function(t,n){if(t)return o(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),0==--s&&o()}))}),0))})),void(0===s&&o())}try{var a=de.lex(e,t);return t.walkTokens&&ke.walkTokens(a,t.walkTokens),he.parse(a,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+be(e.message+"",!0)+"</pre>";throw e}}return ke.options=ke.setOptions=function(e){return ve(ke.defaults,e),_e(ke.defaults),ke},ke.getDefaults=we,ke.defaults=xe,ke.use=function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r,o=ve.apply(void 0,[{}].concat(n)),s=ke.defaults.extensions||{renderers:{},childTokens:{}};n.forEach((function(t){if(t.extensions&&(r=!0,t.extensions.forEach((function(e){if(!e.name)throw new Error("extension name required");if(e.renderer){var t=s.renderers?s.renderers[e.name]:null;s.renderers[e.name]=t?function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=e.renderer.apply(this,i);return!1===o&&(o=t.apply(this,i)),o}:e.renderer}if(e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");s[e.level]?s[e.level].unshift(e.tokenizer):s[e.level]=[e.tokenizer],e.start&&("block"===e.level?s.startBlock?s.startBlock.push(e.start):s.startBlock=[e.start]:"inline"===e.level&&(s.startInline?s.startInline.push(e.start):s.startInline=[e.start]))}e.childTokens&&(s.childTokens[e.name]=e.childTokens)}))),t.renderer&&function(){var e=ke.defaults.renderer||new fe,n=function(n){var i=e[n];e[n]=function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];var a=t.renderer[n].apply(e,o);return!1===a&&(a=i.apply(e,o)),a}};for(var i in t.renderer)n(i);o.renderer=e}(),t.tokenizer&&function(){var e=ke.defaults.tokenizer||new pe,n=function(n){var i=e[n];e[n]=function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];var a=t.tokenizer[n].apply(e,o);return!1===a&&(a=i.apply(e,o)),a}};for(var i in t.tokenizer)n(i);o.tokenizer=e}(),t.walkTokens){var n=ke.defaults.walkTokens;o.walkTokens=function(i){t.walkTokens.call(e,i),n&&n(i)}}r&&(o.extensions=s),ke.setOptions(o)}))},ke.walkTokens=function(e,t){for(var i,r=function(){var e=i.value;switch(t(e),e.type){case"table":for(var r,o=n(e.tokens.header);!(r=o()).done;){var s=r.value;ke.walkTokens(s,t)}for(var a,l=n(e.tokens.cells);!(a=l()).done;)for(var c,u=n(a.value);!(c=u()).done;){var d=c.value;ke.walkTokens(d,t)}break;case"list":ke.walkTokens(e.items,t);break;default:ke.defaults.extensions&&ke.defaults.extensions.childTokens&&ke.defaults.extensions.childTokens[e.type]?ke.defaults.extensions.childTokens[e.type].forEach((function(n){ke.walkTokens(e[n],t)})):e.tokens&&ke.walkTokens(e.tokens,t)}},o=n(e);!(i=o()).done;)r()},ke.parseInline=function(e,t){if(null==e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");t=ve({},ke.defaults,t||{}),ye(t);try{var n=de.lexInline(e,t);return t.walkTokens&&ke.walkTokens(n,t.walkTokens),he.parseInline(n,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+be(e.message+"",!0)+"</pre>";throw e}},ke.Parser=he,ke.parser=he.parse,ke.Renderer=fe,ke.TextRenderer=me,ke.Lexer=de,ke.lexer=de.lex,ke.Tokenizer=pe,ke.Slugger=ge,ke.parse=ke,ke}()},631:(e,t,n)=>{var i="function"==typeof Map&&Map.prototype,r=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=i&&r&&"function"==typeof r.get?r.get:null,s=i&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=a&&l&&"function"==typeof l.get?l.get:null,u=a&&Set.prototype.forEach,d="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,h="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,f=Boolean.prototype.valueOf,m=Object.prototype.toString,g=Function.prototype.toString,v=String.prototype.match,y="function"==typeof BigInt?BigInt.prototype.valueOf:null,b=Object.getOwnPropertySymbols,w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,_="function"==typeof Symbol&&"object"==typeof Symbol.iterator,x=Object.prototype.propertyIsEnumerable,k=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null),C=n(4654).custom,S=C&&E(C)?C:null,A="function"==typeof Symbol&&void 0!==Symbol.toStringTag?Symbol.toStringTag:null;function D(e,t,n){var i="double"===(n.quoteStyle||t)?'"':"'";return i+e+i}function O(e){return String(e).replace(/"/g,"&quot;")}function T(e){return!("[object Array]"!==R(e)||A&&"object"==typeof e&&A in e)}function E(e){if(_)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!w)return!1;try{return w.call(e),!0}catch(e){}return!1}e.exports=function e(t,n,i,r){var a=n||{};if(M(a,"quoteStyle")&&"single"!==a.quoteStyle&&"double"!==a.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(M(a,"maxStringLength")&&("number"==typeof a.maxStringLength?a.maxStringLength<0&&a.maxStringLength!==1/0:null!==a.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var l=!M(a,"customInspect")||a.customInspect;if("boolean"!=typeof l&&"symbol"!==l)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(M(a,"indent")&&null!==a.indent&&"\t"!==a.indent&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return P(t,a);if("number"==typeof t)return 0===t?1/0/t>0?"0":"-0":String(t);if("bigint"==typeof t)return String(t)+"n";var m=void 0===a.depth?5:a.depth;if(void 0===i&&(i=0),i>=m&&m>0&&"object"==typeof t)return T(t)?"[Array]":"[Object]";var b,x=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;n=Array(e.indent+1).join(" ")}return{base:n,prev:Array(t+1).join(n)}}(a,i);if(void 0===r)r=[];else if(L(r,t)>=0)return"[Circular]";function C(t,n,o){if(n&&(r=r.slice()).push(n),o){var s={depth:a.depth};return M(a,"quoteStyle")&&(s.quoteStyle=a.quoteStyle),e(t,s,i+1,r)}return e(t,a,i+1,r)}if("function"==typeof t){var $=function(e){if(e.name)return e.name;var t=v.call(g.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),F=B(t,C);return"[Function"+($?": "+$:" (anonymous)")+"]"+(F.length>0?" { "+F.join(", ")+" }":"")}if(E(t)){var q=_?String(t).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):w.call(t);return"object"!=typeof t||_?q:I(q)}if((b=t)&&"object"==typeof b&&("undefined"!=typeof HTMLElement&&b instanceof HTMLElement||"string"==typeof b.nodeName&&"function"==typeof b.getAttribute)){for(var z="<"+String(t.nodeName).toLowerCase(),W=t.attributes||[],U=0;U<W.length;U++)z+=" "+W[U].name+"="+D(O(W[U].value),"double",a);return z+=">",t.childNodes&&t.childNodes.length&&(z+="..."),z+"</"+String(t.nodeName).toLowerCase()+">"}if(T(t)){if(0===t.length)return"[]";var H=B(t,C);return x&&!function(e){for(var t=0;t<e.length;t++)if(L(e[t],"\n")>=0)return!1;return!0}(H)?"["+V(H,x)+"]":"[ "+H.join(", ")+" ]"}if(function(e){return!("[object Error]"!==R(e)||A&&"object"==typeof e&&A in e)}(t)){var K=B(t,C);return 0===K.length?"["+String(t)+"]":"{ ["+String(t)+"] "+K.join(", ")+" }"}if("object"==typeof t&&l){if(S&&"function"==typeof t[S])return t[S]();if("symbol"!==l&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!o||!e||"object"!=typeof e)return!1;try{o.call(e);try{c.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var Z=[];return s.call(t,(function(e,n){Z.push(C(n,t,!0)+" => "+C(e,t))})),N("Map",o.call(t),Z,x)}if(function(e){if(!c||!e||"object"!=typeof e)return!1;try{c.call(e);try{o.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var G=[];return u.call(t,(function(e){G.push(C(e,t))})),N("Set",c.call(t),G,x)}if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{h.call(e,h)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return j("WeakMap");if(function(e){if(!h||!e||"object"!=typeof e)return!1;try{h.call(e,h);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return j("WeakSet");if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{return p.call(e),!0}catch(e){}return!1}(t))return j("WeakRef");if(function(e){return!("[object Number]"!==R(e)||A&&"object"==typeof e&&A in e)}(t))return I(C(Number(t)));if(function(e){if(!e||"object"!=typeof e||!y)return!1;try{return y.call(e),!0}catch(e){}return!1}(t))return I(C(y.call(t)));if(function(e){return!("[object Boolean]"!==R(e)||A&&"object"==typeof e&&A in e)}(t))return I(f.call(t));if(function(e){return!("[object String]"!==R(e)||A&&"object"==typeof e&&A in e)}(t))return I(C(String(t)));if(!function(e){return!("[object Date]"!==R(e)||A&&"object"==typeof e&&A in e)}(t)&&!function(e){return!("[object RegExp]"!==R(e)||A&&"object"==typeof e&&A in e)}(t)){var Y=B(t,C),Q=k?k(t)===Object.prototype:t instanceof Object||t.constructor===Object,J=t instanceof Object?"":"null prototype",X=!Q&&A&&Object(t)===t&&A in t?R(t).slice(8,-1):J?"Object":"",ee=(Q||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(X||J?"["+[].concat(X||[],J||[]).join(": ")+"] ":"");return 0===Y.length?ee+"{}":x?ee+"{"+V(Y,x)+"}":ee+"{ "+Y.join(", ")+" }"}return String(t)};var $=Object.prototype.hasOwnProperty||function(e){return e in this};function M(e,t){return $.call(e,t)}function R(e){return m.call(e)}function L(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}function P(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,i="... "+n+" more character"+(n>1?"s":"");return P(e.slice(0,t.maxStringLength),t)+i}return D(e.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,F),"single",t)}function F(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+t.toString(16).toUpperCase()}function I(e){return"Object("+e+")"}function j(e){return e+" { ? }"}function N(e,t,n,i){return e+" ("+t+") {"+(i?V(n,i):n.join(", "))+"}"}function V(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+e.join(","+n)+"\n"+t.prev}function B(e,t){var n=T(e),i=[];if(n){i.length=e.length;for(var r=0;r<e.length;r++)i[r]=M(e,r)?t(e[r],e):""}var o,s="function"==typeof b?b(e):[];if(_){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var l in e)M(e,l)&&(n&&String(Number(l))===l&&l<e.length||_&&o["$"+l]instanceof Symbol||(/[^\w$]/.test(l)?i.push(t(l,e)+": "+t(e[l],e)):i.push(l+": "+t(e[l],e))));if("function"==typeof b)for(var c=0;c<s.length;c++)x.call(e,s[c])&&i.push("["+t(s[c])+"]: "+t(e[s[c]],e));return i}},5776:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});class i{constructor(e,t,n){this.options=e,this.itemData=t,this.index=n}update(e,t,n){this.elementSize={x:e,y:t},this.panAreaSize=n;const i=this.panAreaSize.x/this.elementSize.x,r=this.panAreaSize.y/this.elementSize.y;this.fit=Math.min(1,i<r?i:r),this.fill=Math.min(1,i>r?i:r),this.vFill=Math.min(1,r),this.initial=this._getInitial(),this.secondary=this._getSecondary(),this.max=Math.max(this.initial,this.secondary,this._getMax()),this.min=Math.min(this.fit,this.initial,this.secondary)}_parseZoomLevelOption(e){const t=this.options[e+"ZoomLevel"];if(t)return"function"==typeof t?t(this):"fill"===t?this.fill:"fit"===t?this.fit:Number(t)}_getSecondary(){let e=this._parseZoomLevelOption("secondary");return e||(e=Math.min(1,2.5*this.fit),e*this.elementSize.x>3e3&&(e=3e3/this.elementSize.x),e)}_getInitial(){return this._parseZoomLevelOption("initial")||this.fit}_getMax(){return this._parseZoomLevelOption("max")||Math.max(1,4*this.fit)}}class r{constructor(e,t){this.type=e,t&&Object.assign(this,t)}preventDefault(){this.defaultPrevented=!0}}const o=class extends class extends class{constructor(){this._listeners={}}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t),this.pswp&&this.pswp.on(e,t)}off(e,t){this._listeners[e]&&(this._listeners[e]=this._listeners[e].filter((e=>t!==e))),this.pswp&&this.pswp.off(e,t)}dispatch(e,t){if(this.pswp)return this.pswp.dispatch(e,t);const n=new r(e,t);return this._listeners?(this._listeners[e]&&this._listeners[e].forEach((e=>{e.call(this,n)})),n):n}}{getNumItems(){let e;const{dataSource:t}=this.options;return t?t.length?e=t.length:t.gallery&&(t.items||(t.items=this._getGalleryDOMElements(t.gallery)),t.items&&(e=t.items.length)):e=0,this.dispatch("numItems",{dataSource:t,numItems:e}).numItems}getItemData(e){const{dataSource:t}=this.options;let n;Array.isArray(t)?n=t[e]:t&&t.gallery&&(t.items||(t.items=this._getGalleryDOMElements(t.gallery)),n=t.items[e]);let i=n;return i instanceof Element&&(i=this._domElementToItemData(i)),this.dispatch("itemData",{itemData:i||{},index:e}).itemData}_getGalleryDOMElements(e){return this.options.childSelector?e.querySelectorAll(this.options.childSelector)||[]:[e]}_domElementToItemData(e){const t={element:e},n="A"===e.tagName?e:e.querySelector("a");if(!n)return t;t.src=n.dataset.pswpSrc||n.href,t.srcset=n.dataset.pswpSrcset,t.w=parseInt(n.dataset.pswpWidth,10),t.h=parseInt(n.dataset.pswpHeight,10);const i=e.querySelector("img");return i&&(t.msrc=i.currentSrc||i.src,t.alt=i.getAttribute("alt")),n.dataset.cropped&&(t.thumbCropped=!0),t}}{constructor(e){super(),this.options=e,this._uid=0}init(){this.onThumbnailsClick=this.onThumbnailsClick.bind(this),this.options&&this.options.gallerySelector&&document.querySelectorAll(this.options.gallerySelector).forEach((e=>{e.addEventListener("click",this.onThumbnailsClick,!1)}))}onThumbnailsClick(e){if(function(e){if(2===e.which||e.ctrlKey||e.metaKey||e.altKey||e.shiftKey)return!0}(e)||window.pswp||!1===window.navigator.onLine)return;let t={x:e.clientX,y:e.clientY};t.x||t.y||(t=null);const n=this.getClickedIndex(e),i={gallery:e.currentTarget};n>=0&&(e.preventDefault(),this.loadAndOpen(n,i,t))}getClickedIndex(e){if(this.options.getClickedIndexFn)return this.options.getClickedIndexFn.call(this,e);const t=e.target,n=e.currentTarget;if(!this.options.childSelector)return 0;{const e=t.closest(this.options.childSelector),i=n.querySelectorAll(this.options.childSelector);if(e)for(let t=0;t<i.length;t++)if(e===i[t])return t}}loadAndOpen(e,t,n){return!window.pswp&&(this.options.index=e,this.options.initialPointerPos=n,this.shouldOpen=!0,this.preload(e,t),!0)}preload(e,t){const{options:n}=this;t&&(n.dataSource=t);const r=[(o=n.pswpModule,"string"==typeof o?import(o):o)];var o;"function"==typeof n.openPromise&&r.push(n.openPromise()),!1!==n.preloadFirstSlide&&e>=0&&function(e,t){const n=t.getItemData(e);t.dispatch("lazyLoadSlide",{index:e,itemData:n}).defaultPrevented||function(e,t,n){if(e.src&&e.w&&e.h){const{options:r}=t,o=t.viewportSize||function(e,t){if(e.getViewportSizeFn){const t=e.getViewportSizeFn(e,void 0);if(t)return t}return{x:document.documentElement.clientWidth,y:window.innerHeight}}(r),s=function(e,t){return{x:t.x-(e.paddingLeft||0)-(e.paddingRight||0),y:t.y-(e.paddingTop||0)-(e.paddingBottom||0)}}(r,o),a=new i(r,e,-1);a.update(e.w,e.h,s);const l=document.createElement("img");l.decoding="async",l.sizes=Math.ceil(e.w*a.initial)+"px",e.srcset&&(l.srcset=e.srcset),l.src=e.src,n&&"decode"in l&&l.decode()}}(n,t)}(e,this);const s=++this._uid;Promise.all(r).then((e=>{if(this.shouldOpen){const t=e[0];this._openPhotoswipe(t,s)}}))}_openPhotoswipe(e,t){if(t!==this._uid&&this.shouldOpen)return;if(this.shouldOpen=!1,window.pswp)return;const n="object"==typeof e?new e.default(null,this.options):new e(null,this.options);this.pswp=n,window.pswp=n,Object.keys(this._listeners).forEach((e=>{this._listeners[e].forEach((t=>{n.on(e,t)}))})),n.on("destroy",(()=>{this.pswp=null,window.pswp=null})),n.init()}destroy(){this.pswp&&this.pswp.close(),this.shouldOpen=!1,this._listeners=null,document.querySelectorAll(this.options.gallerySelector).forEach((e=>{e.removeEventListener("click",this.onThumbnailsClick,!1)}))}}},6255:(e,t,n)=>{"use strict";function i(e,t,n){const i=document.createElement(t||"div");return e&&(i.className=e),n&&n.appendChild(i),i}function r(e,t){return e.x=t.x,e.y=t.y,void 0!==t.id&&(e.id=t.id),e}function o(e){e.x=Math.round(e.x),e.y=Math.round(e.y)}function s(e,t){const n=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return Math.sqrt(n*n+i*i)}function a(e,t){return e.x===t.x&&e.y===t.y}function l(e,t,n){return Math.min(Math.max(e,t),n)}function c(e,t,n){let i="translate3d("+e+"px,"+(t||0)+"px,0)";return void 0!==n&&(i+=" scale3d("+n+","+n+",1)"),i}function u(e,t,n,i){e.style.transform=c(t,n,i)}function d(e,t,n,i){e.style.transition=t?t+" "+n+"ms "+(i||"cubic-bezier(.4,0,.22,1)"):"none"}n.d(t,{Z:()=>G});let h=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>{h=!0}}))}catch(e){}class p{constructor(){this._pool=[]}add(e,t,n,i){this._toggleListener(e,t,n,i)}remove(e,t,n,i){this._toggleListener(e,t,n,i,!0)}removeAll(){this._pool.forEach((e=>{this._toggleListener(e.target,e.type,e.listener,e.passive,!0,!0)})),this._pool=[]}_toggleListener(e,t,n,i,r,o){if(!e)return;const s=(r?"remove":"add")+"EventListener";(t=t.split(" ")).forEach((t=>{if(t){o||(r?this._pool=this._pool.filter((i=>i.type!==t||i.listener!==n||i.target!==e)):this._pool.push({target:e,type:t,listener:n,passive:i}));const a=!!h&&{passive:i||!1};e[s](t,n,a)}}))}}class f{constructor(e){this.slide=e,this.currZoomLevel=1,this.center={},this.max={},this.min={},this.reset()}update(e){this.currZoomLevel=e,this.slide.width?(this._updateAxis("x"),this._updateAxis("y"),this.slide.pswp.dispatch("calcBounds",{slide:this.slide})):this.reset()}_updateAxis(e){const t=this.slide["x"===e?"width":"height"]*this.currZoomLevel,n="x"===e?"Left":"Top",i=this.slide.pswp.options["padding"+n]||0,r=this.slide.panAreaSize[e];this.center[e]=Math.round((r-t)/2)+i,this.max[e]=t>r?Math.round(r-t)+i:this.center[e],this.min[e]=t>r?i:this.center[e]}reset(){this.center.x=0,this.center.y=0,this.max.x=0,this.max.y=0,this.min.x=0,this.min.y=0}correctPan(e,t){return l(t,this.max[e],this.min[e])}}class m{constructor(e,t,n){this.options=e,this.itemData=t,this.index=n}update(e,t,n){this.elementSize={x:e,y:t},this.panAreaSize=n;const i=this.panAreaSize.x/this.elementSize.x,r=this.panAreaSize.y/this.elementSize.y;this.fit=Math.min(1,i<r?i:r),this.fill=Math.min(1,i>r?i:r),this.vFill=Math.min(1,r),this.initial=this._getInitial(),this.secondary=this._getSecondary(),this.max=Math.max(this.initial,this.secondary,this._getMax()),this.min=Math.min(this.fit,this.initial,this.secondary)}_parseZoomLevelOption(e){const t=this.options[e+"ZoomLevel"];if(t)return"function"==typeof t?t(this):"fill"===t?this.fill:"fit"===t?this.fit:Number(t)}_getSecondary(){let e=this._parseZoomLevelOption("secondary");return e||(e=Math.min(1,2.5*this.fit),e*this.elementSize.x>3e3&&(e=3e3/this.elementSize.x),e)}_getInitial(){return this._parseZoomLevelOption("initial")||this.fit}_getMax(){return this._parseZoomLevelOption("max")||Math.max(1,4*this.fit)}}function g(e,t){if(e.getViewportSizeFn){const n=e.getViewportSizeFn(e,t);if(n)return n}return{x:document.documentElement.clientWidth,y:window.innerHeight}}function v(e,t){return{x:t.x-(e.paddingLeft||0)-(e.paddingRight||0),y:t.y-(e.paddingTop||0)-(e.paddingBottom||0)}}function y(e,t,n){e.style.width=t+"px",e.style.height=n+"px"}class b{constructor(e,t,n){this.data=e,this.index=t,this.pswp=n,this.isActive=t===n.currIndex,this.currentResolution=0,this.panAreaSize={},this.isFirstSlide=this.isActive&&!n.opener.isOpen,this.zoomLevels=new m(n.options,e,t),this.pswp.dispatch("gettingData",{slide:this,data:this.data,index:t}),this.pan={x:0,y:0},this.currZoomLevel=1,this.width=Number(e.w),this.height=Number(e.h),this.bounds=new f(this)}setIsActive(e){e&&!this.isActive?this.activate():!e&&this.isActive&&this.deactivate()}append(e){if(this.holderElement=e,this.data){if(this._calculateSize(),this.container=i("pswp__zoom-wrap"),this.container.transformOrigin="0 0",this.data.html)this.addSlideHTML(this.data.html);else if(this.data.src){const e=this.data.msrc&&this.isFirstSlide;this.placeholder=i("pswp__img pswp__img--placeholder",e?"img":"",this.container),e&&(this.placeholder.decoding="async",this.placeholder.alt="",this.placeholder.src=this.data.msrc),this.placeholder.setAttribute("aria-hiden","true"),this.pswp.dispatch("placeholderCreated",{placeholder:this.placeholder,slide:this}),this.image||this.preload(),this.isLoading=!0}this.appendHeavy(),this.holderElement.innerHTML="",this.holderElement.appendChild(this.container),this.zoomAndPanToInitial(),this.pswp.dispatch("firstZoomPan",{slide:this}),this.applyCurrentZoomPan(),this.pswp.dispatch("afterSetContent",{slide:this}),this.isActive&&this.activate()}else this.holderElement.innerHTML=""}preload(){this.image=i("pswp__img","img"),this._updateImagesSize(),this.data.srcset&&(this.image.srcset=this.data.srcset),this.image.src=this.data.src,this.image.alt=this.data.alt||"",!this.isActive&&"decode"in this.image&&this.image.decode(),this.pswp.lazyLoader.addRecent(this.index)}appendHeavy(){const{pswp:e}=this;!this.heavyAppended&&e.opener.isOpen&&!e.mainScroll.isShifted()&&(this.isActive,1)&&(this.pswp.dispatch("appendHeavy",{slide:this}).defaultPrevented||(this.heavyAppended=!0,this.image&&(this._appendImage(),this.image.complete?this._onImageLoaded():(this.image.onload=()=>this._onImageLoaded(),this.image.onerror=()=>this._onImageLoaded(!0)))))}_appendImage(){this._imageAppended||(this.container.appendChild(this.image),this._imageAppended=!0)}_onImageLoaded(e){this._appendImage(),this.isLoading=!1,this.pswp.dispatch("loadComplete",{slide:this,isError:e}),this.placeholder&&setTimeout((()=>{this.placeholder&&(this.placeholder.remove(),this.placeholder=null)}),500),e&&this._handleError()}_handleError(){this.addSlideHTML(this.pswp.options.errorMsg);const e=this.container.querySelector(".pswp__error-msg a");e&&this.data.src&&(e.href=this.data.src),this.loadError=!0,this.image=null,this._calculateSize(),this.setZoomLevel(1),this.panTo(0,0),this.pswp.dispatch("loadError",{slide:this})}addSlideHTML(e){const{container:t}=this;e.tagName?t.appendChild(e):t.innerHTML=e,t.style.width="100%",t.style.height="100%",t.classList.add("pswp__zoom-wrap--html")}activate(){this.isActive=!0,this.appendHeavy(),this.pswp.dispatch("slideActivate",{slide:this})}deactivate(){this.isActive=!1,this.zoomAndPanToInitial(),this.applyCurrentZoomPan(),this.pswp.dispatch("slideDeactivate",{slide:this})}destroy(){this.pswp.dispatch("slideDestroy",{slide:this})}resize(){this._calculateSize(),this.currZoomLevel!==this.zoomLevels.initial&&this.isActive||(this.currentResolution=0),this._updateImagesSize(),this.zoomAndPanToInitial(),this.applyCurrentZoomPan()}_updateImagesSize(){if(!this.data.src||!this.width)return;const e=this.currentResolution||this.zoomLevels.initial;if(!e)return;const t=Math.round(this.width*e),n=Math.round(this.height*e);this.placeholder&&y(this.placeholder,t,n);const{image:i}=this;i&&(y(i,t,n),(!i.dataset.largestUsedSize||t>i.dataset.largestUsedSize)&&(i.sizes=t+"px",i.dataset.largestUsedSize=t),this.pswp.dispatch("imageSizeChange",{slide:this,width:t,height:n}))}getPlaceholder(){return this.placeholder}zoomTo(e,t,n,i){const{pswp:r}=this;if(!this.isZoomable||r.mainScroll.isShifted())return;r.dispatch("beforeZoomTo",{destZoomLevel:e,centerPoint:t,transitionDuration:n}),r.animations.stopAllPan(),t||(t=r.getViewportCenterPoint());const s=this.currZoomLevel;i||(e=l(e,this.zoomLevels.min,this.zoomLevels.max)),this.setZoomLevel(e),this.pan.x=this.calculateZoomToPanOffset("x",t,s),this.pan.y=this.calculateZoomToPanOffset("y",t,s),o(this.pan);const a=()=>{this._setResolution(e),this.applyCurrentZoomPan()};n?r.animations.startTransition({isPan:!0,name:"zoomTo",target:this.container,transform:this.getCurrentTransform(),onComplete:a,duration:n,easing:r.options.easing}):a()}toggleZoom(e){this.zoomTo(this.currZoomLevel===this.zoomLevels.initial?this.zoomLevels.secondary:this.zoomLevels.initial,e,this.pswp.options.zoomAnimationDuration)}setZoomLevel(e){this.currZoomLevel=e,this.bounds.update(this.currZoomLevel)}calculateZoomToPanOffset(e,t,n){const i=this.bounds.max[e]-this.bounds.min[e];let r;if(0===i)return this.bounds.center[e];const o=this["x"===e?"width":"height"]*(n||this.currZoomLevel),{panPaddingRatio:s,panEdgeIsViewport:a}=this.pswp.options,l=this.panAreaSize[e]*s;let c;return c=!a&&t[e]<l+this.pan[e]?0:!a&&t[e]>o+this.pan[e]-l?1:(t[e]-this.bounds.min[e]-l)/(this.panAreaSize[e]-2*l),r=i*c+this.bounds.min[e],r=this.bounds.correctPan(e,r),r}panTo(e,t){this.pan.x=this.bounds.correctPan("x",e),this.pan.y=this.bounds.correctPan("y",t),this.applyCurrentZoomPan()}isPannable(){return this.width&&this.currZoomLevel>this.zoomLevels.fit}isZoomable(){return this.width>0}applyCurrentZoomPan(){this._applyZoomTransform(this.pan.x,this.pan.y,this.currZoomLevel),this===this.pswp.currSlide&&this.pswp.dispatch("zoomPanUpdate",{slide:this})}zoomAndPanToInitial(){this.currZoomLevel=this.zoomLevels.initial,this.bounds.update(this.currZoomLevel),r(this.pan,this.bounds.center),this.pswp.dispatch("initialZoomPan",{slide:this})}_applyZoomTransform(e,t,n){n/=this.currentResolution||this.zoomLevels.initial,u(this.container,e,t,n)}_calculateSize(){if(this.data.src&&!this.loadError){const{pswp:e}=this;r(this.panAreaSize,v(e.options,e.viewportSize)),this.zoomLevels.update(this.width,this.height,this.panAreaSize),e.dispatch("calcSlideSize",{slide:this})}else this.width=0,this.height=0,this.zoomLevels.fit=1,this.zoomLevels.vFill=1,this.zoomLevels.initial=1}getCurrentTransform(){const e=this.currZoomLevel/(this.currentResolution||this.zoomLevels.initial);return c(this.pan.x,this.pan.y,e)}_setResolution(e){e!==this.currentResolution&&(this.currentResolution=e,this._updateImagesSize(),this.pswp.dispatch("resolutionChanged"))}}class w{constructor(e){this.gestures=e,this.pswp=e.pswp,this.startPan={}}start(){r(this.startPan,this.pswp.currSlide.pan),this.pswp.animations.stopAll()}change(){const{p1:e,prevP1:t,dragAxis:n,pswp:i}=this.gestures,{currSlide:r}=i;if("y"===n&&i.options.closeOnVerticalDrag&&r.currZoomLevel<=r.zoomLevels.vFill&&!this.gestures.isMultitouch){const n=r.pan.y+(e.y-t.y);if(!i.dispatch("verticalDrag",{panY:n}).defaultPrevented){this._setPanWithFriction("y",n,.6);const e=1-Math.abs(this._getVerticalDragRatio(r.pan.y));i.applyBgOpacity(e),r.applyCurrentZoomPan()}}else this._panOrMoveMainScroll("x")||(this._panOrMoveMainScroll("y"),o(r.pan),r.applyCurrentZoomPan())}end(){const{pswp:e,velocity:t}=this.gestures,{mainScroll:n}=e;let i=0;if(e.animations.stopAll(),n.isShifted()){const r=(n.x-n.getCurrSlideX())/e.viewportSize.x;t.x<-.5&&r<0||t.x<.1&&r<-.5?(i=1,t.x=Math.min(t.x,0)):(t.x>.5&&r>0||t.x>-.1&&r>.5)&&(i=-1,t.x=Math.max(t.x,0)),n.moveIndexBy(i,!0,t.x)}e.currSlide.currZoomLevel>e.currSlide.zoomLevels.max||this.gestures.isMultitouch?this.gestures.zoomLevels.correctZoomPan():(this._finishPanGestureForAxis("x"),this._finishPanGestureForAxis("y"))}_finishPanGestureForAxis(e){const{pswp:t}=this,{currSlide:n}=t,{velocity:i}=this.gestures,{pan:r,bounds:o}=n,s=r[e],a=t.bgOpacity<1&&"y"===e,c=s+.995*i[e]/(1-.995);if(a){const e=this._getVerticalDragRatio(s),n=this._getVerticalDragRatio(c);if(e<0&&n<-.4||e>0&&n>.4)return void t.close()}const u=o.correctPan(e,c);if(s===u)return;const d=u===c?1:.82,h=t.bgOpacity,p=u-s;t.animations.startSpring({name:"panGesture"+e,isPan:!0,start:s,end:u,velocity:i[e],dampingRatio:d,onUpdate:i=>{if(a&&t.bgOpacity<1){const e=1-(u-i)/p;t.applyBgOpacity(l(h+(1-h)*e,0,1))}r[e]=i,n.applyCurrentZoomPan()}})}_panOrMoveMainScroll(e){const{p1:t,pswp:n,dragAxis:i,prevP1:r,isMultitouch:o}=this.gestures,{currSlide:s,mainScroll:a}=n,l=t[e]-r[e],c=a.x+l;if(!l)return;if("x"===e&&!s.isPannable()&&!o)return a.moveTo(c,!0),!0;const{bounds:u}=s,d=s.pan[e]+l;if(n.options.allowPanToNext&&"x"===i&&"x"===e&&!o){const t=a.getCurrSlideX(),n=a.x-t,i=l>0,r=!i;if(d>u.min[e]&&i){if(u.min[e]<=this.startPan[e])return a.moveTo(c,!0),!0;this._setPanWithFriction(e,d)}else if(d<u.max[e]&&r){if(this.startPan[e]<=u.max[e])return a.moveTo(c,!0),!0;this._setPanWithFriction(e,d)}else if(0!==n){if(n>0)return a.moveTo(Math.max(c,t),!0),!0;if(n<0)return a.moveTo(Math.min(c,t),!0),!0}else this._setPanWithFriction(e,d)}else"y"===e&&(a.isShifted()||u.min.y===u.max.y)||this._setPanWithFriction(e,d)}_getVerticalDragRatio(e){return(e-this.pswp.currSlide.bounds.center.y)/(this.pswp.viewportSize.y/3)}_setPanWithFriction(e,t,n){const{pan:i,bounds:r}=this.pswp.currSlide;if(r.correctPan(e,t)!==t||n){const r=Math.round(t-i[e]);i[e]+=r*(n||.35)}else i[e]=t}}function _(e,t,n){return e.x=(t.x+n.x)/2,e.y=(t.y+n.y)/2,e}class x{constructor(e){this.gestures=e,this.pswp=this.gestures.pswp,this._startPan={},this._startZoomPoint={},this._zoomPoint={}}start(){this._startZoomLevel=this.pswp.currSlide.currZoomLevel,r(this._startPan,this.pswp.currSlide.pan),this.pswp.animations.stopAllPan(),this._wasOverFitZoomLevel=!1}change(){const{p1:e,startP1:t,p2:n,startP2:i,pswp:r}=this.gestures,{currSlide:o}=r,a=o.zoomLevels.min,l=o.zoomLevels.max;if(!o.isZoomable()||r.mainScroll.isShifted())return;_(this._startZoomPoint,t,i),_(this._zoomPoint,e,n);let c=1/s(t,i)*s(e,n)*this._startZoomLevel;if(c>o.zoomLevels.initial+o.zoomLevels.initial/15&&(this._wasOverFitZoomLevel=!0),c<a)if(r.options.pinchToClose&&!this._wasOverFitZoomLevel&&this._startZoomLevel<=o.zoomLevels.initial){const e=1-(a-c)/(a/1.2);r.dispatch("pinchClose",{bgOpacity:e}).defaultPrevented||r.applyBgOpacity(e)}else c=a-.25*(a-c);else c>l&&(c=l+.15*(c-l));o.pan.x=this._calculatePanForZoomLevel("x",c),o.pan.y=this._calculatePanForZoomLevel("y",c),o.setZoomLevel(c),o.applyCurrentZoomPan()}end(){const{pswp:e}=this,{currSlide:t}=e;t.currZoomLevel<t.zoomLevels.initial&&!this._wasOverFitZoomLevel&&e.options.pinchToClose?e.close():this.correctZoomPan()}_calculatePanForZoomLevel(e,t){const n=t/this._startZoomLevel;return this._zoomPoint[e]-(this._startZoomPoint[e]-this._startPan[e])*n}correctZoomPan(){const{pswp:e}=this,{currSlide:t}=e;if(!t.isZoomable())return;const n=t.currZoomLevel;let i,o=!0;n<t.zoomLevels.initial?i=t.zoomLevels.initial:n>t.zoomLevels.max?i=t.zoomLevels.max:(o=!1,i=n);const s=e.bgOpacity,c=e.bgOpacity<1,u=r({},t.pan);let d=r({},u);o&&(d={x:this._calculatePanForZoomLevel("x",i),y:this._calculatePanForZoomLevel("y",i)}),t.setZoomLevel(i),d={x:t.bounds.correctPan("x",d.x),y:t.bounds.correctPan("y",d.y)},t.setZoomLevel(n);let h=!0;if(a(d,u)&&(h=!1),!h&&!o&&!c)return t._setResolution(i),void t.applyCurrentZoomPan();e.animations.stopAllPan(),e.animations.startSpring({isPan:!0,start:0,end:1e3,velocity:0,dampingRatio:1,naturalFrequency:30,onUpdate:r=>{if(r/=1e3,h||o){if(h&&(t.pan.x=u.x+(d.x-u.x)*r,t.pan.y=u.y+(d.y-u.y)*r),o){const e=n+(i-n)*r;t.setZoomLevel(e)}t.applyCurrentZoomPan()}c&&e.bgOpacity<1&&e.applyBgOpacity(l(s+(1-s)*r,0,1))},onComplete:()=>{t._setResolution(i),t.applyCurrentZoomPan()}})}}function k(e){return!!e.target.closest(".pswp__container")}class C{constructor(e){this.gestures=e}click(e,t){const n=t.target.classList,i=n.contains("pswp__img"),r=n.contains("pswp__item")||n.contains("pswp__zoom-wrap");i?this._doClickOrTapAction("imageClick",e,t):r&&this._doClickOrTapAction("bgClick",e,t)}tap(e,t){k(t)&&this._doClickOrTapAction("tap",e,t)}doubleTap(e,t){k(t)&&this._doClickOrTapAction("doubleTap",e,t)}_doClickOrTapAction(e,t,n){const{pswp:i}=this.gestures,{currSlide:r}=i,o=i.options[e+"Action"];if("function"!=typeof o)switch(o){case"close":case"next":i[o]();break;case"zoom":r.toggleZoom(t);break;case"zoom-or-close":r.isZoomable()&&r.zoomLevels.secondary!==r.zoomLevels.initial?r.toggleZoom(t):i.options.clickToCloseNonZoomable&&i.close();break;case"toggle-controls":this.gestures.pswp.template.classList.toggle("pswp--ui-visible")}else o.call(i,t,n)}}class S{constructor(e){this.pswp=e,this.p1={},this.p2={},this.prevP1={},this.prevP2={},this.startP1={},this.startP2={},this.velocity={},this._lastStartP1={},this._intervalP1={},this._numActivePoints=0,this._ongoingPointers=[],this._touchEventEnabled="ontouchstart"in window,this._pointerEventEnabled=!!window.PointerEvent,this.supportsTouch=this._touchEventEnabled||this._pointerEventEnabled&&navigator.maxTouchPoints>1,this.supportsTouch||(e.options.allowPanToNext=!1),this.drag=new w(this),this.zoomLevels=new x(this),this.tapHandler=new C(this),e.on("bindEvents",(()=>{e.events.add(e.scrollWrap,"click",(e=>this._onClick(e))),this._pointerEventEnabled?this._bindEvents("pointer","down","up","cancel"):this._touchEventEnabled?(this._bindEvents("touch","start","end","cancel"),e.scrollWrap.ontouchmove=()=>{},e.scrollWrap.ontouchend=()=>{}):this._bindEvents("mouse","down","up")}))}_bindEvents(e,t,n,i){const{pswp:r}=this,{events:o}=r,s=i?e+i:"";o.add(r.scrollWrap,e+t,this.onPointerDown.bind(this)),o.add(window,e+"move",this.onPointerMove.bind(this)),o.add(window,e+n,this.onPointerUp.bind(this)),s&&o.add(r.scrollWrap,s,this.onPointerUp.bind(this))}onPointerDown(e){let t;if("mousedown"!==e.type&&"mouse"!==e.pointerType||(t=!0),t&&e.button>0)return;const{pswp:n}=this;n.opener.isOpen?n.dispatch("pointerDown",{originalEvent:e}).defaultPrevented||(t&&(n.mouseDetected(),this._preventPointerEventBehaviour(e)),n.animations.stopAll(),this._updatePoints(e),this.pointerDown=!0,1===this._numActivePoints&&(this.dragAxis=null,r(this.startP1,this.p1)),this._numActivePoints>1?(this._clearTapTimer(),this.isMultitouch=!0):this.isMultitouch=!1):e.preventDefault()}onPointerMove(e){e.preventDefault(),this._numActivePoints&&(this._updatePoints(e),this.pswp.dispatch("pointerMove",{originalEvent:e}).defaultPrevented||(1!==this._numActivePoints||this.isDragging?this._numActivePoints>1&&!this.isZooming&&(this._finishDrag(),this.isZooming=!0,this._updateStartPoints(),this.zoomLevels.start(),this._rafStopLoop(),this._rafRenderLoop()):(this.dragAxis||this._calculateDragDirection(),this.dragAxis&&!this.isDragging&&(this.isZooming&&(this.isZooming=!1,this.zoomLevels.end()),this.isDragging=!0,this._clearTapTimer(),this._updateStartPoints(),this._intervalTime=Date.now(),this._velocityCalculated=!1,r(this._intervalP1,this.p1),this.velocity.x=0,this.velocity.y=0,this.drag.start(),this._rafStopLoop(),this._rafRenderLoop()))))}_finishDrag(){this.isDragging&&(this.isDragging=!1,this._velocityCalculated||this._updateVelocity(!0),this.drag.end(),this.dragAxis=null)}onPointerUp(e){this._numActivePoints&&(this._updatePoints(e,!0),this.pswp.dispatch("pointerUp",{originalEvent:e}).defaultPrevented||(0===this._numActivePoints&&(this.pointerDown=!1,this._rafStopLoop(),this.isDragging?this._finishDrag():this.isZooming||this.isMultitouch||this._finishTap(e)),this._numActivePoints<2&&this.isZooming&&(this.isZooming=!1,this.zoomLevels.end(),1===this._numActivePoints&&(this.dragAxis=null,this._updateStartPoints()))))}_rafRenderLoop(){(this.isDragging||this.isZooming)&&(this._updateVelocity(),this.isDragging?a(this.p1,this.prevP1)||this.drag.change():a(this.p1,this.prevP1)||a(this.p2,this.prevP2)||this.zoomLevels.change(),this._updatePrevPoints(),this.raf=requestAnimationFrame(this._rafRenderLoop.bind(this)))}_updateVelocity(e){const t=Date.now(),n=t-this._intervalTime;n<50&&!e||(this.velocity.x=this._getVelocity("x",n),this.velocity.y=this._getVelocity("y",n),this._intervalTime=t,r(this._intervalP1,this.p1),this._velocityCalculated=!0)}_finishTap(e){const{mainScroll:t}=this.pswp;if(t.isShifted())return void t.moveIndexBy(0,!0);if(e.type.indexOf("cancel")>0)return;if("mouseup"===e.type||"mouse"===e.pointerType)return void this.tapHandler.click(this.startP1,e);const n=this.pswp.options.doubleTapAction?300:0;this._tapTimer?(this._clearTapTimer(),s(this._lastStartP1,this.startP1)<25&&this.tapHandler.doubleTap(this.startP1,e)):(r(this._lastStartP1,this.startP1),this._tapTimer=setTimeout((()=>{this.tapHandler.tap(this.startP1,e),this._clearTapTimer()}),n))}_clearTapTimer(){this._tapTimer&&(clearTimeout(this._tapTimer),this._tapTimer=null)}_getVelocity(e,t){const n=this.p1[e]-this._intervalP1[e];return Math.abs(n)>1&&t>5?n/t:0}_rafStopLoop(){this.raf&&(cancelAnimationFrame(this.raf),this.raf=null)}_preventPointerEventBehaviour(e){return e.preventDefault(),!0}_updatePoints(e,t){if(this._pointerEventEnabled){const n=this._ongoingPointers.findIndex((t=>t.id===e.pointerId));t&&n>-1?this._ongoingPointers.splice(n,1):t||-1!==n?n>-1&&this._convertEventPosToPoint(e,this._ongoingPointers[n]):this._ongoingPointers.push(this._convertEventPosToPoint(e,{})),this._numActivePoints=this._ongoingPointers.length,this._numActivePoints>0&&r(this.p1,this._ongoingPointers[0]),this._numActivePoints>1&&r(this.p2,this._ongoingPointers[1])}else this._numActivePoints=0,e.type.indexOf("touch")>-1?e.touches&&e.touches.length>0&&(this._convertEventPosToPoint(e.touches[0],this.p1),this._numActivePoints++,e.touches.length>1&&(this._convertEventPosToPoint(e.touches[1],this.p2),this._numActivePoints++)):(this._convertEventPosToPoint(e,this.p1),t?this._numActivePoints=0:this._numActivePoints++)}_updatePrevPoints(){r(this.prevP1,this.p1),r(this.prevP2,this.p2)}_updateStartPoints(){r(this.startP1,this.p1),r(this.startP2,this.p2),this._updatePrevPoints()}_calculateDragDirection(){if(this.pswp.mainScroll.isShifted())this.dragAxis="x";else{const e=Math.abs(this.p1.x-this.startP1.x)-Math.abs(this.p1.y-this.startP1.y);if(0!==e){const t=e>0?"x":"y";Math.abs(this.p1[t]-this.startP1[t])>=10&&(this.dragAxis=t)}}}_convertEventPosToPoint(e,t){return t.x=e.pageX-this.pswp.offset.x,t.y=e.pageY-this.pswp.offset.y,void 0!==e.pointerId?t.id=e.pointerId:void 0!==e.identifier&&(t.id=e.identifier),t}_onClick(e){this.pswp.mainScroll.isShifted()&&(e.preventDefault(),e.stopPropagation())}}class A{constructor(e){this.pswp=e,this.x=0,this.slideWidth=0,this.resetPosition()}resize(e){const{pswp:t}=this;this.slideWidth=Math.round(t.viewportSize.x+t.viewportSize.x*t.options.spacing),this.moveTo(this.getCurrSlideX()),this.itemHolders.forEach(((t,n)=>{u(t.el,(n+this._containerShiftIndex)*this.slideWidth),e&&t.slide&&t.slide.resize()}))}resetPosition(){this._currPositionIndex=0,this._prevPositionIndex=0,this._containerShiftIndex=-1}appendHolders(){this.itemHolders=[];for(let e=0;e<3;e++){const t=i("pswp__item",!1,this.pswp.container);t.style.display=1===e?"block":"none",this.itemHolders.push({el:t})}}canBeSwiped(){return this.pswp.getNumItems()>1}moveIndexBy(e,t,n){const{pswp:i}=this;let r=i.potentialIndex+e;i.options.loop?r=i.getLoopedIndex(r):(r<0?r=0:r>=i.getNumItems()&&(r=i.getNumItems()-1),e=r-i.potentialIndex),i.potentialIndex=r,this._currPositionIndex-=e,i.animations.stopMainScroll();const o=this.getCurrSlideX();if(t?(i.animations.startSpring({isMainScroll:!0,start:this.x,end:o,velocity:n||0,naturalFrequency:30,dampingRatio:1,onUpdate:e=>{this.moveTo(e)},onComplete:()=>{this.updateCurrItem(),i.appendHeavy()}}),Math.abs(i.potentialIndex-i.currIndex)>1&&this.updateCurrItem()):(this.moveTo(o),this.updateCurrItem()),e)return!0}getCurrSlideX(){return this.slideWidth*this._currPositionIndex}isShifted(){return this.x!==this.getCurrSlideX()}updateCurrItem(){const{pswp:e}=this,t=this._prevPositionIndex-this._currPositionIndex;if(!t)return;this._prevPositionIndex=this._currPositionIndex,e.currIndex=e.potentialIndex;let n,i=Math.abs(t);i>=3&&(this._containerShiftIndex+=t+(t>0?-3:3),i=3);for(let r=0;r<i;r++)t>0?(n=this.itemHolders.shift(),this.itemHolders[2]=n,this._containerShiftIndex++,u(n.el,(this._containerShiftIndex+2)*this.slideWidth),e.setContent(n,e.currIndex-i+r+2)):(n=this.itemHolders.pop(),this.itemHolders.unshift(n),this._containerShiftIndex--,u(n.el,this._containerShiftIndex*this.slideWidth),e.setContent(n,e.currIndex+i-r-2));Math.abs(this._containerShiftIndex)>50&&!this.isShifted()&&(this.resetPosition(),this.resize()),e.animations.stopAllPan(),this.itemHolders.forEach(((e,t)=>{e.slide&&e.slide.setIsActive(1===t)})),e.currSlide=this.itemHolders[1].slide,e.lazyLoader.update(t),e.currSlide.applyCurrentZoomPan(),e.dispatch("change")}moveTo(e,t){let n,i;!this.pswp.options.loop&&t&&(n=(this.slideWidth*this._currPositionIndex-e)/this.slideWidth,n+=this.pswp.currIndex,i=Math.round(e-this.x),(n<0&&i>0||n>=this.pswp.getNumItems()-1&&i<0)&&(e=this.x+.35*i)),this.x=e,u(this.pswp.container,e),this.pswp.dispatch("moveMainScroll",{x:e,dragging:t})}}class D{constructor(e){this.pswp=e,e.on("bindEvents",(()=>{e.options.initialPointerPos||this._focusRoot(),e.events.add(document,"focusin",this._onFocusIn.bind(this)),e.events.add(document,"keydown",this._onKeyDown.bind(this))}));const t=document.activeElement;e.on("destroy",(()=>{e.options.returnFocus&&t&&this._wasFocused&&t.focus()}))}_focusRoot(){this._wasFocused||(this.pswp.template.focus(),this._wasFocused=!0)}_onKeyDown(e){const{pswp:t}=this;if(t.dispatch("keydown",{originalEvent:e}).defaultPrevented)return;if(function(e){if(2===e.which||e.ctrlKey||e.metaKey||e.altKey||e.shiftKey)return!0}(e))return;let n,i,r;switch(e.keyCode){case 27:t.options.escKey&&(n="close");break;case 90:n="toggleZoom";break;case 37:i="x";break;case 38:i="y";break;case 39:i="x",r=!0;break;case 40:r=!0,i="y";break;case 9:this._focusRoot()}if(i){e.preventDefault();const{currSlide:o}=t;t.options.arrowKeys&&"x"===i&&t.getNumItems()>1?n=r?"next":"prev":o&&o.currZoomLevel>o.zoomLevels.fit&&(o.pan[i]+=r?-80:80,o.panTo(o.pan.x,o.pan.y))}n&&(e.preventDefault(),t[n]())}_onFocusIn(e){const{template:t}=this.pswp;document===e.target||t===e.target||t.contains(e.target)||t.focus()}}class O{constructor(e){this.props=e;const{target:t,onComplete:n,transform:i}=e;let{duration:r,easing:o}=e;const s=i?"transform":"opacity",a=e[s];this._target=t,this._onComplete=n,r=r||333,o=o||"cubic-bezier(.4,0,.22,1)",this._onTransitionEnd=this._onTransitionEnd.bind(this),this._firstFrameTimeout=setTimeout((()=>{d(t,s,r,o),this._firstFrameTimeout=setTimeout((()=>{t.addEventListener("transitionend",this._onTransitionEnd,!1),t.addEventListener("transitioncancel",this._onTransitionEnd,!1),t.style[s]=a}),30)}),0)}_onTransitionEnd(e){e.target===this._target&&this._finalizeAnimation()}_finalizeAnimation(){this._finished||(this._finished=!0,this.onFinish(),this._onComplete&&this._onComplete())}destroy(){this._firstFrameTimeout&&clearTimeout(this._firstFrameTimeout),d(this._target),this._target.removeEventListener("transitionend",this._onTransitionEnd,!1),this._target.removeEventListener("transitioncancel",this._onTransitionEnd,!1),this._finished||this._finalizeAnimation()}}class T{constructor(e,t,n){this.velocity=1e3*e,this._dampingRatio=t||.75,this._naturalFrequency=n||12,this._dampingRatio<1&&(this._dampedFrequency=this._naturalFrequency*Math.sqrt(1-this._dampingRatio*this._dampingRatio))}easeFrame(e,t){let n,i=0;t/=1e3;const r=Math.E**(-this._dampingRatio*this._naturalFrequency*t);if(1===this._dampingRatio)n=this.velocity+this._naturalFrequency*e,i=(e+n*t)*r,this.velocity=i*-this._naturalFrequency+n*r;else if(this._dampingRatio<1){n=1/this._dampedFrequency*(this._dampingRatio*this._naturalFrequency*e+this.velocity);const o=Math.cos(this._dampedFrequency*t),s=Math.sin(this._dampedFrequency*t);i=r*(e*o+n*s),this.velocity=i*-this._naturalFrequency*this._dampingRatio+r*(-this._dampedFrequency*e*s+this._dampedFrequency*n*o)}return i}}class E{constructor(e){this.props=e;const{start:t,end:n,velocity:i,onUpdate:r,onComplete:o,onFinish:s,dampingRatio:a,naturalFrequency:l}=e,c=new T(i,a,l);let u=Date.now(),d=t-n;this._onFinish=s;const h=()=>{this._raf&&(d=c.easeFrame(d,Date.now()-u),Math.abs(d)<1&&Math.abs(c.velocity)<50?(r(n),o&&o(),this.onFinish()):(u=Date.now(),r(d+n),this._raf=requestAnimationFrame(h)))};this._raf=requestAnimationFrame(h)}destroy(){this._raf>=0&&cancelAnimationFrame(this._raf),this._raf=null}}class ${constructor(){this.activeAnimations=[]}startSpring(e){this._start(e,!0)}startTransition(e){this._start(e)}_start(e,t){let n;return n=t?new E(e):new O(e),this.activeAnimations.push(n),n.onFinish=()=>this.stop(n),n}stop(e){e.destroy();const t=this.activeAnimations.indexOf(e);t>-1&&this.activeAnimations.splice(t,1)}stopAll(){this.activeAnimations.forEach((e=>{e.destroy()})),this.activeAnimations=[]}stopAllPan(){this.activeAnimations=this.activeAnimations.filter((e=>!e.props.isPan||(e.destroy(),!1)))}stopMainScroll(){this.activeAnimations=this.activeAnimations.filter((e=>!e.props.isMainScroll||(e.destroy(),!1)))}isPanRunning(){return this.activeAnimations.some((e=>e.props.isPan))}}class M{constructor(e){this.pswp=e,e.events.add(e.template,"wheel",this._onWheel.bind(this))}_onWheel(e){e.preventDefault();const{currSlide:t}=this.pswp;let{deltaX:n,deltaY:i}=e;if(t)if(this.pswp.dispatch("wheel"),1===e.deltaMode&&(n*=18,i*=18),e.ctrlKey||this.pswp.options.wheelToZoom){if(t.isZoomable()){const n=t.currZoomLevel-.04*t.zoomLevels.fit*i;t.zoomTo(n,{x:e.clientX,y:e.clientY})}}else t.isPannable()&&t.panTo(t.pan.x-n,t.pan.y-i)}}class R{constructor(e,t){const n=t.name||t.class;let r=t.html;if(!1===e.options[n])return;"string"==typeof e.options[n+"SVG"]&&(r=e.options[n+"SVG"]),e.dispatch("uiElementCreate",{data:t});let o,s="pswp__";t.isButton&&(s+="button pswp__button--"),s+=t.class||t.name,t.isButton?(o=i(s,"button"),o.type="button",o.innerHTML=function(e){if("string"==typeof e)return e;if(!e||!e.isCustomSVG)return"";const t=e;let n='<svg aria-hidden="true" class="pswp__icn" viewBox="0 0 %d %d" width="%d" height="%d">';return n=n.split("%d").join(t.size||32),t.outlineID&&(n+='<use class="pswp__icn-shadow" xlink:href="#'+t.outlineID+'"/>'),n+=t.inner,n+="</svg>",n}(r),"string"==typeof e.options[n+"Title"]?o.title=e.options[n+"Title"]:t.title&&(o.title=t.title)):o=i(s),t.onInit&&t.onInit(o,e),t.onClick&&(o.onclick=n=>{"string"==typeof t.onClick?e[t.onClick]():t.onClick(n,o,e)});const a=t.appendTo||"bar";let l;"bar"===a?(e.topBar||(e.topBar=i("pswp__top-bar pswp__hide-on-close",!1,e.scrollWrap)),l=e.topBar):(o.classList.add("pswp__hide-on-close"),l="wrapper"===a?e.scrollWrap:e.template),l.appendChild(o)}}function L(e,t,n){e.classList.add("pswp__button--arrow"),t.on("change",(()=>{t.options.loop||(e.disabled=n?!(t.currIndex<t.getNumItems()-1):!(t.currIndex>0))}))}const P={name:"arrowPrev",class:"arrow--prev",title:"Previous",order:10,isButton:!0,appendTo:"wrapper",html:{isCustomSVG:!0,size:60,inner:'<path d="M29 43l-3 3-16-16 16-16 3 3-13 13 13 13z" id="pswp__icn-arrow"/>',outlineID:"pswp__icn-arrow"},onClick:"prev",onInit:L},F={name:"arrowNext",class:"arrow--next",title:"Next",order:11,isButton:!0,appendTo:"wrapper",html:{isCustomSVG:!0,size:60,inner:'<use xlink:href="#pswp__icn-arrow"/>',outlineID:"pswp__icn-arrow"},onClick:"next",onInit:(e,t)=>{L(e,t,!0)}},I={name:"close",title:"Close",order:20,isButton:!0,html:{isCustomSVG:!0,inner:'<path d="M24 10l-2-2-6 6-6-6-2 2 6 6-6 6 2 2 6-6 6 6 2-2-6-6z" id="pswp__icn-close"/>',outlineID:"pswp__icn-close"},onClick:"close"},j={name:"zoom",title:"Zoom (z)",order:10,isButton:!0,html:{isCustomSVG:!0,inner:'<path d="M17.426 19.926a6 6 0 1 1 1.5-1.5L23 22.5 21.5 24l-4.074-4.074z" id="pswp__icn-zoom"/><path fill="currentColor" class="pswp__zoom-icn-bar-h" d="M11 16v-2h6v2z"/><path fill="currentColor" class="pswp__zoom-icn-bar-v" d="M13 12h2v6h-2z"/>',outlineID:"pswp__icn-zoom"},onClick:"toggleZoom"},N={name:"preloader",appendTo:"wrapper",onInit:(e,t)=>{let n,i,r;const o=()=>{n&&(e.style.left=Math.round((t.viewportSize.x-24)/2)+"px",e.style.top=Math.round((t.viewportSize.y-24)/2)+"px")},s=(t,n)=>{e.classList[n?"add":"remove"]("pswp__preloader--"+t)},a=e=>{n!==e&&(n=e,clearTimeout(r),s("hiding",!e),e?(o(),s("active",!0)):r=setTimeout((()=>{s("active",!1)}),350))};t.on("change",(()=>{t.currSlide.isLoading?(clearTimeout(i),i=setTimeout((()=>{a(t.currSlide.isLoading)}),1100)):a(!1)})),t.on("loadComplete",(e=>{t.currSlide===e.slide&&a(!1)})),t.on("resize",o)}},V={name:"counter",order:5,onInit:(e,t)=>{t.on("change",(()=>{e.innerHTML=t.currIndex+1+t.options.indexIndicatorSep+t.getNumItems()}))}};function B(e,t){e.classList[t?"add":"remove"]("pswp--zoomed-in")}class q{constructor(e){this.pswp=e}init(){const{pswp:e}=this;this.isRegistered=!1,this.uiElementsData=[I,P,F,j,N,V],e.dispatch("uiRegister"),this.uiElementsData.sort(((e,t)=>(e.order||0)-(t.order||0))),this.items=[],this.isRegistered=!0,this.uiElementsData.forEach((e=>{this.registerElement(e)})),1===e.getNumItems()&&e.template.classList.add("pswp--one-slide"),e.on("zoomPanUpdate",(()=>this._onZoomPanUpdate()))}registerElement(e){this.isRegistered?this.items.push(new R(this.pswp,e)):this.uiElementsData.push(e)}_onZoomPanUpdate(){const{template:e,currSlide:t,options:n}=this.pswp;let{currZoomLevel:i}=t;if(this.pswp.opener.isClosing)return;if(this.pswp.opener.isOpen||(i=t.zoomLevels.initial),i===this._lastUpdatedZoomLevel)return;this._lastUpdatedZoomLevel=i;const r=t.zoomLevels.initial-t.zoomLevels.secondary;if(Math.abs(r)<.01)return B(e,!1),void e.classList.remove("pswp--zoom-allowed");e.classList.add("pswp--zoom-allowed");const o=r<0;i===t.zoomLevels.secondary?B(e,o):i>t.zoomLevels.secondary?B(e,!0):B(e,!1),"zoom"!==n.imageClickAction&&"zoom-or-close"!==n.imageClickAction||e.classList.add("pswp--click-to-zoom")}}function z(e,t,n){if(e.src&&e.w&&e.h){const{options:i}=t,r=v(i,t.viewportSize||g(i)),o=new m(i,e,-1);o.update(e.w,e.h,r);const s=document.createElement("img");return s.decoding="async",s.sizes=Math.ceil(e.w*o.initial)+"px",e.srcset&&(s.srcset=e.srcset),s.src=e.src,n&&"decode"in s&&s.decode(),s}}class W{constructor(e){this.pswp=e,this.clearRecent()}update(e){const{pswp:t}=this;if(t.dispatch("lazyLoad").defaultPrevented)return;const{preload:n}=t.options,i=void 0===e||e>=0;let r;for(r=0;r<=n[1];r++)this.loadSlideByIndex(t.currIndex+(i?r:-r));for(r=1;r<=n[0];r++)this.loadSlideByIndex(t.currIndex+(i?-r:r))}clearRecent(){this._recentlyLazyLoadedIndexes=[]}addRecent(e){if(!(this._recentlyLazyLoadedIndexes.indexOf(e)>-1))return this._recentlyLazyLoadedIndexes.length>14&&this._recentlyLazyLoadedIndexes.pop(),this._recentlyLazyLoadedIndexes.unshift(e),!0}loadSlideByIndex(e){e=this.pswp.getLoopedIndex(e),this.addRecent(e)&&function(e,t){const n=t.getItemData(e);t.dispatch("lazyLoadSlide",{index:e,itemData:n}).defaultPrevented||z(n,t)}(e,this.pswp)}loadSlideByData(e,t){z(e,this.pswp,t)}}class U{constructor(e,t){this.type=e,t&&Object.assign(this,t)}preventDefault(){this.defaultPrevented=!0}}const H=.003;class K{constructor(e){this.pswp=e,this.isClosed=!0,this._prepareOpen=this._prepareOpen.bind(this),e.on("firstZoomPan",this._prepareOpen)}open(){this._prepareOpen(),this._start()}close(){return!(this.isClosed||this.isClosing||this.isOpening||(this.isOpen=!1,this.isOpening=!1,this.isClosing=!0,this._duration=this.pswp.options.hideAnimationDuration,this._applyStartProps(),setTimeout((()=>{this._start()}),this._croppedZoom?30:0),0))}_prepareOpen(){this.pswp.off("firstZoomPan",this._prepareOpen),this.isOpening||(this.isOpening=!0,this.isClosing=!1,this._duration=this.pswp.options.showAnimationDuration,this._applyStartProps())}_applyStartProps(){const{pswp:e}=this,t=this.pswp.currSlide,{options:n}=e;if("fade"===n.showHideAnimationType?(n.showHideOpacity=!0,this._thumbBounds=!1):"none"===n.showHideAnimationType?(n.showHideOpacity=!1,this._duration=0,this._thumbBounds=!1):this.isOpening&&e._initialThumbBounds?this._thumbBounds=e._initialThumbBounds:this._thumbBounds=this.pswp.getThumbBounds(),this._placeholder=t.getPlaceholder(),e.animations.stopAll(),this._useAnimation=this._duration>50,this._animateZoom=Boolean(this._thumbBounds)&&t.isZoomable()&&(!this.isClosing||!e.mainScroll.isShifted()),this._animateZoom?this._animateRootOpacity=n.showHideOpacity:(this._animateRootOpacity=!0,this.isOpening&&(t.zoomAndPanToInitial(),t.applyCurrentZoomPan())),this._animateBgOpacity=!this._animateRootOpacity,this._opacityElement=this._animateRootOpacity?e.template:e.bg,!this._useAnimation)return this._duration=0,this._animateZoom=!1,this._animateBgOpacity=!1,this._animateRootOpacity=!0,void(this.isOpening&&(e.template.style.opacity=H,e.applyBgOpacity(1)));this._animateZoom&&this._thumbBounds.innerRect?(this._croppedZoom=!0,this._cropContainer1=this.pswp.container,this._cropContainer2=this.pswp.currSlide.holderElement,e.container.style.overflow="hidden",e.container.style.width=e.viewportSize.x+"px"):this._croppedZoom=!1,this.isOpening?(this._animateBgOpacity&&(e.bg.style.opacity=H,e.template.style.opacity=1),this._animateRootOpacity&&(e.template.style.opacity=H,e.applyBgOpacity(1)),this._animateZoom&&(this._setClosedStateZoomPan(),this._placeholder&&(this._placeholder.willChange="transform",this._placeholder.style.opacity=H))):this.isClosing&&(e.mainScroll.itemHolders[0].el.style.display="none",e.mainScroll.itemHolders[2].el.style.display="none",this._croppedZoom&&0!==e.mainScroll.x&&(e.mainScroll.resetPosition(),e.mainScroll.resize()))}_start(){this.isOpening&&this._useAnimation&&this._placeholder&&"IMG"===this._placeholder.tagName?new Promise((e=>{let t=!1,n=!0;var i;(i=this._placeholder,"decode"in i?i.decode():i.complete?Promise.resolve(i):new Promise(((e,t)=>{i.onload=()=>e(i),i.onerror=t}))).finally((()=>{t=!0,n||e()})),setTimeout((()=>{n=!1,t&&e()}),50),setTimeout(e,250)})).finally((()=>this._initiate())):this._initiate()}_initiate(){this.pswp.template.style.setProperty("--pswp-transition-duration",this._duration+"ms"),this.pswp.dispatch("initialZoom"+(this.isOpening?"In":"Out")),this.pswp.template.classList[this.isOpening?"add":"remove"]("pswp--ui-visible"),this.isOpening?(this._placeholder&&(this._placeholder.style.opacity=1),this._animateToOpenState()):this.isClosing&&this._animateToClosedState(),this._useAnimation||this._onAnimationComplete()}_onAnimationComplete(){const{pswp:e}=this;this.isOpen=this.isOpening,this.isClosed=this.isClosing,this.isOpening=!1,this.isClosing=!1,e.dispatch("initialZoom"+(this.isOpen?"InEnd":"OutEnd")),this.isClosed?e.destroy():this.isOpen&&(this._animateZoom&&(e.container.style.overflow="visible",e.container.style.width="100%"),e.currSlide.applyCurrentZoomPan())}_animateToOpenState(){const{pswp:e}=this;this._animateZoom&&(this._croppedZoom&&(this._animateTo(this._cropContainer1,"transform","translate3d(0,0,0)"),this._animateTo(this._cropContainer2,"transform","none")),e.currSlide.zoomAndPanToInitial(),this._animateTo(e.currSlide.container,"transform",e.currSlide.getCurrentTransform())),this._animateBgOpacity&&this._animateTo(e.bg,"opacity",e.options.bgOpacity),this._animateRootOpacity&&this._animateTo(e.template,"opacity",1)}_animateToClosedState(){const{pswp:e}=this;this._animateZoom&&this._setClosedStateZoomPan(!0),this._animateBgOpacity&&e.bgOpacity>.01&&this._animateTo(e.bg,"opacity",0),this._animateRootOpacity&&this._animateTo(e.template,"opacity",0)}_setClosedStateZoomPan(e){const{pswp:t}=this,{innerRect:n}=this._thumbBounds,{currSlide:i,viewportSize:o}=t;if(this._croppedZoom){const t=-o.x+(this._thumbBounds.x-n.x)+n.w,i=-o.y+(this._thumbBounds.y-n.y)+n.h,r=o.x-n.w,s=o.y-n.h;e?(this._animateTo(this._cropContainer1,"transform",c(t,i)),this._animateTo(this._cropContainer2,"transform",c(r,s))):(u(this._cropContainer1,t,i),u(this._cropContainer2,r,s))}r(i.pan,n||this._thumbBounds),i.currZoomLevel=this._thumbBounds.w/i.width,e?this._animateTo(i.container,"transform",i.getCurrentTransform()):i.applyCurrentZoomPan()}_animateTo(e,t,n){if(!this._duration)return void(e.style[t]=n);const{animations:i}=this.pswp,r={duration:this._duration,easing:this.pswp.options.easing,onComplete:()=>{i.activeAnimations.length||this._onAnimationComplete()},target:e};r[t]=n,i.startTransition(r)}}const Z={allowPanToNext:!0,spacing:.1,loop:!0,pinchToClose:!0,closeOnVerticalDrag:!0,hideAnimationDuration:333,showAnimationDuration:333,zoomAnimationDuration:333,escKey:!0,arrowKeys:!0,returnFocus:!0,clickToCloseNonZoomable:!0,imageClickAction:"zoom-or-close",bgClickAction:"close",tapAction:"toggle-controls",doubleTapAction:"zoom",indexIndicatorSep:" / ",panPaddingRatio:.15,bgOpacity:.8,index:0,errorMsg:'<div class="pswp__error-msg"><a href="" target="_blank">The image</a> could not be loaded.</div>',preload:[1,2],easing:"cubic-bezier(.4,0,.22,1)",paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},G=class extends class extends class{constructor(){this._listeners={}}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t),this.pswp&&this.pswp.on(e,t)}off(e,t){this._listeners[e]&&(this._listeners[e]=this._listeners[e].filter((e=>t!==e))),this.pswp&&this.pswp.off(e,t)}dispatch(e,t){if(this.pswp)return this.pswp.dispatch(e,t);const n=new U(e,t);return this._listeners?(this._listeners[e]&&this._listeners[e].forEach((e=>{e.call(this,n)})),n):n}}{getNumItems(){let e;const{dataSource:t}=this.options;return t?t.length?e=t.length:t.gallery&&(t.items||(t.items=this._getGalleryDOMElements(t.gallery)),t.items&&(e=t.items.length)):e=0,this.dispatch("numItems",{dataSource:t,numItems:e}).numItems}getItemData(e){const{dataSource:t}=this.options;let n;Array.isArray(t)?n=t[e]:t&&t.gallery&&(t.items||(t.items=this._getGalleryDOMElements(t.gallery)),n=t.items[e]);let i=n;return i instanceof Element&&(i=this._domElementToItemData(i)),this.dispatch("itemData",{itemData:i||{},index:e}).itemData}_getGalleryDOMElements(e){return this.options.childSelector?e.querySelectorAll(this.options.childSelector)||[]:[e]}_domElementToItemData(e){const t={element:e},n="A"===e.tagName?e:e.querySelector("a");if(!n)return t;t.src=n.dataset.pswpSrc||n.href,t.srcset=n.dataset.pswpSrcset,t.w=parseInt(n.dataset.pswpWidth,10),t.h=parseInt(n.dataset.pswpHeight,10);const i=e.querySelector("img");return i&&(t.msrc=i.currentSrc||i.src,t.alt=i.getAttribute("alt")),n.dataset.cropped&&(t.thumbCropped=!0),t}}{constructor(e,t){super(),this.items=e,this._prepareOptions(t),this.offset={},this._prevViewportSize={},this.viewportSize={},this.bgOpacity=1,this.events=new p,this.animations=new $,this.mainScroll=new A(this),this.gestures=new S(this),this.opener=new K(this),this.keyboard=new D(this),this.lazyLoader=new W(this)}init(){if(this.isOpen||this.isDestroying)return;this.isOpen=!0,this.getNumItems()<3&&(this.options.loop=!1),this.dispatch("init"),this._createMainStructure();let e="pswp--open";return this.gestures.supportsTouch&&(e+=" pswp--touch"),this.options.allowMouseDrag||(e+=" pswp--no-mouse-drag"),this.options.mainClass&&(e+=" "+this.options.mainClass),this.template.className+=" "+e,this.currIndex=this.options.index||0,this.potentialIndex=this.currIndex,this.dispatch("firstUpdate"),this.scrollWheel=new M(this),(Number.isNaN(this.currIndex)||this.currIndex<0||this.currIndex>=this.getNumItems())&&(this.currIndex=0),this.gestures.supportsTouch||this.mouseDetected(),this.updateSize(),this.offset.y=window.pageYOffset,this._initialItemData=this.getItemData(this.currIndex),this.dispatch("gettingData",this.currIndex,this._initialItemData,!0),this._initialThumbBounds=this.getThumbBounds(),this.dispatch("initialLayout"),this.on("initialZoomInEnd",(()=>{this.setContent(this.mainScroll.itemHolders[0],this.currIndex-1),this.setContent(this.mainScroll.itemHolders[2],this.currIndex+1),this.mainScroll.itemHolders[0].el.style.display="block",this.mainScroll.itemHolders[2].el.style.display="block",this.appendHeavy(),this.lazyLoader.update(),this.events.add(window,"resize",this._handlePageResize.bind(this)),this.events.add(window,"scroll",this._updatePageScrollOffset.bind(this)),this.dispatch("bindEvents")})),this.setContent(this.mainScroll.itemHolders[1],this.currIndex),this.dispatch("change"),this.opener.open(),this.dispatch("afterInit"),!0}getLoopedIndex(e){const t=this.getNumItems();return this.options.loop&&(e>t-1&&(e-=t),e<0&&(e+=t)),l(e,0,t-1)}getIndexDiff(e){if(this.options.loop){const t=this.getNumItems()-1;if(0===this.currIndex&&e===t)return-1;if(this.currIndex===t&&0===e)return 1}return e-this.currIndex}appendHeavy(){this.mainScroll.itemHolders.forEach((e=>{e.slide&&e.slide.appendHeavy()}))}goTo(e){e=this.getLoopedIndex(e),this.mainScroll.moveIndexBy(e-this.potentialIndex)&&this.dispatch("afterGoto")}next(){this.goTo(this.potentialIndex+1)}prev(){this.goTo(this.potentialIndex-1)}zoomTo(...e){this.currSlide.zoomTo(...e)}toggleZoom(){this.currSlide.toggleZoom()}close(){this.opener.isOpen&&!this.isDestroying&&(this.isDestroying=!0,this.dispatch("close"),this.events.removeAll(),this.opener.close())}destroy(){this.isDestroying?(this.dispatch("destroy"),this.listeners=null,this.scrollWrap.ontouchmove=null,this.scrollWrap.ontouchend=null,this.template.remove(),this.events.removeAll()):this.close()}setContent(e,t){if(e.slide&&e.slide.destroy(),this.options.loop)t=this.getLoopedIndex(t);else if(t<0||t>=this.getNumItems())return void(e.el.innerHTML="");const n=this.getItemData(t);e.slide=new b(n,t,this),t===this.currIndex&&(this.currSlide=e.slide),e.slide.append(e.el)}getViewportCenterPoint(){return{x:this.viewportSize.x/2,y:this.viewportSize.y/2}}updateSize(e){if(this.isDestroying)return;const t=g(this.options,this);!e&&a(t,this._prevViewportSize)||(r(this._prevViewportSize,t),this.dispatch("beforeResize"),r(this.viewportSize,this._prevViewportSize),this._updatePageScrollOffset(),this.dispatch("viewportSize"),this.mainScroll.resize(this.opener.isOpen),!this.hasMouse&&window.matchMedia("(any-hover: hover)").matches&&this.mouseDetected(),this.dispatch("resize"))}applyBgOpacity(e){this.bgOpacity=Math.max(e,0),this.bg.style.opacity=this.bgOpacity*this.options.bgOpacity}mouseDetected(){this.hasMouse||(this.hasMouse=!0,this.template.classList.add("pswp--has_mouse"))}_handlePageResize(){this.updateSize(),/iPhone|iPad|iPod/i.test(window.navigator.userAgent)&&setTimeout((()=>{this.updateSize()}),500)}_updatePageScrollOffset(){this.setScrollOffset(0,window.pageYOffset)}setScrollOffset(e,t){this.offset.x=e,this.offset.y=t,this.dispatch("updateScrollOffset")}_createMainStructure(){this.template=i("pswp"),this.template.setAttribute("tabindex",-1),this.template.setAttribute("role","dialog"),this.bg=i("pswp__bg",!1,this.template),this.scrollWrap=i("pswp__scroll-wrap",!1,this.template),this.container=i("pswp__container",!1,this.scrollWrap),this.mainScroll.appendHolders(),this.ui=new q(this),this.ui.init(),(this.options.appendToEl||document.body).appendChild(this.template)}getThumbBounds(){return function(e,t,n){const i=n.dispatch("thumbBounds",{index:e,itemData:t,instance:n});if(i.thumbBounds)return i.thumbBounds;const{element:r}=t;if(!r||!1===n.options.thumbSelector)return;const o=n.options.thumbSelector||"img",s=r.matches(o)?r:r.querySelector(o);if(!s)return;const a=s.getBoundingClientRect();if(!t.thumbCropped)return{x:a.left,y:a.top,w:a.width};const l=t.w,c=t.h;if(!l||!c)return;const u=a.width/l,d=a.height/c,h=u>d?u:d,p=(a.width-l*h)/2,f=(a.height-c*h)/2,m={x:a.left+p,y:a.top+f,w:l*h};return m.innerRect={w:a.width,h:a.height,x:p,y:f},m}(this.currIndex,this.currSlide?this.currSlide.data:this._initialItemData,this)}_prepareOptions(e){window.matchMedia("(prefers-reduced-motion), (update: slow)").matches&&(e.showHideAnimationType="none",e.zoomAnimationDuration=0),this.options={...Z,...e}}}},2975:function(e,t,n){e.exports=function(){"use strict";var e="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,t=function(){for(var t=["Edge","Trident","Firefox"],n=0;n<t.length;n+=1)if(e&&navigator.userAgent.indexOf(t[n])>=0)return 1;return 0}();var i=e&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var n=!1;return function(){n||(n=!0,setTimeout((function(){n=!1,e()}),t))}};function r(e){return e&&"[object Function]"==={}.toString.call(e)}function o(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function s(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function a(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=o(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/(auto|scroll|overlay)/.test(n+r+i)?e:a(s(e))}function l(e){return e&&e.referenceNode?e.referenceNode:e}var c=e&&!(!window.MSInputMethodContext||!document.documentMode),u=e&&/MSIE 10/.test(navigator.userAgent);function d(e){return 11===e?c:10===e?u:c||u}function h(e){if(!e)return document.documentElement;for(var t=d(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===o(n,"position")?h(n):n:e?e.ownerDocument.documentElement:document.documentElement}function p(e){return null!==e.parentNode?p(e.parentNode):e}function f(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?e:t,r=n?t:e,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);var s,a,l=o.commonAncestorContainer;if(e!==l&&t!==l||i.contains(r))return"BODY"===(a=(s=l).nodeName)||"HTML"!==a&&h(s.firstElementChild)!==s?h(l):l;var c=p(e);return c.host?f(c.host,t):f(e,p(t).host)}function m(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var i=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||i)[t]}return e[t]}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=m(t,"top"),r=m(t,"left"),o=n?-1:1;return e.top+=i*o,e.bottom+=i*o,e.left+=r*o,e.right+=r*o,e}function v(e,t){var n="x"===t?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+i+"Width"])}function y(e,t,n,i){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],d(10)?parseInt(n["offset"+e])+parseInt(i["margin"+("Height"===e?"Top":"Left")])+parseInt(i["margin"+("Height"===e?"Bottom":"Right")]):0)}function b(e){var t=e.body,n=e.documentElement,i=d(10)&&getComputedStyle(n);return{height:y("Height",t,n,i),width:y("Width",t,n,i)}}var w=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},_=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),x=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function C(e){return k({},e,{right:e.left+e.width,bottom:e.top+e.height})}function S(e){var t={};try{if(d(10)){t=e.getBoundingClientRect();var n=m(e,"top"),i=m(e,"left");t.top+=n,t.left+=i,t.bottom+=n,t.right+=i}else t=e.getBoundingClientRect()}catch(e){}var r={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},s="HTML"===e.nodeName?b(e.ownerDocument):{},a=s.width||e.clientWidth||r.width,l=s.height||e.clientHeight||r.height,c=e.offsetWidth-a,u=e.offsetHeight-l;if(c||u){var h=o(e);c-=v(h,"x"),u-=v(h,"y"),r.width-=c,r.height-=u}return C(r)}function A(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=d(10),r="HTML"===t.nodeName,s=S(e),l=S(t),c=a(e),u=o(t),h=parseFloat(u.borderTopWidth),p=parseFloat(u.borderLeftWidth);n&&r&&(l.top=Math.max(l.top,0),l.left=Math.max(l.left,0));var f=C({top:s.top-l.top-h,left:s.left-l.left-p,width:s.width,height:s.height});if(f.marginTop=0,f.marginLeft=0,!i&&r){var m=parseFloat(u.marginTop),v=parseFloat(u.marginLeft);f.top-=h-m,f.bottom-=h-m,f.left-=p-v,f.right-=p-v,f.marginTop=m,f.marginLeft=v}return(i&&!n?t.contains(c):t===c&&"BODY"!==c.nodeName)&&(f=g(f,t)),f}function D(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,i=A(e,n),r=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),s=t?0:m(n),a=t?0:m(n,"left");return C({top:s-i.top+i.marginTop,left:a-i.left+i.marginLeft,width:r,height:o})}function O(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===o(e,"position"))return!0;var n=s(e);return!!n&&O(n)}function T(e){if(!e||!e.parentElement||d())return document.documentElement;for(var t=e.parentElement;t&&"none"===o(t,"transform");)t=t.parentElement;return t||document.documentElement}function E(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},c=r?T(e):f(e,l(t));if("viewport"===i)o=D(c,r);else{var u=void 0;"scrollParent"===i?"BODY"===(u=a(s(t))).nodeName&&(u=e.ownerDocument.documentElement):u="window"===i?e.ownerDocument.documentElement:i;var d=A(u,c,r);if("HTML"!==u.nodeName||O(c))o=d;else{var h=b(e.ownerDocument),p=h.height,m=h.width;o.top+=d.top-d.marginTop,o.bottom=p+d.top,o.left+=d.left-d.marginLeft,o.right=m+d.left}}var g="number"==typeof(n=n||0);return o.left+=g?n:n.left||0,o.top+=g?n:n.top||0,o.right-=g?n:n.right||0,o.bottom-=g?n:n.bottom||0,o}function $(e){return e.width*e.height}function M(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var s=E(n,i,o,r),a={top:{width:s.width,height:t.top-s.top},right:{width:s.right-t.right,height:s.height},bottom:{width:s.width,height:s.bottom-t.bottom},left:{width:t.left-s.left,height:s.height}},l=Object.keys(a).map((function(e){return k({key:e},a[e],{area:$(a[e])})})).sort((function(e,t){return t.area-e.area})),c=l.filter((function(e){var t=e.width,i=e.height;return t>=n.clientWidth&&i>=n.clientHeight})),u=c.length>0?c[0].key:l[0].key,d=e.split("-")[1];return u+(d?"-"+d:"")}function R(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return A(n,i?T(t):f(t,l(n)),i)}function L(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),i=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+i,height:e.offsetHeight+n}}function P(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function F(e,t,n){n=n.split("-")[0];var i=L(e),r={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(n),s=o?"top":"left",a=o?"left":"top",l=o?"height":"width",c=o?"width":"height";return r[s]=t[s]+t[l]/2-i[l]/2,r[a]=n===a?t[a]-i[c]:t[P(a)],r}function I(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function j(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var i=I(e,(function(e){return e[t]===n}));return e.indexOf(i)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&r(n)&&(t.offsets.popper=C(t.offsets.popper),t.offsets.reference=C(t.offsets.reference),t=n(t,e))})),t}function N(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=R(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=M(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=F(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=j(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function V(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function B(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<t.length;i++){var r=t[i],o=r?""+r+n:e;if(void 0!==document.body.style[o])return o}return null}function q(){return this.state.isDestroyed=!0,V(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[B("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function z(e){var t=e.ownerDocument;return t?t.defaultView:window}function W(e,t,n,i){var r="BODY"===e.nodeName,o=r?e.ownerDocument.defaultView:e;o.addEventListener(t,n,{passive:!0}),r||W(a(o.parentNode),t,n,i),i.push(o)}function U(e,t,n,i){n.updateBound=i,z(e).addEventListener("resize",n.updateBound,{passive:!0});var r=a(e);return W(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function H(){this.state.eventsEnabled||(this.state=U(this.reference,this.options,this.state,this.scheduleUpdate))}function K(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,z(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function Z(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function G(e,t){Object.keys(t).forEach((function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&Z(t[n])&&(i="px"),e.style[n]=t[n]+i}))}var Y=e&&/Firefox/i.test(navigator.userAgent);function Q(e,t,n){var i=I(e,(function(e){return e.name===t})),r=!!i&&e.some((function(e){return e.name===n&&e.enabled&&e.order<i.order}));if(!r){var o="`"+t+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return r}var J=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],X=J.slice(3);function ee(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=X.indexOf(e),i=X.slice(n+1).concat(X.slice(0,n));return t?i.reverse():i}var te="flip",ne="clockwise",ie="counterclockwise";function re(e,t,n,i){var r=[0,0],o=-1!==["right","left"].indexOf(i),s=e.split(/(\+|\-)/).map((function(e){return e.trim()})),a=s.indexOf(I(s,(function(e){return-1!==e.search(/,|\s/)})));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==a?[s.slice(0,a).concat([s[a].split(l)[0]]),[s[a].split(l)[1]].concat(s.slice(a+1))]:[s];return(c=c.map((function(e,i){var r=(1===i?!o:o)?"height":"width",s=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,s=!0,e):s?(e[e.length-1]+=t,s=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,i){var r=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+r[1],s=r[2];if(!o)return e;if(0===s.indexOf("%")){var a=void 0;switch(s){case"%p":a=n;break;case"%":case"%r":default:a=i}return C(a)[t]/100*o}return"vh"===s||"vw"===s?("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o:o}(e,r,t,n)}))}))).forEach((function(e,t){e.forEach((function(n,i){Z(n)&&(r[t]+=n*("-"===e[i-1]?-1:1))}))})),r}var oe={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],i=t.split("-")[1];if(i){var r=e.offsets,o=r.reference,s=r.popper,a=-1!==["bottom","top"].indexOf(n),l=a?"left":"top",c=a?"width":"height",u={start:x({},l,o[l]),end:x({},l,o[l]+o[c]-s[c])};e.offsets.popper=k({},s,u[i])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n,i=t.offset,r=e.placement,o=e.offsets,s=o.popper,a=o.reference,l=r.split("-")[0];return n=Z(+i)?[+i,0]:re(i,s,a,l),"left"===l?(s.top+=n[0],s.left-=n[1]):"right"===l?(s.top+=n[0],s.left+=n[1]):"top"===l?(s.left+=n[0],s.top-=n[1]):"bottom"===l&&(s.left+=n[0],s.top+=n[1]),e.popper=s,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||h(e.instance.popper);e.instance.reference===n&&(n=h(n));var i=B("transform"),r=e.instance.popper.style,o=r.top,s=r.left,a=r[i];r.top="",r.left="",r[i]="";var l=E(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);r.top=o,r.left=s,r[i]=a,t.boundaries=l;var c=t.priority,u=e.offsets.popper,d={primary:function(e){var n=u[e];return u[e]<l[e]&&!t.escapeWithReference&&(n=Math.max(u[e],l[e])),x({},e,n)},secondary:function(e){var n="right"===e?"left":"top",i=u[n];return u[e]>l[e]&&!t.escapeWithReference&&(i=Math.min(u[n],l[e]-("right"===e?u.width:u.height))),x({},n,i)}};return c.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=k({},u,d[t](e))})),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,i=t.reference,r=e.placement.split("-")[0],o=Math.floor,s=-1!==["top","bottom"].indexOf(r),a=s?"right":"bottom",l=s?"left":"top",c=s?"width":"height";return n[a]<o(i[l])&&(e.offsets.popper[l]=o(i[l])-n[c]),n[l]>o(i[a])&&(e.offsets.popper[l]=o(i[a])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!Q(e.instance.modifiers,"arrow","keepTogether"))return e;var i=t.element;if("string"==typeof i){if(!(i=e.instance.popper.querySelector(i)))return e}else if(!e.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var r=e.placement.split("-")[0],s=e.offsets,a=s.popper,l=s.reference,c=-1!==["left","right"].indexOf(r),u=c?"height":"width",d=c?"Top":"Left",h=d.toLowerCase(),p=c?"left":"top",f=c?"bottom":"right",m=L(i)[u];l[f]-m<a[h]&&(e.offsets.popper[h]-=a[h]-(l[f]-m)),l[h]+m>a[f]&&(e.offsets.popper[h]+=l[h]+m-a[f]),e.offsets.popper=C(e.offsets.popper);var g=l[h]+l[u]/2-m/2,v=o(e.instance.popper),y=parseFloat(v["margin"+d]),b=parseFloat(v["border"+d+"Width"]),w=g-e.offsets.popper[h]-y-b;return w=Math.max(Math.min(a[u]-m,w),0),e.arrowElement=i,e.offsets.arrow=(x(n={},h,Math.round(w)),x(n,p,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(V(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=E(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),i=e.placement.split("-")[0],r=P(i),o=e.placement.split("-")[1]||"",s=[];switch(t.behavior){case te:s=[i,r];break;case ne:s=ee(i);break;case ie:s=ee(i,!0);break;default:s=t.behavior}return s.forEach((function(a,l){if(i!==a||s.length===l+1)return e;i=e.placement.split("-")[0],r=P(i);var c=e.offsets.popper,u=e.offsets.reference,d=Math.floor,h="left"===i&&d(c.right)>d(u.left)||"right"===i&&d(c.left)<d(u.right)||"top"===i&&d(c.bottom)>d(u.top)||"bottom"===i&&d(c.top)<d(u.bottom),p=d(c.left)<d(n.left),f=d(c.right)>d(n.right),m=d(c.top)<d(n.top),g=d(c.bottom)>d(n.bottom),v="left"===i&&p||"right"===i&&f||"top"===i&&m||"bottom"===i&&g,y=-1!==["top","bottom"].indexOf(i),b=!!t.flipVariations&&(y&&"start"===o&&p||y&&"end"===o&&f||!y&&"start"===o&&m||!y&&"end"===o&&g),w=!!t.flipVariationsByContent&&(y&&"start"===o&&f||y&&"end"===o&&p||!y&&"start"===o&&g||!y&&"end"===o&&m),_=b||w;(h||v||_)&&(e.flipped=!0,(h||v)&&(i=s[l+1]),_&&(o=function(e){return"end"===e?"start":"start"===e?"end":e}(o)),e.placement=i+(o?"-"+o:""),e.offsets.popper=k({},e.offsets.popper,F(e.instance.popper,e.offsets.reference,e.placement)),e=j(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],i=e.offsets,r=i.popper,o=i.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return r[s?"left":"top"]=o[n]-(a?r[s?"width":"height"]:0),e.placement=P(t),e.offsets.popper=C(r),e}},hide:{order:800,enabled:!0,fn:function(e){if(!Q(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=I(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,i=t.y,r=e.offsets.popper,o=I(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s,a,l=void 0!==o?o:t.gpuAcceleration,c=h(e.instance.popper),u=S(c),d={position:r.position},p=function(e,t){var n=e.offsets,i=n.popper,r=n.reference,o=Math.round,s=Math.floor,a=function(e){return e},l=o(r.width),c=o(i.width),u=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),h=t?u||d||l%2==c%2?o:s:a,p=t?o:a;return{left:h(l%2==1&&c%2==1&&!d&&t?i.left-1:i.left),top:p(i.top),bottom:p(i.bottom),right:h(i.right)}}(e,window.devicePixelRatio<2||!Y),f="bottom"===n?"top":"bottom",m="right"===i?"left":"right",g=B("transform");if(a="bottom"===f?"HTML"===c.nodeName?-c.clientHeight+p.bottom:-u.height+p.bottom:p.top,s="right"===m?"HTML"===c.nodeName?-c.clientWidth+p.right:-u.width+p.right:p.left,l&&g)d[g]="translate3d("+s+"px, "+a+"px, 0)",d[f]=0,d[m]=0,d.willChange="transform";else{var v="bottom"===f?-1:1,y="right"===m?-1:1;d[f]=a*v,d[m]=s*y,d.willChange=f+", "+m}var b={"x-placement":e.placement};return e.attributes=k({},b,e.attributes),e.styles=k({},d,e.styles),e.arrowStyles=k({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){return G(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&G(e.arrowElement,e.arrowStyles),e;var t,n},onLoad:function(e,t,n,i,r){var o=R(r,t,e,n.positionFixed),s=M(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",s),G(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},se=function(){function e(t,n){var o=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};w(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(o.update)},this.update=i(this.update.bind(this)),this.options=k({},e.Defaults,s),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(k({},e.Defaults.modifiers,s.modifiers)).forEach((function(t){o.options.modifiers[t]=k({},e.Defaults.modifiers[t]||{},s.modifiers?s.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return k({name:e},o.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&r(e.onLoad)&&e.onLoad(o.reference,o.popper,o.options,e,o.state)})),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return _(e,[{key:"update",value:function(){return N.call(this)}},{key:"destroy",value:function(){return q.call(this)}},{key:"enableEventListeners",value:function(){return H.call(this)}},{key:"disableEventListeners",value:function(){return K.call(this)}}]),e}();return se.Utils=("undefined"!=typeof window?window:n.g).PopperUtils,se.placements=J,se.Defaults=oe,se}()},5798:e=>{"use strict";var t=String.prototype.replace,n=/%20/g,i="RFC3986";e.exports={default:i,formatters:{RFC1738:function(e){return t.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:i}},129:(e,t,n)=>{"use strict";var i=n(8261),r=n(5235),o=n(5798);e.exports={formats:o,parse:r,stringify:i}},5235:(e,t,n)=>{"use strict";var i=n(2769),r=Object.prototype.hasOwnProperty,o=Array.isArray,s={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:i.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},l=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},c=function(e,t,n,i){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/g,a=n.depth>0&&/(\[[^[\]]*])/.exec(o),c=a?o.slice(0,a.index):o,u=[];if(c){if(!n.plainObjects&&r.call(Object.prototype,c)&&!n.allowPrototypes)return;u.push(c)}for(var d=0;n.depth>0&&null!==(a=s.exec(o))&&d<n.depth;){if(d+=1,!n.plainObjects&&r.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(a[1])}return a&&u.push("["+o.slice(a.index)+"]"),function(e,t,n,i){for(var r=i?t:l(t,n),o=e.length-1;o>=0;--o){var s,a=e[o];if("[]"===a&&n.parseArrays)s=[].concat(r);else{s=n.plainObjects?Object.create(null):{};var c="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,u=parseInt(c,10);n.parseArrays||""!==c?!isNaN(u)&&a!==c&&String(u)===c&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(s=[])[u]=r:s[c]=r:s={0:r}}r=s}return r}(u,t,n,i)}};e.exports=function(e,t){var n=function(e){if(!e)return s;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?s.charset:e.charset;return{allowDots:void 0===e.allowDots?s.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:s.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:s.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:s.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:s.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:s.comma,decoder:"function"==typeof e.decoder?e.decoder:s.decoder,delimiter:"string"==typeof e.delimiter||i.isRegExp(e.delimiter)?e.delimiter:s.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:s.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:s.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:s.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:s.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var u="string"==typeof e?function(e,t){var n,c={},u=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,d=t.parameterLimit===1/0?void 0:t.parameterLimit,h=u.split(t.delimiter,d),p=-1,f=t.charset;if(t.charsetSentinel)for(n=0;n<h.length;++n)0===h[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===h[n]?f="utf-8":"utf8=%26%2310003%3B"===h[n]&&(f="iso-8859-1"),p=n,n=h.length);for(n=0;n<h.length;++n)if(n!==p){var m,g,v=h[n],y=v.indexOf("]="),b=-1===y?v.indexOf("="):y+1;-1===b?(m=t.decoder(v,s.decoder,f,"key"),g=t.strictNullHandling?null:""):(m=t.decoder(v.slice(0,b),s.decoder,f,"key"),g=i.maybeMap(l(v.slice(b+1),t),(function(e){return t.decoder(e,s.decoder,f,"value")}))),g&&t.interpretNumericEntities&&"iso-8859-1"===f&&(g=a(g)),v.indexOf("[]=")>-1&&(g=o(g)?[g]:g),r.call(c,m)?c[m]=i.combine(c[m],g):c[m]=g}return c}(e,n):e,d=n.plainObjects?Object.create(null):{},h=Object.keys(u),p=0;p<h.length;++p){var f=h[p],m=c(f,u[f],n,"string"==typeof e);d=i.merge(d,m,n)}return!0===n.allowSparse?d:i.compact(d)}},8261:(e,t,n)=>{"use strict";var i=n(7478),r=n(2769),o=n(5798),s=Object.prototype.hasOwnProperty,a={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},l=Array.isArray,c=Array.prototype.push,u=function(e,t){c.apply(e,l(t)?t:[t])},d=Date.prototype.toISOString,h=o.default,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,format:h,formatter:o.formatters[h],indices:!1,serializeDate:function(e){return d.call(e)},skipNulls:!1,strictNullHandling:!1},f=function e(t,n,o,s,a,c,d,h,f,m,g,v,y,b,w){var _,x=t;if(w.has(t))throw new RangeError("Cyclic object value");if("function"==typeof d?x=d(n,x):x instanceof Date?x=m(x):"comma"===o&&l(x)&&(x=r.maybeMap(x,(function(e){return e instanceof Date?m(e):e}))),null===x){if(s)return c&&!y?c(n,p.encoder,b,"key",g):n;x=""}if("string"==typeof(_=x)||"number"==typeof _||"boolean"==typeof _||"symbol"==typeof _||"bigint"==typeof _||r.isBuffer(x))return c?[v(y?n:c(n,p.encoder,b,"key",g))+"="+v(c(x,p.encoder,b,"value",g))]:[v(n)+"="+v(String(x))];var k,C=[];if(void 0===x)return C;if("comma"===o&&l(x))k=[{value:x.length>0?x.join(",")||null:void 0}];else if(l(d))k=d;else{var S=Object.keys(x);k=h?S.sort(h):S}for(var A=0;A<k.length;++A){var D=k[A],O="object"==typeof D&&void 0!==D.value?D.value:x[D];if(!a||null!==O){var T=l(x)?"function"==typeof o?o(n,D):n:n+(f?"."+D:"["+D+"]");w.set(t,!0);var E=i();u(C,e(O,T,o,s,a,c,d,h,f,m,g,v,y,b,E))}}return C};e.exports=function(e,t){var n,r=e,c=function(e){if(!e)return p;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||p.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=o.default;if(void 0!==e.format){if(!s.call(o.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=o.formatters[n],r=p.filter;return("function"==typeof e.filter||l(e.filter))&&(r=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:p.addQueryPrefix,allowDots:void 0===e.allowDots?p.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:p.charsetSentinel,delimiter:void 0===e.delimiter?p.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:p.encode,encoder:"function"==typeof e.encoder?e.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:p.encodeValuesOnly,filter:r,format:n,formatter:i,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:p.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:p.strictNullHandling}}(t);"function"==typeof c.filter?r=(0,c.filter)("",r):l(c.filter)&&(n=c.filter);var d,h=[];if("object"!=typeof r||null===r)return"";d=t&&t.arrayFormat in a?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var m=a[d];n||(n=Object.keys(r)),c.sort&&n.sort(c.sort);for(var g=i(),v=0;v<n.length;++v){var y=n[v];c.skipNulls&&null===r[y]||u(h,f(r[y],y,m,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset,g))}var b=h.join(c.delimiter),w=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?w+="utf8=%26%2310003%3B&":w+="utf8=%E2%9C%93&"),b.length>0?w+b:""}},2769:(e,t,n)=>{"use strict";var i=n(5798),r=Object.prototype.hasOwnProperty,o=Array.isArray,s=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),a=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},i=0;i<e.length;++i)void 0!==e[i]&&(n[i]=e[i]);return n};e.exports={arrayToObject:a,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],i=0;i<t.length;++i)for(var r=t[i],s=r.obj[r.prop],a=Object.keys(s),l=0;l<a.length;++l){var c=a[l],u=s[c];"object"==typeof u&&null!==u&&-1===n.indexOf(u)&&(t.push({obj:s,prop:c}),n.push(u))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(o(n)){for(var i=[],r=0;r<n.length;++r)void 0!==n[r]&&i.push(n[r]);t.obj[t.prop]=i}}}(t),e},decode:function(e,t,n){var i=e.replace(/\+/g," ");if("iso-8859-1"===n)return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch(e){return i}},encode:function(e,t,n,r,o){if(0===e.length)return e;var a=e;if("symbol"==typeof e?a=Symbol.prototype.toString.call(e):"string"!=typeof e&&(a=String(e)),"iso-8859-1"===n)return escape(a).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var l="",c=0;c<a.length;++c){var u=a.charCodeAt(c);45===u||46===u||95===u||126===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||o===i.RFC1738&&(40===u||41===u)?l+=a.charAt(c):u<128?l+=s[u]:u<2048?l+=s[192|u>>6]+s[128|63&u]:u<55296||u>=57344?l+=s[224|u>>12]+s[128|u>>6&63]+s[128|63&u]:(c+=1,u=65536+((1023&u)<<10|1023&a.charCodeAt(c)),l+=s[240|u>>18]+s[128|u>>12&63]+s[128|u>>6&63]+s[128|63&u])}return l},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(o(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(t(e[i]));return n}return t(e)},merge:function e(t,n,i){if(!n)return t;if("object"!=typeof n){if(o(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(i&&(i.plainObjects||i.allowPrototypes)||!r.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var s=t;return o(t)&&!o(n)&&(s=a(t,i)),o(t)&&o(n)?(n.forEach((function(n,o){if(r.call(t,o)){var s=t[o];s&&"object"==typeof s&&n&&"object"==typeof n?t[o]=e(s,n,i):t.push(n)}else t[o]=n})),t):Object.keys(n).reduce((function(t,o){var s=n[o];return r.call(t,o)?t[o]=e(t[o],s,i):t[o]=s,t}),s)}}},5666:e=>{var t=function(e){"use strict";var t,n=Object.prototype,i=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var r=t&&t.prototype instanceof g?t:g,o=Object.create(r.prototype),s=new O(i||[]);return o._invoke=function(e,t,n){var i=d;return function(r,o){if(i===p)throw new Error("Generator is already running");if(i===f){if("throw"===r)throw o;return E()}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=S(s,n);if(a){if(a===m)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=u(e,t,n);if("normal"===l.type){if(i=n.done?f:h,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=f,n.method="throw",n.arg=l.arg)}}}(e,n,s),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var d="suspendedStart",h="suspendedYield",p="executing",f="completed",m={};function g(){}function v(){}function y(){}var b={};l(b,o,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(T([])));_&&_!==n&&i.call(_,o)&&(b=_);var x=y.prototype=g.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(r,o,s,a){var l=u(e[r],e,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(d).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,a)}))}a(l.arg)}var r;this._invoke=function(e,i){function o(){return new t((function(t,r){n(e,i,t,r)}))}return r=r?r.then(o,o):o()}}function S(e,n){var i=e.iterator[n.method];if(i===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=u(i,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,m;var o=r.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function T(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,s=function n(){for(;++r<e.length;)if(i.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:E}}function E(){return{value:t,done:!0}}return v.prototype=y,l(x,"constructor",y),l(y,"constructor",v),v.displayName=l(y,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,a,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},k(C.prototype),l(C.prototype,s,(function(){return this})),e.AsyncIterator=C,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var s=new C(c(t,n,i,r),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},k(x),l(x,a,"Generator"),l(x,o,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=T,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(D),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(i,r){return a.type="throw",a.arg=e,n.next=i,r&&(n.method="next",n.arg=t),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var l=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),D(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;D(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:T(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},8662:()=>{!function(){"use strict";var e="undefined"==typeof window,t=!e&&"scrollBehavior"in document.documentElement.style,n=function(){return(n=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function i(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function r(){return null!=document.scrollingElement?document.scrollingElement:document.documentElement}var o=new RegExp("scroll-behavior:\\s*([^;]*)");function s(e,t){var n="scroll-behavior:"+t,i=e.getAttribute("style");if(null!=i&&""!==i){var r=a(e);if(null!=r){var o="scroll-behavior:"+r;i=(i=i.replace(o+";","")).replace(o,"")}e.setAttribute("style",i.endsWith(";")?""+i+n:";"+i+n)}else e.setAttribute("style",n)}function a(e){var t=e.getAttribute("style");if(null!=t&&t.includes("scroll-behavior")){var n=t.match(o);if(null!=n){var r=i(n,2)[1];if(null!=r&&""!==r)return r}}}function l(e,t){if(null!=t&&"smooth"===t.behavior)return"smooth";var n,i="style"in e?e:r();if("style"in i){var o=i.style.scrollBehavior;null!=o&&""!==o&&(n=o)}if(null==n){var s=i.getAttribute("scroll-behavior");null!=s&&""!==s&&(n=s)}if(null==n&&(n=a(i)),null==n){var l=getComputedStyle(i).getPropertyValue("scrollBehavior");null!=l&&""!==l&&(n=l)}return n}function c(e){return.5*(1-Math.cos(Math.PI*e))}var u={reset:function(){}},d="undefined"==typeof WeakMap?void 0:new WeakMap;var h=e?void 0:Element.prototype.scroll,p=e?void 0:window.scroll,f=e?void 0:Element.prototype.scrollBy,m=e?void 0:window.scrollBy,g=e?void 0:Element.prototype.scrollTo,v=e?void 0:window.scrollTo;function y(e,t){this.__adjustingScrollPosition=!0,this.scrollLeft=e,this.scrollTop=t,delete this.__adjustingScrollPosition}function b(e,t){return y.call(this,e,t)}function w(e,t){this.__adjustingScrollPosition=!0,this.scrollLeft+=e,this.scrollTop+=t,delete this.__adjustingScrollPosition}function _(e,t){switch(e){case"scroll":return t instanceof Element?null!=h?h:y:p;case"scrollBy":return t instanceof Element?null!=f?f:w:m;case"scrollTo":return t instanceof Element?null!=g?g:b:v}}function x(e){return null==e?0:"number"==typeof e?e:"string"==typeof e?parseFloat(e):0}function k(e){return null!=e&&"object"==typeof e}function C(e,i,o,h){!function(e,n,i){var o=l(n,e);null==o||"auto"===o?_(i,n).call(n,e.left,e.top):function(e){var n=e.startTime,i=e.startX,o=e.startY,l=e.endX,h=e.endY,p=e.method,f=e.scroller,m=0,g=l-i,v=h-o,y=Math.max(Math.abs(g/1e3*15e3),Math.abs(v/1e3*15e3)),b=function(e){if(t||null==d)return u;var n,i,o,l,c,h=r(),p=d.get(e);if(null!=p)n=p.cachedScrollSnapValue,i=p.cachedScrollBehaviorStyleAttributeValue,o=p.secondaryScroller,l=p.secondaryScrollerCachedScrollSnapValue,c=p.secondaryScrollerCachedScrollBehaviorStyleAttributeValue,p.release();else{n=""===e.style.scrollSnapType?null:e.style.scrollSnapType,i=a(e),o=e===h&&h!==document.body?document.body:void 0,l=null==o?void 0:""===o.style.scrollSnapType?null:o.style.scrollSnapType,c=null==o?void 0:a(o);var f=getComputedStyle(e).getPropertyValue("scroll-snap-type"),m=null==o?void 0:getComputedStyle(o).getPropertyValue("scroll-snap-type");if("none"===f&&"none"===m)return u}e.style.scrollSnapType="none",void 0!==o&&(o.style.scrollSnapType="none"),void 0!==i&&s(e,i),void 0!==o&&void 0!==c&&s(o,c);var g=!1,v=e===h?window:e;function y(){v.removeEventListener("scroll",b),null!=d&&d.delete(e),g=!0}function b(){e.style.scrollSnapType=n,null!=o&&void 0!==l&&(o.style.scrollSnapType=l),void 0!==i&&s(e,i),void 0!==o&&void 0!==c&&s(o,c),y()}return d.set(e,{release:y,cachedScrollSnapValue:n,cachedScrollBehaviorStyleAttributeValue:i,secondaryScroller:o,secondaryScrollerCachedScrollSnapValue:l,secondaryScrollerCachedScrollBehaviorStyleAttributeValue:c}),{reset:function(){setTimeout((function(){g||v.addEventListener("scroll",b)}))}}}(f);requestAnimationFrame((function e(t){m+=t-n;var r=Math.max(0,Math.min(1,0===y?0:m/y)),s=Math.floor(i+g*c(r)),a=Math.floor(o+v*c(r));p(s,a),s!==l||a!==h?requestAnimationFrame(e):null!=b&&(b.reset(),b=void 0)}))}(function(e,t,n,i){var o="performance"in window?performance.now():Date.now();if(e instanceof Element)return{startTime:o,startX:s=e.scrollLeft,startY:a=e.scrollTop,endX:Math.floor("scrollBy"===i?s+t:t),endY:Math.floor("scrollBy"===i?a+n:n),method:_("scrollTo",e).bind(e),scroller:e};var s,a,l=window.scrollX,c=window.pageXOffset,u=window.scrollY,d=window.pageYOffset;return{startTime:o,startX:s=null==l||0===l?c:l,startY:a=null==u||0===u?d:u,endX:Math.floor("scrollBy"===i?s+t:t),endY:Math.floor("scrollBy"===i?a+n:n),method:_("scrollTo",window).bind(window),scroller:r()}}(n,e.left,e.top,i))}(function(e,t){if(void 0===t&&!k(e))throw new TypeError("Failed to execute 'scroll' on 'Element': parameter 1 ('options') is not an object.");return k(e)?n(n({},S(e.left,e.top)),{behavior:null==e.behavior?"auto":e.behavior}):n(n({},S(e,t)),{behavior:"auto"})}(o,h),e,i)}function S(e,t){return{left:x(e),top:x(t)}}function A(e){return"nodeType"in e&&1===e.nodeType?e.parentNode:"ShadowRoot"in window&&e instanceof window.ShadowRoot?e.host:e===document?window:e instanceof Node?e.parentNode:null}function D(e){return"visible"!==e&&"clip"!==e}function O(e){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var t=getComputedStyle(e,null);return D(t.overflowY)||D(t.overflowX)}return!1}function T(e){for(var t=e,n=r();null!=t;){var i=l(t);if(null!=i&&(t===n||O(t)))return[t,i];t=A(t)}for(t=e;null!=t;){if(t===n||O(t))return[t,"auto"];t=A(t)}return[n,"auto"]}function E(e){if(void 0===e&&(e=location),"origin"in e&&null!=e.origin)return e.origin;var t=null!=e.port&&e.port.length>0?":"+e.port:"";return("http:"===e.protocol&&":80"===t||"https:"===e.protocol&&":443"===t)&&(t=""),e.protocol+"//"+e.hostname+t}var $=/^#\d/;var M=e?void 0:Element.prototype.scrollIntoView;function R(e,t,n,i,r,o,s,a){return o<e&&s>t||o>e&&s<t?0:o<=e&&a<=n||s>=t&&a>=n?o-e-i:s>t&&a<n||o<e&&a>n?s-t+r:0}function L(e,t,n){var i=n.block,o=n.inline,s=r(),a=null!=window.visualViewport?visualViewport.width:innerWidth,l=null!=window.visualViewport?visualViewport.height:innerHeight,c=null!=window.scrollX?window.scrollX:window.pageXOffset,u=null!=window.scrollY?window.scrollY:window.pageYOffset,d=e.getBoundingClientRect(),h=d.height,p=d.width,f=d.top,m=d.right,g=d.bottom,v=d.left,y="start"===i||"nearest"===i?f:"end"===i?g:f+h/2,b="center"===o?v+p/2:"end"===o?m:v,w=t.getBoundingClientRect(),_=w.height,x=w.width,k=w.top,C=w.right,S=w.bottom,A=w.left,D=getComputedStyle(t),O=parseInt(D.borderLeftWidth,10),T=parseInt(D.borderTopWidth,10),E=parseInt(D.borderRightWidth,10),$=parseInt(D.borderBottomWidth,10),M=0,L=0,P="offsetWidth"in t?t.offsetWidth-t.clientWidth-O-E:0,F="offsetHeight"in t?t.offsetHeight-t.clientHeight-T-$:0;if(s===t)M="start"===i?y:"end"===i?y-l:"nearest"===i?R(u,u+l,l,T,$,u+y,u+y+h,h):y-l/2,L="start"===o?b:"center"===o?b-a/2:"end"===o?b-a:R(c,c+a,a,O,E,c+b,c+b+p,p),M=Math.max(0,M+u),L=Math.max(0,L+c);else{M="start"===i?y-k-T:"end"===i?y-S+$+F:"nearest"===i?R(k,S,_,T,$+F,y,y+h,h):y-(k+_/2)+F/2,L="start"===o?b-A-O:"center"===o?b-(A+x/2)+P/2:"end"===o?b-C+E+P:R(A,C,x,O,E+P,b,b+p,p);var I=t.scrollLeft,j=t.scrollTop;M=Math.max(0,Math.min(j+M,t.scrollHeight-_+F)),L=Math.max(0,Math.min(I+L,t.scrollWidth-x+P))}return{top:M,left:L}}var P=e?void 0:Object.getOwnPropertyDescriptor(Element.prototype,"scrollTop").set,F=e?void 0:Object.getOwnPropertyDescriptor(Element.prototype,"scrollLeft").set,I=!e&&"scroll"in Element.prototype&&"scrollTo"in Element.prototype&&"scrollBy"in Element.prototype&&"scrollIntoView"in Element.prototype;e||t&&I||(Element.prototype.scroll=function(e,t){C(this,"scroll",e,t)},Element.prototype.scrollBy=function(e,t){C(this,"scrollBy",e,t)},Element.prototype.scrollTo=function(e,t){C(this,"scrollTo",e,t)},Element.prototype.scrollIntoView=function(e){var t=null==e||!0===e?{block:"start",inline:"nearest"}:!1===e?{block:"end",inline:"nearest"}:e,r=i(T(this),2),o=r[0],s=r[1],a=null!=t.behavior?t.behavior:s;if("smooth"===a)o.scrollTo(n({behavior:a},L(this,o,t)));else if(null!=M)M.call(this,t);else{var l=L(this,o,t),c=l.top,u=l.left;_("scrollTo",this).call(this,u,c)}},null!=HTMLElement.prototype.scrollIntoView&&HTMLElement.prototype.scrollIntoView!==Element.prototype.scrollIntoView&&(HTMLElement.prototype.scrollIntoView=Element.prototype.scrollIntoView),Object.defineProperty(Element.prototype,"scrollLeft",{set:function(e){return this.__adjustingScrollPosition?F.call(this,e):(C(this,"scrollTo",e,this.scrollTop),e)}}),Object.defineProperty(Element.prototype,"scrollTop",{set:function(e){return this.__adjustingScrollPosition?P.call(this,e):(C(this,"scrollTo",this.scrollLeft,e),e)}}),window.scroll=function(e,t){C(this,"scroll",e,t)},window.scrollBy=function(e,t){C(this,"scrollBy",e,t)},window.scrollTo=function(e,t){C(this,"scrollTo",e,t)},window.addEventListener("click",(function(e){if(e.isTrusted&&e.target instanceof HTMLAnchorElement){var t=e.target,n=t.pathname,r=t.search,o=t.hash;if(E(e.target)===E(location)&&n===location.pathname&&r===location.search&&null!=o&&!(o.length<1)){var s=function(e){for(var t=e;null!=t;){if("ShadowRoot"in window&&t instanceof window.ShadowRoot)return t;var n=A(t);if(n===t)return document;t=n}return document}(e.target),a=null!=o.match($)?s.getElementById(o.slice(1)):s.querySelector(o);if(null!=a){var l=i(T(a),2)[1];"smooth"===l&&(e.preventDefault(),a.scrollIntoView({behavior:l}))}}}})))}()},7478:(e,t,n)=>{"use strict";var i=n(210),r=n(1924),o=n(631),s=i("%TypeError%"),a=i("%WeakMap%",!0),l=i("%Map%",!0),c=r("WeakMap.prototype.get",!0),u=r("WeakMap.prototype.set",!0),d=r("WeakMap.prototype.has",!0),h=r("Map.prototype.get",!0),p=r("Map.prototype.set",!0),f=r("Map.prototype.has",!0),m=function(e,t){for(var n,i=e;null!==(n=i.next);i=n)if(n.key===t)return i.next=n.next,n.next=e.next,e.next=n,n};e.exports=function(){var e,t,n,i={assert:function(e){if(!i.has(e))throw new s("Side channel does not contain "+o(e))},get:function(i){if(a&&i&&("object"==typeof i||"function"==typeof i)){if(e)return c(e,i)}else if(l){if(t)return h(t,i)}else if(n)return function(e,t){var n=m(e,t);return n&&n.value}(n,i)},has:function(i){if(a&&i&&("object"==typeof i||"function"==typeof i)){if(e)return d(e,i)}else if(l){if(t)return f(t,i)}else if(n)return function(e,t){return!!m(e,t)}(n,i);return!1},set:function(i,r){a&&i&&("object"==typeof i||"function"==typeof i)?(e||(e=new a),u(e,i,r)):l?(t||(t=new l),p(t,i,r)):(n||(n={key:{},next:null}),function(e,t,n){var i=m(e,t);i?i.value=n:e.next={key:t,next:e.next,value:n}}(n,i,r))}};return i}},7621:(e,t,n)=>{var i;!function(r){var o=/^\s+/,s=/\s+$/,a=0,l=r.round,c=r.min,u=r.max,d=r.random;function h(e,t){if(t=t||{},(e=e||"")instanceof h)return e;if(!(this instanceof h))return new h(e,t);var n=function(e){var t,n,i,a={r:0,g:0,b:0},l=1,d=null,h=null,p=null,f=!1,m=!1;return"string"==typeof e&&(e=function(e){e=e.replace(o,"").replace(s,"").toLowerCase();var t,n=!1;if(E[e])e=E[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=z.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=z.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=z.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=z.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=z.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=z.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=z.hex8.exec(e))?{r:P(t[1]),g:P(t[2]),b:P(t[3]),a:N(t[4]),format:n?"name":"hex8"}:(t=z.hex6.exec(e))?{r:P(t[1]),g:P(t[2]),b:P(t[3]),format:n?"name":"hex"}:(t=z.hex4.exec(e))?{r:P(t[1]+""+t[1]),g:P(t[2]+""+t[2]),b:P(t[3]+""+t[3]),a:N(t[4]+""+t[4]),format:n?"name":"hex8"}:!!(t=z.hex3.exec(e))&&{r:P(t[1]+""+t[1]),g:P(t[2]+""+t[2]),b:P(t[3]+""+t[3]),format:n?"name":"hex"}}(e)),"object"==typeof e&&(W(e.r)&&W(e.g)&&W(e.b)?(t=e.r,n=e.g,i=e.b,a={r:255*R(t,255),g:255*R(n,255),b:255*R(i,255)},f=!0,m="%"===String(e.r).substr(-1)?"prgb":"rgb"):W(e.h)&&W(e.s)&&W(e.v)?(d=I(e.s),h=I(e.v),a=function(e,t,n){e=6*R(e,360),t=R(t,100),n=R(n,100);var i=r.floor(e),o=e-i,s=n*(1-t),a=n*(1-o*t),l=n*(1-(1-o)*t),c=i%6;return{r:255*[n,a,s,s,l,n][c],g:255*[l,n,n,a,s,s][c],b:255*[s,s,l,n,n,a][c]}}(e.h,d,h),f=!0,m="hsv"):W(e.h)&&W(e.s)&&W(e.l)&&(d=I(e.s),p=I(e.l),a=function(e,t,n){var i,r,o;function s(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=R(e,360),t=R(t,100),n=R(n,100),0===t)i=r=o=n;else{var a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=s(l,a,e+1/3),r=s(l,a,e),o=s(l,a,e-1/3)}return{r:255*i,g:255*r,b:255*o}}(e.h,d,p),f=!0,m="hsl"),e.hasOwnProperty("a")&&(l=e.a)),l=M(l),{ok:f,format:e.format||m,r:c(255,u(a.r,0)),g:c(255,u(a.g,0)),b:c(255,u(a.b,0)),a:l}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=l(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=l(this._r)),this._g<1&&(this._g=l(this._g)),this._b<1&&(this._b=l(this._b)),this._ok=n.ok,this._tc_id=a++}function p(e,t,n){e=R(e,255),t=R(t,255),n=R(n,255);var i,r,o=u(e,t,n),s=c(e,t,n),a=(o+s)/2;if(o==s)i=r=0;else{var l=o-s;switch(r=a>.5?l/(2-o-s):l/(o+s),o){case e:i=(t-n)/l+(t<n?6:0);break;case t:i=(n-e)/l+2;break;case n:i=(e-t)/l+4}i/=6}return{h:i,s:r,l:a}}function f(e,t,n){e=R(e,255),t=R(t,255),n=R(n,255);var i,r,o=u(e,t,n),s=c(e,t,n),a=o,l=o-s;if(r=0===o?0:l/o,o==s)i=0;else{switch(o){case e:i=(t-n)/l+(t<n?6:0);break;case t:i=(n-e)/l+2;break;case n:i=(e-t)/l+4}i/=6}return{h:i,s:r,v:a}}function m(e,t,n,i){var r=[F(l(e).toString(16)),F(l(t).toString(16)),F(l(n).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function g(e,t,n,i){return[F(j(i)),F(l(e).toString(16)),F(l(t).toString(16)),F(l(n).toString(16))].join("")}function v(e,t){t=0===t?0:t||10;var n=h(e).toHsl();return n.s-=t/100,n.s=L(n.s),h(n)}function y(e,t){t=0===t?0:t||10;var n=h(e).toHsl();return n.s+=t/100,n.s=L(n.s),h(n)}function b(e){return h(e).desaturate(100)}function w(e,t){t=0===t?0:t||10;var n=h(e).toHsl();return n.l+=t/100,n.l=L(n.l),h(n)}function _(e,t){t=0===t?0:t||10;var n=h(e).toRgb();return n.r=u(0,c(255,n.r-l(-t/100*255))),n.g=u(0,c(255,n.g-l(-t/100*255))),n.b=u(0,c(255,n.b-l(-t/100*255))),h(n)}function x(e,t){t=0===t?0:t||10;var n=h(e).toHsl();return n.l-=t/100,n.l=L(n.l),h(n)}function k(e,t){var n=h(e).toHsl(),i=(n.h+t)%360;return n.h=i<0?360+i:i,h(n)}function C(e){var t=h(e).toHsl();return t.h=(t.h+180)%360,h(t)}function S(e){var t=h(e).toHsl(),n=t.h;return[h(e),h({h:(n+120)%360,s:t.s,l:t.l}),h({h:(n+240)%360,s:t.s,l:t.l})]}function A(e){var t=h(e).toHsl(),n=t.h;return[h(e),h({h:(n+90)%360,s:t.s,l:t.l}),h({h:(n+180)%360,s:t.s,l:t.l}),h({h:(n+270)%360,s:t.s,l:t.l})]}function D(e){var t=h(e).toHsl(),n=t.h;return[h(e),h({h:(n+72)%360,s:t.s,l:t.l}),h({h:(n+216)%360,s:t.s,l:t.l})]}function O(e,t,n){t=t||6,n=n||30;var i=h(e).toHsl(),r=360/n,o=[h(e)];for(i.h=(i.h-(r*t>>1)+720)%360;--t;)i.h=(i.h+r)%360,o.push(h(i));return o}function T(e,t){t=t||6;for(var n=h(e).toHsv(),i=n.h,r=n.s,o=n.v,s=[],a=1/t;t--;)s.push(h({h:i,s:r,v:o})),o=(o+a)%1;return s}h.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,i=this.toRgb();return e=i.r/255,t=i.g/255,n=i.b/255,.2126*(e<=.03928?e/12.92:r.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:r.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:r.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=M(e),this._roundA=l(100*this._a)/100,this},toHsv:function(){var e=f(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=f(this._r,this._g,this._b),t=l(360*e.h),n=l(100*e.s),i=l(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+i+"%)":"hsva("+t+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=p(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=p(this._r,this._g,this._b),t=l(360*e.h),n=l(100*e.s),i=l(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+i+"%)":"hsla("+t+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return m(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,i,r){var o=[F(l(e).toString(16)),F(l(t).toString(16)),F(l(n).toString(16)),F(j(i))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+l(this._r)+", "+l(this._g)+", "+l(this._b)+")":"rgba("+l(this._r)+", "+l(this._g)+", "+l(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:l(100*R(this._r,255))+"%",g:l(100*R(this._g,255))+"%",b:l(100*R(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+l(100*R(this._r,255))+"%, "+l(100*R(this._g,255))+"%, "+l(100*R(this._b,255))+"%)":"rgba("+l(100*R(this._r,255))+"%, "+l(100*R(this._g,255))+"%, "+l(100*R(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&($[m(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+g(this._r,this._g,this._b,this._a),n=t,i=this._gradientType?"GradientType = 1, ":"";if(e){var r=h(e);n="#"+g(r._r,r._g,r._b,r._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,i=this._a<1&&this._a>=0;return t||!i||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return h(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(w,arguments)},brighten:function(){return this._applyModification(_,arguments)},darken:function(){return this._applyModification(x,arguments)},desaturate:function(){return this._applyModification(v,arguments)},saturate:function(){return this._applyModification(y,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(k,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(O,arguments)},complement:function(){return this._applyCombination(C,arguments)},monochromatic:function(){return this._applyCombination(T,arguments)},splitcomplement:function(){return this._applyCombination(D,arguments)},triad:function(){return this._applyCombination(S,arguments)},tetrad:function(){return this._applyCombination(A,arguments)}},h.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]="a"===i?e[i]:I(e[i]));e=n}return h(e,t)},h.equals=function(e,t){return!(!e||!t)&&h(e).toRgbString()==h(t).toRgbString()},h.random=function(){return h.fromRatio({r:d(),g:d(),b:d()})},h.mix=function(e,t,n){n=0===n?0:n||50;var i=h(e).toRgb(),r=h(t).toRgb(),o=n/100;return h({r:(r.r-i.r)*o+i.r,g:(r.g-i.g)*o+i.g,b:(r.b-i.b)*o+i.b,a:(r.a-i.a)*o+i.a})},h.readability=function(e,t){var n=h(e),i=h(t);return(r.max(n.getLuminance(),i.getLuminance())+.05)/(r.min(n.getLuminance(),i.getLuminance())+.05)},h.isReadable=function(e,t,n){var i,r,o,s,a,l=h.readability(e,t);switch(r=!1,(o=n,"AA"!==(s=((o=o||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==s&&(s="AA"),"small"!==(a=(o.size||"small").toLowerCase())&&"large"!==a&&(a="small"),i={level:s,size:a}).level+i.size){case"AAsmall":case"AAAlarge":r=l>=4.5;break;case"AAlarge":r=l>=3;break;case"AAAsmall":r=l>=7}return r},h.mostReadable=function(e,t,n){var i,r,o,s,a=null,l=0;r=(n=n||{}).includeFallbackColors,o=n.level,s=n.size;for(var c=0;c<t.length;c++)(i=h.readability(e,t[c]))>l&&(l=i,a=h(t[c]));return h.isReadable(e,a,{level:o,size:s})||!r?a:(n.includeFallbackColors=!1,h.mostReadable(e,["#fff","#000"],n))};var E=h.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},$=h.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(E);function M(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function R(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=c(t,u(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),r.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function L(e){return c(1,u(0,e))}function P(e){return parseInt(e,16)}function F(e){return 1==e.length?"0"+e:""+e}function I(e){return e<=1&&(e=100*e+"%"),e}function j(e){return r.round(255*parseFloat(e)).toString(16)}function N(e){return P(e)/255}var V,B,q,z=(B="[\\s|\\(]+("+(V="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+V+")[,|\\s]+("+V+")\\s*\\)?",q="[\\s|\\(]+("+V+")[,|\\s]+("+V+")[,|\\s]+("+V+")[,|\\s]+("+V+")\\s*\\)?",{CSS_UNIT:new RegExp(V),rgb:new RegExp("rgb"+B),rgba:new RegExp("rgba"+q),hsl:new RegExp("hsl"+B),hsla:new RegExp("hsla"+q),hsv:new RegExp("hsv"+B),hsva:new RegExp("hsva"+q),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function W(e){return!!z.CSS_UNIT.exec(e)}e.exports?e.exports=h:void 0===(i=function(){return h}.call(t,n,t,e))||(e.exports=i)}(Math)},6250:function(e,t,n){var i,r;(function(){}).call(this),function(){null==window.Set&&(window.Set=function(){function e(){this.clear()}return e.prototype.clear=function(){return this.values=[]},e.prototype.has=function(e){return-1!==this.values.indexOf(e)},e.prototype.add=function(e){return this.has(e)||this.values.push(e),this},e.prototype.delete=function(e){var t;return-1!==(t=this.values.indexOf(e))&&(this.values.splice(t,1),!0)},e.prototype.forEach=function(){var e;return(e=this.values).forEach.apply(e,arguments)},e}())}.call(this),function(t){function n(){}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(e,this)}function r(e,t){for(;3===e._state;)e=e._value;return 0===e._state?void e._deferreds.push(t):(e._handled=!0,void d((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(e){return void s(t.promise,e)}o(t.promise,i)}else(1===e._state?o:s)(t.promise,e._value)})))}function o(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void a(e);if("function"==typeof n)return void c(function(e,t){return function(){e.apply(t,arguments)}}(n,t),e)}e._state=1,e._value=t,a(e)}catch(t){s(e,t)}}function s(e,t){e._state=2,e._value=t,a(e)}function a(e){2===e._state&&0===e._deferreds.length&&setTimeout((function(){e._handled||h(e._value)}),1);for(var t=0,n=e._deferreds.length;n>t;t++)r(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function c(e,t){var n=!1;try{e((function(e){n||(n=!0,o(t,e))}),(function(e){n||(n=!0,s(t,e))}))}catch(e){if(n)return;n=!0,s(t,e)}}var u=setTimeout,d="function"==typeof setImmediate&&setImmediate||function(e){u(e,1)},h=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var o=new i(n);return r(this,new l(e,t,o)),o},i.all=function(e){var t=Array.prototype.slice.call(e);return new i((function(e,n){function i(o,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,(function(e){i(o,e)}),n)}t[o]=s,0==--r&&e(t)}catch(e){n(e)}}if(0===t.length)return e([]);for(var r=t.length,o=0;o<t.length;o++)i(o,t[o])}))},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i((function(t){t(e)}))},i.reject=function(e){return new i((function(t,n){n(e)}))},i.race=function(e){return new i((function(t,n){for(var i=0,r=e.length;r>i;i++)e[i].then(t,n)}))},i._setImmediateFn=function(e){d=e},i._setUnhandledRejectionFn=function(e){h=e},e.exports?e.exports=i:t.Promise||(t.Promise=i)}(this),function(){var e="object"==typeof window.customElements,t="function"==typeof document.registerElement;e||t||("undefined"==typeof WeakMap&&function(){var e=Object.defineProperty,t=Date.now()%1e9,n=function(){this.name="__st"+(1e9*Math.random()>>>0)+t+++"__"};n.prototype={set:function(t,n){var i=t[this.name];return i&&i[0]===t?i[1]=n:e(t,this.name,{value:[t,n],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},delete:function(e){var t=e[this.name];return!(!t||t[0]!==e||(t[0]=t[1]=void 0,0))},has:function(e){var t=e[this.name];return!!t&&t[0]===e}},window.WeakMap=n}(),function(e){function t(e){g.push(e),m||(m=!0,c(n))}function n(){m=!1;var e=g;g=[],e.sort((function(e,t){return e.uid_-t.uid_}));var t=!1;e.forEach((function(e){var n=e.takeRecords();(function(e){e.nodes_.forEach((function(t){var n=u.get(t);n&&n.forEach((function(t){t.observer===e&&t.removeTransientObservers()}))}))})(e),n.length&&(e.callback_(n,e),t=!0)})),t&&n()}function i(e,t){for(var n=e;n;n=n.parentNode){var i=u.get(n);if(i)for(var r=0;r<i.length;r++){var o=i[r],s=o.options;if(n===e||s.subtree){var a=t(s);a&&o.enqueue(a)}}}}function r(e){this.callback_=e,this.nodes_=[],this.records_=[],this.uid_=++v}function o(e,t){this.type=e,this.target=t,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function s(e,t){return p=new o(e,t)}function a(e){return f||((f=function(e){var t=new o(e.type,e.target);return t.addedNodes=e.addedNodes.slice(),t.removedNodes=e.removedNodes.slice(),t.previousSibling=e.previousSibling,t.nextSibling=e.nextSibling,t.attributeName=e.attributeName,t.attributeNamespace=e.attributeNamespace,t.oldValue=e.oldValue,t}(p)).oldValue=e,f)}function l(e,t,n){this.observer=e,this.target=t,this.options=n,this.transientObservedNodes=[]}if(!e.JsMutationObserver){var c,u=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))c=setTimeout;else if(window.setImmediate)c=window.setImmediate;else{var d=[],h=String(Math.random());window.addEventListener("message",(function(e){if(e.data===h){var t=d;d=[],t.forEach((function(e){e()}))}})),c=function(e){d.push(e),window.postMessage(h,"*")}}var p,f,m=!1,g=[],v=0;r.prototype={observe:function(e,t){if(e=function(e){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(e)||e}(e),!t.childList&&!t.attributes&&!t.characterData||t.attributeOldValue&&!t.attributes||t.attributeFilter&&t.attributeFilter.length&&!t.attributes||t.characterDataOldValue&&!t.characterData)throw new SyntaxError;var n=u.get(e);n||u.set(e,n=[]);for(var i,r=0;r<n.length;r++)if(n[r].observer===this){(i=n[r]).removeListeners(),i.options=t;break}i||(i=new l(this,e,t),n.push(i),this.nodes_.push(e)),i.addListeners()},disconnect:function(){this.nodes_.forEach((function(e){for(var t=u.get(e),n=0;n<t.length;n++){var i=t[n];if(i.observer===this){i.removeListeners(),t.splice(n,1);break}}}),this),this.records_=[]},takeRecords:function(){var e=this.records_;return this.records_=[],e}},l.prototype={enqueue:function(e){var n=this.observer.records_,i=n.length;if(n.length>0){var r=function(e,t){return e===t?e:f&&function(e){return e===f||e===p}(e)?f:null}(n[i-1],e);if(r)return void(n[i-1]=r)}else t(this.observer);n[i]=e},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(e){var t=this.options;t.attributes&&e.addEventListener("DOMAttrModified",this,!0),t.characterData&&e.addEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.addEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(e){var t=this.options;t.attributes&&e.removeEventListener("DOMAttrModified",this,!0),t.characterData&&e.removeEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.removeEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(e){if(e!==this.target){this.addListeners_(e),this.transientObservedNodes.push(e);var t=u.get(e);t||u.set(e,t=[]),t.push(this)}},removeTransientObservers:function(){var e=this.transientObservedNodes;this.transientObservedNodes=[],e.forEach((function(e){this.removeListeners_(e);for(var t=u.get(e),n=0;n<t.length;n++)if(t[n]===this){t.splice(n,1);break}}),this)},handleEvent:function(e){switch(e.stopImmediatePropagation(),e.type){case"DOMAttrModified":var t=e.attrName,n=e.relatedNode.namespaceURI,r=e.target;(l=new s("attributes",r)).attributeName=t,l.attributeNamespace=n;var o=e.attrChange===MutationEvent.ADDITION?null:e.prevValue;i(r,(function(e){return!e.attributes||e.attributeFilter&&e.attributeFilter.length&&-1===e.attributeFilter.indexOf(t)&&-1===e.attributeFilter.indexOf(n)?void 0:e.attributeOldValue?a(o):l}));break;case"DOMCharacterDataModified":var l=s("characterData",r=e.target);o=e.prevValue,i(r,(function(e){return e.characterData?e.characterDataOldValue?a(o):l:void 0}));break;case"DOMNodeRemoved":this.addTransientObserver(e.target);case"DOMNodeInserted":var c,u,d=e.target;"DOMNodeInserted"===e.type?(c=[d],u=[]):(c=[],u=[d]);var h=d.previousSibling,m=d.nextSibling;(l=s("childList",e.target.parentNode)).addedNodes=c,l.removedNodes=u,l.previousSibling=h,l.nextSibling=m,i(e.relatedNode,(function(e){return e.childList?l:void 0}))}p=f=void 0}},e.JsMutationObserver=r,e.MutationObserver||(e.MutationObserver=r,r._isPolyfilled=!0)}}(self),function(){"use strict";if(!window.performance||!window.performance.now){var e=Date.now();window.performance={now:function(){return Date.now()-e}}}if(window.requestAnimationFrame||(window.requestAnimationFrame=function(){var e=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;return e?function(t){return e((function(){t(performance.now())}))}:function(e){return window.setTimeout(e,1e3/60)}}()),window.cancelAnimationFrame||(window.cancelAnimationFrame=window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(e){clearTimeout(e)}),!function(){var e=document.createEvent("Event");return e.initEvent("foo",!0,!0),e.preventDefault(),e.defaultPrevented}()){var t=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(t.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var n=/Trident/.test(navigator.userAgent);if((!window.CustomEvent||n&&"function"!=typeof window.CustomEvent)&&(window.CustomEvent=function(e,t){t=t||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,Boolean(t.bubbles),Boolean(t.cancelable),t.detail),n},window.CustomEvent.prototype=window.Event.prototype),!window.Event||n&&"function"!=typeof window.Event){var i=window.Event;window.Event=function(e,t){t=t||{};var n=document.createEvent("Event");return n.initEvent(e,Boolean(t.bubbles),Boolean(t.cancelable)),n},window.Event.prototype=i.prototype}}(window.WebComponents),window.CustomElements=window.CustomElements||{flags:{}},function(e){var t=e.flags,n=[];e.addModule=function(e){n.push(e)},e.initializeModules=function(){n.forEach((function(t){t(e)}))},e.hasNative=Boolean(document.registerElement),e.isIE=/Trident/.test(navigator.userAgent),e.useNative=!t.register&&e.hasNative&&!window.ShadowDOMPolyfill&&(!window.HTMLImports||window.HTMLImports.useNative)}(window.CustomElements),window.CustomElements.addModule((function(e){function t(e,t){n(e,(function(e){return!!t(e)||void i(e,t)})),i(e,t)}function n(e,t,i){var r=e.firstElementChild;if(!r)for(r=e.firstChild;r&&r.nodeType!==Node.ELEMENT_NODE;)r=r.nextSibling;for(;r;)!0!==t(r,i)&&n(r,t,i),r=r.nextElementSibling;return null}function i(e,n){for(var i=e.shadowRoot;i;)t(i,n),i=i.olderShadowRoot}function r(e,t,n){if(e=window.wrap(e),!(n.indexOf(e)>=0)){n.push(e);for(var i,s=e.querySelectorAll("link[rel="+o+"]"),a=0,l=s.length;l>a&&(i=s[a]);a++)i.import&&r(i.import,t,n);t(e)}}var o=window.HTMLImports?window.HTMLImports.IMPORT_LINK_TYPE:"none";e.forDocumentTree=function(e,t){r(e,t,[])},e.forSubtree=t})),window.CustomElements.addModule((function(e){function t(e,t){return n(e,t)||i(e,t)}function n(t,n){return!!e.upgrade(t,n)||void(n&&s(t))}function i(e,t){f(e,(function(e){return!!n(e,t)||void 0}))}function r(e){y.push(e),v||(v=!0,setTimeout(o))}function o(){v=!1;for(var e,t=y,n=0,i=t.length;i>n&&(e=t[n]);n++)e();y=[]}function s(e){g?r((function(){a(e)})):a(e)}function a(e){e.__upgraded__&&!e.__attached&&(e.__attached=!0,e.attachedCallback&&e.attachedCallback())}function l(e){g?r((function(){c(e)})):c(e)}function c(e){e.__upgraded__&&e.__attached&&(e.__attached=!1,e.detachedCallback&&e.detachedCallback())}function u(e,n){if(p.dom){var i=n[0];if(i&&"childList"===i.type&&i.addedNodes&&i.addedNodes){for(var r=i.addedNodes[0];r&&r!==document&&!r.host;)r=r.parentNode;var o=r&&(r.URL||r._URL||r.host&&r.host.localName)||"";o=o.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",n.length,o||"")}var s=function(e){for(var t=e,n=window.wrap(document);t;){if(t==n)return!0;t=t.parentNode||t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&t.host}}(e);n.forEach((function(e){"childList"===e.type&&(b(e.addedNodes,(function(e){e.localName&&t(e,s)})),b(e.removedNodes,(function(e){e.localName&&function(e){l(e),f(e,(function(e){l(e)}))}(e)})))})),p.dom&&console.groupEnd()}function d(e){if(!e.__observer){var t=new MutationObserver(u.bind(this,e));t.observe(e,{childList:!0,subtree:!0}),e.__observer=t}}function h(e){e=window.wrap(e),p.dom&&console.group("upgradeDocument: ",e.baseURI.split("/").pop()),t(e,e===window.wrap(document)),d(e),p.dom&&console.groupEnd()}var p=e.flags,f=e.forSubtree,m=e.forDocumentTree,g=window.MutationObserver._isPolyfilled&&p["throttle-attached"];e.hasPolyfillMutations=g,e.hasThrottledAttached=g;var v=!1,y=[],b=Array.prototype.forEach.call.bind(Array.prototype.forEach),w=Element.prototype.createShadowRoot;w&&(Element.prototype.createShadowRoot=function(){var e=w.call(this);return window.CustomElements.watchShadow(this),e}),e.watchShadow=function(e){if(e.shadowRoot&&!e.shadowRoot.__watched){p.dom&&console.log("watching shadow-root for: ",e.localName);for(var t=e.shadowRoot;t;)d(t),t=t.olderShadowRoot}},e.upgradeDocumentTree=function(e){m(e,h)},e.upgradeDocument=h,e.upgradeSubtree=i,e.upgradeAll=t,e.attached=s,e.takeRecords=function(e){for((e=window.wrap(e))||(e=window.wrap(document));e.parentNode;)e=e.parentNode;var t=e.__observer;t&&(u(e,t.takeRecords()),o())}})),window.CustomElements.addModule((function(e){function t(t,r,o){return i.upgrade&&console.group("upgrade:",t.localName),r.is&&t.setAttribute("is",r.is),n(t,r),t.__upgraded__=!0,function(e){e.createdCallback&&e.createdCallback()}(t),o&&e.attached(t),e.upgradeSubtree(t,o),i.upgrade&&console.groupEnd(),t}function n(e,t){Object.__proto__||function(e,t,n){for(var i={},r=t;r!==n&&r!==HTMLElement.prototype;){for(var o,s=Object.getOwnPropertyNames(r),a=0;o=s[a];a++)i[o]||(Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o)),i[o]=1);r=Object.getPrototypeOf(r)}}(e,t.prototype,t.native),e.__proto__=t.prototype}var i=e.flags;e.upgrade=function(n,i){if("template"===n.localName&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(n),!n.__upgraded__&&n.nodeType===Node.ELEMENT_NODE){var r=n.getAttribute("is"),o=e.getRegisteredDefinition(n.localName)||e.getRegisteredDefinition(r);if(o&&(r&&o.tag==n.localName||!r&&!o.extends))return t(n,o,i)}},e.upgradeWithDefinition=t,e.implementPrototype=n})),window.CustomElements.addModule((function(e){function t(e){if(!e.setAttribute._polyfilled){var t=e.setAttribute;e.setAttribute=function(e,i){n.call(this,e,i,t)};var i=e.removeAttribute;e.removeAttribute=function(e){n.call(this,e,null,i)},e.setAttribute._polyfilled=!0}}function n(e,t,n){e=e.toLowerCase();var i=this.getAttribute(e);n.apply(this,arguments);var r=this.getAttribute(e);this.attributeChangedCallback&&r!==i&&this.attributeChangedCallback(e,i,r)}function i(e){var t=r(e);return t?i(t.extends).concat([t]):[]}function r(e){return e?f[e.toLowerCase()]:void 0}function o(e,t){e&&(e=e.toLowerCase()),t&&(t=t.toLowerCase());var n,i=r(t||e);if(i){if(e==i.tag&&t==i.is)return new i.ctor;if(!t&&!i.is)return new i.ctor}return t?((n=o(e)).setAttribute("is",t),n):(n=m(e),e.indexOf("-")>=0&&d(n,HTMLElement),n)}function s(e,t){var n=e[t];e[t]=function(){var e=n.apply(this,arguments);return c(e),e}}var a,l=(e.isIE,e.upgradeDocumentTree),c=e.upgradeAll,u=e.upgradeWithDefinition,d=e.implementPrototype,h=e.useNative,p=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"],f={},m=document.createElement.bind(document),g=document.createElementNS.bind(document);a=Object.__proto__||h?function(e,t){return e instanceof t}:function(e,t){if(e instanceof t)return!0;for(var n=e;n;){if(n===t.prototype)return!0;n=n.__proto__}return!1},s(Node.prototype,"cloneNode"),s(document,"importNode"),document.registerElement=function(n,o){var s=o||{};if(!n)throw new Error("document.registerElement: first argument `name` must not be empty");if(n.indexOf("-")<0)throw new Error("document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '"+String(n)+"'.");if(function(e){for(var t=0;t<p.length;t++)if(e===p[t])return!0}(n))throw new Error("Failed to execute 'registerElement' on 'Document': Registration failed for type '"+String(n)+"'. The type name is invalid.");if(r(n))throw new Error("DuplicateDefinitionError: a type with name '"+String(n)+"' is already registered");return s.prototype||(s.prototype=Object.create(HTMLElement.prototype)),s.__name=n.toLowerCase(),s.extends&&(s.extends=s.extends.toLowerCase()),s.lifecycle=s.lifecycle||{},s.ancestry=i(s.extends),function(e){for(var t,n=e.extends,i=0;t=e.ancestry[i];i++)n=t.is&&t.tag;e.tag=n||e.__name,n&&(e.is=e.__name)}(s),function(e){if(!Object.__proto__){var t=HTMLElement.prototype;if(e.is){var n=document.createElement(e.tag);t=Object.getPrototypeOf(n)}for(var i,r=e.prototype,o=!1;r;)r==t&&(o=!0),(i=Object.getPrototypeOf(r))&&(r.__proto__=i),r=i;o||console.warn(e.tag+" prototype not found in prototype chain for "+e.is),e.native=t}}(s),t(s.prototype),function(e,t){f[e]=t}(s.__name,s),s.ctor=function(e){return function(){return function(e){return u(m(e.tag),e)}(e)}}(s),s.ctor.prototype=s.prototype,s.prototype.constructor=s.ctor,e.ready&&l(document),s.ctor},document.createElement=o,document.createElementNS=function(e,t,n){return"http://www.w3.org/1999/xhtml"===e?o(t,n):g(e,t)},e.registry=f,e.instanceof=a,e.reservedTagList=p,e.getRegisteredDefinition=r,document.register=document.registerElement})),function(e){function t(){o(window.wrap(document)),window.CustomElements.ready=!0,(window.requestAnimationFrame||function(e){setTimeout(e,16)})((function(){setTimeout((function(){window.CustomElements.readyTime=Date.now(),window.HTMLImports&&(window.CustomElements.elapsed=window.CustomElements.readyTime-window.HTMLImports.readyTime),document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))}))}))}var n=e.useNative,i=e.initializeModules;if(e.isIE,n){var r=function(){};e.watchShadow=r,e.upgrade=r,e.upgradeAll=r,e.upgradeDocumentTree=r,e.upgradeSubtree=r,e.takeRecords=r,e.instanceof=function(e,t){return e instanceof t}}else i();var o=e.upgradeDocumentTree,s=e.upgradeDocument;if(window.wrap||(window.ShadowDOMPolyfill?(window.wrap=window.ShadowDOMPolyfill.wrapIfNeeded,window.unwrap=window.ShadowDOMPolyfill.unwrapIfNeeded):window.wrap=window.unwrap=function(e){return e}),window.HTMLImports&&(window.HTMLImports.__importsParsingHook=function(e){e.import&&s(wrap(e.import))}),"complete"===document.readyState||e.flags.eager)t();else if("interactive"!==document.readyState||window.attachEvent||window.HTMLImports&&!window.HTMLImports.ready){var a=window.HTMLImports&&!window.HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(a,t)}else t()}(window.CustomElements))}.call(this),function(){}.call(this),function(){(function(){(function(){this.Trix={VERSION:"1.3.1",ZERO_WIDTH_SPACE:"\ufeff",NON_BREAKING_SPACE:"",OBJECT_REPLACEMENT_CHARACTER:"",browser:{composesExistingText:/Android.*Chrome/.test(navigator.userAgent),forcesObjectResizing:/Trident.*rv:11/.test(navigator.userAgent),supportsInputEvents:function(){var e,t,n;if("undefined"==typeof InputEvent)return!1;for(e=0,t=(n=["data","getTargetRanges","inputType"]).length;t>e;e++)if(!(n[e]in InputEvent.prototype))return!1;return!0}()},config:{}}}).call(this)}).call(this);var o=this.Trix;(function(){(function(){o.BasicObject=function(){function e(){}var t,n,i;return e.proxyMethod=function(e){var i,r,o,s,a;return o=n(e),i=o.name,s=o.toMethod,a=o.toProperty,r=o.optional,this.prototype[i]=function(){var e,n;return e=null!=s?r?"function"==typeof this[s]?this[s]():void 0:this[s]():null!=a?this[a]:void 0,r?null!=(n=null!=e?e[i]:void 0)?t.call(n,e,arguments):void 0:(n=e[i],t.call(n,e,arguments))}},n=function(e){var t,n;if(!(n=e.match(i)))throw new Error("can't parse @proxyMethod expression: "+e);return t={name:n[4]},null!=n[2]?t.toMethod=n[1]:t.toProperty=n[1],null!=n[3]&&(t.optional=!0),t},t=Function.prototype.apply,i=/^(.+?)(\(\))?(\?)?\.(.+?)$/,e}()}).call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;o.Object=function(t){function n(){this.id=++i}var i;return e(n,t),i=0,n.fromJSONString=function(e){return this.fromJSON(JSON.parse(e))},n.prototype.hasSameConstructorAs=function(e){return this.constructor===(null!=e?e.constructor:void 0)},n.prototype.isEqualTo=function(e){return this===e},n.prototype.inspect=function(){var e,t,n;return e=function(){var e,i,r;for(t in r=[],i=null!=(e=this.contentsForInspection())?e:{})n=i[t],r.push(t+"="+n);return r}.call(this),"#<"+this.constructor.name+":"+this.id+(e.length?" "+e.join(", "):"")+">"},n.prototype.contentsForInspection=function(){},n.prototype.toJSONString=function(){return JSON.stringify(this)},n.prototype.toUTF16String=function(){return o.UTF16String.box(this)},n.prototype.getCacheKey=function(){return this.id.toString()},n}(o.BasicObject)}.call(this),function(){o.extend=function(e){var t,n;for(t in e)n=e[t],this[t]=n;return this}}.call(this),function(){o.extend({defer:function(e){return setTimeout(e,1)}})}.call(this),function(){var e,t;o.extend({normalizeSpaces:function(e){return e.replace(RegExp(""+o.ZERO_WIDTH_SPACE,"g"),"").replace(RegExp(""+o.NON_BREAKING_SPACE,"g")," ")},normalizeNewlines:function(e){return e.replace(/\r\n/g,"\n")},breakableWhitespacePattern:RegExp("[^\\S"+o.NON_BREAKING_SPACE+"]"),squishBreakableWhitespace:function(e){return e.replace(RegExp(""+o.breakableWhitespacePattern.source,"g")," ").replace(/\ {2,}/g," ")},summarizeStringChange:function(e,n){var i,r,s,a;return e=o.UTF16String.box(e),(n=o.UTF16String.box(n)).length<e.length?(a=(r=t(e,n))[0],i=r[1]):(i=(s=t(n,e))[0],a=s[1]),{added:i,removed:a}}}),t=function(t,n){var i,r,s,a,l;return t.isEqualTo(n)?["",""]:(s=(a=(r=e(t,n)).utf16String.length)?(l=r.offset,i=t.codepoints.slice(0,l).concat(t.codepoints.slice(l+a)),e(n,o.UTF16String.fromCodepoints(i))):e(n,t),[r.utf16String.toString(),s.utf16String.toString()])},e=function(e,t){var n,i,r;for(n=0,i=e.length,r=t.length;i>n&&e.charAt(n).isEqualTo(t.charAt(n));)n++;for(;i>n+1&&e.charAt(i-1).isEqualTo(t.charAt(r-1));)i--,r--;return{utf16String:e.slice(n,i),offset:n}}}.call(this),function(){o.extend({copyObject:function(e){var t,n,i;for(t in null==e&&(e={}),n={},e)i=e[t],n[t]=i;return n},objectsAreEqual:function(e,t){var n;if(null==e&&(e={}),null==t&&(t={}),Object.keys(e).length!==Object.keys(t).length)return!1;for(n in e)if(e[n]!==t[n])return!1;return!0}})}.call(this),function(){var e=[].slice;o.extend({arraysAreEqual:function(e,t){var n,i,r;if(null==e&&(e=[]),null==t&&(t=[]),e.length!==t.length)return!1;for(i=n=0,r=e.length;r>n;i=++n)if(e[i]!==t[i])return!1;return!0},arrayStartsWith:function(e,t){return null==e&&(e=[]),null==t&&(t=[]),o.arraysAreEqual(e.slice(0,t.length),t)},spliceArray:function(){var t,n,i;return n=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],(i=n.slice(0)).splice.apply(i,t),i},summarizeArrayChange:function(e,t){var n,i,r,o,s,a,l,c,u,d,h;for(null==e&&(e=[]),null==t&&(t=[]),n=[],d=[],r=new Set,o=0,l=e.length;l>o;o++)h=e[o],r.add(h);for(i=new Set,s=0,c=t.length;c>s;s++)h=t[s],i.add(h),r.has(h)||n.push(h);for(a=0,u=e.length;u>a;a++)h=e[a],i.has(h)||d.push(h);return{added:n,removed:d}}})}.call(this),function(){var e,t,n,i;e=null,t=null,i=null,n=null,o.extend({getAllAttributeNames:function(){return null!=e?e:e=o.getTextAttributeNames().concat(o.getBlockAttributeNames())},getBlockConfig:function(e){return o.config.blockAttributes[e]},getBlockAttributeNames:function(){return null!=t?t:t=Object.keys(o.config.blockAttributes)},getTextConfig:function(e){return o.config.textAttributes[e]},getTextAttributeNames:function(){return null!=i?i:i=Object.keys(o.config.textAttributes)},getListAttributeNames:function(){var e,t;return null!=n?n:n=function(){var n,i;for(e in i=[],n=o.config.blockAttributes)null!=(t=n[e].listAttribute)&&i.push(t);return i}()}})}.call(this),function(){var e,t,n,i,r,s=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};e=document.documentElement,t=null!=(n=null!=(i=null!=(r=e.matchesSelector)?r:e.webkitMatchesSelector)?i:e.msMatchesSelector)?n:e.mozMatchesSelector,o.extend({handleEvent:function(t,n){var i,r,s,a,l,c,u,d,h,p,f;return l=(u=null!=n?n:{}).onElement,a=u.matchingSelector,f=u.withCallback,s=u.inPhase,c=u.preventDefault,h=u.times,i=null!=l?l:e,d=a,p="capturing"===s,(r=function(e){var t;return null!=h&&0==--h&&r.destroy(),null!=(t=o.findClosestElementFromNode(e.target,{matchingSelector:d}))&&(null!=f&&f.call(t,e,t),c)?e.preventDefault():void 0}).destroy=function(){return i.removeEventListener(t,r,p)},i.addEventListener(t,r,p),r},handleEventOnce:function(e,t){return null==t&&(t={}),t.times=1,o.handleEvent(e,t)},triggerEvent:function(t,n){var i,r,s,a,l,c,u;return c=(u=null!=n?n:{}).onElement,r=u.bubbles,s=u.cancelable,i=u.attributes,a=null!=c?c:e,r=!1!==r,s=!1!==s,(l=document.createEvent("Events")).initEvent(t,r,s),null!=i&&o.extend.call(l,i),a.dispatchEvent(l)},elementMatchesSelector:function(e,n){return 1===(null!=e?e.nodeType:void 0)?t.call(e,n):void 0},findClosestElementFromNode:function(e,t){var n,i,r;for(n=(i=null!=t?t:{}).matchingSelector,r=i.untilNode;null!=e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.parentNode;if(null!=e){if(null==n)return e;if(e.closest&&null==r)return e.closest(n);for(;e&&e!==r;){if(o.elementMatchesSelector(e,n))return e;e=e.parentNode}}},findInnerElement:function(e){for(;null!=e?e.firstElementChild:void 0;)e=e.firstElementChild;return e},innerElementIsActive:function(e){return document.activeElement!==e&&o.elementContainsNode(e,document.activeElement)},elementContainsNode:function(e,t){if(e&&t)for(;t;){if(t===e)return!0;t=t.parentNode}},findNodeFromContainerAndOffset:function(e,t){var n;if(e)return e.nodeType===Node.TEXT_NODE?e:0===t?null!=(n=e.firstChild)?n:e:e.childNodes.item(t-1)},findElementFromContainerAndOffset:function(e,t){var n;return n=o.findNodeFromContainerAndOffset(e,t),o.findClosestElementFromNode(n)},findChildIndexOfNode:function(e){var t;if(null!=e?e.parentNode:void 0){for(t=0;e=e.previousSibling;)t++;return t}},removeNode:function(e){var t;return null!=e&&null!=(t=e.parentNode)?t.removeChild(e):void 0},walkTree:function(e,t){var n,i,r,o,s;return i=(r=null!=t?t:{}).onlyNodesOfType,o=r.usingFilter,n=r.expandEntityReferences,s=function(){switch(i){case"element":return NodeFilter.SHOW_ELEMENT;case"text":return NodeFilter.SHOW_TEXT;case"comment":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}}(),document.createTreeWalker(e,s,null!=o?o:null,!0===n)},tagName:function(e){var t;return null!=e&&null!=(t=e.tagName)?t.toLowerCase():void 0},makeElement:function(e,t){var n,i,r,o,s,a,l,c,u,d,h,p,f,m;if(null==t&&(t={}),"object"==typeof e?e=(t=e).tagName:t={attributes:t},r=document.createElement(e),null!=t.editable&&(null==t.attributes&&(t.attributes={}),t.attributes.contenteditable=t.editable),t.attributes)for(a in u=t.attributes)m=u[a],r.setAttribute(a,m);if(t.style)for(a in d=t.style)m=d[a],r.style[a]=m;if(t.data)for(a in h=t.data)m=h[a],r.dataset[a]=m;if(t.className)for(o=0,l=(p=t.className.split(" ")).length;l>o;o++)i=p[o],r.classList.add(i);if(t.textContent&&(r.textContent=t.textContent),t.childNodes)for(s=0,c=(f=[].concat(t.childNodes)).length;c>s;s++)n=f[s],r.appendChild(n);return r},getBlockTagNames:function(){var e,t;return null!=o.blockTagNames?o.blockTagNames:o.blockTagNames=function(){var n,i;for(e in i=[],n=o.config.blockAttributes)(t=n[e].tagName)&&i.push(t);return i}()},nodeIsBlockContainer:function(e){return o.nodeIsBlockStartComment(null!=e?e.firstChild:void 0)},nodeProbablyIsBlockContainer:function(e){var t,n;return t=o.tagName(e),s.call(o.getBlockTagNames(),t)>=0&&(n=o.tagName(e.firstChild),s.call(o.getBlockTagNames(),n)<0)},nodeIsBlockStart:function(e,t){return(null!=t?t:{strict:!0}).strict?o.nodeIsBlockStartComment(e):o.nodeIsBlockStartComment(e)||!o.nodeIsBlockStartComment(e.firstChild)&&o.nodeProbablyIsBlockContainer(e)},nodeIsBlockStartComment:function(e){return o.nodeIsCommentNode(e)&&"block"===(null!=e?e.data:void 0)},nodeIsCommentNode:function(e){return(null!=e?e.nodeType:void 0)===Node.COMMENT_NODE},nodeIsCursorTarget:function(e,t){var n;return n=(null!=t?t:{}).name,e?o.nodeIsTextNode(e)?e.data===o.ZERO_WIDTH_SPACE?!n||e.parentNode.dataset.trixCursorTarget===n:void 0:o.nodeIsCursorTarget(e.firstChild):void 0},nodeIsAttachmentElement:function(e){return o.elementMatchesSelector(e,o.AttachmentView.attachmentSelector)},nodeIsEmptyTextNode:function(e){return o.nodeIsTextNode(e)&&""===(null!=e?e.data:void 0)},nodeIsTextNode:function(e){return(null!=e?e.nodeType:void 0)===Node.TEXT_NODE}})}.call(this),function(){var e,t,n,i,r;e=o.copyObject,i=o.objectsAreEqual,o.extend({normalizeRange:n=function(e){var n;if(null!=e)return Array.isArray(e)||(e=[e,e]),[t(e[0]),t(null!=(n=e[1])?n:e[0])]},rangeIsCollapsed:function(e){var t,i,o;if(null!=e)return o=(i=n(e))[0],t=i[1],r(o,t)},rangesAreEqual:function(e,t){var i,o,s,a,l,c;if(null!=e&&null!=t)return o=(s=n(e))[0],i=s[1],c=(a=n(t))[0],l=a[1],r(o,c)&&r(i,l)}}),t=function(t){return"number"==typeof t?t:e(t)},r=function(e,t){return"number"==typeof e?e===t:i(e,t)}}.call(this),function(){var e,t,n,i,r,s,a;o.registerElement=function(e,t){var n,o;return null==t&&(t={}),e=e.toLowerCase(),t=a(t),(n=(o=s(t)).defaultCSS)&&(delete o.defaultCSS,i(n,e)),r(e,o)},i=function(e,t){return n(t).textContent=e.replace(/%t/g,t)},n=function(t){var n,i;return(n=document.createElement("style")).setAttribute("type","text/css"),n.setAttribute("data-tag-name",t.toLowerCase()),(i=e())&&n.setAttribute("nonce",i),document.head.insertBefore(n,document.head.firstChild),n},e=function(){var e;return(e=t("trix-csp-nonce")||t("csp-nonce"))?e.getAttribute("content"):void 0},t=function(e){return document.head.querySelector("meta[name="+e+"]")},s=function(e){var t,n,i;for(t in n={},e)i=e[t],n[t]="function"==typeof i?{value:i}:i;return n},a=function(){var e;return e=function(e){var t,n,i,r,o;for(t={},n=0,r=(o=["initialize","connect","disconnect"]).length;r>n;n++)t[i=o[n]]=e[i],delete e[i];return t},window.customElements?function(t){var n,i,r,o,s;return s=e(t),r=s.initialize,n=s.connect,i=s.disconnect,r&&(o=n,n=function(){return this.initialized||(this.initialized=!0,r.call(this)),null!=o?o.call(this):void 0}),n&&(t.connectedCallback=n),i&&(t.disconnectedCallback=i),t}:function(t){var n,i,r,o;return r=(o=e(t)).initialize,n=o.connect,i=o.disconnect,r&&(t.createdCallback=r),n&&(t.attachedCallback=n),i&&(t.detachedCallback=i),t}}(),r=window.customElements?function(e,t){var n;return n=function(){return"object"==typeof Reflect?Reflect.construct(HTMLElement,[],n):HTMLElement.apply(this)},Object.setPrototypeOf(n.prototype,HTMLElement.prototype),Object.setPrototypeOf(n,HTMLElement),Object.defineProperties(n.prototype,t),window.customElements.define(e,n),n}:function(e,t){var n,i;return i=Object.create(HTMLElement.prototype,t),n=document.registerElement(e,{prototype:i}),Object.defineProperty(i,"constructor",{value:n}),n}}.call(this),function(){var e,t;o.extend({getDOMSelection:function(){var e;return(e=window.getSelection()).rangeCount>0?e:void 0},getDOMRange:function(){var t,n;return(t=null!=(n=o.getDOMSelection())?n.getRangeAt(0):void 0)&&!e(t)?t:void 0},setDOMRange:function(e){var t;return(t=window.getSelection()).removeAllRanges(),t.addRange(e),o.selectionChangeObserver.update()}}),e=function(e){return t(e.startContainer)||t(e.endContainer)},t=function(e){return!Object.getPrototypeOf(e)}}.call(this),function(){var e;e={"application/x-trix-feature-detection":"test"},o.extend({dataTransferIsPlainText:function(e){var t,n,i;return i=e.getData("text/plain"),n=e.getData("text/html"),i&&n?(t=(new DOMParser).parseFromString(n,"text/html").body).textContent===i?!t.querySelector("*"):void 0:null!=i?i.length:void 0},dataTransferIsWritable:function(t){var n,i;if(null!=(null!=t?t.setData:void 0)){for(n in e)if(i=e[n],!function(){try{return t.setData(n,i),t.getData(n)===i}catch(e){}}())return;return!0}},keyEventIsKeyboardCommand:/Mac|^iP/.test(navigator.platform)?function(e){return e.metaKey}:function(e){return e.ctrlKey}})}.call(this),function(){var e,t,n,i;o.extend({RTL_PATTERN:/[\u05BE\u05C0\u05C3\u05D0-\u05EA\u05F0-\u05F4\u061B\u061F\u0621-\u063A\u0640-\u064A\u066D\u0671-\u06B7\u06BA-\u06BE\u06C0-\u06CE\u06D0-\u06D5\u06E5\u06E6\u200F\u202B\u202E\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE72\uFE74\uFE76-\uFEFC]/,getDirection:(t=o.makeElement("input",{dir:"auto",name:"x",dirName:"x.dir"}),(e=o.makeElement("form")).appendChild(t),n=function(){try{return new FormData(e).has(t.dirName)}catch(e){}}(),i=function(){try{return t.matches(":dir(ltr),:dir(rtl)")}catch(e){}}(),n?function(n){return t.value=n,new FormData(e).get(t.dirName)}:i?function(e){return t.value=e,t.matches(":dir(rtl)")?"rtl":"ltr"}:function(e){var t;return t=e.trim().charAt(0),o.RTL_PATTERN.test(t)?"rtl":"ltr"})})}.call(this),function(){}.call(this),function(){var e,t=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=o.arraysAreEqual,o.Hash=function(n){function i(e){null==e&&(e={}),this.values=s(e),i.__super__.constructor.apply(this,arguments)}var r,s,a,l,c;return t(i,n),i.fromCommonAttributesOfObjects=function(e){var t,n,i,o,s,a;if(null==e&&(e=[]),!e.length)return new this;for(i=(t=r(e[0])).getKeys(),n=0,o=(a=e.slice(1)).length;o>n;n++)s=a[n],i=t.getKeysCommonToHash(r(s)),t=t.slice(i);return t},i.box=function(e){return r(e)},i.prototype.add=function(e,t){return this.merge(l(e,t))},i.prototype.remove=function(e){return new o.Hash(s(this.values,e))},i.prototype.get=function(e){return this.values[e]},i.prototype.has=function(e){return e in this.values},i.prototype.merge=function(e){return new o.Hash(a(this.values,c(e)))},i.prototype.slice=function(e){var t,n,i,r;for(r={},t=0,i=e.length;i>t;t++)n=e[t],this.has(n)&&(r[n]=this.values[n]);return new o.Hash(r)},i.prototype.getKeys=function(){return Object.keys(this.values)},i.prototype.getKeysCommonToHash=function(e){var t,n,i,o,s;for(e=r(e),s=[],t=0,i=(o=this.getKeys()).length;i>t;t++)n=o[t],this.values[n]===e.values[n]&&s.push(n);return s},i.prototype.isEqualTo=function(t){return e(this.toArray(),r(t).toArray())},i.prototype.isEmpty=function(){return 0===this.getKeys().length},i.prototype.toArray=function(){var e,t,n;return(null!=this.array?this.array:this.array=function(){var i;for(e in t=[],i=this.values)n=i[e],t.push(e,n);return t}.call(this)).slice(0)},i.prototype.toObject=function(){return s(this.values)},i.prototype.toJSON=function(){return this.toObject()},i.prototype.contentsForInspection=function(){return{values:JSON.stringify(this.values)}},l=function(e,t){var n;return(n={})[e]=t,n},a=function(e,t){var n,i,r;for(n in i=s(e),t)r=t[n],i[n]=r;return i},s=function(e,t){var n,i,r,o,s;for(o={},n=0,r=(s=Object.keys(e).sort()).length;r>n;n++)(i=s[n])!==t&&(o[i]=e[i]);return o},r=function(e){return e instanceof o.Hash?e:new o.Hash(e)},c=function(e){return e instanceof o.Hash?e.values:e},i}(o.Object)}.call(this),function(){o.ObjectGroup=function(){function e(e,t){var n,i;this.objects=null!=e?e:[],i=t.depth,(n=t.asTree)&&(this.depth=i,this.objects=this.constructor.groupObjects(this.objects,{asTree:n,depth:this.depth+1}))}return e.groupObjects=function(e,t){var n,i,r,o,s,a,l,c,u;for(null==e&&(e=[]),r=(u=null!=t?t:{}).depth,(n=u.asTree)&&null==r&&(r=0),c=[],s=0,a=e.length;a>s;s++){if(l=e[s],o){if(("function"==typeof l.canBeGrouped?l.canBeGrouped(r):void 0)&&("function"==typeof(i=o[o.length-1]).canBeGroupedWith?i.canBeGroupedWith(l,r):void 0)){o.push(l);continue}c.push(new this(o,{depth:r,asTree:n})),o=null}("function"==typeof l.canBeGrouped?l.canBeGrouped(r):void 0)?o=[l]:c.push(l)}return o&&c.push(new this(o,{depth:r,asTree:n})),c},e.prototype.getObjects=function(){return this.objects},e.prototype.getDepth=function(){return this.depth},e.prototype.getCacheKey=function(){var e,t,n,i,r;for(t=["objectGroup"],e=0,n=(r=this.getObjects()).length;n>e;e++)i=r[e],t.push(i.getCacheKey());return t.join("/")},e}()}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;o.ObjectMap=function(t){function n(e){var t,n,i,r,o;for(null==e&&(e=[]),this.objects={},i=0,r=e.length;r>i;i++)o=e[i],n=JSON.stringify(o),null==(t=this.objects)[n]&&(t[n]=o)}return e(n,t),n.prototype.find=function(e){var t;return t=JSON.stringify(e),this.objects[t]},n}(o.BasicObject)}.call(this),function(){o.ElementStore=function(){function e(e){this.reset(e)}var t;return e.prototype.add=function(e){var n;return n=t(e),this.elements[n]=e},e.prototype.remove=function(e){var n,i;return n=t(e),(i=this.elements[n])?(delete this.elements[n],i):void 0},e.prototype.reset=function(e){var t,n,i;for(null==e&&(e=[]),this.elements={},n=0,i=e.length;i>n;n++)t=e[n],this.add(t);return e},t=function(e){return e.dataset.trixStoreKey},e}()}.call(this),function(){}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;o.Operation=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.isPerforming=function(){return!0===this.performing},n.prototype.hasPerformed=function(){return!0===this.performed},n.prototype.hasSucceeded=function(){return this.performed&&this.succeeded},n.prototype.hasFailed=function(){return this.performed&&!this.succeeded},n.prototype.getPromise=function(){return null!=this.promise?this.promise:this.promise=new Promise(function(e){return function(t,n){return e.performing=!0,e.perform((function(i,r){return e.succeeded=i,e.performing=!1,e.performed=!0,e.succeeded?t(r):n(r)}))}}(this))},n.prototype.perform=function(e){return e(!1)},n.prototype.release=function(){var e;return null!=(e=this.promise)&&"function"==typeof e.cancel&&e.cancel(),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null},n.proxyMethod("getPromise().then"),n.proxyMethod("getPromise().catch"),n}(o.BasicObject)}.call(this),function(){var e,t,n,i,r,s={}.hasOwnProperty;o.UTF16String=function(e){function t(e,t){this.ucs2String=e,this.codepoints=t,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}return function(e,t){function n(){this.constructor=e}for(var i in t)s.call(t,i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,e),t.box=function(e){return null==e&&(e=""),e instanceof this?e:this.fromUCS2String(null!=e?e.toString():void 0)},t.fromUCS2String=function(e){return new this(e,i(e))},t.fromCodepoints=function(e){return new this(r(e),e)},t.prototype.offsetToUCS2Offset=function(e){return r(this.codepoints.slice(0,Math.max(0,e))).length},t.prototype.offsetFromUCS2Offset=function(e){return i(this.ucs2String.slice(0,Math.max(0,e))).length},t.prototype.slice=function(){var e;return this.constructor.fromCodepoints((e=this.codepoints).slice.apply(e,arguments))},t.prototype.charAt=function(e){return this.slice(e,e+1)},t.prototype.isEqualTo=function(e){return this.constructor.box(e).ucs2String===this.ucs2String},t.prototype.toJSON=function(){return this.ucs2String},t.prototype.getCacheKey=function(){return this.ucs2String},t.prototype.toString=function(){return this.ucs2String},t}(o.BasicObject),e=1===("function"==typeof Array.from?Array.from("").length:void 0),t=null!=("function"==typeof" ".codePointAt?" ".codePointAt(0):void 0),n=" "===("function"==typeof String.fromCodePoint?String.fromCodePoint(32,128124):void 0),i=e&&t?function(e){return Array.from(e).map((function(e){return e.codePointAt(0)}))}:function(e){var t,n,i,r,o;for(r=[],t=0,i=e.length;i>t;)(o=e.charCodeAt(t++))>=55296&&56319>=o&&i>t&&(56320==(64512&(n=e.charCodeAt(t++)))?o=((1023&o)<<10)+(1023&n)+65536:t--),r.push(o);return r},r=n?function(e){return String.fromCodePoint.apply(String,e)}:function(e){var t,n;return function(){var i,r,o;for(o=[],i=0,r=e.length;r>i;i++)n=e[i],t="",n>65535&&(n-=65536,t+=String.fromCharCode(n>>>10&1023|55296),n=56320|1023&n),o.push(t+String.fromCharCode(n));return o}().join("")}}.call(this),function(){}.call(this),function(){}.call(this),function(){o.config.lang={attachFiles:"Attach Files",bold:"Bold",bullets:"Bullets",byte:"Byte",bytes:"Bytes",captionPlaceholder:"Add a caption",code:"Code",heading1:"Heading",indent:"Increase Level",italic:"Italic",link:"Link",numbers:"Numbers",outdent:"Decrease Level",quote:"Quote",redo:"Redo",remove:"Remove",strike:"Strikethrough",undo:"Undo",unlink:"Unlink",url:"URL",urlPlaceholder:"Enter a URL",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"}}.call(this),function(){o.config.css={attachment:"attachment",attachmentCaption:"attachment__caption",attachmentCaptionEditor:"attachment__caption-editor",attachmentMetadata:"attachment__metadata",attachmentMetadataContainer:"attachment__metadata-container",attachmentName:"attachment__name",attachmentProgress:"attachment__progress",attachmentSize:"attachment__size",attachmentToolbar:"attachment__toolbar",attachmentGallery:"attachment-gallery"}}.call(this),function(){var e;o.config.blockAttributes=e={default:{tagName:"div",parse:!1},quote:{tagName:"blockquote",nestable:!0},heading1:{tagName:"h1",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:"pre",terminal:!0,text:{plaintext:!0}},bulletList:{tagName:"ul",parse:!1},bullet:{tagName:"li",listAttribute:"bulletList",group:!1,nestable:!0,test:function(t){return o.tagName(t.parentNode)===e[this.listAttribute].tagName}},numberList:{tagName:"ol",parse:!1},number:{tagName:"li",listAttribute:"numberList",group:!1,nestable:!0,test:function(t){return o.tagName(t.parentNode)===e[this.listAttribute].tagName}},attachmentGallery:{tagName:"div",exclusive:!0,terminal:!0,parse:!1,group:!1}}}.call(this),function(){var e,t;e=o.config.lang,t=[e.bytes,e.KB,e.MB,e.GB,e.TB,e.PB],o.config.fileSize={prefix:"IEC",precision:2,formatter:function(n){var i,r;switch(n){case 0:return"0 "+e.bytes;case 1:return"1 "+e.byte;default:return i=function(){switch(this.prefix){case"SI":return 1e3;case"IEC":return 1024}}.call(this),r=Math.floor(Math.log(n)/Math.log(i)),(n/Math.pow(i,r)).toFixed(this.precision).replace(/0*$/,"").replace(/\.$/,"")+" "+t[r]}}}}.call(this),function(){o.config.textAttributes={bold:{tagName:"strong",inheritable:!0,parser:function(e){var t;return"bold"===(t=window.getComputedStyle(e)).fontWeight||t.fontWeight>=600}},italic:{tagName:"em",inheritable:!0,parser:function(e){return"italic"===window.getComputedStyle(e).fontStyle}},href:{groupTagName:"a",parser:function(e){var t,n;return n="a:not("+o.AttachmentView.attachmentSelector+")",(t=o.findClosestElementFromNode(e,{matchingSelector:n}))?t.getAttribute("href"):void 0}},strike:{tagName:"del",inheritable:!0},frozen:{style:{backgroundColor:"highlight"}}}}.call(this),function(){var e,t,n;n=["contenteditable","data-trix-id","data-trix-store-key","data-trix-mutable","data-trix-placeholder","tabindex"],t="data-trix-serialized-attributes",e=new RegExp("\x3c!--block--\x3e","g"),o.extend({serializers:{"application/json":function(e){var t;if(e instanceof o.Document)t=e;else{if(!(e instanceof HTMLElement))throw new Error("unserializable object");t=o.Document.fromHTML(e.innerHTML)}return t.toSerializableDocument().toJSONString()},"text/html":function(i){var r,s,a,l,c,u,d,h,p,f,m,g,v,y,b,w,_;if(i instanceof o.Document)l=o.DocumentView.render(i);else{if(!(i instanceof HTMLElement))throw new Error("unserializable object");l=i.cloneNode(!0)}for(c=0,p=(y=l.querySelectorAll("[data-trix-serialize=false]")).length;p>c;c++)a=y[c],o.removeNode(a);for(u=0,f=n.length;f>u;u++)for(r=n[u],d=0,m=(b=l.querySelectorAll("["+r+"]")).length;m>d;d++)(a=b[d]).removeAttribute(r);for(h=0,g=(w=l.querySelectorAll("[data-trix-serialized-attributes]")).length;g>h;h++){a=w[h];try{for(v in s=JSON.parse(a.getAttribute(t)),a.removeAttribute(t),s)_=s[v],a.setAttribute(v,_)}catch(e){}}return l.innerHTML.replace(e,"")}},deserializers:{"application/json":function(e){return o.Document.fromJSONString(e)},"text/html":function(e){return o.Document.fromHTML(e)}},serializeToContentType:function(e,t){var n;if(n=o.serializers[t])return n(e);throw new Error("unknown content type: "+t)},deserializeFromContentType:function(e,t){var n;if(n=o.deserializers[t])return n(e);throw new Error("unknown content type: "+t)}})}.call(this),function(){var e;e=o.config.lang,o.config.toolbar={getDefaultHTML:function(){return'<div class="trix-button-row">\n  <span class="trix-button-group trix-button-group--text-tools" data-trix-button-group="text-tools">\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-bold" data-trix-attribute="bold" data-trix-key="b" title="'+e.bold+'" tabindex="-1">'+e.bold+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-italic" data-trix-attribute="italic" data-trix-key="i" title="'+e.italic+'" tabindex="-1">'+e.italic+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-strike" data-trix-attribute="strike" title="'+e.strike+'" tabindex="-1">'+e.strike+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-link" data-trix-attribute="href" data-trix-action="link" data-trix-key="k" title="'+e.link+'" tabindex="-1">'+e.link+'</button>\n  </span>\n\n  <span class="trix-button-group trix-button-group--block-tools" data-trix-button-group="block-tools">\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-heading-1" data-trix-attribute="heading1" title="'+e.heading1+'" tabindex="-1">'+e.heading1+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-quote" data-trix-attribute="quote" title="'+e.quote+'" tabindex="-1">'+e.quote+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-code" data-trix-attribute="code" title="'+e.code+'" tabindex="-1">'+e.code+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-bullet-list" data-trix-attribute="bullet" title="'+e.bullets+'" tabindex="-1">'+e.bullets+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-number-list" data-trix-attribute="number" title="'+e.numbers+'" tabindex="-1">'+e.numbers+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-decrease-nesting-level" data-trix-action="decreaseNestingLevel" title="'+e.outdent+'" tabindex="-1">'+e.outdent+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-increase-nesting-level" data-trix-action="increaseNestingLevel" title="'+e.indent+'" tabindex="-1">'+e.indent+'</button>\n  </span>\n\n  <span class="trix-button-group trix-button-group--file-tools" data-trix-button-group="file-tools">\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-attach" data-trix-action="attachFiles" title="'+e.attachFiles+'" tabindex="-1">'+e.attachFiles+'</button>\n  </span>\n\n  <span class="trix-button-group-spacer"></span>\n\n  <span class="trix-button-group trix-button-group--history-tools" data-trix-button-group="history-tools">\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-undo" data-trix-action="undo" data-trix-key="z" title="'+e.undo+'" tabindex="-1">'+e.undo+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-redo" data-trix-action="redo" data-trix-key="shift+z" title="'+e.redo+'" tabindex="-1">'+e.redo+'</button>\n  </span>\n</div>\n\n<div class="trix-dialogs" data-trix-dialogs>\n  <div class="trix-dialog trix-dialog--link" data-trix-dialog="href" data-trix-dialog-attribute="href">\n    <div class="trix-dialog__link-fields">\n      <input type="url" name="href" class="trix-input trix-input--dialog" placeholder="'+e.urlPlaceholder+'" aria-label="'+e.url+'" required data-trix-input>\n      <div class="trix-button-group">\n        <input type="button" class="trix-button trix-button--dialog" value="'+e.link+'" data-trix-method="setAttribute">\n        <input type="button" class="trix-button trix-button--dialog" value="'+e.unlink+'" data-trix-method="removeAttribute">\n      </div>\n    </div>\n  </div>\n</div>'}}}.call(this),function(){o.config.undoInterval=5e3}.call(this),function(){o.config.attachments={preview:{presentation:"gallery",caption:{name:!0,size:!0}},file:{caption:{size:!0}}}}.call(this),function(){o.config.keyNames={8:"backspace",9:"tab",13:"return",27:"escape",37:"left",39:"right",46:"delete",68:"d",72:"h",79:"o"}}.call(this),function(){o.config.input={level2Enabled:!0,getLevel:function(){return this.level2Enabled&&o.browser.supportsInputEvents?2:0},pickFiles:function(e){var t;return(t=o.makeElement("input",{type:"file",multiple:!0,hidden:!0,id:this.fileInputId})).addEventListener("change",(function(){return e(t.files),o.removeNode(t)})),o.removeNode(document.getElementById(this.fileInputId)),document.body.appendChild(t),t.click()},fileInputId:"trix-file-input-"+Date.now().toString(16)}}.call(this),function(){}.call(this),function(){o.registerElement("trix-toolbar",{defaultCSS:"%t {\n  display: block;\n}\n\n%t {\n  white-space: nowrap;\n}\n\n%t [data-trix-dialog] {\n  display: none;\n}\n\n%t [data-trix-dialog][data-trix-active] {\n  display: block;\n}\n\n%t [data-trix-dialog] [data-trix-validate]:invalid {\n  background-color: #ffdddd;\n}",initialize:function(){return""===this.innerHTML?this.innerHTML=o.config.toolbar.getDefaultHTML():void 0}})}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty,n=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};o.ObjectView=function(t){function i(e,t){this.object=e,this.options=null!=t?t:{},this.childViews=[],this.rootView=this}return e(i,t),i.prototype.getNodes=function(){var e,t,n,i,r;for(null==this.nodes&&(this.nodes=this.createNodes()),r=[],e=0,t=(i=this.nodes).length;t>e;e++)n=i[e],r.push(n.cloneNode(!0));return r},i.prototype.invalidate=function(){var e;return this.nodes=null,this.childViews=[],null!=(e=this.parentView)?e.invalidate():void 0},i.prototype.invalidateViewForObject=function(e){var t;return null!=(t=this.findViewForObject(e))?t.invalidate():void 0},i.prototype.findOrCreateCachedChildView=function(e,t){var n;return(n=this.getCachedViewForObject(t))?this.recordChildView(n):(n=this.createChildView.apply(this,arguments),this.cacheViewForObject(n,t)),n},i.prototype.createChildView=function(e,t,n){var i;return null==n&&(n={}),t instanceof o.ObjectGroup&&(n.viewClass=e,e=o.ObjectGroupView),i=new e(t,n),this.recordChildView(i)},i.prototype.recordChildView=function(e){return e.parentView=this,e.rootView=this.rootView,this.childViews.push(e),e},i.prototype.getAllChildViews=function(){var e,t,n,i,r;for(r=[],t=0,n=(i=this.childViews).length;n>t;t++)e=i[t],r.push(e),r=r.concat(e.getAllChildViews());return r},i.prototype.findElement=function(){return this.findElementForObject(this.object)},i.prototype.findElementForObject=function(e){var t;return(t=null!=e?e.id:void 0)?this.rootView.element.querySelector("[data-trix-id='"+t+"']"):void 0},i.prototype.findViewForObject=function(e){var t,n,i,r;for(t=0,n=(i=this.getAllChildViews()).length;n>t;t++)if((r=i[t]).object===e)return r},i.prototype.getViewCache=function(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?null!=this.viewCache?this.viewCache:this.viewCache={}:void 0},i.prototype.isViewCachingEnabled=function(){return!1!==this.shouldCacheViews},i.prototype.enableViewCaching=function(){return this.shouldCacheViews=!0},i.prototype.disableViewCaching=function(){return this.shouldCacheViews=!1},i.prototype.getCachedViewForObject=function(e){var t;return null!=(t=this.getViewCache())?t[e.getCacheKey()]:void 0},i.prototype.cacheViewForObject=function(e,t){var n;return null!=(n=this.getViewCache())?n[t.getCacheKey()]=e:void 0},i.prototype.garbageCollectCachedViews=function(){var e,t,i,r,o,s;if(e=this.getViewCache()){for(t in s=this.getAllChildViews().concat(this),i=function(){var e,t,n;for(n=[],e=0,t=s.length;t>e;e++)o=s[e],n.push(o.object.getCacheKey());return n}(),r=[],e)n.call(i,t)<0&&r.push(delete e[t]);return r}},i}(o.BasicObject)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;o.ObjectGroupView=function(t){function n(){n.__super__.constructor.apply(this,arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}return e(n,t),n.prototype.getChildViews=function(){var e,t,n,i;if(!this.childViews.length)for(e=0,t=(i=this.objectGroup.getObjects()).length;t>e;e++)n=i[e],this.findOrCreateCachedChildView(this.viewClass,n,this.options);return this.childViews},n.prototype.createNodes=function(){var e,t,n,i,r,o,s,a;for(e=this.createContainerElement(),t=0,i=(s=this.getChildViews()).length;i>t;t++)for(n=0,r=(a=s[t].getNodes()).length;r>n;n++)o=a[n],e.appendChild(o);return[e]},n.prototype.createContainerElement=function(e){return null==e&&(e=this.objectGroup.getDepth()),this.getChildViews()[0].createContainerElement(e)},n}(o.ObjectView)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;o.Controller=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n}(o.BasicObject)}.call(this),function(){var e,t,n,i,r,s,a=function(e,t){function n(){this.constructor=e}for(var i in t)l.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},l={}.hasOwnProperty,c=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};e=o.findClosestElementFromNode,n=o.nodeIsEmptyTextNode,t=o.nodeIsBlockStartComment,i=o.normalizeSpaces,r=o.summarizeStringChange,s=o.tagName,o.MutationObserver=function(o){function l(e){this.element=e,this.didMutate=function(e,t){return function(){return e.apply(t,arguments)}}(this.didMutate,this),this.observer=new window.MutationObserver(this.didMutate),this.start()}var u,d;return a(l,o),"data-trix-mutable",d={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},l.prototype.start=function(){return this.reset(),this.observer.observe(this.element,d)},l.prototype.stop=function(){return this.observer.disconnect()},l.prototype.didMutate=function(e){var t,n;return(t=this.mutations).push.apply(t,this.findSignificantMutations(e)),this.mutations.length?(null!=(n=this.delegate)&&"function"==typeof n.elementDidMutate&&n.elementDidMutate(this.getMutationSummary()),this.reset()):void 0},l.prototype.reset=function(){return this.mutations=[]},l.prototype.findSignificantMutations=function(e){var t,n,i,r;for(r=[],t=0,n=e.length;n>t;t++)i=e[t],this.mutationIsSignificant(i)&&r.push(i);return r},l.prototype.mutationIsSignificant=function(e){var t,n,i,r;if(this.nodeIsMutable(e.target))return!1;for(t=0,n=(r=this.nodesModifiedByMutation(e)).length;n>t;t++)if(i=r[t],this.nodeIsSignificant(i))return!0;return!1},l.prototype.nodeIsSignificant=function(e){return e!==this.element&&!this.nodeIsMutable(e)&&!n(e)},l.prototype.nodeIsMutable=function(t){return e(t,{matchingSelector:"[data-trix-mutable]"})},l.prototype.nodesModifiedByMutation=function(e){var t;switch(t=[],e.type){case"attributes":"data-trix-mutable"!==e.attributeName&&t.push(e.target);break;case"characterData":t.push(e.target.parentNode),t.push(e.target);break;case"childList":t.push.apply(t,e.addedNodes),t.push.apply(t,e.removedNodes)}return t},l.prototype.getMutationSummary=function(){return this.getTextMutationSummary()},l.prototype.getTextMutationSummary=function(){var e,t,n,i,r,o,s,a,l,u,d;for(n=(a=this.getTextChangesFromCharacterData()).additions,r=a.deletions,o=0,s=(l=(d=this.getTextChangesFromChildList()).additions).length;s>o;o++)t=l[o],c.call(n,t)<0&&n.push(t);return r.push.apply(r,d.deletions),u={},(e=n.join(""))&&(u.textAdded=e),(i=r.join(""))&&(u.textDeleted=i),u},l.prototype.getMutationsByType=function(e){var t,n,i,r,o;for(o=[],t=0,n=(r=this.mutations).length;n>t;t++)(i=r[t]).type===e&&o.push(i);return o},l.prototype.getTextChangesFromChildList=function(){var e,n,r,o,s,a,l,c,d,h;for(e=[],l=[],n=0,o=(a=this.getMutationsByType("childList")).length;o>n;n++)s=a[n],e.push.apply(e,s.addedNodes),l.push.apply(l,s.removedNodes);return 0===e.length&&1===l.length&&t(l[0])?(d=[],h=["\n"]):(d=u(e),h=u(l)),{additions:function(){var e,t,n;for(n=[],r=e=0,t=d.length;t>e;r=++e)(c=d[r])!==h[r]&&n.push(i(c));return n}(),deletions:function(){var e,t,n;for(n=[],r=e=0,t=h.length;t>e;r=++e)(c=h[r])!==d[r]&&n.push(i(c));return n}()}},l.prototype.getTextChangesFromCharacterData=function(){var e,t,n,o,s,a,l,c;return(t=this.getMutationsByType("characterData")).length&&(c=t[0],n=t[t.length-1],s=i(c.oldValue),o=i(n.target.data),e=(a=r(s,o)).added,l=a.removed),{additions:e?[e]:[],deletions:l?[l]:[]}},u=function(e){var t,n,i,r;for(null==e&&(e=[]),r=[],t=0,n=e.length;n>t;t++)switch(i=e[t],i.nodeType){case Node.TEXT_NODE:r.push(i.data);break;case Node.ELEMENT_NODE:"br"===s(i)?r.push("\n"):r.push.apply(r,u(i.childNodes))}return r},l}(o.BasicObject)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;o.FileVerificationOperation=function(t){function n(e){this.file=e}return e(n,t),n.prototype.perform=function(e){var t;return(t=new FileReader).onerror=function(){return e(!1)},t.onload=function(n){return function(){t.onerror=null;try{t.abort()}catch(e){}return e(!0,n.file)}}(this),t.readAsArrayBuffer(this.file)},n}(o.Operation)}.call(this),function(){var e,t,n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;e=o.handleEvent,t=o.innerElementIsActive,o.InputController=function(i){function r(t){var n;for(n in this.element=t,this.mutationObserver=new o.MutationObserver(this.element),this.mutationObserver.delegate=this,this.events)e(n,{onElement:this.element,withCallback:this.handlerFor(n)})}return n(r,i),r.prototype.events={},r.prototype.elementDidMutate=function(){},r.prototype.editorWillSyncDocumentView=function(){return this.mutationObserver.stop()},r.prototype.editorDidSyncDocumentView=function(){return this.mutationObserver.start()},r.prototype.requestRender=function(){var e;return null!=(e=this.delegate)&&"function"==typeof e.inputControllerDidRequestRender?e.inputControllerDidRequestRender():void 0},r.prototype.requestReparse=function(){var e;return null!=(e=this.delegate)&&"function"==typeof e.inputControllerDidRequestReparse&&e.inputControllerDidRequestReparse(),this.requestRender()},r.prototype.attachFiles=function(e){var t,n;return n=function(){var n,i,r;for(r=[],n=0,i=e.length;i>n;n++)t=e[n],r.push(new o.FileVerificationOperation(t));return r}(),Promise.all(n).then(function(e){return function(t){return e.handleInput((function(){var e,n;return null!=(e=this.delegate)&&e.inputControllerWillAttachFiles(),null!=(n=this.responder)&&n.insertFiles(t),this.requestRender()}))}}(this))},r.prototype.handlerFor=function(e){return function(n){return function(i){return i.defaultPrevented?void 0:n.handleInput((function(){return t(this.element)?void 0:(this.eventName=e,this.events[e].call(this,i))}))}}(this)},r.prototype.handleInput=function(e){var t,n;try{return null!=(t=this.delegate)&&t.inputControllerWillHandleInput(),e.call(this)}finally{null!=(n=this.delegate)&&n.inputControllerDidHandleInput()}},r.prototype.createLinkHTML=function(e,t){var n;return(n=document.createElement("a")).href=e,n.textContent=null!=t?t:e,n.outerHTML},r}(o.BasicObject)}.call(this),function(){var e,t,n,i,r,s,a,l,c,u,d,h,p=function(e,t){function n(){this.constructor=e}for(var i in t)f.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},f={}.hasOwnProperty,m=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};c=o.makeElement,u=o.objectsAreEqual,o.tagName,t=o.browser,a=o.keyEventIsKeyboardCommand,i=o.dataTransferIsWritable,n=o.dataTransferIsPlainText,l=o.config.keyNames,o.Level0InputController=function(t){function s(){s.__super__.constructor.apply(this,arguments),this.resetInputSummary()}var f;return p(s,t),f=0,s.prototype.setInputSummary=function(e){var t,n;for(t in null==e&&(e={}),this.inputSummary.eventName=this.eventName,e)n=e[t],this.inputSummary[t]=n;return this.inputSummary},s.prototype.resetInputSummary=function(){return this.inputSummary={}},s.prototype.reset=function(){return this.resetInputSummary(),o.selectionChangeObserver.reset()},s.prototype.elementDidMutate=function(e){var t;return this.isComposing()?null!=(t=this.delegate)&&"function"==typeof t.inputControllerDidAllowUnhandledInput?t.inputControllerDidAllowUnhandledInput():void 0:this.handleInput((function(){return this.mutationIsSignificant(e)&&(this.mutationIsExpected(e)?this.requestRender():this.requestReparse()),this.reset()}))},s.prototype.mutationIsExpected=function(e){var t,n,i,r,o,s,a,l,c;return s=e.textAdded,a=e.textDeleted,!!this.inputSummary.preferDocument||(t=null!=s?s===this.inputSummary.textAdded:!this.inputSummary.textAdded,n=null!=a?this.inputSummary.didDelete:!this.inputSummary.didDelete,c="\n"===a&&!n,!!(((l=("\n"===s||" \n"===s)&&!t)&&!c||c&&!l)&&(r=this.getSelectedRange())&&(i=l?s.replace(/\n$/,"").length||-1:(null!=s?s.length:void 0)||1,null!=(o=this.responder)?o.positionIsBlockBreak(r[1]+i):void 0))||t&&n)},s.prototype.mutationIsSignificant=function(e){var t,n,i;return i=Object.keys(e).length>0,t=""===(null!=(n=this.compositionInput)?n.getEndData():void 0),i||!t},s.prototype.events={keydown:function(e){var t,n,i,r,s,c,u,d,h;if(this.isComposing()||this.resetInputSummary(),this.inputSummary.didInput=!0,r=l[e.keyCode]){for(n=this.keys,i=0,c=(d=["ctrl","alt","shift","meta"]).length;c>i;i++)e[(u=d[i])+"Key"]&&("ctrl"===u&&(u="control"),n=null!=n?n[u]:void 0);null!=(null!=n?n[r]:void 0)&&(this.setInputSummary({keyName:r}),o.selectionChangeObserver.reset(),n[r].call(this,e))}return a(e)&&(t=String.fromCharCode(e.keyCode).toLowerCase())&&((s=function(){var t,n,i,r;for(r=[],t=0,n=(i=["alt","shift"]).length;n>t;t++)e[(u=i[t])+"Key"]&&r.push(u);return r}()).push(t),null!=(h=this.delegate)?h.inputControllerDidReceiveKeyboardCommand(s):void 0)?e.preventDefault():void 0},keypress:function(e){var t,n,i;if(null==this.inputSummary.eventName&&!e.metaKey&&(!e.ctrlKey||e.altKey))return(i=h(e))?(null!=(t=this.delegate)&&t.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.insertString(i),this.setInputSummary({textAdded:i,didDelete:this.selectionIsExpanded()})):void 0},textInput:function(e){var t,n,i,r;return t=e.data,(r=this.inputSummary.textAdded)&&r!==t&&r.toUpperCase()===t?(n=this.getSelectedRange(),this.setSelectedRange([n[0],n[1]+r.length]),null!=(i=this.responder)&&i.insertString(t),this.setInputSummary({textAdded:t}),this.setSelectedRange(n)):void 0},dragenter:function(e){return e.preventDefault()},dragstart:function(e){var t;return e.target,this.serializeSelectionToDataTransfer(e.dataTransfer),this.draggedRange=this.getSelectedRange(),null!=(t=this.delegate)&&"function"==typeof t.inputControllerDidStartDrag?t.inputControllerDidStartDrag():void 0},dragover:function(e){var t,n;return!this.draggedRange&&!this.canAcceptDataTransfer(e.dataTransfer)||(e.preventDefault(),t={x:e.clientX,y:e.clientY},u(t,this.draggingPoint))?void 0:(this.draggingPoint=t,null!=(n=this.delegate)&&"function"==typeof n.inputControllerDidReceiveDragOverPoint?n.inputControllerDidReceiveDragOverPoint(this.draggingPoint):void 0)},dragend:function(){var e;return null!=(e=this.delegate)&&"function"==typeof e.inputControllerDidCancelDrag&&e.inputControllerDidCancelDrag(),this.draggedRange=null,this.draggingPoint=null},drop:function(e){var t,n,i,r,s,a,l,c,u;return e.preventDefault(),i=null!=(s=e.dataTransfer)?s.files:void 0,r={x:e.clientX,y:e.clientY},null!=(a=this.responder)&&a.setLocationRangeFromPointRange(r),(null!=i?i.length:void 0)?this.attachFiles(i):this.draggedRange?(null!=(l=this.delegate)&&l.inputControllerWillMoveText(),null!=(c=this.responder)&&c.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()):(n=e.dataTransfer.getData("application/x-trix-document"))&&(t=o.Document.fromJSONString(n),null!=(u=this.responder)&&u.insertDocument(t),this.requestRender()),this.draggedRange=null,this.draggingPoint=null},cut:function(e){var t,n;return(null!=(t=this.responder)?t.selectionIsExpanded():void 0)&&(this.serializeSelectionToDataTransfer(e.clipboardData)&&e.preventDefault(),null!=(n=this.delegate)&&n.inputControllerWillCutText(),this.deleteInDirection("backward"),e.defaultPrevented)?this.requestRender():void 0},copy:function(e){var t;return(null!=(t=this.responder)?t.selectionIsExpanded():void 0)&&this.serializeSelectionToDataTransfer(e.clipboardData)?e.preventDefault():void 0},paste:function(e){var t,i,s,a,l,c,u,h,p,g,v,y,b,w,_,x,k,C,S,A,D,O,T;return t=null!=(h=e.clipboardData)?h:e.testClipboardData,u={clipboard:t},null==t||d(e)?void this.getPastedHTMLUsingHiddenElement(function(e){return function(t){var n,i,r;return u.type="text/html",u.html=t,null!=(n=e.delegate)&&n.inputControllerWillPaste(u),null!=(i=e.responder)&&i.insertHTML(u.html),e.requestRender(),null!=(r=e.delegate)?r.inputControllerDidPaste(u):void 0}}(this)):((a=t.getData("URL"))?(u.type="text/html",T=(c=t.getData("public.url-name"))?o.squishBreakableWhitespace(c).trim():a,u.html=this.createLinkHTML(a,T),null!=(p=this.delegate)&&p.inputControllerWillPaste(u),this.setInputSummary({textAdded:T,didDelete:this.selectionIsExpanded()}),null!=(_=this.responder)&&_.insertHTML(u.html),this.requestRender(),null!=(x=this.delegate)&&x.inputControllerDidPaste(u)):n(t)?(u.type="text/plain",u.string=t.getData("text/plain"),null!=(k=this.delegate)&&k.inputControllerWillPaste(u),this.setInputSummary({textAdded:u.string,didDelete:this.selectionIsExpanded()}),null!=(C=this.responder)&&C.insertString(u.string),this.requestRender(),null!=(S=this.delegate)&&S.inputControllerDidPaste(u)):(l=t.getData("text/html"))?(u.type="text/html",u.html=l,null!=(A=this.delegate)&&A.inputControllerWillPaste(u),null!=(D=this.responder)&&D.insertHTML(u.html),this.requestRender(),null!=(O=this.delegate)&&O.inputControllerDidPaste(u)):m.call(t.types,"Files")>=0&&(s=null!=(g=t.items)&&null!=(v=g[0])&&"function"==typeof v.getAsFile?v.getAsFile():void 0)&&(!s.name&&(i=r(s))&&(s.name="pasted-file-"+ ++f+"."+i),u.type="File",u.file=s,null!=(y=this.delegate)&&y.inputControllerWillAttachFiles(),null!=(b=this.responder)&&b.insertFile(u.file),this.requestRender(),null!=(w=this.delegate)&&w.inputControllerDidPaste(u)),e.preventDefault())},compositionstart:function(e){return this.getCompositionInput().start(e.data)},compositionupdate:function(e){return this.getCompositionInput().update(e.data)},compositionend:function(e){return this.getCompositionInput().end(e.data)},beforeinput:function(){return this.inputSummary.didInput=!0},input:function(e){return this.inputSummary.didInput=!0,e.stopPropagation()}},s.prototype.keys={backspace:function(e){var t;return null!=(t=this.delegate)&&t.inputControllerWillPerformTyping(),this.deleteInDirection("backward",e)},delete:function(e){var t;return null!=(t=this.delegate)&&t.inputControllerWillPerformTyping(),this.deleteInDirection("forward",e)},return:function(){var e,t;return this.setInputSummary({preferDocument:!0}),null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),null!=(t=this.responder)?t.insertLineBreak():void 0},tab:function(e){var t,n;return(null!=(t=this.responder)?t.canIncreaseNestingLevel():void 0)?(null!=(n=this.responder)&&n.increaseNestingLevel(),this.requestRender(),e.preventDefault()):void 0},left:function(e){var t;return this.selectionIsInCursorTarget()?(e.preventDefault(),null!=(t=this.responder)?t.moveCursorInDirection("backward"):void 0):void 0},right:function(e){var t;return this.selectionIsInCursorTarget()?(e.preventDefault(),null!=(t=this.responder)?t.moveCursorInDirection("forward"):void 0):void 0},control:{d:function(e){var t;return null!=(t=this.delegate)&&t.inputControllerWillPerformTyping(),this.deleteInDirection("forward",e)},h:function(e){var t;return null!=(t=this.delegate)&&t.inputControllerWillPerformTyping(),this.deleteInDirection("backward",e)},o:function(e){var t,n;return e.preventDefault(),null!=(t=this.delegate)&&t.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.insertString("\n",{updatePosition:!1}),this.requestRender()}},shift:{return:function(e){var t,n;return null!=(t=this.delegate)&&t.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.insertString("\n"),this.requestRender(),e.preventDefault()},tab:function(e){var t,n;return(null!=(t=this.responder)?t.canDecreaseNestingLevel():void 0)?(null!=(n=this.responder)&&n.decreaseNestingLevel(),this.requestRender(),e.preventDefault()):void 0},left:function(e){return this.selectionIsInCursorTarget()?(e.preventDefault(),this.expandSelectionInDirection("backward")):void 0},right:function(e){return this.selectionIsInCursorTarget()?(e.preventDefault(),this.expandSelectionInDirection("forward")):void 0}},alt:{backspace:function(){var e;return this.setInputSummary({preferDocument:!1}),null!=(e=this.delegate)?e.inputControllerWillPerformTyping():void 0}},meta:{backspace:function(){var e;return this.setInputSummary({preferDocument:!1}),null!=(e=this.delegate)?e.inputControllerWillPerformTyping():void 0}}},s.prototype.getCompositionInput=function(){return this.isComposing()?this.compositionInput:this.compositionInput=new e(this)},s.prototype.isComposing=function(){return null!=this.compositionInput&&!this.compositionInput.isEnded()},s.prototype.deleteInDirection=function(e,t){var n;return!1!==(null!=(n=this.responder)?n.deleteInDirection(e):void 0)?this.setInputSummary({didDelete:!0}):t?(t.preventDefault(),this.requestRender()):void 0},s.prototype.serializeSelectionToDataTransfer=function(e){var t,n;if(i(e))return t=null!=(n=this.responder)?n.getSelectedDocument().toSerializableDocument():void 0,e.setData("application/x-trix-document",JSON.stringify(t)),e.setData("text/html",o.DocumentView.render(t).innerHTML),e.setData("text/plain",t.toString().replace(/\n$/,"")),!0},s.prototype.canAcceptDataTransfer=function(e){var t,n,i,r,o;for(o={},t=0,n=(r=null!=(i=null!=e?e.types:void 0)?i:[]).length;n>t;t++)o[r[t]]=!0;return o.Files||o["application/x-trix-document"]||o["text/html"]||o["text/plain"]},s.prototype.getPastedHTMLUsingHiddenElement=function(e){var t,n,i;return n=this.getSelectedRange(),i={position:"absolute",left:window.pageXOffset+"px",top:window.pageYOffset+"px",opacity:0},t=c({style:i,tagName:"div",editable:!0}),document.body.appendChild(t),t.focus(),requestAnimationFrame(function(i){return function(){var r;return r=t.innerHTML,o.removeNode(t),i.setSelectedRange(n),e(r)}}(this))},s.proxyMethod("responder?.getSelectedRange"),s.proxyMethod("responder?.setSelectedRange"),s.proxyMethod("responder?.expandSelectionInDirection"),s.proxyMethod("responder?.selectionIsInCursorTarget"),s.proxyMethod("responder?.selectionIsExpanded"),s}(o.InputController),r=function(e){var t,n;return null!=(t=e.type)&&null!=(n=t.match(/\/(\w+)$/))?n[1]:void 0},s=null!=("function"==typeof" ".codePointAt?" ".codePointAt(0):void 0),h=function(e){var t;return e.key&&s&&e.key.codePointAt(0)===e.keyCode?e.key:(null===e.which?t=e.keyCode:0!==e.which&&0!==e.charCode&&(t=e.charCode),null!=t&&"escape"!==l[t]?o.UTF16String.fromCodepoints([t]).toString():void 0)},d=function(e){var t,n,i,r,o,s,a,l,c;if(a=e.clipboardData){if(m.call(a.types,"text/html")>=0){for(i=0,s=(l=a.types).length;s>i;i++)if(c=l[i],t=/^CorePasteboardFlavorType/.test(c),n=/^dyn\./.test(c)&&a.getData(c),t||n)return!0;return!1}return r=m.call(a.types,"com.apple.webarchive")>=0,o=m.call(a.types,"com.apple.flat-rtfd")>=0,r||o}},e=function(e){function n(e){var t;this.inputController=e,t=this.inputController,this.responder=t.responder,this.delegate=t.delegate,this.inputSummary=t.inputSummary,this.data={}}return p(n,e),n.prototype.start=function(e){var t,n;return this.data.start=e,this.isSignificant()?("keypress"===this.inputSummary.eventName&&this.inputSummary.textAdded&&null!=(t=this.responder)&&t.deleteInDirection("left"),this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=null!=(n=this.responder)?n.getSelectedRange():void 0):void 0},n.prototype.update=function(e){var t;return this.data.update=e,this.isSignificant()&&(t=this.selectPlaceholder())?(this.forgetPlaceholder(),this.range=t):void 0},n.prototype.end=function(e){var t,n,i,r;return this.data.end=e,this.isSignificant()?(this.forgetPlaceholder(),this.canApplyToDocument()?(this.setInputSummary({preferDocument:!0,didInput:!1}),null!=(t=this.delegate)&&t.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.setSelectedRange(this.range),null!=(i=this.responder)&&i.insertString(this.data.end),null!=(r=this.responder)?r.setSelectedRange(this.range[0]+this.data.end.length):void 0):null!=this.data.start||null!=this.data.update?(this.requestReparse(),this.inputController.reset()):void 0):this.inputController.reset()},n.prototype.getEndData=function(){return this.data.end},n.prototype.isEnded=function(){return null!=this.getEndData()},n.prototype.isSignificant=function(){return!t.composesExistingText||this.inputSummary.didInput},n.prototype.canApplyToDocument=function(){var e,t;return 0===(null!=(e=this.data.start)?e.length:void 0)&&(null!=(t=this.data.end)?t.length:void 0)>0&&null!=this.range},n.proxyMethod("inputController.setInputSummary"),n.proxyMethod("inputController.requestRender"),n.proxyMethod("inputController.requestReparse"),n.proxyMethod("responder?.selectionIsExpanded"),n.proxyMethod("responder?.insertPlaceholder"),n.proxyMethod("responder?.selectPlaceholder"),n.proxyMethod("responder?.forgetPlaceholder"),n}(o.BasicObject)}.call(this),function(){var e,t,n,i=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function n(){this.constructor=e}for(var i in t)s.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty,a=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};e=o.dataTransferIsPlainText,t=o.keyEventIsKeyboardCommand,n=o.objectsAreEqual,o.Level2InputController=function(s){function l(){return this.render=i(this.render,this),l.__super__.constructor.apply(this,arguments)}var c,u,d,h,p,f;return r(l,s),l.prototype.elementDidMutate=function(){var e;return this.scheduledRender?this.composing&&null!=(e=this.delegate)&&"function"==typeof e.inputControllerDidAllowUnhandledInput?e.inputControllerDidAllowUnhandledInput():void 0:this.reparse()},l.prototype.scheduleRender=function(){return null!=this.scheduledRender?this.scheduledRender:this.scheduledRender=requestAnimationFrame(this.render)},l.prototype.render=function(){var e;return cancelAnimationFrame(this.scheduledRender),this.scheduledRender=null,this.composing||null!=(e=this.delegate)&&e.render(),"function"==typeof this.afterRender&&this.afterRender(),this.afterRender=null},l.prototype.reparse=function(){var e;return null!=(e=this.delegate)?e.reparse():void 0},l.prototype.events={keydown:function(e){var n,i,r,o;if(t(e)){if(n=u(e),null!=(o=this.delegate)?o.inputControllerDidReceiveKeyboardCommand(n):void 0)return e.preventDefault()}else if(r=e.key,e.altKey&&(r+="+Alt"),e.shiftKey&&(r+="+Shift"),i=this.keys[r])return this.withEvent(e,i)},paste:function(e){var t,n,i,r,o,s,a,l,c;return d(e)?(e.preventDefault(),this.attachFiles(e.clipboardData.files)):h(e)?(e.preventDefault(),n={type:"text/plain",string:e.clipboardData.getData("text/plain")},null!=(i=this.delegate)&&i.inputControllerWillPaste(n),null!=(r=this.responder)&&r.insertString(n.string),this.render(),null!=(o=this.delegate)?o.inputControllerDidPaste(n):void 0):(t=null!=(s=e.clipboardData)?s.getData("URL"):void 0)?(e.preventDefault(),n={type:"text/html",html:this.createLinkHTML(t)},null!=(a=this.delegate)&&a.inputControllerWillPaste(n),null!=(l=this.responder)&&l.insertHTML(n.html),this.render(),null!=(c=this.delegate)?c.inputControllerDidPaste(n):void 0):void 0},beforeinput:function(e){var t;return(t=this.inputTypes[e.inputType])?(this.withEvent(e,t),this.scheduleRender()):void 0},input:function(){return o.selectionChangeObserver.reset()},dragstart:function(e){var t,n;return(null!=(t=this.responder)?t.selectionContainsAttachments():void 0)?(e.dataTransfer.setData("application/x-trix-dragging",!0),this.dragging={range:null!=(n=this.responder)?n.getSelectedRange():void 0,point:p(e)}):void 0},dragenter:function(e){return c(e)?e.preventDefault():void 0},dragover:function(e){var t,i;if(this.dragging){if(e.preventDefault(),t=p(e),!n(t,this.dragging.point))return this.dragging.point=t,null!=(i=this.responder)?i.setLocationRangeFromPointRange(t):void 0}else if(c(e))return e.preventDefault()},drop:function(e){var t,n,i,r;return this.dragging?(e.preventDefault(),null!=(n=this.delegate)&&n.inputControllerWillMoveText(),null!=(i=this.responder)&&i.moveTextFromRange(this.dragging.range),this.dragging=null,this.scheduleRender()):c(e)?(e.preventDefault(),t=p(e),null!=(r=this.responder)&&r.setLocationRangeFromPointRange(t),this.attachFiles(e.dataTransfer.files)):void 0},dragend:function(){var e;return this.dragging?(null!=(e=this.responder)&&e.setSelectedRange(this.dragging.range),this.dragging=null):void 0},compositionend:function(){return this.composing?(this.composing=!1,this.scheduleRender()):void 0}},l.prototype.keys={ArrowLeft:function(){var e,t;return(null!=(e=this.responder)?e.shouldManageMovingCursorInDirection("backward"):void 0)?(this.event.preventDefault(),null!=(t=this.responder)?t.moveCursorInDirection("backward"):void 0):void 0},ArrowRight:function(){var e,t;return(null!=(e=this.responder)?e.shouldManageMovingCursorInDirection("forward"):void 0)?(this.event.preventDefault(),null!=(t=this.responder)?t.moveCursorInDirection("forward"):void 0):void 0},Backspace:function(){var e,t,n;return(null!=(e=this.responder)?e.shouldManageDeletingInDirection("backward"):void 0)?(this.event.preventDefault(),null!=(t=this.delegate)&&t.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.deleteInDirection("backward"),this.render()):void 0},Tab:function(){var e,t;return(null!=(e=this.responder)?e.canIncreaseNestingLevel():void 0)?(this.event.preventDefault(),null!=(t=this.responder)&&t.increaseNestingLevel(),this.render()):void 0},"Tab+Shift":function(){var e,t;return(null!=(e=this.responder)?e.canDecreaseNestingLevel():void 0)?(this.event.preventDefault(),null!=(t=this.responder)&&t.decreaseNestingLevel(),this.render()):void 0}},l.prototype.inputTypes={deleteByComposition:function(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteByCut:function(){return this.deleteInDirection("backward")},deleteByDrag:function(){return this.event.preventDefault(),this.withTargetDOMRange((function(){var e;return this.deleteByDragRange=null!=(e=this.responder)?e.getSelectedRange():void 0}))},deleteCompositionText:function(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteContent:function(){return this.deleteInDirection("backward")},deleteContentBackward:function(){return this.deleteInDirection("backward")},deleteContentForward:function(){return this.deleteInDirection("forward")},deleteEntireSoftLine:function(){return this.deleteInDirection("forward")},deleteHardLineBackward:function(){return this.deleteInDirection("backward")},deleteHardLineForward:function(){return this.deleteInDirection("forward")},deleteSoftLineBackward:function(){return this.deleteInDirection("backward")},deleteSoftLineForward:function(){return this.deleteInDirection("forward")},deleteWordBackward:function(){return this.deleteInDirection("backward")},deleteWordForward:function(){return this.deleteInDirection("forward")},formatBackColor:function(){return this.activateAttributeIfSupported("backgroundColor",this.event.data)},formatBold:function(){return this.toggleAttributeIfSupported("bold")},formatFontColor:function(){return this.activateAttributeIfSupported("color",this.event.data)},formatFontName:function(){return this.activateAttributeIfSupported("font",this.event.data)},formatIndent:function(){var e;return(null!=(e=this.responder)?e.canIncreaseNestingLevel():void 0)?this.withTargetDOMRange((function(){var e;return null!=(e=this.responder)?e.increaseNestingLevel():void 0})):void 0},formatItalic:function(){return this.toggleAttributeIfSupported("italic")},formatJustifyCenter:function(){return this.toggleAttributeIfSupported("justifyCenter")},formatJustifyFull:function(){return this.toggleAttributeIfSupported("justifyFull")},formatJustifyLeft:function(){return this.toggleAttributeIfSupported("justifyLeft")},formatJustifyRight:function(){return this.toggleAttributeIfSupported("justifyRight")},formatOutdent:function(){var e;return(null!=(e=this.responder)?e.canDecreaseNestingLevel():void 0)?this.withTargetDOMRange((function(){var e;return null!=(e=this.responder)?e.decreaseNestingLevel():void 0})):void 0},formatRemove:function(){return this.withTargetDOMRange((function(){var e,t,n,i;for(e in i=[],null!=(t=this.responder)?t.getCurrentAttributes():void 0)i.push(null!=(n=this.responder)?n.removeCurrentAttribute(e):void 0);return i}))},formatSetBlockTextDirection:function(){return this.activateAttributeIfSupported("blockDir",this.event.data)},formatSetInlineTextDirection:function(){return this.activateAttributeIfSupported("textDir",this.event.data)},formatStrikeThrough:function(){return this.toggleAttributeIfSupported("strike")},formatSubscript:function(){return this.toggleAttributeIfSupported("sub")},formatSuperscript:function(){return this.toggleAttributeIfSupported("sup")},formatUnderline:function(){return this.toggleAttributeIfSupported("underline")},historyRedo:function(){var e;return null!=(e=this.delegate)?e.inputControllerWillPerformRedo():void 0},historyUndo:function(){var e;return null!=(e=this.delegate)?e.inputControllerWillPerformUndo():void 0},insertCompositionText:function(){return this.composing=!0,this.insertString(this.event.data)},insertFromComposition:function(){return this.composing=!1,this.insertString(this.event.data)},insertFromDrop:function(){var e,t;return(e=this.deleteByDragRange)?(this.deleteByDragRange=null,null!=(t=this.delegate)&&t.inputControllerWillMoveText(),this.withTargetDOMRange((function(){var t;return null!=(t=this.responder)?t.moveTextFromRange(e):void 0}))):void 0},insertFromPaste:function(){var t,n,i,r,s,a,l,c,u,d,h;return t=this.event.dataTransfer,s={dataTransfer:t},(n=t.getData("URL"))?(this.event.preventDefault(),s.type="text/html",h=(r=t.getData("public.url-name"))?o.squishBreakableWhitespace(r).trim():n,s.html=this.createLinkHTML(n,h),null!=(a=this.delegate)&&a.inputControllerWillPaste(s),this.withTargetDOMRange((function(){var e;return null!=(e=this.responder)?e.insertHTML(s.html):void 0})),this.afterRender=function(e){return function(){var t;return null!=(t=e.delegate)?t.inputControllerDidPaste(s):void 0}}(this)):e(t)?(s.type="text/plain",s.string=t.getData("text/plain"),null!=(l=this.delegate)&&l.inputControllerWillPaste(s),this.withTargetDOMRange((function(){var e;return null!=(e=this.responder)?e.insertString(s.string):void 0})),this.afterRender=function(e){return function(){var t;return null!=(t=e.delegate)?t.inputControllerDidPaste(s):void 0}}(this)):(i=t.getData("text/html"))?(this.event.preventDefault(),s.type="text/html",s.html=i,null!=(c=this.delegate)&&c.inputControllerWillPaste(s),this.withTargetDOMRange((function(){var e;return null!=(e=this.responder)?e.insertHTML(s.html):void 0})),this.afterRender=function(e){return function(){var t;return null!=(t=e.delegate)?t.inputControllerDidPaste(s):void 0}}(this)):(null!=(u=t.files)?u.length:void 0)?(s.type="File",s.file=t.files[0],null!=(d=this.delegate)&&d.inputControllerWillPaste(s),this.withTargetDOMRange((function(){var e;return null!=(e=this.responder)?e.insertFile(s.file):void 0})),this.afterRender=function(e){return function(){var t;return null!=(t=e.delegate)?t.inputControllerDidPaste(s):void 0}}(this)):void 0},insertFromYank:function(){return this.insertString(this.event.data)},insertLineBreak:function(){return this.insertString("\n")},insertLink:function(){return this.activateAttributeIfSupported("href",this.event.data)},insertOrderedList:function(){return this.toggleAttributeIfSupported("number")},insertParagraph:function(){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.withTargetDOMRange((function(){var e;return null!=(e=this.responder)?e.insertLineBreak():void 0}))},insertReplacementText:function(){return this.insertString(this.event.dataTransfer.getData("text/plain"),{updatePosition:!1})},insertText:function(){var e,t;return this.insertString(null!=(e=this.event.data)?e:null!=(t=this.event.dataTransfer)?t.getData("text/plain"):void 0)},insertTranspose:function(){return this.insertString(this.event.data)},insertUnorderedList:function(){return this.toggleAttributeIfSupported("bullet")}},l.prototype.insertString=function(e,t){var n;return null==e&&(e=""),null!=(n=this.delegate)&&n.inputControllerWillPerformTyping(),this.withTargetDOMRange((function(){var n;return null!=(n=this.responder)?n.insertString(e,t):void 0}))},l.prototype.toggleAttributeIfSupported=function(e){var t;return a.call(o.getAllAttributeNames(),e)>=0?(null!=(t=this.delegate)&&t.inputControllerWillPerformFormatting(e),this.withTargetDOMRange((function(){var t;return null!=(t=this.responder)?t.toggleCurrentAttribute(e):void 0}))):void 0},l.prototype.activateAttributeIfSupported=function(e,t){var n;return a.call(o.getAllAttributeNames(),e)>=0?(null!=(n=this.delegate)&&n.inputControllerWillPerformFormatting(e),this.withTargetDOMRange((function(){var n;return null!=(n=this.responder)?n.setCurrentAttribute(e,t):void 0}))):void 0},l.prototype.deleteInDirection=function(e,t){var n,i,r;return(null!=t?t:{recordUndoEntry:!0}).recordUndoEntry&&null!=(r=this.delegate)&&r.inputControllerWillPerformTyping(),i=function(t){return function(){var n;return null!=(n=t.responder)?n.deleteInDirection(e):void 0}}(this),(n=this.getTargetDOMRange({minLength:2}))?this.withTargetDOMRange(n,i):i()},l.prototype.withTargetDOMRange=function(e,t){var n;return"function"==typeof e&&(t=e,e=this.getTargetDOMRange()),e?null!=(n=this.responder)?n.withTargetDOMRange(e,t.bind(this)):void 0:(o.selectionChangeObserver.reset(),t.call(this))},l.prototype.getTargetDOMRange=function(e){var t,n,i,r;return i=(null!=e?e:{minLength:0}).minLength,(r="function"==typeof(t=this.event).getTargetRanges?t.getTargetRanges():void 0)&&r.length&&(n=f(r[0]),0===i||n.toString().length>=i)?n:void 0},f=function(e){var t;return(t=document.createRange()).setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),t},l.prototype.withEvent=function(e,t){var n;this.event=e;try{n=t.call(this)}finally{this.event=null}return n},c=function(e){var t,n;return a.call(null!=(t=null!=(n=e.dataTransfer)?n.types:void 0)?t:[],"Files")>=0},d=function(e){var t;return(t=e.clipboardData)?a.call(t.types,"Files")>=0&&1===t.types.length&&t.files.length>=1:void 0},h=function(e){var t;return(t=e.clipboardData)?a.call(t.types,"text/plain")>=0&&1===t.types.length:void 0},u=function(e){var t;return t=[],e.altKey&&t.push("alt"),e.shiftKey&&t.push("shift"),t.push(e.key),t},p=function(e){return{x:e.clientX,y:e.clientY}},l}(o.InputController)}.call(this),function(){var e,t,n,i,r,s,a,l,c=function(e,t){return function(){return e.apply(t,arguments)}},u=function(e,t){function n(){this.constructor=e}for(var i in t)d.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},d={}.hasOwnProperty;t=o.defer,n=o.handleEvent,s=o.makeElement,l=o.tagName,a=o.config,r=a.lang,e=a.css,i=a.keyNames,o.AttachmentEditorController=function(a){function d(e,t,n,i){this.attachmentPiece=e,this.element=t,this.container=n,this.options=null!=i?i:{},this.didBlurCaption=c(this.didBlurCaption,this),this.didChangeCaption=c(this.didChangeCaption,this),this.didInputCaption=c(this.didInputCaption,this),this.didKeyDownCaption=c(this.didKeyDownCaption,this),this.didClickActionButton=c(this.didClickActionButton,this),this.didClickToolbar=c(this.didClickToolbar,this),this.attachment=this.attachmentPiece.attachment,"a"===l(this.element)&&(this.element=this.element.firstChild),this.install()}var h;return u(d,a),h=function(e){return function(){var t;return(t=e.apply(this,arguments)).do(),null==this.undos&&(this.undos=[]),this.undos.push(t.undo)}},d.prototype.install=function(){return this.makeElementMutable(),this.addToolbar(),this.attachment.isPreviewable()?this.installCaptionEditor():void 0},d.prototype.uninstall=function(){var e,t;for(this.savePendingCaption();t=this.undos.pop();)t();return null!=(e=this.delegate)?e.didUninstallAttachmentEditor(this):void 0},d.prototype.savePendingCaption=function(){var e,t,n;return null!=this.pendingCaption?(e=this.pendingCaption,this.pendingCaption=null,e?null!=(t=this.delegate)&&"function"==typeof t.attachmentEditorDidRequestUpdatingAttributesForAttachment?t.attachmentEditorDidRequestUpdatingAttributesForAttachment({caption:e},this.attachment):void 0:null!=(n=this.delegate)&&"function"==typeof n.attachmentEditorDidRequestRemovingAttributeForAttachment?n.attachmentEditorDidRequestRemovingAttributeForAttachment("caption",this.attachment):void 0):void 0},d.prototype.makeElementMutable=h((function(){return{do:function(e){return function(){return e.element.dataset.trixMutable=!0}}(this),undo:function(e){return function(){return delete e.element.dataset.trixMutable}}(this)}})),d.prototype.addToolbar=h((function(){var t;return t=s({tagName:"div",className:e.attachmentToolbar,data:{trixMutable:!0},childNodes:s({tagName:"div",className:"trix-button-row",childNodes:s({tagName:"span",className:"trix-button-group trix-button-group--actions",childNodes:s({tagName:"button",className:"trix-button trix-button--remove",textContent:r.remove,attributes:{title:r.remove},data:{trixAction:"remove"}})})})}),this.attachment.isPreviewable()&&t.appendChild(s({tagName:"div",className:e.attachmentMetadataContainer,childNodes:s({tagName:"span",className:e.attachmentMetadata,childNodes:[s({tagName:"span",className:e.attachmentName,textContent:this.attachment.getFilename(),attributes:{title:this.attachment.getFilename()}}),s({tagName:"span",className:e.attachmentSize,textContent:this.attachment.getFormattedFilesize()})]})})),n("click",{onElement:t,withCallback:this.didClickToolbar}),n("click",{onElement:t,matchingSelector:"[data-trix-action]",withCallback:this.didClickActionButton}),{do:function(e){return function(){return e.element.appendChild(t)}}(this),undo:function(){return o.removeNode(t)}}})),d.prototype.installCaptionEditor=h((function(){var i,a,l,c,u;return(c=s({tagName:"textarea",className:e.attachmentCaptionEditor,attributes:{placeholder:r.captionPlaceholder},data:{trixMutable:!0}})).value=this.attachmentPiece.getCaption(),(u=c.cloneNode()).classList.add("trix-autoresize-clone"),u.tabIndex=-1,i=function(){return u.value=c.value,c.style.height=u.scrollHeight+"px"},n("input",{onElement:c,withCallback:i}),n("input",{onElement:c,withCallback:this.didInputCaption}),n("keydown",{onElement:c,withCallback:this.didKeyDownCaption}),n("change",{onElement:c,withCallback:this.didChangeCaption}),n("blur",{onElement:c,withCallback:this.didBlurCaption}),l=this.element.querySelector("figcaption"),a=l.cloneNode(),{do:function(n){return function(){return l.style.display="none",a.appendChild(c),a.appendChild(u),a.classList.add(e.attachmentCaption+"--editing"),l.parentElement.insertBefore(a,l),i(),n.options.editCaption?t((function(){return c.focus()})):void 0}}(this),undo:function(){return o.removeNode(a),l.style.display=null}}})),d.prototype.didClickToolbar=function(e){return e.preventDefault(),e.stopPropagation()},d.prototype.didClickActionButton=function(e){var t;switch(e.target.getAttribute("data-trix-action")){case"remove":return null!=(t=this.delegate)?t.attachmentEditorDidRequestRemovalOfAttachment(this.attachment):void 0}},d.prototype.didKeyDownCaption=function(e){var t;return"return"===i[e.keyCode]?(e.preventDefault(),this.savePendingCaption(),null!=(t=this.delegate)&&"function"==typeof t.attachmentEditorDidRequestDeselectingAttachment?t.attachmentEditorDidRequestDeselectingAttachment(this.attachment):void 0):void 0},d.prototype.didInputCaption=function(e){return this.pendingCaption=e.target.value.replace(/\s/g," ").trim()},d.prototype.didChangeCaption=function(){return this.savePendingCaption()},d.prototype.didBlurCaption=function(){return this.savePendingCaption()},d}(o.BasicObject)}.call(this),function(){var e,t,n,i=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;n=o.makeElement,e=o.config.css,o.AttachmentView=function(r){function s(){s.__super__.constructor.apply(this,arguments),this.attachment=this.object,this.attachment.uploadProgressDelegate=this,this.attachmentPiece=this.options.piece}var a;return i(s,r),s.attachmentSelector="[data-trix-attachment]",s.prototype.createContentNodes=function(){return[]},s.prototype.createNodes=function(){var t,i,r,o,s,l,c;if(t=o=n({tagName:"figure",className:this.getClassName(),data:this.getData(),editable:!1}),(i=this.getHref())&&(o=n({tagName:"a",editable:!1,attributes:{href:i,tabindex:-1}}),t.appendChild(o)),this.attachment.hasContent())o.innerHTML=this.attachment.getContent();else for(r=0,s=(c=this.createContentNodes()).length;s>r;r++)l=c[r],o.appendChild(l);return o.appendChild(this.createCaptionElement()),this.attachment.isPending()&&(this.progressElement=n({tagName:"progress",attributes:{class:e.attachmentProgress,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:["progressElement",this.attachment.id].join("/")}}),t.appendChild(this.progressElement)),[a("left"),t,a("right")]},s.prototype.createCaptionElement=function(){var t,i,r,o,s,a,l;return r=n({tagName:"figcaption",className:e.attachmentCaption}),(t=this.attachmentPiece.getCaption())?(r.classList.add(e.attachmentCaption+"--edited"),r.textContent=t):((i=this.getCaptionConfig()).name&&(o=this.attachment.getFilename()),i.size&&(a=this.attachment.getFormattedFilesize()),o&&(s=n({tagName:"span",className:e.attachmentName,textContent:o}),r.appendChild(s)),a&&(o&&r.appendChild(document.createTextNode(" ")),l=n({tagName:"span",className:e.attachmentSize,textContent:a}),r.appendChild(l))),r},s.prototype.getClassName=function(){var t,n;return n=[e.attachment,e.attachment+"--"+this.attachment.getType()],(t=this.attachment.getExtension())&&n.push(e.attachment+"--"+t),n.join(" ")},s.prototype.getData=function(){var e,t;return t={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},(e=this.attachmentPiece.attributes).isEmpty()||(t.trixAttributes=JSON.stringify(e)),this.attachment.isPending()&&(t.trixSerialize=!1),t},s.prototype.getHref=function(){return t(this.attachment.getContent(),"a")?void 0:this.attachment.getHref()},s.prototype.getCaptionConfig=function(){var e,t,n;return n=this.attachment.getType(),e=o.copyObject(null!=(t=o.config.attachments[n])?t.caption:void 0),"file"===n&&(e.name=!0),e},s.prototype.findProgressElement=function(){var e;return null!=(e=this.findElement())?e.querySelector("progress"):void 0},a=function(e){return n({tagName:"span",textContent:o.ZERO_WIDTH_SPACE,data:{trixCursorTarget:e,trixSerialize:!1}})},s.prototype.attachmentDidChangeUploadProgress=function(){var e,t;return t=this.attachment.getUploadProgress(),null!=(e=this.findProgressElement())?e.value=t:void 0},s}(o.ObjectView),t=function(e,t){var i;return(i=n("div")).innerHTML=null!=e?e:"",i.querySelector(t)}}.call(this),function(){var e,t=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=o.makeElement,o.PreviewableAttachmentView=function(n){function i(){i.__super__.constructor.apply(this,arguments),this.attachment.previewDelegate=this}return t(i,n),i.prototype.createContentNodes=function(){return this.image=e({tagName:"img",attributes:{src:""},data:{trixMutable:!0}}),this.refresh(this.image),[this.image]},i.prototype.createCaptionElement=function(){var e;return(e=i.__super__.createCaptionElement.apply(this,arguments)).textContent||e.setAttribute("data-trix-placeholder",o.config.lang.captionPlaceholder),e},i.prototype.refresh=function(e){var t;return null==e&&(e=null!=(t=this.findElement())?t.querySelector("img"):void 0),e?this.updateAttributesForImage(e):void 0},i.prototype.updateAttributesForImage=function(e){var t,n,i,r,o,s;return o=this.attachment.getURL(),n=this.attachment.getPreviewURL(),e.src=n||o,n===o?e.removeAttribute("data-trix-serialized-attributes"):(i=JSON.stringify({src:o}),e.setAttribute("data-trix-serialized-attributes",i)),s=this.attachment.getWidth(),t=this.attachment.getHeight(),null!=s&&(e.width=s),null!=t&&(e.height=t),r=["imageElement",this.attachment.id,e.src,e.width,e.height].join("/"),e.dataset.trixStoreKey=r},i.prototype.attachmentDidChangeAttributes=function(){return this.refresh(this.image),this.refresh()},i}(o.AttachmentView)}.call(this),function(){var e,t,n,i=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;n=o.makeElement,e=o.findInnerElement,t=o.getTextConfig,o.PieceView=function(r){function s(){var e;s.__super__.constructor.apply(this,arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),e=this.options,this.textConfig=e.textConfig,this.context=e.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}var a;return i(s,r),s.prototype.createNodes=function(){var t,n,i,r,o,s;if(s=this.attachment?this.createAttachmentNodes():this.createStringNodes(),t=this.createElement()){for(i=e(t),n=0,r=s.length;r>n;n++)o=s[n],i.appendChild(o);s=[t]}return s},s.prototype.createAttachmentNodes=function(){var e;return e=this.attachment.isPreviewable()?o.PreviewableAttachmentView:o.AttachmentView,this.createChildView(e,this.piece.attachment,{piece:this.piece}).getNodes()},s.prototype.createStringNodes=function(){var e,t,i,r,o,s,a,l,c;if(null!=(a=this.textConfig)?a.plaintext:void 0)return[document.createTextNode(this.string)];for(s=[],i=t=0,r=(l=this.string.split("\n")).length;r>t;i=++t)c=l[i],i>0&&(e=n("br"),s.push(e)),c.length&&(o=document.createTextNode(this.preserveSpaces(c)),s.push(o));return s},s.prototype.createElement=function(){var e,i,r,o,s,a,l,c,u;for(o in c={},a=this.attributes)if(u=a[o],(e=t(o))&&(e.tagName&&(s=n(e.tagName),r?(r.appendChild(s),r=s):i=r=s),e.styleProperty&&(c[e.styleProperty]=u),e.style))for(o in l=e.style)u=l[o],c[o]=u;if(Object.keys(c).length)for(o in null==i&&(i=n("span")),c)u=c[o],i.style[o]=u;return i},s.prototype.createContainerElement=function(){var e,i,r,o,s;for(r in o=this.attributes)if(s=o[r],(i=t(r))&&i.groupTagName)return(e={})[r]=s,n(i.groupTagName,e)},a=o.NON_BREAKING_SPACE,s.prototype.preserveSpaces=function(e){return this.context.isLast&&(e=e.replace(/\ $/,a)),e=e.replace(/(\S)\ {3}(\S)/g,"$1 "+a+" $2").replace(/\ {2}/g,a+" ").replace(/\ {2}/g," "+a),(this.context.isFirst||this.context.followsWhitespace)&&(e=e.replace(/^\ /,a)),e},s}(o.ObjectView)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;o.TextView=function(t){function n(){n.__super__.constructor.apply(this,arguments),this.text=this.object,this.textConfig=this.options.textConfig}var i;return e(n,t),n.prototype.createNodes=function(){var e,t,n,r,s,a,l,c,u,d;for(a=[],r=(c=o.ObjectGroup.groupObjects(this.getPieces())).length-1,n=t=0,s=c.length;s>t;n=++t)l=c[n],e={},0===n&&(e.isFirst=!0),n===r&&(e.isLast=!0),i(u)&&(e.followsWhitespace=!0),d=this.findOrCreateCachedChildView(o.PieceView,l,{textConfig:this.textConfig,context:e}),a.push.apply(a,d.getNodes()),u=l;return a},n.prototype.getPieces=function(){var e,t,n,i,r;for(r=[],e=0,t=(i=this.text.getPieces()).length;t>e;e++)(n=i[e]).hasAttribute("blockBreak")||r.push(n);return r},i=function(e){return/\s$/.test(null!=e?e.toString():void 0)},n}(o.ObjectView)}.call(this),function(){var e,t,n,i=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;n=o.makeElement,t=o.getBlockConfig,e=o.config.css,o.BlockView=function(r){function s(){s.__super__.constructor.apply(this,arguments),this.block=this.object,this.attributes=this.block.getAttributes()}return i(s,r),s.prototype.createNodes=function(){var e,i,r,s,a,l,c,u,d,h;if(l=[document.createComment("block")],this.block.isEmpty()?l.push(n("br")):(d=null!=(c=t(this.block.getLastAttribute()))?c.text:void 0,h=this.findOrCreateCachedChildView(o.TextView,this.block.text,{textConfig:d}),l.push.apply(l,h.getNodes()),this.shouldAddExtraNewlineElement()&&l.push(n("br"))),this.attributes.length)return l;for(u=o.config.blockAttributes.default.tagName,this.block.isRTL()&&(e={dir:"rtl"}),i=n({tagName:u,attributes:e}),r=0,s=l.length;s>r;r++)a=l[r],i.appendChild(a);return[i]},s.prototype.createContainerElement=function(i){var r,o,s,a,l;return r=this.attributes[i],l=t(r).tagName,0===i&&this.block.isRTL()&&(o={dir:"rtl"}),"attachmentGallery"===r&&(a=this.block.getBlockBreakPosition(),s=e.attachmentGallery+" "+e.attachmentGallery+"--"+a),n({tagName:l,className:s,attributes:o})},s.prototype.shouldAddExtraNewlineElement=function(){return/\n\n$/.test(this.block.toString())},s}(o.ObjectView)}.call(this),function(){var e,t,n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;e=o.defer,t=o.makeElement,o.DocumentView=function(i){function r(){r.__super__.constructor.apply(this,arguments),this.element=this.options.element,this.elementStore=new o.ElementStore,this.setDocument(this.object)}var s,a,l;return n(r,i),r.render=function(e){var n,i;return(i=new this(e,{element:n=t("div")})).render(),i.sync(),n},r.prototype.setDocument=function(e){return e.isEqualTo(this.document)?void 0:this.document=this.object=e},r.prototype.render=function(){var e,n,i,r,s,a,l;if(this.childViews=[],this.shadowElement=t("div"),!this.document.isEmpty()){for(a=[],e=0,n=(s=o.ObjectGroup.groupObjects(this.document.getBlocks(),{asTree:!0})).length;n>e;e++)r=s[e],l=this.findOrCreateCachedChildView(o.BlockView,r),a.push(function(){var e,t,n,r;for(r=[],e=0,t=(n=l.getNodes()).length;t>e;e++)i=n[e],r.push(this.shadowElement.appendChild(i));return r}.call(this));return a}},r.prototype.isSynced=function(){return s(this.shadowElement,this.element)},r.prototype.sync=function(){var e;for(e=this.createDocumentFragmentForSync();this.element.lastChild;)this.element.removeChild(this.element.lastChild);return this.element.appendChild(e),this.didSync()},r.prototype.didSync=function(){return this.elementStore.reset(a(this.element)),e(function(e){return function(){return e.garbageCollectCachedViews()}}(this))},r.prototype.createDocumentFragmentForSync=function(){var e,t,n,i,r,o,s,l,c,u;for(t=document.createDocumentFragment(),n=0,r=(l=this.shadowElement.childNodes).length;r>n;n++)s=l[n],t.appendChild(s.cloneNode(!0));for(i=0,o=(c=a(t)).length;o>i;i++)e=c[i],(u=this.elementStore.remove(e))&&e.parentNode.replaceChild(u,e);return t},a=function(e){return e.querySelectorAll("[data-trix-store-key]")},s=function(e,t){return l(e.innerHTML)===l(t.innerHTML)},l=function(e){return e.replace(/&nbsp;/g," ")},r}(o.ObjectView)}.call(this),function(){var e,t,n,i,r,s=function(e,t){return function(){return e.apply(t,arguments)}},a=function(e,t){function n(){this.constructor=e}for(var i in t)l.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},l={}.hasOwnProperty;n=o.findClosestElementFromNode,i=o.handleEvent,r=o.innerElementIsActive,t=o.defer,e=o.AttachmentView.attachmentSelector,o.CompositionController=function(l){function c(t,n){this.element=t,this.composition=n,this.didClickAttachment=s(this.didClickAttachment,this),this.didBlur=s(this.didBlur,this),this.didFocus=s(this.didFocus,this),this.documentView=new o.DocumentView(this.composition.document,{element:this.element}),i("focus",{onElement:this.element,withCallback:this.didFocus}),i("blur",{onElement:this.element,withCallback:this.didBlur}),i("click",{onElement:this.element,matchingSelector:"a[contenteditable=false]",preventDefault:!0}),i("mousedown",{onElement:this.element,matchingSelector:e,withCallback:this.didClickAttachment}),i("click",{onElement:this.element,matchingSelector:"a"+e,preventDefault:!0})}return a(c,l),c.prototype.didFocus=function(){var e,t,n;return e=function(e){return function(){var t;return e.focused?void 0:(e.focused=!0,null!=(t=e.delegate)&&"function"==typeof t.compositionControllerDidFocus?t.compositionControllerDidFocus():void 0)}}(this),null!=(t=null!=(n=this.blurPromise)?n.then(e):void 0)?t:e()},c.prototype.didBlur=function(){return this.blurPromise=new Promise(function(e){return function(n){return t((function(){var t;return r(e.element)||(e.focused=null,null!=(t=e.delegate)&&"function"==typeof t.compositionControllerDidBlur&&t.compositionControllerDidBlur()),e.blurPromise=null,n()}))}}(this))},c.prototype.didClickAttachment=function(e,t){var i,r,o;return i=this.findAttachmentForElement(t),r=null!=n(e.target,{matchingSelector:"figcaption"}),null!=(o=this.delegate)&&"function"==typeof o.compositionControllerDidSelectAttachment?o.compositionControllerDidSelectAttachment(i,{editCaption:r}):void 0},c.prototype.getSerializableElement=function(){return this.isEditingAttachment()?this.documentView.shadowElement:this.element},c.prototype.render=function(){var e,t,n;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.canSyncDocumentView()&&!this.documentView.isSynced()&&(null!=(e=this.delegate)&&"function"==typeof e.compositionControllerWillSyncDocumentView&&e.compositionControllerWillSyncDocumentView(),this.documentView.sync(),null!=(t=this.delegate)&&"function"==typeof t.compositionControllerDidSyncDocumentView&&t.compositionControllerDidSyncDocumentView()),null!=(n=this.delegate)&&"function"==typeof n.compositionControllerDidRender?n.compositionControllerDidRender():void 0},c.prototype.rerenderViewForObject=function(e){return this.invalidateViewForObject(e),this.render()},c.prototype.invalidateViewForObject=function(e){return this.documentView.invalidateViewForObject(e)},c.prototype.isViewCachingEnabled=function(){return this.documentView.isViewCachingEnabled()},c.prototype.enableViewCaching=function(){return this.documentView.enableViewCaching()},c.prototype.disableViewCaching=function(){return this.documentView.disableViewCaching()},c.prototype.refreshViewCache=function(){return this.documentView.garbageCollectCachedViews()},c.prototype.isEditingAttachment=function(){return null!=this.attachmentEditor},c.prototype.installAttachmentEditorForAttachment=function(e,t){var n,i,r;if((null!=(r=this.attachmentEditor)?r.attachment:void 0)!==e&&(i=this.documentView.findElementForObject(e)))return this.uninstallAttachmentEditor(),n=this.composition.document.getAttachmentPieceForAttachment(e),this.attachmentEditor=new o.AttachmentEditorController(n,i,this.element,t),this.attachmentEditor.delegate=this},c.prototype.uninstallAttachmentEditor=function(){var e;return null!=(e=this.attachmentEditor)?e.uninstall():void 0},c.prototype.didUninstallAttachmentEditor=function(){return this.attachmentEditor=null,this.render()},c.prototype.attachmentEditorDidRequestUpdatingAttributesForAttachment=function(e,t){var n;return null!=(n=this.delegate)&&"function"==typeof n.compositionControllerWillUpdateAttachment&&n.compositionControllerWillUpdateAttachment(t),this.composition.updateAttributesForAttachment(e,t)},c.prototype.attachmentEditorDidRequestRemovingAttributeForAttachment=function(e,t){var n;return null!=(n=this.delegate)&&"function"==typeof n.compositionControllerWillUpdateAttachment&&n.compositionControllerWillUpdateAttachment(t),this.composition.removeAttributeForAttachment(e,t)},c.prototype.attachmentEditorDidRequestRemovalOfAttachment=function(e){var t;return null!=(t=this.delegate)&&"function"==typeof t.compositionControllerDidRequestRemovalOfAttachment?t.compositionControllerDidRequestRemovalOfAttachment(e):void 0},c.prototype.attachmentEditorDidRequestDeselectingAttachment=function(e){var t;return null!=(t=this.delegate)&&"function"==typeof t.compositionControllerDidRequestDeselectingAttachment?t.compositionControllerDidRequestDeselectingAttachment(e):void 0},c.prototype.canSyncDocumentView=function(){return!this.isEditingAttachment()},c.prototype.findAttachmentForElement=function(e){return this.composition.document.getAttachmentById(parseInt(e.dataset.trixId,10))},c}(o.BasicObject)}.call(this),function(){var e,t,n,i=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function n(){this.constructor=e}for(var i in t)s.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty;t=o.handleEvent,n=o.triggerEvent,e=o.findClosestElementFromNode,o.ToolbarController=function(o){function s(e){this.element=e,this.didKeyDownDialogInput=i(this.didKeyDownDialogInput,this),this.didClickDialogButton=i(this.didClickDialogButton,this),this.didClickAttributeButton=i(this.didClickAttributeButton,this),this.didClickActionButton=i(this.didClickActionButton,this),this.attributes={},this.actions={},this.resetDialogInputs(),t("mousedown",{onElement:this.element,matchingSelector:a,withCallback:this.didClickActionButton}),t("mousedown",{onElement:this.element,matchingSelector:l,withCallback:this.didClickAttributeButton}),t("click",{onElement:this.element,matchingSelector:g,preventDefault:!0}),t("click",{onElement:this.element,matchingSelector:c,withCallback:this.didClickDialogButton}),t("keydown",{onElement:this.element,matchingSelector:u,withCallback:this.didKeyDownDialogInput})}var a,l,c,u,d,h,p,f,m,g;return r(s,o),g=(l="[data-trix-attribute]")+", "+(a="[data-trix-action]"),c=(d="[data-trix-dialog]")+" [data-trix-method]",u=d+" [data-trix-input]",s.prototype.didClickActionButton=function(e,t){var n,i,r;return null!=(i=this.delegate)&&i.toolbarDidClickButton(),e.preventDefault(),n=h(t),this.getDialog(n)?this.toggleDialog(n):null!=(r=this.delegate)?r.toolbarDidInvokeAction(n):void 0},s.prototype.didClickAttributeButton=function(e,t){var n,i,r;return null!=(i=this.delegate)&&i.toolbarDidClickButton(),e.preventDefault(),n=p(t),this.getDialog(n)?this.toggleDialog(n):null!=(r=this.delegate)&&r.toolbarDidToggleAttribute(n),this.refreshAttributeButtons()},s.prototype.didClickDialogButton=function(t,n){var i;return i=e(n,{matchingSelector:d}),this[n.getAttribute("data-trix-method")].call(this,i)},s.prototype.didKeyDownDialogInput=function(e,t){var n,i;return 13===e.keyCode&&(e.preventDefault(),n=t.getAttribute("name"),i=this.getDialog(n),this.setAttribute(i)),27===e.keyCode?(e.preventDefault(),this.hideDialog()):void 0},s.prototype.updateActions=function(e){return this.actions=e,this.refreshActionButtons()},s.prototype.refreshActionButtons=function(){return this.eachActionButton(function(e){return function(t,n){return t.disabled=!1===e.actions[n]}}(this))},s.prototype.eachActionButton=function(e){var t,n,i,r,o;for(o=[],n=0,i=(r=this.element.querySelectorAll(a)).length;i>n;n++)t=r[n],o.push(e(t,h(t)));return o},s.prototype.updateAttributes=function(e){return this.attributes=e,this.refreshAttributeButtons()},s.prototype.refreshAttributeButtons=function(){return this.eachAttributeButton(function(e){return function(t,n){return t.disabled=!1===e.attributes[n],e.attributes[n]||e.dialogIsVisible(n)?(t.setAttribute("data-trix-active",""),t.classList.add("trix-active")):(t.removeAttribute("data-trix-active"),t.classList.remove("trix-active"))}}(this))},s.prototype.eachAttributeButton=function(e){var t,n,i,r,o;for(o=[],n=0,i=(r=this.element.querySelectorAll(l)).length;i>n;n++)t=r[n],o.push(e(t,p(t)));return o},s.prototype.applyKeyboardCommand=function(e){var t,i,r,o,s,a;for(o=JSON.stringify(e.sort()),r=0,s=(a=this.element.querySelectorAll("[data-trix-key]")).length;s>r;r++)if(i=(t=a[r]).getAttribute("data-trix-key").split("+"),JSON.stringify(i.sort())===o)return n("mousedown",{onElement:t}),!0;return!1},s.prototype.dialogIsVisible=function(e){var t;return(t=this.getDialog(e))?t.hasAttribute("data-trix-active"):void 0},s.prototype.toggleDialog=function(e){return this.dialogIsVisible(e)?this.hideDialog():this.showDialog(e)},s.prototype.showDialog=function(e){var t,n,i,r,o,s,a,l,c;for(this.hideDialog(),null!=(s=this.delegate)&&s.toolbarWillShowDialog(),(n=this.getDialog(e)).setAttribute("data-trix-active",""),n.classList.add("trix-active"),i=0,o=(a=n.querySelectorAll("input[disabled]")).length;o>i;i++)a[i].removeAttribute("disabled");return(t=p(n))&&(r=m(n,e))&&(r.value=null!=(l=this.attributes[t])?l:"",r.select()),null!=(c=this.delegate)?c.toolbarDidShowDialog(e):void 0},s.prototype.setAttribute=function(e){var t,n,i;return t=p(e),(n=m(e,t)).willValidate&&!n.checkValidity()?(n.setAttribute("data-trix-validate",""),n.classList.add("trix-validate"),n.focus()):(null!=(i=this.delegate)&&i.toolbarDidUpdateAttribute(t,n.value),this.hideDialog())},s.prototype.removeAttribute=function(e){var t,n;return t=p(e),null!=(n=this.delegate)&&n.toolbarDidRemoveAttribute(t),this.hideDialog()},s.prototype.hideDialog=function(){var e,t;return(e=this.element.querySelector("[data-trix-dialog][data-trix-active]"))?(e.removeAttribute("data-trix-active"),e.classList.remove("trix-active"),this.resetDialogInputs(),null!=(t=this.delegate)?t.toolbarDidHideDialog(f(e)):void 0):void 0},s.prototype.resetDialogInputs=function(){var e,t,n,i,r;for(r=[],e=0,n=(i=this.element.querySelectorAll(u)).length;n>e;e++)(t=i[e]).setAttribute("disabled","disabled"),t.removeAttribute("data-trix-validate"),r.push(t.classList.remove("trix-validate"));return r},s.prototype.getDialog=function(e){return this.element.querySelector("[data-trix-dialog="+e+"]")},m=function(e,t){return null==t&&(t=p(e)),e.querySelector("[data-trix-input][name='"+t+"']")},h=function(e){return e.getAttribute("data-trix-action")},p=function(e){var t;return null!=(t=e.getAttribute("data-trix-attribute"))?t:e.getAttribute("data-trix-dialog-attribute")},f=function(e){return e.getAttribute("data-trix-dialog")},s}(o.BasicObject)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;o.ImagePreloadOperation=function(t){function n(e){this.url=e}return e(n,t),n.prototype.perform=function(e){var t;return(t=new Image).onload=function(n){return function(){return t.width=n.width=t.naturalWidth,t.height=n.height=t.naturalHeight,e(!0,t)}}(this),t.onerror=function(){return e(!1)},t.src=this.url},n}(o.Operation)}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;o.Attachment=function(n){function i(t){null==t&&(t={}),this.releaseFile=e(this.releaseFile,this),i.__super__.constructor.apply(this,arguments),this.attributes=o.Hash.box(t),this.didChangeAttributes()}return t(i,n),i.previewablePattern=/^image(\/(gif|png|jpe?g)|$)/,i.attachmentForFile=function(e){var t;return(t=new this(this.attributesForFile(e))).setFile(e),t},i.attributesForFile=function(e){return new o.Hash({filename:e.name,filesize:e.size,contentType:e.type})},i.fromJSON=function(e){return new this(e)},i.prototype.getAttribute=function(e){return this.attributes.get(e)},i.prototype.hasAttribute=function(e){return this.attributes.has(e)},i.prototype.getAttributes=function(){return this.attributes.toObject()},i.prototype.setAttributes=function(e){var t,n,i;return null==e&&(e={}),t=this.attributes.merge(e),this.attributes.isEqualTo(t)?void 0:(this.attributes=t,this.didChangeAttributes(),null!=(n=this.previewDelegate)&&"function"==typeof n.attachmentDidChangeAttributes&&n.attachmentDidChangeAttributes(this),null!=(i=this.delegate)&&"function"==typeof i.attachmentDidChangeAttributes?i.attachmentDidChangeAttributes(this):void 0)},i.prototype.didChangeAttributes=function(){return this.isPreviewable()?this.preloadURL():void 0},i.prototype.isPending=function(){return null!=this.file&&!(this.getURL()||this.getHref())},i.prototype.isPreviewable=function(){return this.attributes.has("previewable")?this.attributes.get("previewable"):this.constructor.previewablePattern.test(this.getContentType())},i.prototype.getType=function(){return this.hasContent()?"content":this.isPreviewable()?"preview":"file"},i.prototype.getURL=function(){return this.attributes.get("url")},i.prototype.getHref=function(){return this.attributes.get("href")},i.prototype.getFilename=function(){var e;return null!=(e=this.attributes.get("filename"))?e:""},i.prototype.getFilesize=function(){return this.attributes.get("filesize")},i.prototype.getFormattedFilesize=function(){var e;return"number"==typeof(e=this.attributes.get("filesize"))?o.config.fileSize.formatter(e):""},i.prototype.getExtension=function(){var e;return null!=(e=this.getFilename().match(/\.(\w+)$/))?e[1].toLowerCase():void 0},i.prototype.getContentType=function(){return this.attributes.get("contentType")},i.prototype.hasContent=function(){return this.attributes.has("content")},i.prototype.getContent=function(){return this.attributes.get("content")},i.prototype.getWidth=function(){return this.attributes.get("width")},i.prototype.getHeight=function(){return this.attributes.get("height")},i.prototype.getFile=function(){return this.file},i.prototype.setFile=function(e){return this.file=e,this.isPreviewable()?this.preloadFile():void 0},i.prototype.releaseFile=function(){return this.releasePreloadedFile(),this.file=null},i.prototype.getUploadProgress=function(){var e;return null!=(e=this.uploadProgress)?e:0},i.prototype.setUploadProgress=function(e){var t;return this.uploadProgress!==e?(this.uploadProgress=e,null!=(t=this.uploadProgressDelegate)&&"function"==typeof t.attachmentDidChangeUploadProgress?t.attachmentDidChangeUploadProgress(this):void 0):void 0},i.prototype.toJSON=function(){return this.getAttributes()},i.prototype.getCacheKey=function(){return[i.__super__.getCacheKey.apply(this,arguments),this.attributes.getCacheKey(),this.getPreviewURL()].join("/")},i.prototype.getPreviewURL=function(){return this.previewURL||this.preloadingURL},i.prototype.setPreviewURL=function(e){var t,n;return e!==this.getPreviewURL()?(this.previewURL=e,null!=(t=this.previewDelegate)&&"function"==typeof t.attachmentDidChangeAttributes&&t.attachmentDidChangeAttributes(this),null!=(n=this.delegate)&&"function"==typeof n.attachmentDidChangePreviewURL?n.attachmentDidChangePreviewURL(this):void 0):void 0},i.prototype.preloadURL=function(){return this.preload(this.getURL(),this.releaseFile)},i.prototype.preloadFile=function(){return this.file?(this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)):void 0},i.prototype.releasePreloadedFile=function(){return this.fileObjectURL?(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null):void 0},i.prototype.preload=function(e,t){return e&&e!==this.getPreviewURL()?(this.preloadingURL=e,new o.ImagePreloadOperation(e).then(function(n){return function(i){var r,o;return o=i.width,r=i.height,n.getWidth()&&n.getHeight()||n.setAttributes({width:o,height:r}),n.preloadingURL=null,n.setPreviewURL(e),"function"==typeof t?t():void 0}}(this)).catch(function(e){return function(){return e.preloadingURL=null,"function"==typeof t?t():void 0}}(this))):void 0},i}(o.Object)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;o.Piece=function(t){function n(e,t){null==t&&(t={}),n.__super__.constructor.apply(this,arguments),this.attributes=o.Hash.box(t)}return e(n,t),n.types={},n.registerType=function(e,t){return t.type=e,this.types[e]=t},n.fromJSON=function(e){var t;return(t=this.types[e.type])?t.fromJSON(e):void 0},n.prototype.copyWithAttributes=function(e){return new this.constructor(this.getValue(),e)},n.prototype.copyWithAdditionalAttributes=function(e){return this.copyWithAttributes(this.attributes.merge(e))},n.prototype.copyWithoutAttribute=function(e){return this.copyWithAttributes(this.attributes.remove(e))},n.prototype.copy=function(){return this.copyWithAttributes(this.attributes)},n.prototype.getAttribute=function(e){return this.attributes.get(e)},n.prototype.getAttributesHash=function(){return this.attributes},n.prototype.getAttributes=function(){return this.attributes.toObject()},n.prototype.getCommonAttributes=function(){var e,t,n;return(n=pieceList.getPieceAtIndex(0))?(e=n.attributes,t=e.getKeys(),pieceList.eachPiece((function(n){return t=e.getKeysCommonToHash(n.attributes),e=e.slice(t)})),e.toObject()):{}},n.prototype.hasAttribute=function(e){return this.attributes.has(e)},n.prototype.hasSameStringValueAsPiece=function(e){return null!=e&&this.toString()===e.toString()},n.prototype.hasSameAttributesAsPiece=function(e){return null!=e&&(this.attributes===e.attributes||this.attributes.isEqualTo(e.attributes))},n.prototype.isBlockBreak=function(){return!1},n.prototype.isEqualTo=function(e){return n.__super__.isEqualTo.apply(this,arguments)||this.hasSameConstructorAs(e)&&this.hasSameStringValueAsPiece(e)&&this.hasSameAttributesAsPiece(e)},n.prototype.isEmpty=function(){return 0===this.length},n.prototype.isSerializable=function(){return!0},n.prototype.toJSON=function(){return{type:this.constructor.type,attributes:this.getAttributes()}},n.prototype.contentsForInspection=function(){return{type:this.constructor.type,attributes:this.attributes.inspect()}},n.prototype.canBeGrouped=function(){return this.hasAttribute("href")},n.prototype.canBeGroupedWith=function(e){return this.getAttribute("href")===e.getAttribute("href")},n.prototype.getLength=function(){return this.length},n.prototype.canBeConsolidatedWith=function(){return!1},n}(o.Object)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;o.Piece.registerType("attachment",o.AttachmentPiece=function(t){function n(e){this.attachment=e,n.__super__.constructor.apply(this,arguments),this.length=1,this.ensureAttachmentExclusivelyHasAttribute("href"),this.attachment.hasContent()||this.removeProhibitedAttributes()}return e(n,t),n.fromJSON=function(e){return new this(o.Attachment.fromJSON(e.attachment),e.attributes)},n.permittedAttributes=["caption","presentation"],n.prototype.ensureAttachmentExclusivelyHasAttribute=function(e){return this.hasAttribute(e)?(this.attachment.hasAttribute(e)||this.attachment.setAttributes(this.attributes.slice(e)),this.attributes=this.attributes.remove(e)):void 0},n.prototype.removeProhibitedAttributes=function(){var e;return(e=this.attributes.slice(this.constructor.permittedAttributes)).isEqualTo(this.attributes)?void 0:this.attributes=e},n.prototype.getValue=function(){return this.attachment},n.prototype.isSerializable=function(){return!this.attachment.isPending()},n.prototype.getCaption=function(){var e;return null!=(e=this.attributes.get("caption"))?e:""},n.prototype.isEqualTo=function(e){var t;return n.__super__.isEqualTo.apply(this,arguments)&&this.attachment.id===(null!=e&&null!=(t=e.attachment)?t.id:void 0)},n.prototype.toString=function(){return o.OBJECT_REPLACEMENT_CHARACTER},n.prototype.toJSON=function(){var e;return(e=n.__super__.toJSON.apply(this,arguments)).attachment=this.attachment,e},n.prototype.getCacheKey=function(){return[n.__super__.getCacheKey.apply(this,arguments),this.attachment.getCacheKey()].join("/")},n.prototype.toConsole=function(){return JSON.stringify(this.toString())},n}(o.Piece))}.call(this),function(){var e,t=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=o.normalizeNewlines,o.Piece.registerType("string",o.StringPiece=function(n){function i(t){i.__super__.constructor.apply(this,arguments),this.string=e(t),this.length=this.string.length}return t(i,n),i.fromJSON=function(e){return new this(e.string,e.attributes)},i.prototype.getValue=function(){return this.string},i.prototype.toString=function(){return this.string.toString()},i.prototype.isBlockBreak=function(){return"\n"===this.toString()&&!0===this.getAttribute("blockBreak")},i.prototype.toJSON=function(){var e;return(e=i.__super__.toJSON.apply(this,arguments)).string=this.string,e},i.prototype.canBeConsolidatedWith=function(e){return null!=e&&this.hasSameConstructorAs(e)&&this.hasSameAttributesAsPiece(e)},i.prototype.consolidateWith=function(e){return new this.constructor(this.toString()+e.toString(),this.attributes)},i.prototype.splitAtOffset=function(e){var t,n;return 0===e?(t=null,n=this):e===this.length?(t=this,n=null):(t=new this.constructor(this.string.slice(0,e),this.attributes),n=new this.constructor(this.string.slice(e),this.attributes)),[t,n]},i.prototype.toConsole=function(){var e;return(e=this.string).length>15&&(e=e.slice(0,14)+""),JSON.stringify(e.toString())},i}(o.Piece))}.call(this),function(){var e,t=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty,i=[].slice;e=o.spliceArray,o.SplittableList=function(n){function r(e){null==e&&(e=[]),r.__super__.constructor.apply(this,arguments),this.objects=e.slice(0),this.length=this.objects.length}var o,s,a;return t(r,n),r.box=function(e){return e instanceof this?e:new this(e)},r.prototype.indexOf=function(e){return this.objects.indexOf(e)},r.prototype.splice=function(){var t;return t=1<=arguments.length?i.call(arguments,0):[],new this.constructor(e.apply(null,[this.objects].concat(i.call(t))))},r.prototype.eachObject=function(e){var t,n,i,r,o,s;for(s=[],n=t=0,i=(o=this.objects).length;i>t;n=++t)r=o[n],s.push(e(r,n));return s},r.prototype.insertObjectAtIndex=function(e,t){return this.splice(t,0,e)},r.prototype.insertSplittableListAtIndex=function(e,t){return this.splice.apply(this,[t,0].concat(i.call(e.objects)))},r.prototype.insertSplittableListAtPosition=function(e,t){var n,i,r;return i=(r=this.splitObjectAtPosition(t))[0],n=r[1],new this.constructor(i).insertSplittableListAtIndex(e,n)},r.prototype.editObjectAtIndex=function(e,t){return this.replaceObjectAtIndex(t(this.objects[e]),e)},r.prototype.replaceObjectAtIndex=function(e,t){return this.splice(t,1,e)},r.prototype.removeObjectAtIndex=function(e){return this.splice(e,1)},r.prototype.getObjectAtIndex=function(e){return this.objects[e]},r.prototype.getSplittableListInRange=function(e){var t,n,i,r;return n=(i=this.splitObjectsAtRange(e))[0],t=i[1],r=i[2],new this.constructor(n.slice(t,r+1))},r.prototype.selectSplittableList=function(e){var t,n;return n=function(){var n,i,r,o;for(o=[],n=0,i=(r=this.objects).length;i>n;n++)t=r[n],e(t)&&o.push(t);return o}.call(this),new this.constructor(n)},r.prototype.removeObjectsInRange=function(e){var t,n,i,r;return n=(i=this.splitObjectsAtRange(e))[0],t=i[1],r=i[2],new this.constructor(n).splice(t,r-t+1)},r.prototype.transformObjectsInRange=function(e,t){var n,i,r,o,s,a,l;return s=this.splitObjectsAtRange(e),o=s[0],i=s[1],a=s[2],l=function(){var e,s,l;for(l=[],n=e=0,s=o.length;s>e;n=++e)r=o[n],l.push(n>=i&&a>=n?t(r):r);return l}(),new this.constructor(l)},r.prototype.splitObjectsAtRange=function(e){var t,n,i,r,s;return n=(r=this.splitObjectAtPosition(a(e)))[0],t=r[1],i=r[2],[n=(s=new this.constructor(n).splitObjectAtPosition(o(e)+i))[0],t,s[1]-1]},r.prototype.getObjectAtPosition=function(e){var t,n;return t=(n=this.findIndexAndOffsetAtPosition(e)).index,n.offset,this.objects[t]},r.prototype.splitObjectAtPosition=function(e){var t,n,i,r,o,s,a,l,c;return t=(o=this.findIndexAndOffsetAtPosition(e)).index,r=o.offset,i=this.objects.slice(0),null!=t?0===r?(l=t,c=0):(n=(s=this.getObjectAtIndex(t).splitAtOffset(r))[0],a=s[1],i.splice(t,1,n,a),l=t+1,c=n.getLength()-r):(l=i.length,c=0),[i,l,c]},r.prototype.consolidate=function(){var e,t,n,i,r,o;for(i=[],r=this.objects[0],e=0,t=(o=this.objects.slice(1)).length;t>e;e++)n=o[e],("function"==typeof r.canBeConsolidatedWith?r.canBeConsolidatedWith(n):void 0)?r=r.consolidateWith(n):(i.push(r),r=n);return null!=r&&i.push(r),new this.constructor(i)},r.prototype.consolidateFromIndexToIndex=function(e,t){var n,r;return r=this.objects.slice(0).slice(e,t+1),n=new this.constructor(r).consolidate().toArray(),this.splice.apply(this,[e,r.length].concat(i.call(n)))},r.prototype.findIndexAndOffsetAtPosition=function(e){var t,n,i,r,o,s;for(t=0,i=n=0,r=(s=this.objects).length;r>n;i=++n){if(o=t+s[i].getLength(),e>=t&&o>e)return{index:i,offset:e-t};t=o}return{index:null,offset:null}},r.prototype.findPositionAtIndexAndOffset=function(e,t){var n,i,r,o,s,a;for(s=0,n=i=0,r=(a=this.objects).length;r>i;n=++i)if(o=a[n],e>n)s+=o.getLength();else if(n===e){s+=t;break}return s},r.prototype.getEndPosition=function(){var e,t;return null!=this.endPosition?this.endPosition:this.endPosition=function(){var n,i,r;for(t=0,n=0,i=(r=this.objects).length;i>n;n++)e=r[n],t+=e.getLength();return t}.call(this)},r.prototype.toString=function(){return this.objects.join("")},r.prototype.toArray=function(){return this.objects.slice(0)},r.prototype.toJSON=function(){return this.toArray()},r.prototype.isEqualTo=function(e){return r.__super__.isEqualTo.apply(this,arguments)||s(this.objects,null!=e?e.objects:void 0)},s=function(e,t){var n,i,r,o,s;if(null==t&&(t=[]),e.length!==t.length)return!1;for(s=!0,i=n=0,r=e.length;r>n;i=++n)o=e[i],s&&!o.isEqualTo(t[i])&&(s=!1);return s},r.prototype.contentsForInspection=function(){var e;return{objects:"["+function(){var t,n,i,r;for(r=[],t=0,n=(i=this.objects).length;n>t;t++)e=i[t],r.push(e.inspect());return r}.call(this).join(", ")+"]"}},a=function(e){return e[0]},o=function(e){return e[1]},r}(o.Object)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;o.Text=function(t){function n(e){var t;null==e&&(e=[]),n.__super__.constructor.apply(this,arguments),this.pieceList=new o.SplittableList(function(){var n,i,r;for(r=[],n=0,i=e.length;i>n;n++)(t=e[n]).isEmpty()||r.push(t);return r}())}return e(n,t),n.textForAttachmentWithAttributes=function(e,t){return new this([new o.AttachmentPiece(e,t)])},n.textForStringWithAttributes=function(e,t){return new this([new o.StringPiece(e,t)])},n.fromJSON=function(e){var t;return new this(function(){var n,i,r;for(r=[],n=0,i=e.length;i>n;n++)t=e[n],r.push(o.Piece.fromJSON(t));return r}())},n.prototype.copy=function(){return this.copyWithPieceList(this.pieceList)},n.prototype.copyWithPieceList=function(e){return new this.constructor(e.consolidate().toArray())},n.prototype.copyUsingObjectMap=function(e){var t,n;return n=function(){var n,i,r,o,s;for(s=[],n=0,i=(r=this.getPieces()).length;i>n;n++)t=r[n],s.push(null!=(o=e.find(t))?o:t);return s}.call(this),new this.constructor(n)},n.prototype.appendText=function(e){return this.insertTextAtPosition(e,this.getLength())},n.prototype.insertTextAtPosition=function(e,t){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(e.pieceList,t))},n.prototype.removeTextAtRange=function(e){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(e))},n.prototype.replaceTextAtRange=function(e,t){return this.removeTextAtRange(t).insertTextAtPosition(e,t[0])},n.prototype.moveTextFromRangeToPosition=function(e,t){var n,i;if(!(e[0]<=t&&t<=e[1]))return n=(i=this.getTextAtRange(e)).getLength(),e[0]<t&&(t-=n),this.removeTextAtRange(e).insertTextAtPosition(i,t)},n.prototype.addAttributeAtRange=function(e,t,n){var i;return(i={})[e]=t,this.addAttributesAtRange(i,n)},n.prototype.addAttributesAtRange=function(e,t){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(t,(function(t){return t.copyWithAdditionalAttributes(e)})))},n.prototype.removeAttributeAtRange=function(e,t){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(t,(function(t){return t.copyWithoutAttribute(e)})))},n.prototype.setAttributesAtRange=function(e,t){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(t,(function(t){return t.copyWithAttributes(e)})))},n.prototype.getAttributesAtPosition=function(e){var t,n;return null!=(t=null!=(n=this.pieceList.getObjectAtPosition(e))?n.getAttributes():void 0)?t:{}},n.prototype.getCommonAttributes=function(){var e,t;return e=function(){var e,n,i,r;for(r=[],e=0,n=(i=this.pieceList.toArray()).length;n>e;e++)t=i[e],r.push(t.getAttributes());return r}.call(this),o.Hash.fromCommonAttributesOfObjects(e).toObject()},n.prototype.getCommonAttributesAtRange=function(e){var t;return null!=(t=this.getTextAtRange(e).getCommonAttributes())?t:{}},n.prototype.getExpandedRangeForAttributeAtOffset=function(e,t){var n,i,r;for(n=r=t,i=this.getLength();n>0&&this.getCommonAttributesAtRange([n-1,r])[e];)n--;for(;i>r&&this.getCommonAttributesAtRange([t,r+1])[e];)r++;return[n,r]},n.prototype.getTextAtRange=function(e){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(e))},n.prototype.getStringAtRange=function(e){return this.pieceList.getSplittableListInRange(e).toString()},n.prototype.getStringAtPosition=function(e){return this.getStringAtRange([e,e+1])},n.prototype.startsWithString=function(e){return this.getStringAtRange([0,e.length])===e},n.prototype.endsWithString=function(e){var t;return t=this.getLength(),this.getStringAtRange([t-e.length,t])===e},n.prototype.getAttachmentPieces=function(){var e,t,n,i,r;for(r=[],e=0,t=(i=this.pieceList.toArray()).length;t>e;e++)null!=(n=i[e]).attachment&&r.push(n);return r},n.prototype.getAttachments=function(){var e,t,n,i,r;for(r=[],e=0,t=(i=this.getAttachmentPieces()).length;t>e;e++)n=i[e],r.push(n.attachment);return r},n.prototype.getAttachmentAndPositionById=function(e){var t,n,i,r,o,s;for(r=0,t=0,n=(o=this.pieceList.toArray()).length;n>t;t++){if((null!=(s=(i=o[t]).attachment)?s.id:void 0)===e)return{attachment:i.attachment,position:r};r+=i.length}return{attachment:null,position:null}},n.prototype.getAttachmentById=function(e){var t,n;return t=(n=this.getAttachmentAndPositionById(e)).attachment,n.position,t},n.prototype.getRangeOfAttachment=function(e){var t,n;return e=(n=this.getAttachmentAndPositionById(e.id)).attachment,t=n.position,null!=e?[t,t+1]:void 0},n.prototype.updateAttributesForAttachment=function(e,t){var n;return(n=this.getRangeOfAttachment(t))?this.addAttributesAtRange(e,n):this},n.prototype.getLength=function(){return this.pieceList.getEndPosition()},n.prototype.isEmpty=function(){return 0===this.getLength()},n.prototype.isEqualTo=function(e){var t;return n.__super__.isEqualTo.apply(this,arguments)||(null!=e&&null!=(t=e.pieceList)?t.isEqualTo(this.pieceList):void 0)},n.prototype.isBlockBreak=function(){return 1===this.getLength()&&this.pieceList.getObjectAtIndex(0).isBlockBreak()},n.prototype.eachPiece=function(e){return this.pieceList.eachObject(e)},n.prototype.getPieces=function(){return this.pieceList.toArray()},n.prototype.getPieceAtPosition=function(e){return this.pieceList.getObjectAtPosition(e)},n.prototype.contentsForInspection=function(){return{pieceList:this.pieceList.inspect()}},n.prototype.toSerializableText=function(){var e;return e=this.pieceList.selectSplittableList((function(e){return e.isSerializable()})),this.copyWithPieceList(e)},n.prototype.toString=function(){return this.pieceList.toString()},n.prototype.toJSON=function(){return this.pieceList.toJSON()},n.prototype.toConsole=function(){var e;return JSON.stringify(function(){var t,n,i,r;for(r=[],t=0,n=(i=this.pieceList.toArray()).length;n>t;t++)e=i[t],r.push(JSON.parse(e.toConsole()));return r}.call(this))},n.prototype.getDirection=function(){return o.getDirection(this.toString())},n.prototype.isRTL=function(){return"rtl"===this.getDirection()},n}(o.Object)}.call(this),function(){var e,t,n,i,r=function(e,t){function n(){this.constructor=e}for(var i in t)s.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty,a=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1},l=[].slice;e=o.arraysAreEqual,i=o.spliceArray,t=o.getBlockConfig,o.getBlockAttributeNames,n=o.getListAttributeNames,o.Block=function(s){function c(e,t){null==e&&(e=new o.Text),null==t&&(t=[]),c.__super__.constructor.apply(this,arguments),this.text=d(e),this.attributes=t}var u,d,h,p,f,m,g,v,y;return r(c,s),c.fromJSON=function(e){return new this(o.Text.fromJSON(e.text),e.attributes)},c.prototype.isEmpty=function(){return this.text.isBlockBreak()},c.prototype.isEqualTo=function(t){return c.__super__.isEqualTo.apply(this,arguments)||this.text.isEqualTo(null!=t?t.text:void 0)&&e(this.attributes,null!=t?t.attributes:void 0)},c.prototype.copyWithText=function(e){return new this.constructor(e,this.attributes)},c.prototype.copyWithoutText=function(){return this.copyWithText(null)},c.prototype.copyWithAttributes=function(e){return new this.constructor(this.text,e)},c.prototype.copyWithoutAttributes=function(){return this.copyWithAttributes(null)},c.prototype.copyUsingObjectMap=function(e){var t;return this.copyWithText((t=e.find(this.text))?t:this.text.copyUsingObjectMap(e))},c.prototype.addAttribute=function(e){var t;return t=this.attributes.concat(p(e)),this.copyWithAttributes(t)},c.prototype.removeAttribute=function(e){var n,i;return i=t(e).listAttribute,n=m(m(this.attributes,e),i),this.copyWithAttributes(n)},c.prototype.removeLastAttribute=function(){return this.removeAttribute(this.getLastAttribute())},c.prototype.getLastAttribute=function(){return f(this.attributes)},c.prototype.getAttributes=function(){return this.attributes.slice(0)},c.prototype.getAttributeLevel=function(){return this.attributes.length},c.prototype.getAttributeAtLevel=function(e){return this.attributes[e-1]},c.prototype.hasAttribute=function(e){return a.call(this.attributes,e)>=0},c.prototype.hasAttributes=function(){return this.getAttributeLevel()>0},c.prototype.getLastNestableAttribute=function(){return f(this.getNestableAttributes())},c.prototype.getNestableAttributes=function(){var e,n,i,r,o;for(o=[],n=0,i=(r=this.attributes).length;i>n;n++)e=r[n],t(e).nestable&&o.push(e);return o},c.prototype.getNestingLevel=function(){return this.getNestableAttributes().length},c.prototype.decreaseNestingLevel=function(){var e;return(e=this.getLastNestableAttribute())?this.removeAttribute(e):this},c.prototype.increaseNestingLevel=function(){var e,t,n;return(e=this.getLastNestableAttribute())?(n=this.attributes.lastIndexOf(e),t=i.apply(null,[this.attributes,n+1,0].concat(l.call(p(e)))),this.copyWithAttributes(t)):this},c.prototype.getListItemAttributes=function(){var e,n,i,r,o;for(o=[],n=0,i=(r=this.attributes).length;i>n;n++)e=r[n],t(e).listAttribute&&o.push(e);return o},c.prototype.isListItem=function(){var e;return null!=(e=t(this.getLastAttribute()))?e.listAttribute:void 0},c.prototype.isTerminalBlock=function(){var e;return null!=(e=t(this.getLastAttribute()))?e.terminal:void 0},c.prototype.breaksOnReturn=function(){var e;return null!=(e=t(this.getLastAttribute()))?e.breakOnReturn:void 0},c.prototype.findLineBreakInDirectionFromPosition=function(e,t){var n,i;return i=this.toString(),-1!==(n=function(){switch(e){case"forward":return i.indexOf("\n",t);case"backward":return i.slice(0,t).lastIndexOf("\n")}}())?n:void 0},c.prototype.contentsForInspection=function(){return{text:this.text.inspect(),attributes:this.attributes}},c.prototype.toString=function(){return this.text.toString()},c.prototype.toJSON=function(){return{text:this.text,attributes:this.attributes}},c.prototype.getDirection=function(){return this.text.getDirection()},c.prototype.isRTL=function(){return this.text.isRTL()},c.prototype.getLength=function(){return this.text.getLength()},c.prototype.canBeConsolidatedWith=function(e){return!this.hasAttributes()&&!e.hasAttributes()&&this.getDirection()===e.getDirection()},c.prototype.consolidateWith=function(e){var t,n;return t=o.Text.textForStringWithAttributes("\n"),n=this.getTextWithoutBlockBreak().appendText(t),this.copyWithText(n.appendText(e.text))},c.prototype.splitAtOffset=function(e){var t,n;return 0===e?(t=null,n=this):e===this.getLength()?(t=this,n=null):(t=this.copyWithText(this.text.getTextAtRange([0,e])),n=this.copyWithText(this.text.getTextAtRange([e,this.getLength()]))),[t,n]},c.prototype.getBlockBreakPosition=function(){return this.text.getLength()-1},c.prototype.getTextWithoutBlockBreak=function(){return g(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()},c.prototype.canBeGrouped=function(e){return this.attributes[e]},c.prototype.canBeGroupedWith=function(e,i){var r,o,s,l;return o=(s=e.getAttributes())[i],!((r=this.attributes[i])!==o||!1===t(r).group&&(l=s[i+1],a.call(n(),l)<0)||this.getDirection()!==e.getDirection()&&!e.isEmpty())},d=function(e){return e=y(e),u(e)},y=function(e){var t,n,i,r,s,a;return r=!1,a=e.getPieces(),n=2<=a.length?l.call(a,0,t=a.length-1):(t=0,[]),null==(i=a[t++])?e:(n=function(){var e,t,i;for(i=[],e=0,t=n.length;t>e;e++)(s=n[e]).isBlockBreak()?(r=!0,i.push(v(s))):i.push(s);return i}(),r?new o.Text(l.call(n).concat([i])):e)},h=o.Text.textForStringWithAttributes("\n",{blockBreak:!0}),u=function(e){return g(e)?e:e.appendText(h)},g=function(e){var t;return 0!==(t=e.getLength())&&e.getTextAtRange([t-1,t]).isBlockBreak()},v=function(e){return e.copyWithoutAttribute("blockBreak")},p=function(e){var n;return null!=(n=t(e).listAttribute)?[n,e]:[e]},f=function(e){return e.slice(-1)[0]},m=function(e,t){var n;return-1===(n=e.lastIndexOf(t))?e:i(e,n,1)},c}(o.Object)}.call(this),function(){var e,t,n,i=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty,s=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1},a=[].slice;t=o.tagName,n=o.walkTree,e=o.nodeIsAttachmentElement,o.HTMLSanitizer=function(r){function l(e,t){var n;n=null!=t?t:{},this.allowedAttributes=n.allowedAttributes,this.forbiddenProtocols=n.forbiddenProtocols,this.forbiddenElements=n.forbiddenElements,null==this.allowedAttributes&&(this.allowedAttributes=c),null==this.forbiddenProtocols&&(this.forbiddenProtocols=d),null==this.forbiddenElements&&(this.forbiddenElements=u),this.body=h(e)}var c,u,d,h;return i(l,r),c="style href src width height class".split(" "),d="javascript:".split(" "),u="script iframe".split(" "),l.sanitize=function(e,t){var n;return(n=new this(e,t)).sanitize(),n},l.prototype.sanitize=function(){return this.sanitizeElements(),this.normalizeListElementNesting()},l.prototype.getHTML=function(){return this.body.innerHTML},l.prototype.getBody=function(){return this.body},l.prototype.sanitizeElements=function(){var e,t,i,r,s;for(s=n(this.body),r=[];s.nextNode();)switch(i=s.currentNode,i.nodeType){case Node.ELEMENT_NODE:this.elementIsRemovable(i)?r.push(i):this.sanitizeElement(i);break;case Node.COMMENT_NODE:r.push(i)}for(e=0,t=r.length;t>e;e++)i=r[e],o.removeNode(i);return this.body},l.prototype.sanitizeElement=function(e){var t,n,i,r,o;for(e.hasAttribute("href")&&(r=e.protocol,s.call(this.forbiddenProtocols,r)>=0&&e.removeAttribute("href")),t=0,n=(o=a.call(e.attributes)).length;n>t;t++)i=o[t].name,s.call(this.allowedAttributes,i)>=0||0===i.indexOf("data-trix")||e.removeAttribute(i);return e},l.prototype.normalizeListElementNesting=function(){var e,n,i,r,o;for(e=0,n=(o=a.call(this.body.querySelectorAll("ul,ol"))).length;n>e;e++)(r=(i=o[e]).previousElementSibling)&&"li"===t(r)&&r.appendChild(i);return this.body},l.prototype.elementIsRemovable=function(e){return(null!=e?e.nodeType:void 0)===Node.ELEMENT_NODE?this.elementIsForbidden(e)||this.elementIsntSerializable(e):void 0},l.prototype.elementIsForbidden=function(e){var n;return n=t(e),s.call(this.forbiddenElements,n)>=0},l.prototype.elementIsntSerializable=function(t){return"false"===t.getAttribute("data-trix-serialize")&&!e(t)},h=function(e){var t,n,i,r,o;for(null==e&&(e=""),e=e.replace(/<\/html[^>]*>[^]*$/i,"</html>"),(t=document.implementation.createHTMLDocument("")).documentElement.innerHTML=e,i=0,r=(o=t.head.querySelectorAll("style")).length;r>i;i++)n=o[i],t.body.appendChild(n);return t.body},l}(o.BasicObject)}.call(this),function(){var e,t,n,i,r,s,a,l,c,u,d,h=function(e,t){function n(){this.constructor=e}for(var i in t)p.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},p={}.hasOwnProperty,f=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};e=o.arraysAreEqual,s=o.makeElement,u=o.tagName,r=o.getBlockTagNames,d=o.walkTree,i=o.findClosestElementFromNode,n=o.elementContainsNode,a=o.nodeIsAttachmentElement,l=o.normalizeSpaces,t=o.breakableWhitespacePattern,c=o.squishBreakableWhitespace,o.HTMLParser=function(p){function m(e,t){this.html=e,this.referenceElement=(null!=t?t:{}).referenceElement,this.blocks=[],this.blockElements=[],this.processedElements=[]}var g,v,y,b,w,_,x,k,C,S,A,D;return h(m,p),m.parse=function(e,t){var n;return(n=new this(e,t)).parse(),n},m.prototype.getDocument=function(){return o.Document.fromJSON(this.blocks)},m.prototype.parse=function(){var e,t;try{for(this.createHiddenContainer(),e=o.HTMLSanitizer.sanitize(this.html).getHTML(),this.containerElement.innerHTML=e,t=d(this.containerElement,{usingFilter:x});t.nextNode();)this.processNode(t.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}},m.prototype.createHiddenContainer=function(){return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute("id"),this.containerElement.setAttribute("data-trix-internal",""),this.containerElement.style.display="none",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=s({tagName:"div",style:{display:"none"}}),document.body.appendChild(this.containerElement))},m.prototype.removeHiddenContainer=function(){return o.removeNode(this.containerElement)},x=function(e){return"style"===u(e)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},m.prototype.processNode=function(e){switch(e.nodeType){case Node.TEXT_NODE:if(!this.isInsignificantTextNode(e))return this.appendBlockForTextNode(e),this.processTextNode(e);break;case Node.ELEMENT_NODE:return this.appendBlockForElement(e),this.processElement(e)}},m.prototype.appendBlockForTextNode=function(t){var n,i,r;return(i=t.parentNode)===this.currentBlockElement&&this.isBlockElement(t.previousSibling)?this.appendStringWithAttributes("\n"):i!==this.containerElement&&!this.isBlockElement(i)||(n=this.getBlockAttributes(i),e(n,null!=(r=this.currentBlock)?r.attributes:void 0))?void 0:(this.currentBlock=this.appendBlockForAttributesWithElement(n,i),this.currentBlockElement=i)},m.prototype.appendBlockForElement=function(t){var i,r,o,s;if(o=this.isBlockElement(t),r=n(this.currentBlockElement,t),o&&!this.isBlockElement(t.firstChild)){if((!this.isInsignificantTextNode(t.firstChild)||!this.isBlockElement(t.firstElementChild))&&(i=this.getBlockAttributes(t),t.firstChild))return r&&e(i,this.currentBlock.attributes)?this.appendStringWithAttributes("\n"):(this.currentBlock=this.appendBlockForAttributesWithElement(i,t),this.currentBlockElement=t)}else if(this.currentBlockElement&&!r&&!o)return(s=this.findParentBlockElement(t))?this.appendBlockForElement(s):(this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null)},m.prototype.findParentBlockElement=function(e){var t;for(t=e.parentElement;t&&t!==this.containerElement;){if(this.isBlockElement(t)&&f.call(this.blockElements,t)>=0)return t;t=t.parentElement}return null},m.prototype.processTextNode=function(e){var t,n;return n=e.data,v(e.parentNode)||(n=c(n),A(null!=(t=e.previousSibling)?t.textContent:void 0)&&(n=w(n))),this.appendStringWithAttributes(n,this.getTextAttributes(e.parentNode))},m.prototype.processElement=function(e){var t,n,i,r,o;if(a(e))return t=k(e,"attachment"),Object.keys(t).length&&(r=this.getTextAttributes(e),this.appendAttachmentWithAttributes(t,r),e.innerHTML=""),this.processedElements.push(e);switch(u(e)){case"br":return this.isExtraBR(e)||this.isBlockElement(e.nextSibling)||this.appendStringWithAttributes("\n",this.getTextAttributes(e)),this.processedElements.push(e);case"img":for(n in t={url:e.getAttribute("src"),contentType:"image"},i=b(e))o=i[n],t[n]=o;return this.appendAttachmentWithAttributes(t,this.getTextAttributes(e)),this.processedElements.push(e);case"tr":if(e.parentNode.firstChild!==e)return this.appendStringWithAttributes("\n");break;case"td":if(e.parentNode.firstChild!==e)return this.appendStringWithAttributes(" | ")}},m.prototype.appendBlockForAttributesWithElement=function(e,t){var n;return this.blockElements.push(t),n=g(e),this.blocks.push(n),n},m.prototype.appendEmptyBlock=function(){return this.appendBlockForAttributesWithElement([],null)},m.prototype.appendStringWithAttributes=function(e,t){return this.appendPiece(S(e,t))},m.prototype.appendAttachmentWithAttributes=function(e,t){return this.appendPiece(C(e,t))},m.prototype.appendPiece=function(e){return 0===this.blocks.length&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(e)},m.prototype.appendStringToTextAtIndex=function(e,t){var n,i;return"string"===(null!=(n=(i=this.blocks[t].text)[i.length-1])?n.type:void 0)?n.string+=e:i.push(S(e))},m.prototype.prependStringToTextAtIndex=function(e,t){var n,i;return"string"===(null!=(n=(i=this.blocks[t].text)[0])?n.type:void 0)?n.string=e+n.string:i.unshift(S(e))},S=function(e,t){return null==t&&(t={}),{string:e=l(e),attributes:t,type:"string"}},C=function(e,t){return null==t&&(t={}),{attachment:e,attributes:t,type:"attachment"}},g=function(e){return null==e&&(e={}),{text:[],attributes:e}},m.prototype.getTextAttributes=function(e){var t,n,r,s,l,c,u,d,h,p,f,m;for(t in r={},h=o.config.textAttributes)if((l=h[t]).tagName&&i(e,{matchingSelector:l.tagName,untilNode:this.containerElement}))r[t]=!0;else if(l.parser){if(m=l.parser(e)){for(n=!1,c=0,d=(p=this.findBlockElementAncestors(e)).length;d>c;c++)if(s=p[c],l.parser(s)===m){n=!0;break}n||(r[t]=m)}}else l.styleProperty&&(m=e.style[l.styleProperty])&&(r[t]=m);if(a(e))for(u in f=k(e,"attributes"))m=f[u],r[u]=m;return r},m.prototype.getBlockAttributes=function(e){var t,n,i,r;for(n=[];e&&e!==this.containerElement;){for(t in r=o.config.blockAttributes)!1!==(i=r[t]).parse&&u(e)===i.tagName&&(("function"==typeof i.test?i.test(e):void 0)||!i.test)&&(n.push(t),i.listAttribute&&n.push(i.listAttribute));e=e.parentNode}return n.reverse()},m.prototype.findBlockElementAncestors=function(e){var t,n;for(t=[];e&&e!==this.containerElement;)n=u(e),f.call(r(),n)>=0&&t.push(e),e=e.parentNode;return t},k=function(e,t){try{return JSON.parse(e.getAttribute("data-trix-"+t))}catch(e){return{}}},b=function(e){var t,n,i;return i=e.getAttribute("width"),n=e.getAttribute("height"),t={},i&&(t.width=parseInt(i,10)),n&&(t.height=parseInt(n,10)),t},m.prototype.isBlockElement=function(e){var t;if((null!=e?e.nodeType:void 0)===Node.ELEMENT_NODE&&!a(e)&&!i(e,{matchingSelector:"td",untilNode:this.containerElement}))return t=u(e),f.call(r(),t)>=0||"block"===window.getComputedStyle(e).display},m.prototype.isInsignificantTextNode=function(e){var t,n,i;if((null!=e?e.nodeType:void 0)===Node.TEXT_NODE&&D(e.data)&&(n=e.parentNode,i=e.previousSibling,t=e.nextSibling,(!_(n.previousSibling)||this.isBlockElement(n.previousSibling))&&!v(n)))return!i||this.isBlockElement(i)||!t||this.isBlockElement(t)},m.prototype.isExtraBR=function(e){return"br"===u(e)&&this.isBlockElement(e.parentNode)&&e.parentNode.lastChild===e},v=function(e){var t;return"pre"===(t=window.getComputedStyle(e).whiteSpace)||"pre-wrap"===t||"pre-line"===t},_=function(e){return e&&!A(e.textContent)},m.prototype.translateBlockElementMarginsToNewlines=function(){var e,t,n,i,r,o,s;for(e=this.getMarginOfDefaultBlockElement(),s=[],n=t=0,i=(o=this.blocks).length;i>t;n=++t)o[n],(r=this.getMarginOfBlockElementAtIndex(n))&&(r.top>2*e.top&&this.prependStringToTextAtIndex("\n",n),s.push(r.bottom>2*e.bottom?this.appendStringToTextAtIndex("\n",n):void 0));return s},m.prototype.getMarginOfBlockElementAtIndex=function(e){var t,n;return!(t=this.blockElements[e])||!t.textContent||(n=u(t),f.call(r(),n)>=0||f.call(this.processedElements,t)>=0)?void 0:y(t)},m.prototype.getMarginOfDefaultBlockElement=function(){var e;return e=s(o.config.blockAttributes.default.tagName),this.containerElement.appendChild(e),y(e)},y=function(e){var t;return"block"===(t=window.getComputedStyle(e)).display?{top:parseInt(t.marginTop),bottom:parseInt(t.marginBottom)}:void 0},w=function(e){return e.replace(RegExp("^"+t.source+"+"),"")},D=function(e){return RegExp("^"+t.source+"*$").test(e)},A=function(e){return/\s$/.test(e)},m}(o.BasicObject)}.call(this),function(){var e,t,n,i,r=function(e,t){function n(){this.constructor=e}for(var i in t)s.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty,a=[].slice,l=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};e=o.arraysAreEqual,n=o.normalizeRange,i=o.rangeIsCollapsed,t=o.getBlockConfig,o.Document=function(s){function c(e){null==e&&(e=[]),c.__super__.constructor.apply(this,arguments),0===e.length&&(e=[new o.Block]),this.blockList=o.SplittableList.box(e)}var u;return r(c,s),c.fromJSON=function(e){var t;return new this(function(){var n,i,r;for(r=[],n=0,i=e.length;i>n;n++)t=e[n],r.push(o.Block.fromJSON(t));return r}())},c.fromHTML=function(e,t){return o.HTMLParser.parse(e,t).getDocument()},c.fromString=function(e,t){var n;return n=o.Text.textForStringWithAttributes(e,t),new this([new o.Block(n)])},c.prototype.isEmpty=function(){var e;return 1===this.blockList.length&&(e=this.getBlockAtIndex(0)).isEmpty()&&!e.hasAttributes()},c.prototype.copy=function(e){var t;return null==e&&(e={}),t=e.consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray(),new this.constructor(t)},c.prototype.copyUsingObjectsFromDocument=function(e){var t;return t=new o.ObjectMap(e.getObjects()),this.copyUsingObjectMap(t)},c.prototype.copyUsingObjectMap=function(e){var t,n,i;return n=function(){var n,r,o,s;for(s=[],n=0,r=(o=this.getBlocks()).length;r>n;n++)t=o[n],s.push((i=e.find(t))?i:t.copyUsingObjectMap(e));return s}.call(this),new this.constructor(n)},c.prototype.copyWithBaseBlockAttributes=function(e){var t,n,i;return null==e&&(e=[]),i=function(){var i,r,o,s;for(s=[],i=0,r=(o=this.getBlocks()).length;r>i;i++)n=o[i],t=e.concat(n.getAttributes()),s.push(n.copyWithAttributes(t));return s}.call(this),new this.constructor(i)},c.prototype.replaceBlock=function(e,t){var n;return-1===(n=this.blockList.indexOf(e))?this:new this.constructor(this.blockList.replaceObjectAtIndex(t,n))},c.prototype.insertDocumentAtRange=function(e,t){var r,o,s,a,l,c,u;return o=e.blockList,l=(t=n(t))[0],s=(c=this.locationFromPosition(l)).index,a=c.offset,u=this,r=this.getBlockAtPosition(l),i(t)&&r.isEmpty()&&!r.hasAttributes()?u=new this.constructor(u.blockList.removeObjectAtIndex(s)):r.getBlockBreakPosition()===a&&l++,u=u.removeTextAtRange(t),new this.constructor(u.blockList.insertSplittableListAtPosition(o,l))},c.prototype.mergeDocumentAtRange=function(t,i){var r,o,s,a,l,c,u,d,h,p,f,m;return f=(i=n(i))[0],p=this.locationFromPosition(f),o=this.getBlockAtIndex(p.index).getAttributes(),r=t.getBaseBlockAttributes(),m=o.slice(-r.length),e(r,m)?(u=o.slice(0,-r.length),c=t.copyWithBaseBlockAttributes(u)):c=t.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(o),s=c.getBlockCount(),a=c.getBlockAtIndex(0),e(o,a.getAttributes())?(l=a.getTextWithoutBlockBreak(),h=this.insertTextAtRange(l,i),s>1&&(c=new this.constructor(c.getBlocks().slice(1)),d=f+l.getLength(),h=h.insertDocumentAtRange(c,d))):h=this.insertDocumentAtRange(c,i),h},c.prototype.insertTextAtRange=function(e,t){var i,r,o,s,a;return a=(t=n(t))[0],r=(s=this.locationFromPosition(a)).index,o=s.offset,i=this.removeTextAtRange(t),new this.constructor(i.blockList.editObjectAtIndex(r,(function(t){return t.copyWithText(t.text.insertTextAtPosition(e,o))})))},c.prototype.removeTextAtRange=function(e){var t,r,o,s,a,l,c,u,d,h,p,f,m,g,v,y,b,w;return u=(h=e=n(e))[0],y=h[1],i(e)?this:(l=(p=this.locationRangeFromRange(e))[0],g=p[1],a=l.index,c=l.offset,s=this.getBlockAtIndex(a),m=g.index,v=g.offset,f=this.getBlockAtIndex(m),y-u==1&&s.getBlockBreakPosition()===c&&f.getBlockBreakPosition()!==v&&"\n"===f.text.getStringAtPosition(v)?o=this.blockList.editObjectAtIndex(m,(function(e){return e.copyWithText(e.text.removeTextAtRange([v,v+1]))})):(d=s.text.getTextAtRange([0,c]),b=f.text.getTextAtRange([v,f.getLength()]),w=d.appendText(b),r=a!==m&&0===c&&s.getAttributeLevel()>=f.getAttributeLevel()?f.copyWithText(w):s.copyWithText(w),t=m+1-a,o=this.blockList.splice(a,t,r)),new this.constructor(o))},c.prototype.moveTextFromRangeToPosition=function(e,t){var i,r,o,s,l,c,u,d,h,p;return h=(c=e=n(e))[0],o=c[1],t>=h&&o>=t?this:(r=this.getDocumentAtRange(e),d=this.removeTextAtRange(e),(l=t>h)&&(t-=r.getLength()),s=(u=r.getBlocks())[0],0===(i=2<=u.length?a.call(u,1):[]).length?(p=s.getTextWithoutBlockBreak(),l&&(t+=1)):p=s.text,d=d.insertTextAtRange(p,t),0===i.length?d:(r=new this.constructor(i),t+=p.getLength(),d.insertDocumentAtRange(r,t)))},c.prototype.addAttributeAtRange=function(e,n,i){var r;return r=this.blockList,this.eachBlockAtRange(i,(function(i,o,s){return r=r.editObjectAtIndex(s,(function(){return t(e)?i.addAttribute(e,n):o[0]===o[1]?i:i.copyWithText(i.text.addAttributeAtRange(e,n,o))}))})),new this.constructor(r)},c.prototype.addAttribute=function(e,t){var n;return n=this.blockList,this.eachBlock((function(i,r){return n=n.editObjectAtIndex(r,(function(){return i.addAttribute(e,t)}))})),new this.constructor(n)},c.prototype.removeAttributeAtRange=function(e,n){var i;return i=this.blockList,this.eachBlockAtRange(n,(function(n,r,o){return t(e)?i=i.editObjectAtIndex(o,(function(){return n.removeAttribute(e)})):r[0]!==r[1]?i=i.editObjectAtIndex(o,(function(){return n.copyWithText(n.text.removeAttributeAtRange(e,r))})):void 0})),new this.constructor(i)},c.prototype.updateAttributesForAttachment=function(e,t){var n,i,r;return i=this.getRangeOfAttachment(t)[0],n=this.locationFromPosition(i).index,r=this.getTextAtIndex(n),new this.constructor(this.blockList.editObjectAtIndex(n,(function(n){return n.copyWithText(r.updateAttributesForAttachment(e,t))})))},c.prototype.removeAttributeForAttachment=function(e,t){var n;return n=this.getRangeOfAttachment(t),this.removeAttributeAtRange(e,n)},c.prototype.insertBlockBreakAtRange=function(e){var t,i,r,s;return s=(e=n(e))[0],r=this.locationFromPosition(s).offset,i=this.removeTextAtRange(e),0===r&&(t=[new o.Block]),new this.constructor(i.blockList.insertSplittableListAtPosition(new o.SplittableList(t),s))},c.prototype.applyBlockAttributeAtRange=function(e,n,i){var r,o,s,a;return o=(s=this.expandRangeToLineBreaksAndSplitBlocks(i)).document,i=s.range,(r=t(e)).listAttribute?(a=(o=o.removeLastListAttributeAtRange(i,{exceptAttributeName:e})).convertLineBreaksToBlockBreaksInRange(i),o=a.document,i=a.range):o=r.exclusive?o.removeBlockAttributesAtRange(i):r.terminal?o.removeLastTerminalAttributeAtRange(i):o.consolidateBlocksAtRange(i),o.addAttributeAtRange(e,n,i)},c.prototype.removeLastListAttributeAtRange=function(e,n){var i;return null==n&&(n={}),i=this.blockList,this.eachBlockAtRange(e,(function(e,r,o){var s;if((s=e.getLastAttribute())&&t(s).listAttribute&&s!==n.exceptAttributeName)return i=i.editObjectAtIndex(o,(function(){return e.removeAttribute(s)}))})),new this.constructor(i)},c.prototype.removeLastTerminalAttributeAtRange=function(e){var n;return n=this.blockList,this.eachBlockAtRange(e,(function(e,i,r){var o;if((o=e.getLastAttribute())&&t(o).terminal)return n=n.editObjectAtIndex(r,(function(){return e.removeAttribute(o)}))})),new this.constructor(n)},c.prototype.removeBlockAttributesAtRange=function(e){var t;return t=this.blockList,this.eachBlockAtRange(e,(function(e,n,i){return e.hasAttributes()?t=t.editObjectAtIndex(i,(function(){return e.copyWithoutAttributes()})):void 0})),new this.constructor(t)},c.prototype.expandRangeToLineBreaksAndSplitBlocks=function(e){var t,i,r,o,s,a,l,c,u;return u=(a=e=n(e))[0],o=a[1],c=this.locationFromPosition(u),r=this.locationFromPosition(o),l=(t=this).getBlockAtIndex(c.index),null!=(c.offset=l.findLineBreakInDirectionFromPosition("backward",c.offset))&&(s=t.positionFromLocation(c),t=t.insertBlockBreakAtRange([s,s+1]),r.index+=1,r.offset-=t.getBlockAtIndex(c.index).getLength(),c.index+=1),c.offset=0,0===r.offset&&r.index>c.index?(r.index-=1,r.offset=t.getBlockAtIndex(r.index).getBlockBreakPosition()):("\n"===(i=t.getBlockAtIndex(r.index)).text.getStringAtRange([r.offset-1,r.offset])?r.offset-=1:r.offset=i.findLineBreakInDirectionFromPosition("forward",r.offset),r.offset!==i.getBlockBreakPosition()&&(s=t.positionFromLocation(r),t=t.insertBlockBreakAtRange([s,s+1]))),u=t.positionFromLocation(c),o=t.positionFromLocation(r),{document:t,range:e=n([u,o])}},c.prototype.convertLineBreaksToBlockBreaksInRange=function(e){var t,i,r;return i=(e=n(e))[0],r=this.getStringAtRange(e).slice(0,-1),t=this,r.replace(/.*?\n/g,(function(e){return i+=e.length,t=t.insertBlockBreakAtRange([i-1,i])})),{document:t,range:e}},c.prototype.consolidateBlocksAtRange=function(e){var t,i,r,o,s;return s=(r=e=n(e))[0],i=r[1],o=this.locationFromPosition(s).index,t=this.locationFromPosition(i).index,new this.constructor(this.blockList.consolidateFromIndexToIndex(o,t))},c.prototype.getDocumentAtRange=function(e){var t;return e=n(e),t=this.blockList.getSplittableListInRange(e).toArray(),new this.constructor(t)},c.prototype.getStringAtRange=function(e){var t,i;return(i=e=n(e))[i.length-1]!==this.getLength()&&(t=-1),this.getDocumentAtRange(e).toString().slice(0,t)},c.prototype.getBlockAtIndex=function(e){return this.blockList.getObjectAtIndex(e)},c.prototype.getBlockAtPosition=function(e){var t;return t=this.locationFromPosition(e).index,this.getBlockAtIndex(t)},c.prototype.getTextAtIndex=function(e){var t;return null!=(t=this.getBlockAtIndex(e))?t.text:void 0},c.prototype.getTextAtPosition=function(e){var t;return t=this.locationFromPosition(e).index,this.getTextAtIndex(t)},c.prototype.getPieceAtPosition=function(e){var t,n,i;return t=(i=this.locationFromPosition(e)).index,n=i.offset,this.getTextAtIndex(t).getPieceAtPosition(n)},c.prototype.getCharacterAtPosition=function(e){var t,n,i;return t=(i=this.locationFromPosition(e)).index,n=i.offset,this.getTextAtIndex(t).getStringAtRange([n,n+1])},c.prototype.getLength=function(){return this.blockList.getEndPosition()},c.prototype.getBlocks=function(){return this.blockList.toArray()},c.prototype.getBlockCount=function(){return this.blockList.length},c.prototype.getEditCount=function(){return this.editCount},c.prototype.eachBlock=function(e){return this.blockList.eachObject(e)},c.prototype.eachBlockAtRange=function(e,t){var i,r,o,s,a,l,c,u,d,h,p,f;if(p=(l=e=n(e))[0],o=l[1],h=this.locationFromPosition(p),r=this.locationFromPosition(o),h.index===r.index)return i=this.getBlockAtIndex(h.index),f=[h.offset,r.offset],t(i,f,h.index);for(d=[],a=s=c=h.index,u=r.index;u>=c?u>=s:s>=u;a=u>=c?++s:--s)(i=this.getBlockAtIndex(a))?(f=function(){switch(a){case h.index:return[h.offset,i.text.getLength()];case r.index:return[0,r.offset];default:return[0,i.text.getLength()]}}(),d.push(t(i,f,a))):d.push(void 0);return d},c.prototype.getCommonAttributesAtRange=function(e){var t,r,s;return r=(e=n(e))[0],i(e)?this.getCommonAttributesAtPosition(r):(s=[],t=[],this.eachBlockAtRange(e,(function(e,n){return n[0]!==n[1]?(s.push(e.text.getCommonAttributesAtRange(n)),t.push(u(e))):void 0})),o.Hash.fromCommonAttributesOfObjects(s).merge(o.Hash.fromCommonAttributesOfObjects(t)).toObject())},c.prototype.getCommonAttributesAtPosition=function(e){var t,n,i,r,s,a,c,d,h,p;if(s=(h=this.locationFromPosition(e)).index,d=h.offset,!(i=this.getBlockAtIndex(s)))return{};for(c in r=u(i),t=i.text.getAttributesAtPosition(d),n=i.text.getAttributesAtPosition(d-1),a=function(){var e,t;for(c in t=[],e=o.config.textAttributes)(p=e[c]).inheritable&&t.push(c);return t}(),n)((p=n[c])===t[c]||l.call(a,c)>=0)&&(r[c]=p);return r},c.prototype.getRangeOfCommonAttributeAtPosition=function(e,t){var i,r,o,s,a,l,c,u;return o=(a=this.locationFromPosition(t)).index,s=a.offset,u=(l=this.getTextAtIndex(o).getExpandedRangeForAttributeAtOffset(e,s))[0],r=l[1],c=this.positionFromLocation({index:o,offset:u}),i=this.positionFromLocation({index:o,offset:r}),n([c,i])},c.prototype.getBaseBlockAttributes=function(){var e,t,n,i,r,o,s;for(e=this.getBlockAtIndex(0).getAttributes(),n=i=1,s=this.getBlockCount();s>=1?s>i:i>s;n=s>=1?++i:--i)t=this.getBlockAtIndex(n).getAttributes(),o=Math.min(e.length,t.length),e=function(){var n,i,s;for(s=[],r=n=0,i=o;(i>=0?i>n:n>i)&&t[r]===e[r];r=i>=0?++n:--n)s.push(t[r]);return s}();return e},u=function(e){var t,n;return n={},(t=e.getLastAttribute())&&(n[t]=!0),n},c.prototype.getAttachmentById=function(e){var t,n,i,r;for(n=0,i=(r=this.getAttachments()).length;i>n;n++)if((t=r[n]).id===e)return t},c.prototype.getAttachmentPieces=function(){var e;return e=[],this.blockList.eachObject((function(t){var n;return n=t.text,e=e.concat(n.getAttachmentPieces())})),e},c.prototype.getAttachments=function(){var e,t,n,i,r;for(r=[],e=0,t=(i=this.getAttachmentPieces()).length;t>e;e++)n=i[e],r.push(n.attachment);return r},c.prototype.getRangeOfAttachment=function(e){var t,i,r,o,s,a,l;for(o=0,i=t=0,r=(s=this.blockList.toArray()).length;r>t;i=++t){if(l=(a=s[i].text).getRangeOfAttachment(e))return n([o+l[0],o+l[1]]);o+=a.getLength()}},c.prototype.getLocationRangeOfAttachment=function(e){var t;return t=this.getRangeOfAttachment(e),this.locationRangeFromRange(t)},c.prototype.getAttachmentPieceForAttachment=function(e){var t,n,i,r;for(t=0,n=(r=this.getAttachmentPieces()).length;n>t;t++)if((i=r[t]).attachment===e)return i},c.prototype.findRangesForBlockAttribute=function(e){var t,n,i,r,o,s,a;for(o=0,s=[],n=0,i=(a=this.getBlocks()).length;i>n;n++)r=(t=a[n]).getLength(),t.hasAttribute(e)&&s.push([o,o+r]),o+=r;return s},c.prototype.findRangesForTextAttribute=function(e,t){var n,i,r,o,s,a,l,c,u,d;for(d=(null!=t?t:{}).withValue,a=0,l=[],c=[],o=function(t){return null!=d?t.getAttribute(e)===d:t.hasAttribute(e)},n=0,i=(u=this.getPieces()).length;i>n;n++)r=(s=u[n]).getLength(),o(s)&&(l[1]===a?l[1]=a+r:c.push(l=[a,a+r])),a+=r;return c},c.prototype.locationFromPosition=function(e){var t,n;return null!=(n=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,e))).index?n:{index:(t=this.getBlocks()).length-1,offset:t[t.length-1].getLength()}},c.prototype.positionFromLocation=function(e){return this.blockList.findPositionAtIndexAndOffset(e.index,e.offset)},c.prototype.locationRangeFromPosition=function(e){return n(this.locationFromPosition(e))},c.prototype.locationRangeFromRange=function(e){var t,i,r,o;if(e=n(e))return o=e[0],i=e[1],r=this.locationFromPosition(o),t=this.locationFromPosition(i),n([r,t])},c.prototype.rangeFromLocationRange=function(e){var t,r;return e=n(e),t=this.positionFromLocation(e[0]),i(e)||(r=this.positionFromLocation(e[1])),n([t,r])},c.prototype.isEqualTo=function(e){return this.blockList.isEqualTo(null!=e?e.blockList:void 0)},c.prototype.getTexts=function(){var e,t,n,i,r;for(r=[],t=0,n=(i=this.getBlocks()).length;n>t;t++)e=i[t],r.push(e.text);return r},c.prototype.getPieces=function(){var e,t,n,i,r;for(n=[],e=0,t=(i=this.getTexts()).length;t>e;e++)r=i[e],n.push.apply(n,r.getPieces());return n},c.prototype.getObjects=function(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())},c.prototype.toSerializableDocument=function(){var e;return e=[],this.blockList.eachObject((function(t){return e.push(t.copyWithText(t.text.toSerializableText()))})),new this.constructor(e)},c.prototype.toString=function(){return this.blockList.toString()},c.prototype.toJSON=function(){return this.blockList.toJSON()},c.prototype.toConsole=function(){var e;return JSON.stringify(function(){var t,n,i,r;for(r=[],t=0,n=(i=this.blockList.toArray()).length;n>t;t++)e=i[t],r.push(JSON.parse(e.text.toConsole()));return r}.call(this))},c}(o.Object)}.call(this),function(){o.LineBreakInsertion=function(){function e(e){var t;this.composition=e,this.document=this.composition.document,t=this.composition.getSelectedRange(),this.startPosition=t[0],this.endPosition=t[1],this.startLocation=this.document.locationFromPosition(this.startPosition),this.endLocation=this.document.locationFromPosition(this.endPosition),this.block=this.document.getBlockAtIndex(this.endLocation.index),this.breaksOnReturn=this.block.breaksOnReturn(),this.previousCharacter=this.block.text.getStringAtPosition(this.endLocation.offset-1),this.nextCharacter=this.block.text.getStringAtPosition(this.endLocation.offset)}return e.prototype.shouldInsertBlockBreak=function(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?0!==this.startLocation.offset:this.breaksOnReturn&&"\n"!==this.nextCharacter},e.prototype.shouldBreakFormattedBlock=function(){return this.block.hasAttributes()&&!this.block.isListItem()&&(this.breaksOnReturn&&"\n"===this.nextCharacter||"\n"===this.previousCharacter)},e.prototype.shouldDecreaseListLevel=function(){return this.block.hasAttributes()&&this.block.isListItem()&&this.block.isEmpty()},e.prototype.shouldPrependListItem=function(){return this.block.isListItem()&&0===this.startLocation.offset&&!this.block.isEmpty()},e.prototype.shouldRemoveLastBlockAttribute=function(){return this.block.hasAttributes()&&!this.block.isListItem()&&this.block.isEmpty()},e}()}.call(this),function(){var e,t,n,i,r,s,a,l,c,u,d=function(e,t){function n(){this.constructor=e}for(var i in t)h.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},h={}.hasOwnProperty;s=o.normalizeRange,c=o.rangesAreEqual,l=o.rangeIsCollapsed,a=o.objectsAreEqual,e=o.arrayStartsWith,u=o.summarizeArrayChange,n=o.getAllAttributeNames,i=o.getBlockConfig,r=o.getTextConfig,t=o.extend,o.Composition=function(h){function p(){this.document=new o.Document,this.attachments=[],this.currentAttributes={},this.revision=0}return d(p,h),p.prototype.setDocument=function(e){var t;return e.isEqualTo(this.document)?void 0:(this.document=e,this.refreshAttachments(),this.revision++,null!=(t=this.delegate)&&"function"==typeof t.compositionDidChangeDocument?t.compositionDidChangeDocument(e):void 0)},p.prototype.getSnapshot=function(){return{document:this.document,selectedRange:this.getSelectedRange()}},p.prototype.loadSnapshot=function(e){var t,n,i,r;return t=e.document,r=e.selectedRange,null!=(n=this.delegate)&&"function"==typeof n.compositionWillLoadSnapshot&&n.compositionWillLoadSnapshot(),this.setDocument(null!=t?t:new o.Document),this.setSelection(null!=r?r:[0,0]),null!=(i=this.delegate)&&"function"==typeof i.compositionDidLoadSnapshot?i.compositionDidLoadSnapshot():void 0},p.prototype.insertText=function(e,t){var n,i,r,o;return o=(null!=t?t:{updatePosition:!0}).updatePosition,i=this.getSelectedRange(),this.setDocument(this.document.insertTextAtRange(e,i)),n=(r=i[0])+e.getLength(),o&&this.setSelection(n),this.notifyDelegateOfInsertionAtRange([r,n])},p.prototype.insertBlock=function(e){var t;return null==e&&(e=new o.Block),t=new o.Document([e]),this.insertDocument(t)},p.prototype.insertDocument=function(e){var t,n,i;return null==e&&(e=new o.Document),n=this.getSelectedRange(),this.setDocument(this.document.insertDocumentAtRange(e,n)),t=(i=n[0])+e.getLength(),this.setSelection(t),this.notifyDelegateOfInsertionAtRange([i,t])},p.prototype.insertString=function(e,t){var n,i;return n=this.getCurrentTextAttributes(),i=o.Text.textForStringWithAttributes(e,n),this.insertText(i,t)},p.prototype.insertBlockBreak=function(){var e,t,n;return t=this.getSelectedRange(),this.setDocument(this.document.insertBlockBreakAtRange(t)),e=(n=t[0])+1,this.setSelection(e),this.notifyDelegateOfInsertionAtRange([n,e])},p.prototype.insertLineBreak=function(){var e,t;return(t=new o.LineBreakInsertion(this)).shouldDecreaseListLevel()?(this.decreaseListLevel(),this.setSelection(t.startPosition)):t.shouldPrependListItem()?(e=new o.Document([t.block.copyWithoutText()]),this.insertDocument(e)):t.shouldInsertBlockBreak()?this.insertBlockBreak():t.shouldRemoveLastBlockAttribute()?this.removeLastBlockAttribute():t.shouldBreakFormattedBlock()?this.breakFormattedBlock(t):this.insertString("\n")},p.prototype.insertHTML=function(e){var t,n,i,r;return t=o.Document.fromHTML(e),i=this.getSelectedRange(),this.setDocument(this.document.mergeDocumentAtRange(t,i)),n=(r=i[0])+t.getLength()-1,this.setSelection(n),this.notifyDelegateOfInsertionAtRange([r,n])},p.prototype.replaceHTML=function(e){var t,n,i;return t=o.Document.fromHTML(e).copyUsingObjectsFromDocument(this.document),n=this.getLocationRange({strict:!1}),i=this.document.rangeFromLocationRange(n),this.setDocument(t),this.setSelection(i)},p.prototype.insertFile=function(e){return this.insertFiles([e])},p.prototype.insertFiles=function(e){var t,n,i,r,s,a;for(n=[],r=0,s=e.length;s>r;r++)i=e[r],(null!=(a=this.delegate)?a.compositionShouldAcceptFile(i):void 0)&&(t=o.Attachment.attachmentForFile(i),n.push(t));return this.insertAttachments(n)},p.prototype.insertAttachment=function(e){return this.insertAttachments([e])},p.prototype.insertAttachments=function(e){var t,n,i,r,s,a,l,c,u;for(c=new o.Text,r=0,s=e.length;s>r;r++)u=(t=e[r]).getType(),a=null!=(l=o.config.attachments[u])?l.presentation:void 0,i=this.getCurrentTextAttributes(),a&&(i.presentation=a),n=o.Text.textForAttachmentWithAttributes(t,i),c=c.appendText(n);return this.insertText(c)},p.prototype.shouldManageDeletingInDirection=function(e){var t;if(t=this.getLocationRange(),l(t)){if("backward"===e&&0===t[0].offset)return!0;if(this.shouldManageMovingCursorInDirection(e))return!0}else if(t[0].index!==t[1].index)return!0;return!1},p.prototype.deleteInDirection=function(e,t){var n,i,r,o,s,a,c,u;return o=(null!=t?t:{}).length,s=this.getLocationRange(),a=this.getSelectedRange(),(c=l(a))?r="backward"===e&&0===s[0].offset:u=s[0].index!==s[1].index,!(r&&this.canDecreaseBlockAttributeLevel()&&(i=this.getBlock(),i.isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(a[0]),i.isEmpty()))&&(c&&(a=this.getExpandedRangeInDirection(e,{length:o}),"backward"===e&&(n=this.getAttachmentAtRange(a))),n?(this.editAttachment(n),!1):(this.setDocument(this.document.removeTextAtRange(a)),this.setSelection(a[0]),!r&&!u&&void 0))},p.prototype.moveTextFromRange=function(e){var t;return t=this.getSelectedRange()[0],this.setDocument(this.document.moveTextFromRangeToPosition(e,t)),this.setSelection(t)},p.prototype.removeAttachment=function(e){var t;return(t=this.document.getRangeOfAttachment(e))?(this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(t)),this.setSelection(t[0])):void 0},p.prototype.removeLastBlockAttribute=function(){var e,t,n,i;return i=(n=this.getSelectedRange())[0],t=n[1],e=this.document.getBlockAtPosition(t),this.removeCurrentAttribute(e.getLastAttribute()),this.setSelection(i)},p.prototype.insertPlaceholder=function(){return this.placeholderPosition=this.getPosition(),this.insertString(" ")},p.prototype.selectPlaceholder=function(){return null!=this.placeholderPosition?(this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+" ".length]),this.getSelectedRange()):void 0},p.prototype.forgetPlaceholder=function(){return this.placeholderPosition=null},p.prototype.hasCurrentAttribute=function(e){var t;return null!=(t=this.currentAttributes[e])&&!1!==t},p.prototype.toggleCurrentAttribute=function(e){var t;return(t=!this.currentAttributes[e])?this.setCurrentAttribute(e,t):this.removeCurrentAttribute(e)},p.prototype.canSetCurrentAttribute=function(e){return i(e)?this.canSetCurrentBlockAttribute(e):this.canSetCurrentTextAttribute(e)},p.prototype.canSetCurrentTextAttribute=function(){var e,t,n,i;if(e=this.getSelectedDocument()){for(t=0,n=(i=e.getAttachments()).length;n>t;t++)if(!i[t].hasContent())return!1;return!0}},p.prototype.canSetCurrentBlockAttribute=function(){var e;if(e=this.getBlock())return!e.isTerminalBlock()},p.prototype.setCurrentAttribute=function(e,t){return i(e)?this.setBlockAttribute(e,t):(this.setTextAttribute(e,t),this.currentAttributes[e]=t,this.notifyDelegateOfCurrentAttributesChange())},p.prototype.setTextAttribute=function(e,t){var n,i;if(n=this.getSelectedRange())return n[0]!==n[1]?this.setDocument(this.document.addAttributeAtRange(e,t,n)):"href"===e?(i=o.Text.textForStringWithAttributes(t,{href:t}),this.insertText(i)):void 0},p.prototype.setBlockAttribute=function(e,t){var n;if(n=this.getSelectedRange())return this.canSetCurrentAttribute(e)?(this.getBlock(),this.setDocument(this.document.applyBlockAttributeAtRange(e,t,n)),this.setSelection(n)):void 0},p.prototype.removeCurrentAttribute=function(e){return i(e)?(this.removeBlockAttribute(e),this.updateCurrentAttributes()):(this.removeTextAttribute(e),delete this.currentAttributes[e],this.notifyDelegateOfCurrentAttributesChange())},p.prototype.removeTextAttribute=function(e){var t;if(t=this.getSelectedRange())return this.setDocument(this.document.removeAttributeAtRange(e,t))},p.prototype.removeBlockAttribute=function(e){var t;if(t=this.getSelectedRange())return this.setDocument(this.document.removeAttributeAtRange(e,t))},p.prototype.canDecreaseNestingLevel=function(){var e;return(null!=(e=this.getBlock())?e.getNestingLevel():void 0)>0},p.prototype.canIncreaseNestingLevel=function(){var t,n,r;if(t=this.getBlock())return null!=(r=i(t.getLastNestableAttribute()))&&r.listAttribute?(n=this.getPreviousBlock())?e(n.getListItemAttributes(),t.getListItemAttributes()):void 0:t.getNestingLevel()>0},p.prototype.decreaseNestingLevel=function(){var e;if(e=this.getBlock())return this.setDocument(this.document.replaceBlock(e,e.decreaseNestingLevel()))},p.prototype.increaseNestingLevel=function(){var e;if(e=this.getBlock())return this.setDocument(this.document.replaceBlock(e,e.increaseNestingLevel()))},p.prototype.canDecreaseBlockAttributeLevel=function(){var e;return(null!=(e=this.getBlock())?e.getAttributeLevel():void 0)>0},p.prototype.decreaseBlockAttributeLevel=function(){var e,t;return(e=null!=(t=this.getBlock())?t.getLastAttribute():void 0)?this.removeCurrentAttribute(e):void 0},p.prototype.decreaseListLevel=function(){var e,t,n,i,r,o;for(o=this.getSelectedRange()[0],n=r=this.document.locationFromPosition(o).index,e=this.getBlock().getAttributeLevel();(t=this.document.getBlockAtIndex(n+1))&&t.isListItem()&&t.getAttributeLevel()>e;)n++;return o=this.document.positionFromLocation({index:r,offset:0}),i=this.document.positionFromLocation({index:n,offset:0}),this.setDocument(this.document.removeLastListAttributeAtRange([o,i]))},p.prototype.updateCurrentAttributes=function(){var e,t,i,r,o,s;if(s=this.getSelectedRange({ignoreLock:!0})){for(t=this.document.getCommonAttributesAtRange(s),i=0,r=(o=n()).length;r>i;i++)t[e=o[i]]||this.canSetCurrentAttribute(e)||(t[e]=!1);if(!a(t,this.currentAttributes))return this.currentAttributes=t,this.notifyDelegateOfCurrentAttributesChange()}},p.prototype.getCurrentAttributes=function(){return t.call({},this.currentAttributes)},p.prototype.getCurrentTextAttributes=function(){var e,t,n,i;for(t in e={},n=this.currentAttributes)!1!==(i=n[t])&&r(t)&&(e[t]=i);return e},p.prototype.freezeSelection=function(){return this.setCurrentAttribute("frozen",!0)},p.prototype.thawSelection=function(){return this.removeCurrentAttribute("frozen")},p.prototype.hasFrozenSelection=function(){return this.hasCurrentAttribute("frozen")},p.proxyMethod("getSelectionManager().getPointRange"),p.proxyMethod("getSelectionManager().setLocationRangeFromPointRange"),p.proxyMethod("getSelectionManager().createLocationRangeFromDOMRange"),p.proxyMethod("getSelectionManager().locationIsCursorTarget"),p.proxyMethod("getSelectionManager().selectionIsExpanded"),p.proxyMethod("delegate?.getSelectionManager"),p.prototype.setSelection=function(e){var t,n;return t=this.document.locationRangeFromRange(e),null!=(n=this.delegate)?n.compositionDidRequestChangingSelectionToLocationRange(t):void 0},p.prototype.getSelectedRange=function(){var e;return(e=this.getLocationRange())?this.document.rangeFromLocationRange(e):void 0},p.prototype.setSelectedRange=function(e){var t;return t=this.document.locationRangeFromRange(e),this.getSelectionManager().setLocationRange(t)},p.prototype.getPosition=function(){var e;return(e=this.getLocationRange())?this.document.positionFromLocation(e[0]):void 0},p.prototype.getLocationRange=function(e){var t,n;return null!=(t=null!=(n=this.targetLocationRange)?n:this.getSelectionManager().getLocationRange(e))?t:s({index:0,offset:0})},p.prototype.withTargetLocationRange=function(e,t){var n;this.targetLocationRange=e;try{n=t()}finally{this.targetLocationRange=null}return n},p.prototype.withTargetRange=function(e,t){var n;return n=this.document.locationRangeFromRange(e),this.withTargetLocationRange(n,t)},p.prototype.withTargetDOMRange=function(e,t){var n;return n=this.createLocationRangeFromDOMRange(e,{strict:!1}),this.withTargetLocationRange(n,t)},p.prototype.getExpandedRangeInDirection=function(e,t){var n,i,r,o;return i=(null!=t?t:{}).length,o=(r=this.getSelectedRange())[0],n=r[1],"backward"===e?i?o-=i:o=this.translateUTF16PositionFromOffset(o,-1):i?n+=i:n=this.translateUTF16PositionFromOffset(n,1),s([o,n])},p.prototype.shouldManageMovingCursorInDirection=function(e){var t;return!!this.editingAttachment||(t=this.getExpandedRangeInDirection(e),null!=this.getAttachmentAtRange(t))},p.prototype.moveCursorInDirection=function(e){var t,n,i,r;return this.editingAttachment?i=this.document.getRangeOfAttachment(this.editingAttachment):(r=this.getSelectedRange(),i=this.getExpandedRangeInDirection(e),n=!c(r,i)),this.setSelectedRange("backward"===e?i[0]:i[1]),n&&(t=this.getAttachmentAtRange(i))?this.editAttachment(t):void 0},p.prototype.expandSelectionInDirection=function(e,t){var n,i;return n=(null!=t?t:{}).length,i=this.getExpandedRangeInDirection(e,{length:n}),this.setSelectedRange(i)},p.prototype.expandSelectionForEditing=function(){return this.hasCurrentAttribute("href")?this.expandSelectionAroundCommonAttribute("href"):void 0},p.prototype.expandSelectionAroundCommonAttribute=function(e){var t,n;return t=this.getPosition(),n=this.document.getRangeOfCommonAttributeAtPosition(e,t),this.setSelectedRange(n)},p.prototype.selectionContainsAttachments=function(){var e;return(null!=(e=this.getSelectedAttachments())?e.length:void 0)>0},p.prototype.selectionIsInCursorTarget=function(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())},p.prototype.positionIsCursorTarget=function(e){var t;return(t=this.document.locationFromPosition(e))?this.locationIsCursorTarget(t):void 0},p.prototype.positionIsBlockBreak=function(e){var t;return null!=(t=this.document.getPieceAtPosition(e))?t.isBlockBreak():void 0},p.prototype.getSelectedDocument=function(){var e;return(e=this.getSelectedRange())?this.document.getDocumentAtRange(e):void 0},p.prototype.getSelectedAttachments=function(){var e;return null!=(e=this.getSelectedDocument())?e.getAttachments():void 0},p.prototype.getAttachments=function(){return this.attachments.slice(0)},p.prototype.refreshAttachments=function(){var e,t,n,i,r,o,s,a,l,c,d,h;for(n=this.document.getAttachments(),e=(a=u(this.attachments,n)).added,d=a.removed,this.attachments=n,i=0,o=d.length;o>i;i++)(t=d[i]).delegate=null,null!=(l=this.delegate)&&"function"==typeof l.compositionDidRemoveAttachment&&l.compositionDidRemoveAttachment(t);for(h=[],r=0,s=e.length;s>r;r++)(t=e[r]).delegate=this,h.push(null!=(c=this.delegate)&&"function"==typeof c.compositionDidAddAttachment?c.compositionDidAddAttachment(t):void 0);return h},p.prototype.attachmentDidChangeAttributes=function(e){var t;return this.revision++,null!=(t=this.delegate)&&"function"==typeof t.compositionDidEditAttachment?t.compositionDidEditAttachment(e):void 0},p.prototype.attachmentDidChangePreviewURL=function(e){var t;return this.revision++,null!=(t=this.delegate)&&"function"==typeof t.compositionDidChangeAttachmentPreviewURL?t.compositionDidChangeAttachmentPreviewURL(e):void 0},p.prototype.editAttachment=function(e,t){var n;if(e!==this.editingAttachment)return this.stopEditingAttachment(),this.editingAttachment=e,null!=(n=this.delegate)&&"function"==typeof n.compositionDidStartEditingAttachment?n.compositionDidStartEditingAttachment(this.editingAttachment,t):void 0},p.prototype.stopEditingAttachment=function(){var e;if(this.editingAttachment)return null!=(e=this.delegate)&&"function"==typeof e.compositionDidStopEditingAttachment&&e.compositionDidStopEditingAttachment(this.editingAttachment),this.editingAttachment=null},p.prototype.updateAttributesForAttachment=function(e,t){return this.setDocument(this.document.updateAttributesForAttachment(e,t))},p.prototype.removeAttributeForAttachment=function(e,t){return this.setDocument(this.document.removeAttributeForAttachment(e,t))},p.prototype.breakFormattedBlock=function(e){var t,n,i,r,s;return n=e.document,t=e.block,s=[(r=e.startPosition)-1,r],t.getBlockBreakPosition()===e.startLocation.offset?(t.breaksOnReturn()&&"\n"===e.nextCharacter?r+=1:n=n.removeTextAtRange(s),s=[r,r]):"\n"===e.nextCharacter?"\n"===e.previousCharacter?s=[r-1,r+1]:(s=[r,r+1],r+=1):e.startLocation.offset-1!=0&&(r+=1),i=new o.Document([t.removeLastAttribute().copyWithoutText()]),this.setDocument(n.insertDocumentAtRange(i,s)),this.setSelection(r)},p.prototype.getPreviousBlock=function(){var e,t;return(t=this.getLocationRange())&&(e=t[0].index)>0?this.document.getBlockAtIndex(e-1):void 0},p.prototype.getBlock=function(){var e;return(e=this.getLocationRange())?this.document.getBlockAtIndex(e[0].index):void 0},p.prototype.getAttachmentAtRange=function(e){var t;return(t=this.document.getDocumentAtRange(e)).toString()===o.OBJECT_REPLACEMENT_CHARACTER+"\n"?t.getAttachments()[0]:void 0},p.prototype.notifyDelegateOfCurrentAttributesChange=function(){var e;return null!=(e=this.delegate)&&"function"==typeof e.compositionDidChangeCurrentAttributes?e.compositionDidChangeCurrentAttributes(this.currentAttributes):void 0},p.prototype.notifyDelegateOfInsertionAtRange=function(e){var t;return null!=(t=this.delegate)&&"function"==typeof t.compositionDidPerformInsertionAtRange?t.compositionDidPerformInsertionAtRange(e):void 0},p.prototype.translateUTF16PositionFromOffset=function(e,t){var n,i;return n=(i=this.document.toUTF16String()).offsetFromUCS2Offset(e),i.offsetToUCS2Offset(n+t)},p}(o.BasicObject)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;o.UndoManager=function(t){function n(e){this.composition=e,this.undoEntries=[],this.redoEntries=[]}var i;return e(n,t),n.prototype.recordUndoEntry=function(e,t){var n,r,o,s,a;return r=(s=null!=t?t:{}).context,n=s.consolidatable,o=this.undoEntries.slice(-1)[0],n&&i(o,e,r)?void 0:(a=this.createEntry({description:e,context:r}),this.undoEntries.push(a),this.redoEntries=[])},n.prototype.undo=function(){var e,t;return(t=this.undoEntries.pop())?(e=this.createEntry(t),this.redoEntries.push(e),this.composition.loadSnapshot(t.snapshot)):void 0},n.prototype.redo=function(){var e,t;return(e=this.redoEntries.pop())?(t=this.createEntry(e),this.undoEntries.push(t),this.composition.loadSnapshot(e.snapshot)):void 0},n.prototype.canUndo=function(){return this.undoEntries.length>0},n.prototype.canRedo=function(){return this.redoEntries.length>0},n.prototype.createEntry=function(e){var t,n,i;return n=(i=null!=e?e:{}).description,t=i.context,{description:null!=n?n.toString():void 0,context:JSON.stringify(t),snapshot:this.composition.getSnapshot()}},i=function(e,t,n){return(null!=e?e.description:void 0)===(null!=t?t.toString():void 0)&&(null!=e?e.context:void 0)===JSON.stringify(n)},n}(o.BasicObject)}.call(this),function(){var e;o.attachmentGalleryFilter=function(t){var n;return(n=new e(t)).perform(),n.getSnapshot()},e=function(){function e(e){this.document=e.document,this.selectedRange=e.selectedRange}var t;return t="attachmentGallery",e.prototype.perform=function(){return this.removeBlockAttribute(),this.applyBlockAttribute()},e.prototype.getSnapshot=function(){return{document:this.document,selectedRange:this.selectedRange}},e.prototype.removeBlockAttribute=function(){var e,n,i,r,o;for(o=[],e=0,n=(r=this.findRangesOfBlocks()).length;n>e;e++)i=r[e],o.push(this.document=this.document.removeAttributeAtRange(t,i));return o},e.prototype.applyBlockAttribute=function(){var e,n,i,r,o,s;for(i=0,s=[],e=0,n=(o=this.findRangesOfPieces()).length;n>e;e++)(r=o[e])[1]-r[0]>1&&(r[0]+=i,r[1]+=i,"\n"!==this.document.getCharacterAtPosition(r[1])&&(this.document=this.document.insertBlockBreakAtRange(r[1]),r[1]<this.selectedRange[1]&&this.moveSelectedRangeForward(),r[1]++,i++),0!==r[0]&&"\n"!==this.document.getCharacterAtPosition(r[0]-1)&&(this.document=this.document.insertBlockBreakAtRange(r[0]),r[0]<this.selectedRange[0]&&this.moveSelectedRangeForward(),r[0]++,i++),s.push(this.document=this.document.applyBlockAttributeAtRange(t,!0,r)));return s},e.prototype.findRangesOfBlocks=function(){return this.document.findRangesForBlockAttribute(t)},e.prototype.findRangesOfPieces=function(){return this.document.findRangesForTextAttribute("presentation",{withValue:"gallery"})},e.prototype.moveSelectedRangeForward=function(){return this.selectedRange[0]+=1,this.selectedRange[1]+=1},e}()}.call(this),function(){o.Editor=function(){function e(e,n,i){this.composition=e,this.selectionManager=n,this.element=i,this.insertFiles=function(e,t){return function(){return e.apply(t,arguments)}}(this.insertFiles,this),this.undoManager=new o.UndoManager(this.composition),this.filters=t.slice(0)}var t;return t=[o.attachmentGalleryFilter],e.prototype.loadDocument=function(e){return this.loadSnapshot({document:e,selectedRange:[0,0]})},e.prototype.loadHTML=function(e){return null==e&&(e=""),this.loadDocument(o.Document.fromHTML(e,{referenceElement:this.element}))},e.prototype.loadJSON=function(e){var t,n;return t=e.document,n=e.selectedRange,t=o.Document.fromJSON(t),this.loadSnapshot({document:t,selectedRange:n})},e.prototype.loadSnapshot=function(e){return this.undoManager=new o.UndoManager(this.composition),this.composition.loadSnapshot(e)},e.prototype.getDocument=function(){return this.composition.document},e.prototype.getSelectedDocument=function(){return this.composition.getSelectedDocument()},e.prototype.getSnapshot=function(){return this.composition.getSnapshot()},e.prototype.toJSON=function(){return this.getSnapshot()},e.prototype.deleteInDirection=function(e){return this.composition.deleteInDirection(e)},e.prototype.insertAttachment=function(e){return this.composition.insertAttachment(e)},e.prototype.insertAttachments=function(e){return this.composition.insertAttachments(e)},e.prototype.insertDocument=function(e){return this.composition.insertDocument(e)},e.prototype.insertFile=function(e){return this.composition.insertFile(e)},e.prototype.insertFiles=function(e){return this.composition.insertFiles(e)},e.prototype.insertHTML=function(e){return this.composition.insertHTML(e)},e.prototype.insertString=function(e){return this.composition.insertString(e)},e.prototype.insertText=function(e){return this.composition.insertText(e)},e.prototype.insertLineBreak=function(){return this.composition.insertLineBreak()},e.prototype.getSelectedRange=function(){return this.composition.getSelectedRange()},e.prototype.getPosition=function(){return this.composition.getPosition()},e.prototype.getClientRectAtPosition=function(e){var t;return t=this.getDocument().locationRangeFromRange([e,e+1]),this.selectionManager.getClientRectAtLocationRange(t)},e.prototype.expandSelectionInDirection=function(e){return this.composition.expandSelectionInDirection(e)},e.prototype.moveCursorInDirection=function(e){return this.composition.moveCursorInDirection(e)},e.prototype.setSelectedRange=function(e){return this.composition.setSelectedRange(e)},e.prototype.activateAttribute=function(e,t){return null==t&&(t=!0),this.composition.setCurrentAttribute(e,t)},e.prototype.attributeIsActive=function(e){return this.composition.hasCurrentAttribute(e)},e.prototype.canActivateAttribute=function(e){return this.composition.canSetCurrentAttribute(e)},e.prototype.deactivateAttribute=function(e){return this.composition.removeCurrentAttribute(e)},e.prototype.canDecreaseNestingLevel=function(){return this.composition.canDecreaseNestingLevel()},e.prototype.canIncreaseNestingLevel=function(){return this.composition.canIncreaseNestingLevel()},e.prototype.decreaseNestingLevel=function(){return this.canDecreaseNestingLevel()?this.composition.decreaseNestingLevel():void 0},e.prototype.increaseNestingLevel=function(){return this.canIncreaseNestingLevel()?this.composition.increaseNestingLevel():void 0},e.prototype.canRedo=function(){return this.undoManager.canRedo()},e.prototype.canUndo=function(){return this.undoManager.canUndo()},e.prototype.recordUndoEntry=function(e,t){var n,i,r;return i=(r=null!=t?t:{}).context,n=r.consolidatable,this.undoManager.recordUndoEntry(e,{context:i,consolidatable:n})},e.prototype.redo=function(){return this.canRedo()?this.undoManager.redo():void 0},e.prototype.undo=function(){return this.canUndo()?this.undoManager.undo():void 0},e}()}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;o.ManagedAttachment=function(t){function n(e,t){var n;this.attachmentManager=e,this.attachment=t,n=this.attachment,this.id=n.id,this.file=n.file}return e(n,t),n.prototype.remove=function(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)},n.proxyMethod("attachment.getAttribute"),n.proxyMethod("attachment.hasAttribute"),n.proxyMethod("attachment.setAttribute"),n.proxyMethod("attachment.getAttributes"),n.proxyMethod("attachment.setAttributes"),n.proxyMethod("attachment.isPending"),n.proxyMethod("attachment.isPreviewable"),n.proxyMethod("attachment.getURL"),n.proxyMethod("attachment.getHref"),n.proxyMethod("attachment.getFilename"),n.proxyMethod("attachment.getFilesize"),n.proxyMethod("attachment.getFormattedFilesize"),n.proxyMethod("attachment.getExtension"),n.proxyMethod("attachment.getContentType"),n.proxyMethod("attachment.getFile"),n.proxyMethod("attachment.setFile"),n.proxyMethod("attachment.releaseFile"),n.proxyMethod("attachment.getUploadProgress"),n.proxyMethod("attachment.setUploadProgress"),n}(o.BasicObject)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;o.AttachmentManager=function(t){function n(e){var t,n,i;for(null==e&&(e=[]),this.managedAttachments={},n=0,i=e.length;i>n;n++)t=e[n],this.manageAttachment(t)}return e(n,t),n.prototype.getAttachments=function(){var e,t,n,i;for(t in i=[],n=this.managedAttachments)e=n[t],i.push(e);return i},n.prototype.manageAttachment=function(e){var t,n;return null!=(t=this.managedAttachments)[n=e.id]?t[n]:t[n]=new o.ManagedAttachment(this,e)},n.prototype.attachmentIsManaged=function(e){return e.id in this.managedAttachments},n.prototype.requestRemovalOfAttachment=function(e){var t;return this.attachmentIsManaged(e)&&null!=(t=this.delegate)&&"function"==typeof t.attachmentManagerDidRequestRemovalOfAttachment?t.attachmentManagerDidRequestRemovalOfAttachment(e):void 0},n.prototype.unmanageAttachment=function(e){var t;return t=this.managedAttachments[e.id],delete this.managedAttachments[e.id],t},n}(o.BasicObject)}.call(this),function(){var e,t,n,i,r,s,a,l,c,u,d;e=o.elementContainsNode,t=o.findChildIndexOfNode,r=o.nodeIsBlockStart,s=o.nodeIsBlockStartComment,i=o.nodeIsBlockContainer,a=o.nodeIsCursorTarget,l=o.nodeIsEmptyTextNode,c=o.nodeIsTextNode,n=o.nodeIsAttachmentElement,u=o.tagName,d=o.walkTree,o.LocationMapper=function(){function o(e){this.element=e}var h,p,f,m;return o.prototype.findLocationFromContainerAndOffset=function(n,i,o){var s,l,u,h,m,g,v;for(g=(null!=o?o:{strict:!0}).strict,l=0,u=!1,h={index:0,offset:0},(s=this.findAttachmentElementParentForNode(n))&&(n=s.parentNode,i=t(s)),v=d(this.element,{usingFilter:f});v.nextNode();){if((m=v.currentNode)===n&&c(n)){a(m)||(h.offset+=i);break}if(m.parentNode===n){if(l++===i)break}else if(!e(n,m)&&l>0)break;r(m,{strict:g})?(u&&h.index++,h.offset=0,u=!0):h.offset+=p(m)}return h},o.prototype.findContainerAndOffsetFromLocation=function(e){var n,o,s,l,u;if(0===e.index&&0===e.offset){for(n=this.element,l=0;n.firstChild;)if(n=n.firstChild,i(n)){l=1;break}return[n,l]}if(o=(u=this.findNodeAndOffsetFromLocation(e))[0],s=u[1],o){if(c(o))0===p(o)?(n=o.parentNode.parentNode,l=t(o.parentNode),a(o,{name:"right"})&&l++):(n=o,l=e.offset-s);else{if(n=o.parentNode,!r(o.previousSibling)&&!i(n))for(;o===n.lastChild&&(o=n,n=n.parentNode,!i(n)););l=t(o),0!==e.offset&&l++}return[n,l]}},o.prototype.findNodeAndOffsetFromLocation=function(e){var t,n,i,r,o,s,l,u;for(l=0,n=0,i=(u=this.getSignificantNodesForIndex(e.index)).length;i>n;n++){if(t=u[n],r=p(t),e.offset<=l+r)if(c(t)){if(o=t,s=l,e.offset===s&&a(o))break}else o||(o=t,s=l);if((l+=r)>e.offset)break}return[o,s]},o.prototype.findAttachmentElementParentForNode=function(e){for(;e&&e!==this.element;){if(n(e))return e;e=e.parentNode}},o.prototype.getSignificantNodesForIndex=function(e){var t,n,i,r,o;for(i=[],o=d(this.element,{usingFilter:h}),r=!1;o.nextNode();)if(n=o.currentNode,s(n)){if(null!=t?t++:t=0,t===e)r=!0;else if(r)break}else r&&i.push(n);return i},p=function(e){return e.nodeType===Node.TEXT_NODE?a(e)?0:e.textContent.length:"br"===u(e)||n(e)?1:0},h=function(e){return m(e)===NodeFilter.FILTER_ACCEPT?f(e):NodeFilter.FILTER_REJECT},m=function(e){return l(e)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},f=function(e){return n(e.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},o}()}.call(this),function(){var e,t,n=[].slice;e=o.getDOMRange,t=o.setDOMRange,o.PointMapper=function(){function i(){}return i.prototype.createDOMRangeFromPoint=function(n){var i,r,o,s,a,l,c,u;if(c=n.x,u=n.y,document.caretPositionFromPoint)return o=(a=document.caretPositionFromPoint(c,u)).offsetNode,r=a.offset,(i=document.createRange()).setStart(o,r),i;if(document.caretRangeFromPoint)return document.caretRangeFromPoint(c,u);if(document.body.createTextRange){s=e();try{(l=document.body.createTextRange()).moveToPoint(c,u),l.select()}catch(e){}return i=e(),t(s),i}},i.prototype.getClientRectsForDOMRange=function(e){var t;return[(t=n.call(e.getClientRects()))[0],t[t.length-1]]},i}()}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty,r=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};e=o.getDOMRange,o.SelectionChangeObserver=function(i){function o(){this.run=t(this.run,this),this.update=t(this.update,this),this.selectionManagers=[]}var s;return n(o,i),o.prototype.start=function(){return this.started?void 0:(this.started=!0,"onselectionchange"in document?document.addEventListener("selectionchange",this.update,!0):this.run())},o.prototype.stop=function(){return this.started?(this.started=!1,document.removeEventListener("selectionchange",this.update,!0)):void 0},o.prototype.registerSelectionManager=function(e){return r.call(this.selectionManagers,e)<0?(this.selectionManagers.push(e),this.start()):void 0},o.prototype.unregisterSelectionManager=function(e){var t;return this.selectionManagers=function(){var n,i,r,o;for(o=[],n=0,i=(r=this.selectionManagers).length;i>n;n++)(t=r[n])!==e&&o.push(t);return o}.call(this),0===this.selectionManagers.length?this.stop():void 0},o.prototype.notifySelectionManagersOfSelectionChange=function(){var e,t,n,i,r;for(i=[],e=0,t=(n=this.selectionManagers).length;t>e;e++)r=n[e],i.push(r.selectionDidChange());return i},o.prototype.update=function(){var t;return t=e(),s(t,this.domRange)?void 0:(this.domRange=t,this.notifySelectionManagersOfSelectionChange())},o.prototype.reset=function(){return this.domRange=null,this.update()},o.prototype.run=function(){return this.started?(this.update(),requestAnimationFrame(this.run)):void 0},s=function(e,t){return(null!=e?e.startContainer:void 0)===(null!=t?t.startContainer:void 0)&&(null!=e?e.startOffset:void 0)===(null!=t?t.startOffset:void 0)&&(null!=e?e.endContainer:void 0)===(null!=t?t.endContainer:void 0)&&(null!=e?e.endOffset:void 0)===(null!=t?t.endOffset:void 0)},o}(o.BasicObject),null==o.selectionChangeObserver&&(o.selectionChangeObserver=new o.SelectionChangeObserver)}.call(this),function(){var e,t,n,i,r,s,a,l,c,u,d=function(e,t){return function(){return e.apply(t,arguments)}},h=function(e,t){function n(){this.constructor=e}for(var i in t)p.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},p={}.hasOwnProperty;n=o.getDOMSelection,t=o.getDOMRange,u=o.setDOMRange,e=o.elementContainsNode,s=o.nodeIsCursorTarget,r=o.innerElementIsActive,i=o.handleEvent,a=o.normalizeRange,l=o.rangeIsCollapsed,c=o.rangesAreEqual,o.SelectionManager=function(p){function f(e){this.element=e,this.selectionDidChange=d(this.selectionDidChange,this),this.didMouseDown=d(this.didMouseDown,this),this.locationMapper=new o.LocationMapper(this.element),this.pointMapper=new o.PointMapper,this.lockCount=0,i("mousedown",{onElement:this.element,withCallback:this.didMouseDown})}return h(f,p),f.prototype.getLocationRange=function(e){var n;return null==e&&(e={}),!1===e.strict?this.createLocationRangeFromDOMRange(t(),{strict:!1}):e.ignoreLock?this.currentLocationRange:null!=(n=this.lockedLocationRange)?n:this.currentLocationRange},f.prototype.setLocationRange=function(e){var t;if(!this.lockedLocationRange)return e=a(e),(t=this.createDOMRangeFromLocationRange(e))?(u(t),this.updateCurrentLocationRange(e)):void 0},f.prototype.setLocationRangeFromPointRange=function(e){var t,n;return e=a(e),n=this.getLocationAtPoint(e[0]),t=this.getLocationAtPoint(e[1]),this.setLocationRange([n,t])},f.prototype.getClientRectAtLocationRange=function(e){var t;return(t=this.createDOMRangeFromLocationRange(e))?this.getClientRectsForDOMRange(t)[1]:void 0},f.prototype.locationIsCursorTarget=function(e){var t,n;return t=(n=this.findNodeAndOffsetFromLocation(e))[0],n[1],s(t)},f.prototype.lock=function(){return 0==this.lockCount++?(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange()):void 0},f.prototype.unlock=function(){var e;return 0==--this.lockCount&&(e=this.lockedLocationRange,this.lockedLocationRange=null,null!=e)?this.setLocationRange(e):void 0},f.prototype.clearSelection=function(){var e;return null!=(e=n())?e.removeAllRanges():void 0},f.prototype.selectionIsCollapsed=function(){var e;return!0===(null!=(e=t())?e.collapsed:void 0)},f.prototype.selectionIsExpanded=function(){return!this.selectionIsCollapsed()},f.prototype.createLocationRangeFromDOMRange=function(e,t){var n,i;if(null!=e&&this.domRangeWithinElement(e)&&(i=this.findLocationFromContainerAndOffset(e.startContainer,e.startOffset,t)))return e.collapsed||(n=this.findLocationFromContainerAndOffset(e.endContainer,e.endOffset,t)),a([i,n])},f.proxyMethod("locationMapper.findLocationFromContainerAndOffset"),f.proxyMethod("locationMapper.findContainerAndOffsetFromLocation"),f.proxyMethod("locationMapper.findNodeAndOffsetFromLocation"),f.proxyMethod("pointMapper.createDOMRangeFromPoint"),f.proxyMethod("pointMapper.getClientRectsForDOMRange"),f.prototype.didMouseDown=function(){return this.pauseTemporarily()},f.prototype.pauseTemporarily=function(){var t,n,r,o;return this.paused=!0,n=function(t){return function(){var n,i;for(t.paused=!1,clearTimeout(o),n=0,i=r.length;i>n;n++)r[n].destroy();return e(document,t.element)?t.selectionDidChange():void 0}}(this),o=setTimeout(n,200),r=function(){var e,r,o,s;for(s=[],e=0,r=(o=["mousemove","keydown"]).length;r>e;e++)t=o[e],s.push(i(t,{onElement:document,withCallback:n}));return s}()},f.prototype.selectionDidChange=function(){return this.paused||r(this.element)?void 0:this.updateCurrentLocationRange()},f.prototype.updateCurrentLocationRange=function(e){var n;return(null!=e?e:e=this.createLocationRangeFromDOMRange(t()))&&!c(e,this.currentLocationRange)?(this.currentLocationRange=e,null!=(n=this.delegate)&&"function"==typeof n.locationRangeDidChange?n.locationRangeDidChange(this.currentLocationRange.slice(0)):void 0):void 0},f.prototype.createDOMRangeFromLocationRange=function(e){var t,n,i,r;return i=this.findContainerAndOffsetFromLocation(e[0]),n=l(e)?i:null!=(r=this.findContainerAndOffsetFromLocation(e[1]))?r:i,null!=i&&null!=n?((t=document.createRange()).setStart.apply(t,i),t.setEnd.apply(t,n),t):void 0},f.prototype.getLocationAtPoint=function(e){var t,n;return(t=this.createDOMRangeFromPoint(e))&&null!=(n=this.createLocationRangeFromDOMRange(t))?n[0]:void 0},f.prototype.domRangeWithinElement=function(t){return t.collapsed?e(this.element,t.startContainer):e(this.element,t.startContainer)&&e(this.element,t.endContainer)},f}(o.BasicObject)}.call(this),function(){var e,t,n,i,r=function(e,t){function n(){this.constructor=e}for(var i in t)s.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty,a=[].slice;n=o.rangeIsCollapsed,i=o.rangesAreEqual,t=o.objectsAreEqual,e=o.getBlockConfig,o.EditorController=function(s){function l(e){var t,n;this.editorElement=e.editorElement,t=e.document,n=e.html,this.selectionManager=new o.SelectionManager(this.editorElement),this.selectionManager.delegate=this,this.composition=new o.Composition,this.composition.delegate=this,this.attachmentManager=new o.AttachmentManager(this.composition.getAttachments()),this.attachmentManager.delegate=this,this.inputController=new(o["Level"+o.config.input.getLevel()+"InputController"])(this.editorElement),this.inputController.delegate=this,this.inputController.responder=this.composition,this.compositionController=new o.CompositionController(this.editorElement,this.composition),this.compositionController.delegate=this,this.toolbarController=new o.ToolbarController(this.editorElement.toolbarElement),this.toolbarController.delegate=this,this.editor=new o.Editor(this.composition,this.selectionManager,this.editorElement),null!=t?this.editor.loadDocument(t):this.editor.loadHTML(n)}var c;return r(l,s),l.prototype.registerSelectionManager=function(){return o.selectionChangeObserver.registerSelectionManager(this.selectionManager)},l.prototype.unregisterSelectionManager=function(){return o.selectionChangeObserver.unregisterSelectionManager(this.selectionManager)},l.prototype.render=function(){return this.compositionController.render()},l.prototype.reparse=function(){return this.composition.replaceHTML(this.editorElement.innerHTML)},l.prototype.compositionDidChangeDocument=function(){return this.notifyEditorElement("document-change"),this.handlingInput?void 0:this.render()},l.prototype.compositionDidChangeCurrentAttributes=function(e){return this.currentAttributes=e,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.notifyEditorElement("attributes-change",{attributes:this.currentAttributes})},l.prototype.compositionDidPerformInsertionAtRange=function(e){return this.pasting?this.pastedRange=e:void 0},l.prototype.compositionShouldAcceptFile=function(e){return this.notifyEditorElement("file-accept",{file:e})},l.prototype.compositionDidAddAttachment=function(e){var t;return t=this.attachmentManager.manageAttachment(e),this.notifyEditorElement("attachment-add",{attachment:t})},l.prototype.compositionDidEditAttachment=function(e){var t;return this.compositionController.rerenderViewForObject(e),t=this.attachmentManager.manageAttachment(e),this.notifyEditorElement("attachment-edit",{attachment:t}),this.notifyEditorElement("change")},l.prototype.compositionDidChangeAttachmentPreviewURL=function(e){return this.compositionController.invalidateViewForObject(e),this.notifyEditorElement("change")},l.prototype.compositionDidRemoveAttachment=function(e){var t;return t=this.attachmentManager.unmanageAttachment(e),this.notifyEditorElement("attachment-remove",{attachment:t})},l.prototype.compositionDidStartEditingAttachment=function(e,t){return this.attachmentLocationRange=this.composition.document.getLocationRangeOfAttachment(e),this.compositionController.installAttachmentEditorForAttachment(e,t),this.selectionManager.setLocationRange(this.attachmentLocationRange)},l.prototype.compositionDidStopEditingAttachment=function(){return this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null},l.prototype.compositionDidRequestChangingSelectionToLocationRange=function(e){return!this.loadingSnapshot||this.isFocused()?(this.requestedLocationRange=e,this.compositionRevisionWhenLocationRangeRequested=this.composition.revision,this.handlingInput?void 0:this.render()):void 0},l.prototype.compositionWillLoadSnapshot=function(){return this.loadingSnapshot=!0},l.prototype.compositionDidLoadSnapshot=function(){return this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1},l.prototype.getSelectionManager=function(){return this.selectionManager},l.proxyMethod("getSelectionManager().setLocationRange"),l.proxyMethod("getSelectionManager().getLocationRange"),l.prototype.attachmentManagerDidRequestRemovalOfAttachment=function(e){return this.removeAttachment(e)},l.prototype.compositionControllerWillSyncDocumentView=function(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()},l.prototype.compositionControllerDidSyncDocumentView=function(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.notifyEditorElement("sync")},l.prototype.compositionControllerDidRender=function(){return null!=this.requestedLocationRange&&(this.compositionRevisionWhenLocationRangeRequested===this.composition.revision&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.requestedLocationRange=null,this.compositionRevisionWhenLocationRangeRequested=null),this.renderedCompositionRevision!==this.composition.revision&&(this.runEditorFilters(),this.composition.updateCurrentAttributes(),this.notifyEditorElement("render")),this.renderedCompositionRevision=this.composition.revision},l.prototype.compositionControllerDidFocus=function(){return this.isFocusedInvisibly()&&this.setLocationRange({index:0,offset:0}),this.toolbarController.hideDialog(),this.notifyEditorElement("focus")},l.prototype.compositionControllerDidBlur=function(){return this.notifyEditorElement("blur")},l.prototype.compositionControllerDidSelectAttachment=function(e,t){return this.toolbarController.hideDialog(),this.composition.editAttachment(e,t)},l.prototype.compositionControllerDidRequestDeselectingAttachment=function(e){var t,n;return t=null!=(n=this.attachmentLocationRange)?n:this.composition.document.getLocationRangeOfAttachment(e),this.selectionManager.setLocationRange(t[1])},l.prototype.compositionControllerWillUpdateAttachment=function(e){return this.editor.recordUndoEntry("Edit Attachment",{context:e.id,consolidatable:!0})},l.prototype.compositionControllerDidRequestRemovalOfAttachment=function(e){return this.removeAttachment(e)},l.prototype.inputControllerWillHandleInput=function(){return this.handlingInput=!0,this.requestedRender=!1},l.prototype.inputControllerDidRequestRender=function(){return this.requestedRender=!0},l.prototype.inputControllerDidHandleInput=function(){return this.handlingInput=!1,this.requestedRender?(this.requestedRender=!1,this.render()):void 0},l.prototype.inputControllerDidAllowUnhandledInput=function(){return this.notifyEditorElement("change")},l.prototype.inputControllerDidRequestReparse=function(){return this.reparse()},l.prototype.inputControllerWillPerformTyping=function(){return this.recordTypingUndoEntry()},l.prototype.inputControllerWillPerformFormatting=function(e){return this.recordFormattingUndoEntry(e)},l.prototype.inputControllerWillCutText=function(){return this.editor.recordUndoEntry("Cut")},l.prototype.inputControllerWillPaste=function(e){return this.editor.recordUndoEntry("Paste"),this.pasting=!0,this.notifyEditorElement("before-paste",{paste:e})},l.prototype.inputControllerDidPaste=function(e){return e.range=this.pastedRange,this.pastedRange=null,this.pasting=null,this.notifyEditorElement("paste",{paste:e})},l.prototype.inputControllerWillMoveText=function(){return this.editor.recordUndoEntry("Move")},l.prototype.inputControllerWillAttachFiles=function(){return this.editor.recordUndoEntry("Drop Files")},l.prototype.inputControllerWillPerformUndo=function(){return this.editor.undo()},l.prototype.inputControllerWillPerformRedo=function(){return this.editor.redo()},l.prototype.inputControllerDidReceiveKeyboardCommand=function(e){return this.toolbarController.applyKeyboardCommand(e)},l.prototype.inputControllerDidStartDrag=function(){return this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()},l.prototype.inputControllerDidReceiveDragOverPoint=function(e){return this.selectionManager.setLocationRangeFromPointRange(e)},l.prototype.inputControllerDidCancelDrag=function(){return this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null},l.prototype.locationRangeDidChange=function(e){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!i(this.attachmentLocationRange,e)&&this.composition.stopEditingAttachment(),this.notifyEditorElement("selection-change")},l.prototype.toolbarDidClickButton=function(){return this.getLocationRange()?void 0:this.setLocationRange({index:0,offset:0})},l.prototype.toolbarDidInvokeAction=function(e){return this.invokeAction(e)},l.prototype.toolbarDidToggleAttribute=function(e){return this.recordFormattingUndoEntry(e),this.composition.toggleCurrentAttribute(e),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},l.prototype.toolbarDidUpdateAttribute=function(e,t){return this.recordFormattingUndoEntry(e),this.composition.setCurrentAttribute(e,t),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},l.prototype.toolbarDidRemoveAttribute=function(e){return this.recordFormattingUndoEntry(e),this.composition.removeCurrentAttribute(e),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},l.prototype.toolbarWillShowDialog=function(){return this.composition.expandSelectionForEditing(),this.freezeSelection()},l.prototype.toolbarDidShowDialog=function(e){return this.notifyEditorElement("toolbar-dialog-show",{dialogName:e})},l.prototype.toolbarDidHideDialog=function(e){return this.thawSelection(),this.editorElement.focus(),this.notifyEditorElement("toolbar-dialog-hide",{dialogName:e})},l.prototype.freezeSelection=function(){return this.selectionFrozen?void 0:(this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render())},l.prototype.thawSelection=function(){return this.selectionFrozen?(this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()):void 0},l.prototype.actions={undo:{test:function(){return this.editor.canUndo()},perform:function(){return this.editor.undo()}},redo:{test:function(){return this.editor.canRedo()},perform:function(){return this.editor.redo()}},link:{test:function(){return this.editor.canActivateAttribute("href")}},increaseNestingLevel:{test:function(){return this.editor.canIncreaseNestingLevel()},perform:function(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test:function(){return this.editor.canDecreaseNestingLevel()},perform:function(){return this.editor.decreaseNestingLevel()&&this.render()}},attachFiles:{test:function(){return!0},perform:function(){return o.config.input.pickFiles(this.editor.insertFiles)}}},l.prototype.canInvokeAction=function(e){var t,n;return!!this.actionIsExternal(e)||!!(null!=(t=this.actions[e])&&null!=(n=t.test)?n.call(this):void 0)},l.prototype.invokeAction=function(e){var t,n;return this.actionIsExternal(e)?this.notifyEditorElement("action-invoke",{actionName:e}):null!=(t=this.actions[e])&&null!=(n=t.perform)?n.call(this):void 0},l.prototype.actionIsExternal=function(e){return/^x-./.test(e)},l.prototype.getCurrentActions=function(){var e,t;for(e in t={},this.actions)t[e]=this.canInvokeAction(e);return t},l.prototype.updateCurrentActions=function(){var e;return e=this.getCurrentActions(),t(e,this.currentActions)?void 0:(this.currentActions=e,this.toolbarController.updateActions(this.currentActions),this.notifyEditorElement("actions-change",{actions:this.currentActions}))},l.prototype.runEditorFilters=function(){var e,t,n,i,r,o,s,a;for(a=this.composition.getSnapshot(),n=0,i=(r=this.editor.filters).length;i>n;n++)t=r[n],e=a.document,s=a.selectedRange,null==(a=null!=(o=t.call(this.editor,a))?o:{}).document&&(a.document=e),null==a.selectedRange&&(a.selectedRange=s);return c(a,this.composition.getSnapshot())?void 0:this.composition.loadSnapshot(a)},c=function(e,t){return i(e.selectedRange,t.selectedRange)&&e.document.isEqualTo(t.document)},l.prototype.updateInputElement=function(){var e,t;return e=this.compositionController.getSerializableElement(),t=o.serializeToContentType(e,"text/html"),this.editorElement.setInputElementValue(t)},l.prototype.notifyEditorElement=function(e,t){switch(e){case"document-change":this.documentChangedSinceLastRender=!0;break;case"render":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notifyEditorElement("change"));break;case"change":case"attachment-add":case"attachment-edit":case"attachment-remove":this.updateInputElement()}return this.editorElement.notify(e,t)},l.prototype.removeAttachment=function(e){return this.editor.recordUndoEntry("Delete Attachment"),this.composition.removeAttachment(e),this.render()},l.prototype.recordFormattingUndoEntry=function(t){var i,r;return i=e(t),r=this.selectionManager.getLocationRange(),i||!n(r)?this.editor.recordUndoEntry("Formatting",{context:this.getUndoContext(),consolidatable:!0}):void 0},l.prototype.recordTypingUndoEntry=function(){return this.editor.recordUndoEntry("Typing",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})},l.prototype.getUndoContext=function(){var e;return e=1<=arguments.length?a.call(arguments,0):[],[this.getLocationContext(),this.getTimeContext()].concat(a.call(e))},l.prototype.getLocationContext=function(){var e;return e=this.selectionManager.getLocationRange(),n(e)?e[0].index:e},l.prototype.getTimeContext=function(){return o.config.undoInterval>0?Math.floor((new Date).getTime()/o.config.undoInterval):0},l.prototype.isFocused=function(){var e;return this.editorElement===(null!=(e=this.editorElement.ownerDocument)?e.activeElement:void 0)},l.prototype.isFocusedInvisibly=function(){return this.isFocused()&&!this.getLocationRange()},l}(o.Controller)}.call(this),function(){var e,t,n,i,r,s,a,l,c,u,d,h,p,f,m,g,v=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};t=o.browser,s=o.makeElement,a=o.triggerEvent,i=o.handleEvent,r=o.handleEventOnce,n=o.findClosestElementFromNode,e=o.AttachmentView.attachmentSelector,o.registerElement("trix-editor",(f=0,c=function(e){return!document.querySelector(":focus")&&e.hasAttribute("autofocus")&&document.querySelector("[autofocus]")===e?e.focus():void 0},m=function(e){return e.hasAttribute("contenteditable")?void 0:(e.setAttribute("contenteditable",""),r("focus",{onElement:e,withCallback:function(){return u(e)}}))},u=function(e){return h(e),g(e)},h=function(e){return("function"==typeof document.queryCommandSupported?document.queryCommandSupported("enableObjectResizing"):void 0)?(document.execCommand("enableObjectResizing",!1,!1),i("mscontrolselect",{onElement:e,preventDefault:!0})):void 0},g=function(){var e;return!("function"==typeof document.queryCommandSupported?document.queryCommandSupported("DefaultParagraphSeparator"):void 0)||"div"!==(e=o.config.blockAttributes.default.tagName)&&"p"!==e?void 0:document.execCommand("DefaultParagraphSeparator",!1,e)},l=function(e){return e.hasAttribute("role")?void 0:e.setAttribute("role","textbox")},p=function(e){var t;if(!e.hasAttribute("aria-label")&&!e.hasAttribute("aria-labelledby"))return(t=function(){var t,n,i;return i=function(){var n,i,r,o;for(o=[],n=0,i=(r=e.labels).length;i>n;n++)(t=r[n]).contains(e)||o.push(t.textContent);return o}(),(n=i.join(" "))?e.setAttribute("aria-label",n):e.removeAttribute("aria-label")})(),i("focus",{onElement:e,withCallback:t})},{defaultCSS:"%t {\n  display: block;\n}\n\n%t:empty:not(:focus)::before {\n  content: attr(placeholder);\n  color: graytext;\n  cursor: text;\n  pointer-events: none;\n}\n\n%t a[contenteditable=false] {\n  cursor: text;\n}\n\n%t img {\n  max-width: 100%;\n  height: auto;\n}\n\n%t "+e+" figcaption textarea {\n  resize: none;\n}\n\n%t "+e+" figcaption textarea.trix-autoresize-clone {\n  position: absolute;\n  left: -9999px;\n  max-height: 0px;\n}\n\n%t "+e+" figcaption[data-trix-placeholder]:empty::before {\n  content: attr(data-trix-placeholder);\n  color: graytext;\n}\n\n%t [data-trix-cursor-target] {\n  display: "+(d=t.forcesObjectResizing?{display:"inline",width:"auto"}:{display:"inline-block",width:"1px"}).display+" !important;\n  width: "+d.width+" !important;\n  padding: 0 !important;\n  margin: 0 !important;\n  border: none !important;\n}\n\n%t [data-trix-cursor-target=left] {\n  vertical-align: top !important;\n  margin-left: -1px !important;\n}\n\n%t [data-trix-cursor-target=right] {\n  vertical-align: bottom !important;\n  margin-right: -1px !important;\n}",trixId:{get:function(){return this.hasAttribute("trix-id")?this.getAttribute("trix-id"):(this.setAttribute("trix-id",++f),this.trixId)}},labels:{get:function(){var e,t,i;return t=[],this.id&&this.ownerDocument&&t.push.apply(t,this.ownerDocument.querySelectorAll("label[for='"+this.id+"']")),(e=n(this,{matchingSelector:"label"}))&&((i=e.control)===this||null===i)&&t.push(e),t}},toolbarElement:{get:function(){var e,t,n;return this.hasAttribute("toolbar")?null!=(t=this.ownerDocument)?t.getElementById(this.getAttribute("toolbar")):void 0:this.parentNode?(n="trix-toolbar-"+this.trixId,this.setAttribute("toolbar",n),e=s("trix-toolbar",{id:n}),this.parentNode.insertBefore(e,this),e):void 0}},inputElement:{get:function(){var e,t,n;return this.hasAttribute("input")?null!=(n=this.ownerDocument)?n.getElementById(this.getAttribute("input")):void 0:this.parentNode?(t="trix-input-"+this.trixId,this.setAttribute("input",t),e=s("input",{type:"hidden",id:t}),this.parentNode.insertBefore(e,this.nextElementSibling),e):void 0}},editor:{get:function(){var e;return null!=(e=this.editorController)?e.editor:void 0}},name:{get:function(){var e;return null!=(e=this.inputElement)?e.name:void 0}},value:{get:function(){var e;return null!=(e=this.inputElement)?e.value:void 0},set:function(e){var t;return this.defaultValue=e,null!=(t=this.editor)?t.loadHTML(this.defaultValue):void 0}},notify:function(e,t){return this.editorController?a("trix-"+e,{onElement:this,attributes:t}):void 0},setInputElementValue:function(e){var t;return null!=(t=this.inputElement)?t.value=e:void 0},initialize:function(){return this.hasAttribute("data-trix-internal")?void 0:(m(this),l(this),p(this))},connect:function(){return this.hasAttribute("data-trix-internal")?void 0:(this.editorController||(a("trix-before-initialize",{onElement:this}),this.editorController=new o.EditorController({editorElement:this,html:this.defaultValue=this.value}),requestAnimationFrame(function(e){return function(){return a("trix-initialize",{onElement:e})}}(this))),this.editorController.registerSelectionManager(),this.registerResetListener(),this.registerClickListener(),c(this))},disconnect:function(){var e;return null!=(e=this.editorController)&&e.unregisterSelectionManager(),this.unregisterResetListener(),this.unregisterClickListener()},registerResetListener:function(){return this.resetListener=this.resetBubbled.bind(this),window.addEventListener("reset",this.resetListener,!1)},unregisterResetListener:function(){return window.removeEventListener("reset",this.resetListener,!1)},registerClickListener:function(){return this.clickListener=this.clickBubbled.bind(this),window.addEventListener("click",this.clickListener,!1)},unregisterClickListener:function(){return window.removeEventListener("click",this.clickListener,!1)},resetBubbled:function(e){var t;if(!e.defaultPrevented&&e.target===(null!=(t=this.inputElement)?t.form:void 0))return this.reset()},clickBubbled:function(e){var t;if(!(e.defaultPrevented||this.contains(e.target)||!(t=n(e.target,{matchingSelector:"label"}))||v.call(this.labels,t)<0))return this.focus()},reset:function(){return this.value=this.defaultValue}}))}.call(this),function(){}.call(this)}).call(this),e.exports?e.exports=o:void 0===(r="function"==typeof(i=o)?i.call(t,n,t,e):i)||(e.exports=r)}.call(this)},3456:(e,t,n)=>{"use strict";function i(e){return void 0===e&&(e=document.body),!0===e?document.body:e instanceof window.Node?e:document.querySelector(e)}n.d(t,{Z:()=>r});const r={mounted(e,{value:t},n){if(e.dataset&&"true"!==e.dataset.transfer)return!1;e.className=e.className?e.className+" v-transfer-dom":"v-transfer-dom";const r=e.parentNode;if(!r)return;const o=document.createComment("");let s=!1;!1!==t&&(r.replaceChild(o,e),i(t).appendChild(e),s=!0),e.__transferDomData||(e.__transferDomData={parentNode:r,home:o,target:i(t),hasMovedOut:s})},updated(e,{value:t}){if(e.dataset&&"true"!==e.dataset.transfer)return!1;const n=e.__transferDomData;if(!n)return;const r=n.parentNode,o=n.home,s=n.hasMovedOut;!s&&t?(r.replaceChild(o,e),i(t).appendChild(e),e.__transferDomData=Object.assign({},e.__transferDomData,{hasMovedOut:!0,target:i(t)})):s&&!1===t?(r.replaceChild(e,o),e.__transferDomData=Object.assign({},e.__transferDomData,{hasMovedOut:!1,target:i(t)})):t&&i(t).appendChild(e)},unmounted(e){if(e.dataset&&"true"!==e.dataset.transfer)return!1;e.className=e.className.replace("v-transfer-dom",""),e.__transferDomData&&(!0===e.__transferDomData.hasMovedOut&&e.__transferDomData.parentNode&&e.__transferDomData.parentNode.appendChild(e),e.__transferDomData=null)}}},9338:(e,t,n)=>{"use strict";n.d(t,{X:()=>u});const i=Object.create(null),r=Object.create(null),o=[i,r],s=function(e,t,n){const{target:i}=n,r=function(t){const{el:r}=t;if(r!==i&&!r.contains(i)){const{binding:i}=t;i.modifiers.stop&&n.stopPropagation(),i.modifiers.prevent&&n.preventDefault(),i.value.call(e,n)}};Object.keys(t).forEach((function(e){return t[e].forEach(r)}))},a=function(e){s(this,i,e)},l=function(e){s(this,r,e)},c=function(e){return e?a:l},u=Object.defineProperties({},{$_captureInstances:{value:i},$_nonCaptureInstances:{value:r},$_onCaptureEvent:{value:a},$_onNonCaptureEvent:{value:l},mounted:{value:function(e,t){if("function"!=typeof t.value)throw new TypeError("Binding value must be a function.");let n;const o=t.modifiers;n=o.click?"click":o.mousedown?"mousedown":o.touchstart?"touchstart":"click";const s=t.arg,a={...t,modifiers:{capture:!1,prevent:!1,stop:!1,...t.modifiers}},l=s?i:r;Array.isArray(l[n])||(l[n]=[]),1===l[n].push({el:e,binding:a})&&"object"==typeof document&&document&&document.addEventListener(n,c(s),s)}},unmount:{value:function(e){const t=function(t){return t.el!==e};o.forEach((function(e){const n=Object.keys(e);if(n.length){const r=e===i,o=function(n){const i=e[n].filter(t);i.length?e[n]=i:("object"==typeof document&&document&&document.removeEventListener(n,c(r),r),delete e[n])};n.forEach(o)}}))}},version:{enumerable:!0,value:"3.7.1"}})},8504:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const i={i:{locale:"en-US",select:{placeholder:"Select",noMatch:"No matching data",loading:"Loading"},table:{noDataText:"No Data",noFilteredDataText:"No filter data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},datepicker:{selectDate:"Select date",selectTime:"Select time",startTime:"Start Time",endTime:"End Time",clear:"Clear",ok:"OK",datePanelLabel:"[mmmm] [yyyy]",month:"Month",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",year:"Year",weekStartDay:"0",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},months:{m1:"Jan",m2:"Feb",m3:"Mar",m4:"Apr",m5:"May",m6:"Jun",m7:"Jul",m8:"Aug",m9:"Sep",m10:"Oct",m11:"Nov",m12:"Dec"}},transfer:{titles:{source:"Source",target:"Target"},filterPlaceholder:"Search here",notFoundText:"Not Found"},modal:{okText:"OK",cancelText:"Cancel"},poptip:{okText:"OK",cancelText:"Cancel"},page:{prev:"Previous Page",next:"Next Page",total:"Total",item:"item",items:"items",prev5:"Previous 5 Pages",next5:"Next 5 Pages",page:"/page",goto:"Goto",p:""},rate:{star:"Star",stars:"Stars"},time:{before:" ago",after:" after",just:"just now",seconds:" seconds",minutes:" minutes",hours:" hours",days:" days"},tree:{emptyText:"No Data"}}};var r;r=i,void 0!==window.iview&&("langs"in iview||(iview.langs={}),iview.langs[r.i.locale]=r);const o=i},7390:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(6378);function r(e,t,n){(0,i.Hj)(this,e).forEach((e=>e.mitt.emit.apply(e,[t].concat(n))))}const o={computed:{mitt(){return{all:e=e||new Map,on:function(t,n){var i=e.get(t);i&&i.push(n)||e.set(t,[n])},off:function(t,n){var i=e.get(t);i&&i.splice(i.indexOf(n)>>>0,1)},emit:function(t,n){(e.get(t)||[]).slice().map((function(e){e(n)})),(e.get("*")||[]).slice().map((function(e){e(t,n)}))}};var e}},methods:{dispatch(e,t,n){let i=this.$parent||this.$root,r=i.$options.name;for(;i&&(!r||r!==e);)i=i.$parent,i&&(r=i.$options.name);i&&i.mitt.emit.apply(i,[t].concat(n))},broadcast(e,t,n){r.call(this,e,t,n)}}}},8251:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={inject:{FormInstance:{default:""}},computed:{itemDisabled(){let e=this.disabled;return!e&&this.FormInstance&&(e=this.FormInstance.disabled),e}}}},9560:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(6378);const r={props:{to:{type:[Object,String]},replace:{type:Boolean,default:!1},target:{type:String,validator:e=>(0,i.kw)(e,["_blank","_self","_parent","_top"]),default:"_self"},append:{type:Boolean,required:!1,default:!1}},computed:{linkUrl(){if(this.to,"string"==typeof this.to&&this.to.includes("//"))return this.to;const e=this.$router;if(e){const t=this.$route,n=e.resolve(this.to,t,this.append);return n.name?n.href:this.to}return this.to}},methods:{handleClick(e=!1){const t=this.$router;if(e){let e=this.to;if(t){const n=this.$route,i=t.resolve(this.to,n,this.append);e=i.name?i.href:this.to}window.open(e)}else t&&("string"!=typeof this.to||t.resolve(this.to,this.$route,this.append).name)?this.replace?this.$router.replace(this.to,(()=>{})):this.$router.push(this.to,(()=>{})):window.location.href=this.to},handleCheckClick(e,t=!1){if(this.to){if("_blank"===this.target)return!1;e.preventDefault(),this.handleClick(t)}}}}},3996:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(8504);const r=/(%|)\{([0-9a-zA-Z_]+)\}/g,o=function(e,...t){return 1===t.length&&"object"==typeof t[0]&&(t=t[0]),t&&t.hasOwnProperty||(t={}),e.replace(r,((n,i,r,o)=>{let s;return"{"===e[o-1]&&"}"===e[o+n.length]?r:(a=t,l=r,s=Object.prototype.hasOwnProperty.call(a,l)?t[r]:null,null==s?"":s);var a,l}))};let s=i.Z,a=function(){const e=Object.getPrototypeOf(this||Vue).$t;if("function"==typeof e&&Vue.locale)return e.apply(this,arguments)};const l=function(e,t){let n=a.apply(this,arguments);if(null!=n)return n;const i=e.split(".");let r=s;for(let e=0,s=i.length;e<s;e++){if(n=r[i[e]],e===s-1)return o(n,t);if(!n)return"";r=n}return""},c={methods:{t(...e){return l.apply(this,e)}}}},2075:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(6378);const r={props:{lockScroll:{type:Boolean,default:!0}},methods:{checkScrollBar(){let e=window.innerWidth;if(!e){const t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.bodyIsOverflowing&&(this.scrollBarWidth=(0,i.XM)())},checkMaskInVisible(){const e=document.getElementsByClassName("ivu-modal-mask")||[];return Array.from(e).every((e=>"none"===e.style.display||e.classList.contains("fade-leave-to")))},setScrollBar(){this.bodyIsOverflowing&&void 0!==this.scrollBarWidth&&(document.body.style.paddingRight=`${this.scrollBarWidth}px`)},resetScrollBar(){document.body.style.paddingRight=""},addScrollEffect(){this.lockScroll&&(this.checkScrollBar(),this.setScrollBar(),document.body.style.overflow="hidden")},removeScrollEffect(){this.lockScroll&&this.checkMaskInVisible()&&(document.body.style.overflow="",this.resetScrollBar())}}}},9585:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(9963),r=n(6252),o=n(7074);const s=function(e,t,n,s,a){let l;const c=n.slots||{};delete n.slots;const u=(0,i.ri)({methods:{remove(){setTimeout((()=>{this.destroy()}),300)},destroy(){document.body.removeChild(this.$el),a()}},render(){return l=(0,r.h)(t,{...n,onVisibleChange:e=>{e||this.remove()}},{...c,default:()=>s(r.h)}),l}});return(0,o.Z)(u,e),{component:l.component.proxy,show(){l.component.proxy.visible=!0},remove(){l.component.proxy.visible=!1}}}},6112:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var i=n(9585),r=n(6252),o=n(9963),s=n(3577);const a=["data-transfer"],l=(0,r._)("div",{class:"ivu-drawer-drag-move-trigger"},[(0,r._)("div",{class:"ivu-drawer-drag-move-trigger-point"},[(0,r._)("i"),(0,r._)("i"),(0,r._)("i"),(0,r._)("i"),(0,r._)("i")])],-1);var c=n(4379),u=n(6378),d=n(3456),h=n(7390),p=n(2075),f=n(1980);const m={name:"Drawer",components:{Icon:c.Z},directives:{TransferDom:d.Z},mixins:[h.Z,p.Z],props:{modelValue:{type:Boolean,default:!1},title:{type:String},width:{type:[Number,String],default:256},closable:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0},mask:{type:Boolean,default:!0},maskStyle:{type:Object},styles:{type:Object},scrollable:{type:Boolean,default:!1},placement:{validator:e=>(0,u.kw)(e,["left","right"]),default:"right"},zIndex:{type:Number,default:1e3},transfer:{type:Boolean,default:()=>!0},className:{type:String},inner:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},beforeClose:Function},emits:["visible-change","close","update:modelValue"],data(){return{prefixCls:"ivu-drawer",visible:this.modelValue,wrapShow:!1,showHead:!0,canMove:!1,dragWidth:this.width,wrapperWidth:this.width,wrapperLeft:0,minWidth:256,dataTitle:""}},computed:{wrapClasses(){return["ivu-drawer-wrap",{"ivu-drawer-hidden":!this.wrapShow,[`${this.className}`]:!!this.className,"ivu-drawer-no-mask":!this.mask,"ivu-drawer-wrap-inner":this.inner,"ivu-drawer-wrap-dragging":this.canMove}]},mainStyles(){const e={},t=parseInt(this.dragWidth),n={width:t<=100?`${t}%`:`${t}px`};return Object.assign(e,n),e},contentClasses(){return["ivu-drawer-content",{"ivu-drawer-content-no-mask":!this.mask}]},classes(){return["ivu-drawer",`ivu-drawer-${this.placement}`,{"ivu-drawer-no-header":!this.showHead,"ivu-drawer-inner":this.inner}]},maskClasses(){return["ivu-drawer-mask",{"ivu-drawer-mask-inner":this.inner}]}},watch:{modelValue(e){this.visible=e},visible(e){!1===e?this.timer=setTimeout((()=>{this.wrapShow=!1;const e=(0,u.L9)(this,"Drawer")||[],t=(0,u.VC)(this,"Drawer")||[];[].concat(e).concat(t).some((e=>e.visible&&!e.scrollable))||this.removeScrollEffect()}),300):(this.timer&&clearTimeout(this.timer),this.wrapShow=!0,this.scrollable||this.addScrollEffect()),this.broadcast("Table","on-visible-change",e),this.broadcast("Slider","on-visible-change",e),this.$emit("visible-change",e)},scrollable(e){e?this.removeScrollEffect():this.addScrollEffect()},title(e){void 0===this.$slots.header&&(this.showHead=!!e)},width(e){this.dragWidth=e}},mounted(){this.visible&&(this.wrapShow=!0);let e=!0;void 0!==this.$slots.header||this.title||(e=!1),this.showHead=e,(0,f.on)(document,"mousemove",this.handleMousemove),(0,f.on)(document,"mouseup",this.handleMouseup),this.handleSetWrapperWidth(),document.addEventListener("keydown",this.EscClose)},beforeUnmount(){(0,f.S)(document,"mousemove",this.handleMousemove),(0,f.S)(document,"mouseup",this.handleMouseup),document.removeEventListener("keydown",this.EscClose),this.removeScrollEffect()},methods:{setTitle(e){this.dataTitle=e,this.showHead=!!e},EscClose(e){this.visible&&27===e.keyCode&&this.close()},close(){if(!this.beforeClose)return this.handleClose();const e=this.beforeClose();e&&e.then?e.then((()=>{this.handleClose()})):this.handleClose()},handleClose(){this.visible=!1,this.$emit("update:modelValue",!1),this.$emit("close")},handleMask(){this.maskClosable&&this.mask&&!window.getSelection().toString()&&this.close()},handleWrapClick(e){const t=e.target.getAttribute("class");t&&t.indexOf("ivu-drawer-wrap")>-1&&this.handleMask()},handleMousemove(e){if(!this.canMove||!this.draggable)return;this.handleSetWrapperWidth();const t=e.pageX-this.wrapperLeft;let n="right"===this.placement?this.wrapperWidth-t:t;n=Math.max(n,parseFloat(this.minWidth)),e.atMin=n===parseFloat(this.minWidth),n<=100&&(n=n/this.wrapperWidth*100),this.dragWidth=n,this.$emit("on-resize-width",parseInt(this.dragWidth))},handleSetWrapperWidth(){const{width:e,left:t}=this.$el.getBoundingClientRect();this.wrapperWidth=e,this.wrapperLeft=t},handleMouseup(){this.draggable&&(this.canMove=!1)},handleTriggerMousedown(){this.canMove=!0,window.getSelection().removeAllRanges()}},render:function(e,t,n,i,c,u){const d=(0,r.up)("Icon"),h=(0,r.Q2)("transfer-dom");return(0,r.wy)(((0,r.wg)(),(0,r.iD)("div",{"data-transfer":n.transfer},[(0,r.Wm)(o.uT,{name:"fade"},{default:(0,r.w5)((()=>[n.mask?(0,r.wy)(((0,r.wg)(),(0,r.iD)("div",{key:0,class:(0,s.C_)(u.maskClasses),style:(0,s.j5)(n.maskStyle),onClick:t[0]||(t[0]=(...e)=>u.handleMask&&u.handleMask(...e))},null,6)),[[o.F8,c.visible]]):(0,r.kq)("v-if",!0)])),_:1}),(0,r._)("div",{class:(0,s.C_)(u.wrapClasses),onClick:t[3]||(t[3]=(...e)=>u.handleWrapClick&&u.handleWrapClick(...e))},[(0,r.Wm)(o.uT,{name:"move-"+n.placement},{default:(0,r.w5)((()=>[(0,r.wy)((0,r._)("div",{class:(0,s.C_)(u.classes),style:(0,s.j5)(u.mainStyles)},[(0,r._)("div",{ref:"content",class:(0,s.C_)(u.contentClasses)},[n.closable?((0,r.wg)(),(0,r.iD)("a",{key:0,class:"ivu-drawer-close",onClick:t[1]||(t[1]=(...e)=>u.close&&u.close(...e))},[(0,r.WI)(e.$slots,"close",{},(()=>[(0,r.Wm)(d,{type:"ios-close"})]))])):(0,r.kq)("v-if",!0),c.showHead?((0,r.wg)(),(0,r.iD)("div",{key:1,class:(0,s.C_)([c.prefixCls+"-header"])},[(0,r.WI)(e.$slots,"header",{},(()=>[(0,r._)("div",{class:(0,s.C_)([c.prefixCls+"-header-inner"])},(0,s.zw)(c.dataTitle||n.title),3)]))],2)):(0,r.kq)("v-if",!0),(0,r._)("div",{class:(0,s.C_)([c.prefixCls+"-body"]),style:(0,s.j5)(n.styles)},[(0,r.WI)(e.$slots,"default")],6)],2),n.draggable?((0,r.wg)(),(0,r.iD)("div",{key:0,class:(0,s.C_)(["ivu-drawer-drag",{"ivu-drawer-drag-left":"left"===n.placement}]),onMousedown:t[2]||(t[2]=(...e)=>u.handleTriggerMousedown&&u.handleTriggerMousedown(...e))},[(0,r.WI)(e.$slots,"trigger",{},(()=>[l]))],34)):(0,r.kq)("v-if",!0)],6),[[o.F8,c.visible]])])),_:3},8,["name"])],2)],8,a)),[[h]])}},g={width:720,closable:!1},v={open(e,t,n){const i={...g,...n};this.getDrawerInstance(e,t,i).show(i)},get component(){return this.drawerInstance&&this.drawerInstance.component},remove(){this.drawerInstance&&(this.getDrawerInstance().remove(),this.drawerInstance=null)},getDrawerInstance(e,t,n){return this.drawerInstance=this.drawerInstance||(0,i.Z)(this.app,m,n,(n=>n(e,{...t})),(()=>{n.onClose&&n.onClose(),this.drawerInstance=null})),this.drawerInstance},install(e,t){this.app=e,e.config.globalProperties.$Drawer=this,e.config.globalProperties.$router&&e.config.globalProperties.$router.afterEach((()=>{this.remove()}))}}},6378:(e,t,n)=>{"use strict";function i(e,t){for(let n=0;n<t.length;n++)if(e===t[n])return!0;return!1}let r;function o(e){if(e||void 0===r){const e=document.createElement("div");e.style.width="100%",e.style.height="200px";const t=document.createElement("div"),n=t.style;n.position="absolute",n.top=0,n.left=0,n.pointerEvents="none",n.visibility="hidden",n.width="200px",n.height="150px",n.overflow="hidden",t.appendChild(e),document.body.appendChild(t);const i=e.offsetWidth;t.style.overflow="scroll";let o=e.offsetWidth;i===o&&(o=t.clientWidth),document.body.removeChild(t),r=i-o}return r}n.d(t,{kw:()=>i,XM:()=>o,C2:()=>l,RI:()=>c,p$:()=>u,SM:()=>d,ah:()=>h,Hj:()=>p,VC:()=>f,L9:()=>m,cn:()=>v,IV:()=>y,pp:()=>b,Ae:()=>w}),window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;const s=/([:_-]+(.))/g,a=/^moz([A-Z])/;function l(e,t){if(!e||!t)return null;"float"===(t=t.replace(s,(function(e,t,n,i){return i?n.toUpperCase():n})).replace(a,"Moz$1"))&&(t="cssFloat");try{const n=document.defaultView.getComputedStyle(e,"");return e.style[t]||n?n[t]:null}catch(n){return e.style[t]}}function c(e){return e.toString()[0].toUpperCase()+e.toString().slice(1)}function u(e){const t=(n=e,{"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Undefined]":"undefined","[object Null]":"null","[object Object]":"object"}[Object.prototype.toString.call(n)]);var n;let i;if("array"===t)i=[];else{if("object"!==t)return e;i={}}if("array"===t)for(let t=0;t<e.length;t++)i.push(u(e[t]));else if("object"===t)for(const t in e)i[t]=u(e[t]);return i}function d(e,t=0,n,i=500,r){window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)});const o=Math.abs(t-n);!function t(n,i,o){if(n===i)return void(r&&r());let s=n+o>i?i:n+o;n>i&&(s=n-o<i?i:n-o),e===window?window.scrollTo(s,s):e.scrollTop=s,window.requestAnimationFrame((()=>t(s,i,o)))}(t,n,Math.ceil(o/i*50))}function h(e,t,n){n="string"==typeof t?[t]:t;let i=e.$parent,r=i.$options.name;for(;i&&(!r||n.indexOf(r)<0);)i=i.$parent,i&&(r=i.$options.name);return i}function p(e,t){const n=e.$.subTree.children;if(Array.isArray(n))return n.reduce(((e,n)=>{const i=n.component&&n.component.proxy;return i?i.$options.name===t?e.concat(i):e.concat(p(i,t)):e.concat(p({$:{subTree:n}},t))}),[]);if(n&&"object"==typeof n){const n=e.$.subTree.component;return n&&n.proxy&&n.proxy.$options.name===t?p({$:{subTree:{children:[e.$.subTree]}}},t):n?p({$:n},t):[]}return[]}function f(e,t){const n=[],i=e.$parent;return i?(i.$options.name===t&&n.push(i),n.concat(f(i,t))):[]}function m(e,t,n=!0){const i=e.$parent.$.subTree.children;if(!i||!Array.isArray(i))return[];const r=e.$parent.$.subTree.children.filter((e=>{const n=e.component&&e.component.proxy;if(n)return n.$options.name===t}));if(n){const t=r.findIndex((t=>t._uid===e._uid));r.splice(t,1)}return[]}function g(e,t){if(!e||!t)return!1;if(-1!==t.indexOf(" "))throw new Error("className should not contain space.");return e.classList?e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}function v(e,t){if(!e)return;let n=e.className;const i=(t||"").split(" ");for(let t=0,r=i.length;t<r;t++){const r=i[t];r&&(e.classList?e.classList.add(r):g(e,r)||(n+=" "+r))}e.classList||(e.className=n)}function y(e,t){if(!e||!t)return;const n=t.split(" ");let i=" "+e.className+" ";for(let t=0,r=n.length;t<r;t++){const r=n[t];r&&(e.classList?e.classList.remove(r):g(e,r)&&(i=i.replace(" "+r+" "," ")))}e.classList||(e.className=(i||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,""))}const b={xs:"480px",sm:"576px",md:"768px",lg:"992px",xl:"1200px",xxl:"1600px"};function w(){if("undefined"!=typeof window){const e=e=>({media:e,matches:!1,on(){},off(){}});window.matchMedia=window.matchMedia||e}}},1980:(e,t,n)=>{"use strict";n.d(t,{on:()=>i,S:()=>r});const i=document.addEventListener?function(e,t,n,i=!1){e&&t&&n&&e.addEventListener(t,n,i)}:function(e,t,n){e&&t&&n&&e.attachEvent("on"+t,n)},r=document.removeEventListener?function(e,t,n,i=!1){e&&t&&e.removeEventListener(t,n,i)}:function(e,t,n){e&&t&&e.detachEvent("on"+t,n)}},7074:(e,t,n)=>{"use strict";function i(e,t){e._context.components=t._context.components,e._context.directives=t._context.directives,e._context.provides=t._context.provides,e._context.config=t._context.config,e._context.mixins=t._context.mixins;const n=document.createElement("div"),i=e.mount(n).$el;return document.body.appendChild(i),i}n.d(t,{Z:()=>i})},7209:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e,t){let n,i,r,o,s=0;return function(){n=this,i=arguments;const e=new Date-s;return o||(e>=t?a():o=setTimeout(a,t-e)),r};function a(){o=0,s=+new Date,r=e.apply(n,i),n=null,i=null}}},3760:(e,t,n)=>{"use strict";n.d(t,{Iy:()=>i,kC:()=>o,Yg:()=>r,qZ:()=>s});let i=0,r=0;function o(){i++}function s(){r++}},3430:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(6252),r=n(3577);const o=(0,i.Uk)(" "+(0,r.zw)(" ")+" "),s={key:2,ref:"slot"};var a=n(4379),l=n(6378),c=n(9560),u=n(8251);const d={name:"VButton",components:{Icon:a.Z},mixins:[c.Z,u.Z],props:{type:{validator:e=>(0,l.kw)(e,["default","primary","dashed","text","info","success","warning","error"]),default:"default"},shape:{validator:e=>(0,l.kw)(e,["circle","circle-outline"]),required:!1,default:null},size:{validator:e=>(0,l.kw)(e,["small","large","default"]),required:!1,default:()=>"default"},loading:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},htmlType:{default:"button",validator:e=>(0,l.kw)(e,["button","submit","reset"])},icon:{type:String,default:""},customIcon:{type:String,default:""},long:{type:Boolean,default:!1},ghost:{type:Boolean,default:!1}},emits:["click"],emits:["click"],computed:{showSlot(){return!!this.$slots.default},classes(){return["ivu-btn",`ivu-btn-${this.type}`,{"ivu-btn-long":this.long,[`ivu-btn-${this.shape}`]:!!this.shape,[`ivu-btn-${this.size}`]:"default"!==this.size,"ivu-btn-loading":null!=this.loading&&this.loading,"ivu-btn-icon-only":!this.showSlot&&(!!this.icon||!!this.customIcon||this.loading),"ivu-btn-ghost":this.ghost}]},isHrefPattern(){return!!this.to},tagName(){const{isHrefPattern:e}=this;return e?"a":"button"},tagProps(){const{isHrefPattern:e}=this;let t={};if(e){const{linkUrl:e,target:n}=this;t={href:e,target:n}}else{const{htmlType:e}=this;t={type:e}}return this.itemDisabled&&(t.disabled=!0),t}},methods:{handleClickLink(e){this.$emit("click",e);const t=e.ctrlKey||e.metaKey;this.handleCheckClick(e,t)}},render:function(e,t,n,r,a,l){const c=(0,i.up)("Icon");return(0,i.wg)(),(0,i.j4)((0,i.LL)(l.tagName),(0,i.dG)({class:l.classes},l.tagProps,{onClick:l.handleClickLink}),{default:(0,i.w5)((()=>[n.loading?((0,i.wg)(),(0,i.j4)(c,{key:0,class:"ivu-load-loop",type:"ios-loading"})):(0,i.kq)("v-if",!0),!n.icon&&!n.customIcon||n.loading?(0,i.kq)("v-if",!0):((0,i.wg)(),(0,i.j4)(c,{key:1,type:n.icon,custom:n.customIcon},null,8,["type","custom"])),o,l.showSlot?((0,i.wg)(),(0,i.iD)("span",s,[(0,i.WI)(e.$slots,"default")],512)):(0,i.kq)("v-if",!0)])),_:3},16,["class","onClick"])}}},4379:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(6252),r=n(3577);const o={name:"Icon",props:{type:{type:String,default:""},size:{type:[Number,String],required:!1,default:""},color:{type:String,default:""},custom:{type:String,default:""}},computed:{classes(){return["ion",{[`ion-${this.type}`]:""!==this.type,[`${this.custom}`]:""!==this.custom}]},styles(){const e={};return this.size&&(e["font-size"]=`${this.size}px`),this.color&&(e.color=this.color),e}},render:function(e,t,n,o,s,a){return(0,i.wg)(),(0,i.iD)("i",{class:(0,r.C_)(a.classes),style:(0,r.j5)(a.styles)},null,6)}}},8450:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var i=n(6252),r=n(3577),o=n(9963);const s={key:4,class:"ivu-input-suffix"},a={key:5,class:"ivu-input-word-count"},l={key:0,class:"ion ion-ios-eye-off-outline"},c={key:1,class:"ion ion-ios-eye-outline"},u=["id","autocomplete","spellcheck","type","placeholder","disabled","maxlength","readonly","name","value","number","autofocus"],d={key:0,class:"ion ion-ios-search"},h={key:9,class:"ivu-input-prefix"},p=["id","wrap","autocomplete","spellcheck","placeholder","disabled","rows","maxlength","readonly","name","value","autofocus"],f={key:0,class:"ivu-input-word-count"};var m=n(6378);const g=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"],v={};let y;var b=n(7390),w=n(8251);const _={name:"Input",mixins:[b.Z,w.Z],props:{type:{validator:e=>(0,m.kw)(e,["text","textarea","password","url","email","date","number","tel"]),default:"text"},modelValue:{type:[String,Number],default:""},size:{validator:e=>(0,m.kw)(e,["small","large","default"]),default:()=>"default"},placeholder:{type:String,default:""},maxlength:{type:[String,Number]},disabled:{type:Boolean,default:!1},icon:String,autosize:{type:[Boolean,Object],default:!1},rows:{type:Number,default:2},readonly:{type:Boolean,default:!1},name:{type:String},number:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},spellcheck:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},clearable:{type:Boolean,default:!1},elementId:{type:String},wrap:{validator:e=>(0,m.kw)(e,["hard","soft"]),default:"soft"},prefix:{type:String,default:""},suffix:{type:String,default:""},search:{type:Boolean,default:!1},enterButton:{type:[Boolean,String],default:!1},showWordLimit:{type:Boolean,default:!1},password:{type:Boolean,default:!1},border:{type:Boolean,default:!0}},emits:["update:modelValue","on-input-change","on-change","on-keydown","on-enter","on-search","on-keypress","on-keyup","on-click","on-focus","on-blur"],data(){return{currentValue:this.modelValue,prefixCls:"ivu-input",slotReady:!1,textareaStyles:{},isOnComposition:!1,showPassword:!1}},computed:{currentType(){let e=this.type;return"password"===e&&this.password&&this.showPassword&&(e="text"),e},prepend(){let e=!1;return"textarea"!==this.type&&(e=void 0!==this.$slots.prepend),e},append(){let e=!1;return"textarea"!==this.type&&(e=void 0!==this.$slots.append),e},showPrefix(){let e=!1;return"textarea"!==this.type&&(e=""!==this.prefix||void 0!==this.$slots.prefix),e},showSuffix(){let e=!1;return"textarea"!==this.type&&(e=""!==this.suffix||void 0!==this.$slots.suffix),e},wrapClasses(){return["ivu-input-wrapper",{[`ivu-input-wrapper-${this.size}`]:!!this.size,[`ivu-input-type-${this.type}`]:this.type,"ivu-input-group":this.prepend||this.append||this.search&&this.enterButton,[`ivu-input-group-${this.size}`]:(this.prepend||this.append||this.search&&this.enterButton)&&!!this.size,"ivu-input-group-with-prepend":this.prepend,"ivu-input-group-with-append":this.append||this.search&&this.enterButton,"ivu-input-hide-icon":this.append,"ivu-input-with-search":this.search&&this.enterButton,"ivu-input-wrapper-disabled":this.itemDisabled}]},inputClasses(){return["ivu-input",{[`ivu-input-${this.size}`]:!!this.size,"ivu-input-disabled":this.itemDisabled,"ivu-input-no-border":!this.border,"ivu-input-with-prefix":this.showPrefix,"ivu-input-with-suffix":this.showSuffix||this.search&&!1===this.enterButton}]},textareaClasses(){return["ivu-input",{"ivu-input-no-border":!this.border,"ivu-input-disabled":this.itemDisabled}]},upperLimit(){return this.maxlength},textLength(){return"number"==typeof this.modelValue?String(this.modelValue).length:(this.modelValue||"").length}},watch:{modelValue(e){this.setCurrentValue(e)}},mounted(){this.slotReady=!0,this.$nextTick((()=>{this.resizeTextarea()}))},methods:{handleEnter(e){this.$emit("on-enter",e),this.search&&this.$emit("on-search",this.currentValue)},handleKeydown(e){this.$emit("on-keydown",e)},handleKeypress(e){this.$emit("on-keypress",e)},handleKeyup(e){this.$emit("on-keyup",e)},handleIconClick(e){this.$emit("on-click",e)},handleFocus(e){this.$emit("on-focus",e)},handleBlur(e){this.$emit("on-blur",e),(0,m.ah)(this,["DatePicker","TimePicker","Cascader","Search"])||this.dispatch("FormItem","on-form-blur",this.currentValue)},handleComposition(e){"compositionstart"===e.type&&(this.isOnComposition=!0),"compositionend"===e.type&&(this.isOnComposition=!1,this.handleInput(e))},handleInput(e){if(this.isOnComposition)return;let t=e.target.value;this.number&&""!==t&&(t=Number.isNaN(Number(t))?t:Number(t)),this.$emit("update:modelValue",t),this.setCurrentValue(t),this.$emit("on-change",e)},handleChange(e){this.$emit("on-input-change",e)},setCurrentValue(e){e!==this.currentValue&&(this.$nextTick((()=>{this.resizeTextarea()})),this.currentValue=e,(0,m.ah)(this,["DatePicker","TimePicker","Cascader","Search"])||this.dispatch("FormItem","on-form-change",e))},resizeTextarea(){const e=this.autosize;if(!e||"textarea"!==this.type)return!1;const t=e.minRows,n=e.maxRows;this.textareaStyles=function(e,t=null,n=null,i=!1){y||(y=document.createElement("textarea"),document.body.appendChild(y)),e.getAttribute("wrap")?y.setAttribute("wrap",e.getAttribute("wrap")):y.removeAttribute("wrap");const{paddingSize:r,borderSize:o,boxSizing:s,sizingStyle:a}=function(e,t=!1){const n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&v[n])return v[n];const i=window.getComputedStyle(e),r=i.getPropertyValue("box-sizing")||i.getPropertyValue("-moz-box-sizing")||i.getPropertyValue("-webkit-box-sizing"),o=parseFloat(i.getPropertyValue("padding-bottom"))+parseFloat(i.getPropertyValue("padding-top")),s=parseFloat(i.getPropertyValue("border-bottom-width"))+parseFloat(i.getPropertyValue("border-top-width")),a={sizingStyle:g.map((e=>`${e}:${i.getPropertyValue(e)}`)).join(";"),paddingSize:o,borderSize:s,boxSizing:r};return t&&n&&(v[n]=a),a}(e,i);y.setAttribute("style",`${a};\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n`),y.value=e.value||e.placeholder||"";let l,c=Number.MIN_SAFE_INTEGER,u=Number.MAX_SAFE_INTEGER,d=y.scrollHeight;if("border-box"===s?d+=o:"content-box"===s&&(d-=r),null!==t||null!==n){y.value=" ";const e=y.scrollHeight-r;null!==t&&(c=e*t,"border-box"===s&&(c=c+r+o),d=Math.max(c,d)),null!==n&&(u=e*n,"border-box"===s&&(u=u+r+o),l=d>u?"":"hidden",d=Math.min(u,d))}return n||(l="hidden"),{height:`${d}px`,minHeight:`${c}px`,maxHeight:`${u}px`,overflowY:l}}(this.$refs.textarea,t,n)},focus(){"textarea"===this.type?this.$refs.textarea.focus():this.$refs.input.focus()},blur(){"textarea"===this.type?this.$refs.textarea.blur():this.$refs.input.blur()},handleClear(){this.$emit("update:modelValue",""),this.setCurrentValue(""),this.$emit("on-change",{target:{value:""}}),this.$emit("on-clear")},handleSearch(){if(this.itemDisabled)return!1;this.$refs.input.focus(),this.$emit("on-search",this.currentValue)},handleToggleShowPassword(){if(this.itemDisabled)return!1;this.showPassword=!this.showPassword,this.focus();const e=this.currentValue.length;setTimeout((()=>{this.$refs.input.setSelectionRange(e,e)}),0)}},render:function(e,t,n,m,g,v){return(0,i.wg)(),(0,i.iD)("div",{class:(0,r.C_)(v.wrapClasses)},["textarea"!==n.type?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[v.prepend?(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,r.C_)([g.prefixCls+"-group-prepend"])},[(0,i.WI)(e.$slots,"prepend")],2)),[[o.F8,g.slotReady]]):(0,i.kq)("v-if",!0),n.clearable&&g.currentValue&&!e.itemDisabled?((0,i.wg)(),(0,i.iD)("i",{key:1,class:(0,r.C_)(["ion",["ion-ios-close-circle",g.prefixCls+"-icon",g.prefixCls+"-icon-clear",g.prefixCls+"-icon-normal"]]),onClick:t[0]||(t[0]=(...e)=>v.handleClear&&v.handleClear(...e))},null,2)):n.icon?((0,i.wg)(),(0,i.iD)("i",{key:2,class:(0,r.C_)(["ion",["ion-"+n.icon,g.prefixCls+"-icon",g.prefixCls+"-icon-normal"]]),onClick:t[1]||(t[1]=(...e)=>v.handleIconClick&&v.handleIconClick(...e))},null,2)):n.search&&!1===n.enterButton?((0,i.wg)(),(0,i.iD)("i",{key:3,class:(0,r.C_)(["ion ion-ios-search",[g.prefixCls+"-icon",g.prefixCls+"-icon-normal",g.prefixCls+"-search-icon"]]),onClick:t[2]||(t[2]=(...e)=>v.handleSearch&&v.handleSearch(...e))},null,2)):v.showSuffix?((0,i.wg)(),(0,i.iD)("span",s,[(0,i.WI)(e.$slots,"suffix",{},(()=>[n.suffix?((0,i.wg)(),(0,i.iD)("i",{key:0,class:(0,r.C_)(["ion",["ion-"+n.suffix]])},null,2)):(0,i.kq)("v-if",!0)]))])):n.showWordLimit?((0,i.wg)(),(0,i.iD)("span",a,(0,r.zw)(v.textLength)+"/"+(0,r.zw)(v.upperLimit),1)):n.password?((0,i.wg)(),(0,i.iD)("span",{key:6,class:"ivu-input-suffix",onClick:t[3]||(t[3]=(...e)=>v.handleToggleShowPassword&&v.handleToggleShowPassword(...e))},[g.showPassword?((0,i.wg)(),(0,i.iD)("i",l)):((0,i.wg)(),(0,i.iD)("i",c))])):(0,i.kq)("v-if",!0),(0,i.Wm)(o.uT,{name:"fade"},{default:(0,i.w5)((()=>[n.icon?(0,i.kq)("v-if",!0):((0,i.wg)(),(0,i.iD)("i",{key:0,class:(0,r.C_)(["ion ion-ios-loading ivu-load-loop",[g.prefixCls+"-icon",g.prefixCls+"-icon-validate"]])},null,2))])),_:1}),(0,i._)("input",{id:n.elementId,ref:"input",autocomplete:n.autocomplete,spellcheck:n.spellcheck,type:v.currentType,class:(0,r.C_)(v.inputClasses),placeholder:n.placeholder,disabled:e.itemDisabled,maxlength:n.maxlength,readonly:n.readonly,name:n.name,value:g.currentValue,number:n.number,autofocus:n.autofocus,onKeyup:[t[4]||(t[4]=(0,o.D2)(((...e)=>v.handleEnter&&v.handleEnter(...e)),["enter"])),t[5]||(t[5]=(...e)=>v.handleKeyup&&v.handleKeyup(...e))],onKeypress:t[6]||(t[6]=(...e)=>v.handleKeypress&&v.handleKeypress(...e)),onKeydown:t[7]||(t[7]=(...e)=>v.handleKeydown&&v.handleKeydown(...e)),onFocus:t[8]||(t[8]=(...e)=>v.handleFocus&&v.handleFocus(...e)),onBlur:t[9]||(t[9]=(...e)=>v.handleBlur&&v.handleBlur(...e)),onCompositionstart:t[10]||(t[10]=(...e)=>v.handleComposition&&v.handleComposition(...e)),onCompositionupdate:t[11]||(t[11]=(...e)=>v.handleComposition&&v.handleComposition(...e)),onCompositionend:t[12]||(t[12]=(...e)=>v.handleComposition&&v.handleComposition(...e)),onInput:t[13]||(t[13]=(...e)=>v.handleInput&&v.handleInput(...e)),onChange:t[14]||(t[14]=(...e)=>v.handleChange&&v.handleChange(...e))},null,42,u),v.append?(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{key:7,class:(0,r.C_)([g.prefixCls+"-group-append"])},[(0,i.WI)(e.$slots,"append")],2)),[[o.F8,g.slotReady]]):n.search&&n.enterButton?((0,i.wg)(),(0,i.iD)("div",{key:8,class:(0,r.C_)([g.prefixCls+"-group-append",g.prefixCls+"-search"]),onClick:t[15]||(t[15]=(...e)=>v.handleSearch&&v.handleSearch(...e))},[!0===n.enterButton?((0,i.wg)(),(0,i.iD)("i",d)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i.Uk)((0,r.zw)(n.enterButton),1)],2112))],2)):v.showPrefix?((0,i.wg)(),(0,i.iD)("span",h,[(0,i.WI)(e.$slots,"prefix",{},(()=>[n.prefix?((0,i.wg)(),(0,i.iD)("i",{key:0,class:(0,r.C_)(["ion",["ion-"+n.prefix]])},null,2)):(0,i.kq)("v-if",!0)]))])):(0,i.kq)("v-if",!0)],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i._)("textarea",{id:n.elementId,ref:"textarea",wrap:n.wrap,autocomplete:n.autocomplete,spellcheck:n.spellcheck,class:(0,r.C_)(v.textareaClasses),style:(0,r.j5)(g.textareaStyles),placeholder:n.placeholder,disabled:e.itemDisabled,rows:n.rows,maxlength:n.maxlength,readonly:n.readonly,name:n.name,value:g.currentValue,autofocus:n.autofocus,onKeyup:[t[16]||(t[16]=(0,o.D2)(((...e)=>v.handleEnter&&v.handleEnter(...e)),["enter"])),t[17]||(t[17]=(...e)=>v.handleKeyup&&v.handleKeyup(...e))],onKeypress:t[18]||(t[18]=(...e)=>v.handleKeypress&&v.handleKeypress(...e)),onKeydown:t[19]||(t[19]=(...e)=>v.handleKeydown&&v.handleKeydown(...e)),onFocus:t[20]||(t[20]=(...e)=>v.handleFocus&&v.handleFocus(...e)),onBlur:t[21]||(t[21]=(...e)=>v.handleBlur&&v.handleBlur(...e)),onCompositionstart:t[22]||(t[22]=(...e)=>v.handleComposition&&v.handleComposition(...e)),onCompositionupdate:t[23]||(t[23]=(...e)=>v.handleComposition&&v.handleComposition(...e)),onCompositionend:t[24]||(t[24]=(...e)=>v.handleComposition&&v.handleComposition(...e)),onInput:t[25]||(t[25]=(...e)=>v.handleInput&&v.handleInput(...e))},null,46,p),n.showWordLimit?((0,i.wg)(),(0,i.iD)("span",f,(0,r.zw)(v.textLength)+"/"+(0,r.zw)(v.upperLimit),1)):(0,i.kq)("v-if",!0)],64))],2)}}},2565:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(6252),r=n(3577),o=n(6378),s=n(3760),a=n(7390);const l=n(2975),c={name:"SelectDropdown",mixins:[a.Z],props:{placement:{type:String,default:"bottom-start"},className:{type:String},transfer:{type:Boolean}},data(){return{popper:null,width:"",popperStatus:!1,tIndex:this.handleGetIndex()}},computed:{styles(){const e={};return this.width&&(e.minWidth=`${this.width}px`),this.width&&(e.maxWidth=`${this.width}px`),this.transfer&&(e["z-index"]=1060+this.tIndex),e}},created(){this.mitt.on("on-update-popper",this.update),this.mitt.on("on-destroy-popper",this.destroy)},beforeUnmount(){this.mitt.off("on-update-popper",this.update),this.mitt.off("on-destroy-popper",this.destroy),this.popper&&(this.popper.destroy(),this.popper=null)},methods:{update(){this.$nextTick((()=>{this.popper?(this.popper.update(),this.popperStatus=!0):this.popper=new l(this.$parent.$parent.$refs.reference,this.$el,{eventsEnabled:!1,placement:this.placement,modifiers:{computeStyle:{gpuAcceleration:!1},preventOverflow:{boundariesElement:"window"}},onCreate:()=>{this.resetTransformOrigin(),this.$nextTick(this.popper.update())},onUpdate:()=>{this.resetTransformOrigin()}}),"VSelect"===this.$parent.$options.name?this.width=parseInt((0,o.C2)(this.$parent.$el,"width")):"VSelect"===this.$parent.$parent.$options.name&&(this.width=parseInt((0,o.C2)(this.$parent.$parent.$el,"width"))),this.tIndex=this.handleGetIndex()}))},destroy(){this.popper&&setTimeout((()=>{this.popper&&!this.popperStatus&&(this.popper.destroy(),this.popper=null),this.popperStatus=!1}),300)},resetTransformOrigin(){if(!this.popper)return;const e=this.popper.popper.getAttribute("x-placement"),t=e.split("-")[0],n=e.split("-")[1];"left"===e||"right"===e||(this.popper.popper.style.transformOrigin="bottom"===t||"top"!==t&&"start"===n?"center top":"center bottom")},handleGetIndex:()=>((0,s.kC)(),s.Iy)},render:function(e,t,n,o,s,a){return(0,i.wg)(),(0,i.iD)("div",{class:(0,r.C_)(["ivu-select-dropdown",n.className]),style:(0,r.j5)(a.styles)},[(0,i.WI)(e.$slots,"default")],6)}}},8218:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ee}),n(8309),n(9753);var i=n(6252),r=n(3577),o={key:3,class:"d-flex my-2"};n(9653),n(7327),n(2222),n(1249),n(2772),n(561),n(2526),n(1817),n(1539),n(2165),n(6992),n(8783),n(3948),n(1038),n(7042),n(9070),n(7941),n(5003),n(9554),n(4747),n(9337),n(3321);var s=n(9963);(0,i.dD)("data-v-00d68c9c");var a={key:0,style:{"margin-bottom":"6px","font-size":"12px"}},l={class:"d-flex justify-content-between"};(0,i.Cn)();var c=n(5763),u=n(5487);n(6699);var d=n(1789);const h={name:"FieldCondition",components:{FormInput:d.Z},props:{modelValue:{type:Object,required:!1,default:function(){return{}}},fields:{type:Array,required:!1,default:function(){return[]}}},data:function(){return{selectedFieldOption:null}},computed:{actions:function(){return[{value:"eq",label:this.i18n.is},{value:"neq",label:this.i18n.is_not},{value:"empty",label:this.i18n.empty},{value:"nempty",label:this.i18n.not_empty},{value:"contains",label:this.i18n.contains},{value:"gt",label:this.i18n.greater_than},{value:"gte",label:this.i18n.greater_or_equal},{value:"lt",label:this.i18n.less_than},{value:"lte",label:this.i18n.less_or_equal}]}},render:function(e,t,n,r,o,s){var a=(0,i.up)("MSelect"),l=(0,i.up)("FormInput"),c=(0,i.up)("VInput");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(a,{modelValue:n.modelValue.field,"onUpdate:modelValue":[t[0]||(t[0]=function(e){return n.modelValue.field=e}),t[2]||(t[2]=function(e){return n.modelValue.value=""})],"selected-option":o.selectedFieldOption,"onUpdate:selected-option":t[1]||(t[1]=function(e){return o.selectedFieldOption=e}),filterable:"","data-role":"condition-field",class:"mb-2",placeholder:e.i18n.field,options:n.fields,"with-deselect":!1},null,8,["modelValue","selected-option","placeholder","options"]),(0,i.Wm)(a,{modelValue:n.modelValue.action,"onUpdate:modelValue":t[3]||(t[3]=function(e){return n.modelValue.action=e}),"data-role":"condition-action",class:"mb-2",filterable:"","with-deselect":!1,placeholder:e.i18n.condition,options:s.actions},null,8,["modelValue","placeholder","options"]),["empty","nempty"].includes(n.modelValue.action)?(0,i.kq)("v-if",!0):((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[o.selectedFieldOption?((0,i.wg)(),(0,i.j4)(l,{key:0,modelValue:n.modelValue.value,"onUpdate:modelValue":t[4]||(t[4]=function(e){return n.modelValue.value=e}),class:"mb-3",column:o.selectedFieldOption.field,placeholder:e.i18n.value,"data-role":"condition-value"},null,8,["modelValue","column","placeholder"])):((0,i.wg)(),(0,i.j4)(c,{key:1,modelValue:n.modelValue.value,"onUpdate:modelValue":t[5]||(t[5]=function(e){return n.modelValue.value=e}),class:"mb-3",placeholder:e.i18n.value,"data-role":"condition-value"},null,8,["modelValue","placeholder"]))],2112))])}},p={name:"GroupForm",components:{FieldCondition:h},props:{group:{type:Object,required:!0},okText:{type:String,required:!1,default:u.c.ok},conditionFields:{type:Array,required:!1,default:function(){return[]}},focus:{type:Boolean,required:!1,default:!1},withRemove:{type:Boolean,required:!1,default:!1}},emits:["submit","remove","cancel"],data:function(){return{dataGroup:{},isCustomName:!1}},computed:{rules:function(){return{display_name:[{required:!0,message:(0,u.w)("name")}],name:[{required:!0,message:(0,u.w)("param_name")}]}},isConditional:function(){var e;return!(null===(e=this.dataGroup.conditions)||void 0===e||!e.length)},generatedParamName:function(){return(0,c.It)(this.dataGroup.display_name)}},mounted:function(){this.focus&&this.$refs.nameInput.$el.querySelector("input").focus()},created:function(){this.dataGroup=JSON.parse(JSON.stringify(this.group)),this.dataGroup.display_name&&(this.isCustomName=this.generatedParamName!==this.dataGroup.name)},methods:{submit:function(){var e=this;this.$refs.form.validate((function(t){var n;t&&(e.isCustomName||(e.dataGroup.name=e.generatedParamName),!e.dataGroup.conditions||null!==(n=e.dataGroup.conditions[0])&&void 0!==n&&n.field||(e.dataGroup.conditions=[]),e.$emit("submit",e.dataGroup))}))},toggleConditional:function(){var e;(e=this.dataGroup).conditions||(e.conditions=[]),this.isConditional?this.dataGroup.conditions=[]:this.dataGroup.conditions=[{field:"",action:"eq",value:""}]},toggleCustomParam:function(){this.isCustomName=!0,this.dataGroup.name=this.generatedParamName}},render:function(e,t,n,o,c,u){var d=(0,i.up)("VInput"),h=(0,i.up)("FormItem"),p=(0,i.up)("Icon"),f=(0,i.up)("Checkbox"),m=(0,i.up)("FieldCondition"),g=(0,i.up)("VForm"),v=(0,i.up)("VButton");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(g,{ref:"form",rules:u.rules,"label-position":"top",model:c.dataGroup,onSubmit:(0,s.iM)(u.submit,["prevent"])},{default:(0,i.w5)((function(){return[(0,i.Wm)(h,{label:e.i18n.name,prop:"display_name",class:(0,r.C_)(c.dataGroup.display_name&&!c.isCustomName?"mb-0":"")},{default:(0,i.w5)((function(){return[(0,i.Wm)(d,{ref:"nameInput",modelValue:c.dataGroup.display_name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.dataGroup.display_name=e}),placeholder:e.i18n.group_name,onDrag:t[1]||(t[1]=(0,s.iM)((function(){}),["stop"]))},null,8,["modelValue","placeholder"])]})),_:1},8,["label","class"]),!c.isCustomName&&u.generatedParamName?((0,i.wg)(),(0,i.iD)("p",a,[(0,i.Uk)((0,r.zw)(e.i18n.param_name)+": ",1),(0,i._)("code",null,(0,r.zw)(u.generatedParamName),1),(0,i.Wm)(p,{type:"md-create",class:"ms-1 cursor-pointer",onClick:u.toggleCustomParam},null,8,["onClick"])])):(0,i.kq)("v-if",!0),c.isCustomName?((0,i.wg)(),(0,i.j4)(h,{key:1,label:e.i18n.param_name,prop:"name"},{default:(0,i.w5)((function(){return[(0,i.Wm)(d,{modelValue:c.dataGroup.name,"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.dataGroup.name=e}),placeholder:e.i18n.request_param,onDrag:t[3]||(t[3]=(0,s.iM)((function(){}),["stop"]))},null,8,["modelValue","placeholder"])]})),_:1},8,["label"])):(0,i.kq)("v-if",!0),(0,i.Wm)(f,{modelValue:c.dataGroup.is_array,"onUpdate:modelValue":t[4]||(t[4]=function(e){return c.dataGroup.is_array=e}),class:"d-block"},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(" ")+" "+(0,r.zw)(e.i18n.multiple),1)]})),_:1},8,["modelValue"]),(0,i.Wm)(f,{"model-value":u.isConditional,class:"d-block mb-3","onUpdate:modelValue":u.toggleConditional},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(" ")+" "+(0,r.zw)(e.i18n.conditional),1)]})),_:1},8,["model-value","onUpdate:modelValue"]),u.isConditional?((0,i.wg)(),(0,i.j4)(m,{key:2,modelValue:c.dataGroup.conditions[0],"onUpdate:modelValue":t[5]||(t[5]=function(e){return c.dataGroup.conditions[0]=e}),fields:n.conditionFields},null,8,["modelValue","fields"])):(0,i.kq)("v-if",!0)]})),_:1},8,["rules","model","onSubmit"]),(0,i._)("div",l,[(0,i._)("div",null,[n.withRemove?((0,i.wg)(),(0,i.j4)(v,{key:0,type:"error",ghost:"",class:"me-2",onClick:t[6]||(t[6]=function(t){return e.$emit("remove")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.remove),1)]})),_:1})):(0,i.kq)("v-if",!0),(0,i.Wm)(v,{onClick:t[7]||(t[7]=function(t){return e.$emit("cancel")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.cancel),1)]})),_:1})]),(0,i.Wm)(v,{type:"primary",onClick:u.submit},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(n.okText),1)]})),_:1},8,["onClick"])])])},__scopeId:"data-v-00d68c9c"};(0,i.dD)("data-v-a01b5962");var f={key:0,style:{"margin-bottom":"6px","font-size":"12px"}},m={class:"d-flex justify-content-between"};(0,i.Cn)(),n(9826),n(4916),n(5306),n(3123);var g=n(48),v=n(8688),y=n(480),b=n(8369),w=["input","number","select","reference","file","json","textarea"];const _={name:"FieldForm",components:{FormInput:d.Z,QuerySelect:y.Z,FieldCondition:h},props:{field:{type:Object,required:!0},okText:{type:String,required:!1,default:u.c.ok},focus:{type:Boolean,required:!1,default:!1},conditionFields:{type:Array,required:!1,default:function(){return[]}},withRemove:{type:Boolean,required:!1,default:!1}},emits:["submit","remove","cancel"],data:function(){return{dataField:{},isCustomName:!1}},computed:{filteredConditionFields:function(){var e=this;return this.conditionFields.filter((function(t){return t.value!==e.field.name}))},rules:function(){var e={display_name:[{required:!0,message:(0,u.w)("name")}],name:[{required:!0,message:(0,u.w)("param_name")}],field_type:[{required:!0,message:(0,u.w)("field_type")}]};return"json"===this.dataField.field_type&&(e.default_value=[{validator:b.Z.json,fullField:this.i18n.default_value}]),"reference"===this.dataField.field_type&&(e["reference.model_name"]=[{required:!0,message:(0,u.w)("reference")}]),"select"===this.dataField.field_type&&(e.select_query_id=[{required:!0,message:(0,u.w)("query")}]),e},generatedParamName:function(){var e,t=(0,c.It)(this.dataField.display_name);return t===(null===(e=this.dataField.reference)||void 0===e?void 0:e.model_name)&&(t+="_id"),t},referenceModels:function(){return g.fK},fieldTypes:function(){return[{label:this.i18n.text,value:"input"},{label:this.i18n.number,value:"number"},{label:this.i18n.reference,value:"reference"},{label:this.i18n.textarea,value:"textarea"},{label:this.i18n.richtext,value:"richtext"},{label:this.i18n.select,value:"select"},{label:this.i18n.date_and_time,value:"datetime"},{label:this.i18n.date,value:"date"},{label:this.i18n.checkbox,value:"checkbox"},{label:this.i18n.color,value:"color"},{label:this.i18n.file,value:"file"},{label:this.i18n.json,value:"json"}]},showMultiple:function(){return w.includes(this.dataField.field_type)},isRequired:function(){var e;return!(null===(e=this.dataField.validators)||void 0===e||!e.find((function(e){return e.required})))},isConditional:function(){var e;return!(null===(e=this.dataField.conditions)||void 0===e||!e.length)}},mounted:function(){this.focus&&this.$refs.nameInput.$el.querySelector("input").focus()},created:function(){this.dataField=JSON.parse(JSON.stringify(this.field)),this.dataField.reference&&(this.dataField.field_type="reference"),this.dataField.display_name&&(this.isCustomName=this.generatedParamName!==this.dataField.name)},methods:{onTypeChange:function(e){if(this.resetDefault(),w.includes(e)||(this.dataField.is_array=!1),"reference"===e){var t=(0,c.It)((0,v.Z)((this.dataField.display_name||"").toLowerCase())).replace(/_id$/,""),n=g.fK.find((function(e){return e.name===t||e.name===t.split("_").pop()}));this.dataField.reference={model_name:(null==n?void 0:n.name)||""}}else delete this.dataField.reference},resetDefault:function(){this.dataField.default_value=this.dataField.is_array?[]:""},submit:function(){var e=this;this.$refs.form.validate((function(t){var n;t&&(e.isCustomName||(e.dataField.name=e.generatedParamName),!e.dataField.conditions||null!==(n=e.dataField.conditions[0])&&void 0!==n&&n.field||(e.dataField.conditions=[]),e.$emit("submit",e.dataField))}))},toggleCustomParam:function(){this.isCustomName=!0,this.dataField.name=this.generatedParamName},toggleConditional:function(){var e;(e=this.dataField).conditions||(e.conditions=[]),this.isConditional?this.dataField.conditions=[]:this.dataField.conditions=[{field:"",action:"eq",value:""}]},toggleRequired:function(){var e;(e=this.dataField).validators||(e.validators=[]),this.isRequired?this.dataField.validators=this.dataField.validators.filter((function(e){return!e.required})):this.dataField.validators.push({required:!0})}},render:function(e,t,n,o,a,l){var c=(0,i.up)("VInput"),u=(0,i.up)("FormItem"),d=(0,i.up)("Icon"),h=(0,i.up)("MSelect"),p=(0,i.up)("QuerySelect"),g=(0,i.up)("FormInput"),v=(0,i.up)("Checkbox"),y=(0,i.up)("FieldCondition"),b=(0,i.up)("VForm"),w=(0,i.up)("VButton");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(b,{ref:"form",rules:l.rules,"label-position":"top",model:a.dataField,onSubmit:(0,s.iM)(l.submit,["prevent"])},{default:(0,i.w5)((function(){return[(0,i.Wm)(u,{label:e.i18n.name,prop:"display_name",class:(0,r.C_)(a.dataField.display_name&&!a.isCustomName?"mb-0":"")},{default:(0,i.w5)((function(){return[(0,i.Wm)(c,{ref:"nameInput",modelValue:a.dataField.display_name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.dataField.display_name=e}),placeholder:e.i18n.field_name,onDrag:t[1]||(t[1]=(0,s.iM)((function(){}),["stop"]))},null,8,["modelValue","placeholder"])]})),_:1},8,["label","class"]),!a.isCustomName&&l.generatedParamName?((0,i.wg)(),(0,i.iD)("p",f,[(0,i.Uk)((0,r.zw)(e.i18n.param_name)+": ",1),(0,i._)("code",null,(0,r.zw)(l.generatedParamName),1),(0,i.Wm)(d,{type:"md-create",class:"ms-1 cursor-pointer",onClick:l.toggleCustomParam},null,8,["onClick"])])):(0,i.kq)("v-if",!0),a.isCustomName?((0,i.wg)(),(0,i.j4)(u,{key:1,label:e.i18n.param_name,prop:"name"},{default:(0,i.w5)((function(){return[(0,i.Wm)(c,{modelValue:a.dataField.name,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.dataField.name=e}),placeholder:e.i18n.request_param,onDrag:t[3]||(t[3]=(0,s.iM)((function(){}),["stop"]))},null,8,["modelValue","placeholder"])]})),_:1},8,["label"])):(0,i.kq)("v-if",!0),(0,i.Wm)(u,{label:e.i18n.type,prop:"field_type"},{default:(0,i.w5)((function(){return[(0,i.Wm)(h,{modelValue:a.dataField.field_type,"onUpdate:modelValue":[t[4]||(t[4]=function(e){return a.dataField.field_type=e}),l.onTypeChange],options:l.fieldTypes,"with-deselect":!1,placeholder:e.i18n.input_type},null,8,["modelValue","options","placeholder","onUpdate:modelValue"])]})),_:1},8,["label"]),"reference"===a.dataField.field_type?((0,i.wg)(),(0,i.j4)(u,{key:2,label:e.i18n.reference,prop:"reference.model_name"},{default:(0,i.w5)((function(){return[(0,i.Wm)(h,{modelValue:a.dataField.reference.model_name,"onUpdate:modelValue":[t[5]||(t[5]=function(e){return a.dataField.reference.model_name=e}),t[6]||(t[6]=function(e){return a.dataField.default_value=""})],"value-key":"name","label-key":"display_name","with-deselect":!1,options:l.referenceModels,placeholder:e.i18n.select_resource_placeholder,filterable:""},null,8,["modelValue","options","placeholder"])]})),_:1},8,["label"])):(0,i.kq)("v-if",!0),"select"===a.dataField.field_type?((0,i.wg)(),(0,i.j4)(u,{key:3,label:e.i18n.select_query,prop:"select_query_id"},{default:(0,i.w5)((function(){return[(0,i.Wm)(p,{modelValue:a.dataField.select_query_id,"onUpdate:modelValue":t[7]||(t[7]=function(e){return a.dataField.select_query_id=e})},null,8,["modelValue"])]})),_:1},8,["label"])):(0,i.kq)("v-if",!0),(0,i.Wm)(u,{label:e.i18n.default_value,prop:"default_value"},{default:(0,i.w5)((function(){return[(0,i.Wm)(g,{modelValue:a.dataField.default_value,"onUpdate:modelValue":t[8]||(t[8]=function(e){return a.dataField.default_value=e}),column:a.dataField},null,8,["modelValue","column"])]})),_:1},8,["label"]),l.showMultiple?((0,i.wg)(),(0,i.j4)(v,{key:4,modelValue:a.dataField.is_array,"onUpdate:modelValue":[t[9]||(t[9]=function(e){return a.dataField.is_array=e}),l.resetDefault],class:"d-block"},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(" ")+" "+(0,r.zw)(e.i18n.multiple),1)]})),_:1},8,["modelValue","onUpdate:modelValue"])):(0,i.kq)("v-if",!0),(0,i.Wm)(v,{"model-value":l.isRequired,class:"d-block","onUpdate:modelValue":l.toggleRequired},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(" ")+" "+(0,r.zw)(e.i18n.required),1)]})),_:1},8,["model-value","onUpdate:modelValue"]),(0,i.Wm)(v,{"model-value":l.isConditional,class:"d-block mb-3","onUpdate:modelValue":l.toggleConditional},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(" ")+" "+(0,r.zw)(e.i18n.conditional),1)]})),_:1},8,["model-value","onUpdate:modelValue"]),l.isConditional?((0,i.wg)(),(0,i.j4)(y,{key:5,modelValue:a.dataField.conditions[0],"onUpdate:modelValue":t[10]||(t[10]=function(e){return a.dataField.conditions[0]=e}),fields:l.filteredConditionFields},null,8,["modelValue","fields"])):(0,i.kq)("v-if",!0)]})),_:1},8,["rules","model","onSubmit"]),(0,i._)("div",m,[(0,i._)("div",null,[n.withRemove?((0,i.wg)(),(0,i.j4)(w,{key:0,type:"error",ghost:"",class:"me-2",onClick:t[11]||(t[11]=function(t){return e.$emit("remove")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.remove),1)]})),_:1})):(0,i.kq)("v-if",!0),(0,i.Wm)(w,{onClick:t[12]||(t[12]=function(t){return e.$emit("cancel")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.cancel),1)]})),_:1})]),(0,i.Wm)(w,{type:"primary",onClick:l.submit},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(n.okText),1)]})),_:1},8,["onClick"])])])},__scopeId:"data-v-a01b5962"};var x={class:"ivu-card ivu-card-bordered"},k={class:"ivu-card-body py-0"},C={class:"d-flex align-items-center"},S={class:"fs-5 fw-bold"},A={class:"d-flex align-items-center"};const D={name:"FieldItem",components:{FieldForm:_},props:{field:{type:Object,required:!0},conditionFields:{type:Array,required:!1,default:function(){return[]}}},emits:["replace","remove"],data:function(){return{isForm:!1}},methods:{toggleForm:function(){var e=this;this.isForm=!this.isForm,this.isForm&&this.$nextTick((function(){e.$el.scrollIntoView({inline:"end",block:"center",behavior:"smooth"})}))},onRemove:function(){this.isForm=!1,this.$emit("remove",this.field)},onSubmit:function(e){this.isForm=!1,this.$emit("replace",[this.field,e])}},render:function(e,t,n,o,s,a){var l=(0,i.up)("Icon"),c=(0,i.up)("FieldForm");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",x,[(0,i._)("div",k,[(0,i._)("div",{class:"cursor-pointer d-flex align-items-center justify-content-between py-2",onClick:t[0]||(t[0]=function(){return a.toggleForm&&a.toggleForm.apply(a,arguments)})},[(0,i._)("div",C,[(0,i.Wm)(l,{type:"ios-menu",class:"me-3 cursor-grab handle"}),(0,i._)("p",S,(0,r.zw)(n.field.display_name),1)]),(0,i._)("div",A,[(0,i.Wm)(l,{type:s.isForm?"ios-arrow-up":"ios-arrow-down"},null,8,["type"])])]),s.isForm?((0,i.wg)(),(0,i.j4)(c,{key:0,field:JSON.parse(JSON.stringify(n.field)),class:"py-3","condition-fields":n.conditionFields,"with-remove":!0,onCancel:a.toggleForm,onRemove:a.onRemove,onSubmit:a.onSubmit},null,8,["field","condition-fields","onCancel","onRemove","onSubmit"])):(0,i.kq)("v-if",!0)])])])}};var O={class:"ivu-card ivu-card-bordered"},T={class:"ivu-card-body py-0"},E={class:"d-flex align-items-center"},$={class:"fs-5 fw-bold"},M={class:"d-flex align-items-center"};n(8674);const R={name:"FieldItem",components:{LayoutItems:(0,i.RC)((function(){return Promise.resolve().then(n.bind(n,8218))})),GroupForm:p},props:{group:{type:Object,required:!0},nestingLevel:{type:Number,required:!1,default:0},conditionFields:{type:Array,required:!1,default:function(){return[]}}},emits:["replace","remove"],data:function(){return{isForm:!1}},methods:{toggleForm:function(){var e=this;this.isForm=!this.isForm,this.isForm&&this.$nextTick((function(){e.$el.scrollIntoView({inline:"end",block:"center",behavior:"smooth"})}))},onRemove:function(){this.isForm=!1,this.$emit("remove",this.group)},onSubmit:function(e){this.isForm=!1,this.$emit("replace",[this.group,e])}},render:function(e,t,n,o,s,a){var l=(0,i.up)("Icon"),c=(0,i.up)("LayoutItems"),u=(0,i.up)("GroupForm");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",O,[(0,i._)("div",T,[(0,i._)("div",{class:"cursor-pointer d-flex align-items-center justify-content-between py-2",onClick:t[0]||(t[0]=function(){return a.toggleForm&&a.toggleForm.apply(a,arguments)})},[(0,i._)("div",E,[(0,i.Wm)(l,{type:"ios-menu",class:"me-3 cursor-grab handle"}),(0,i._)("p",$,(0,r.zw)(n.group.display_name),1)]),(0,i._)("div",M,[(0,i.Wm)(l,{type:s.isForm?"ios-arrow-up":"ios-arrow-down"},null,8,["type"])])]),s.isForm?(0,i.kq)("v-if",!0):((0,i.wg)(),(0,i.j4)(c,{key:0,items:n.group.items,"nesting-level":n.nestingLevel,"condition-fields":n.conditionFields,"with-min-height":!0},null,8,["items","nesting-level","condition-fields"])),s.isForm?((0,i.wg)(),(0,i.j4)(u,{key:1,group:JSON.parse(JSON.stringify(n.group)),class:"py-3","condition-fields":n.conditionFields,"with-remove":!0,onCancel:a.toggleForm,onRemove:a.onRemove,onSubmit:a.onSubmit},null,8,["group","condition-fields","onCancel","onRemove","onSubmit"])):(0,i.kq)("v-if",!0)])])])}};var L={class:"ivu-card ivu-card-bordered"},P={class:"ivu-card-body py-0"},F={class:"d-flex align-items-center"},I={class:"fs-5 fw-bold"},j={class:"d-flex align-items-center"},N={class:"text-center"},V=(0,i.Uk)(" Open in markdown editor "),B={class:"d-flex justify-content-between"},q=n(4487),z=n(784);const W={name:"TextForm",components:{CodeEditor:q.Z,Markdown:z.Z},props:{modelValue:{type:String,required:!1,default:""},fields:{type:Array,required:!1,default:function(){return[]}}},emits:["submit"],data:function(){return{dataValue:""}},created:function(){this.dataValue=this.modelValue},methods:{submit:function(){this.$emit("submit",this.dataValue)}},render:function(e,t,n,o,s,a){var l=(0,i.up)("CodeEditor"),c=(0,i.up)("Markdown"),u=(0,i.up)("VButton");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(l,{modelValue:s.dataValue,"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.dataValue=e}),language:"markdown",variables:n.fields,style:{height:"150px","line-height":"21px"},onRun:a.submit},null,8,["modelValue","variables","onRun"]),(0,i.Wm)(c,{style:{height:"150px",overflow:"scroll"},markdown:s.dataValue,"render-mustache":!1,"without-data":!0},null,8,["markdown"]),(0,i.Wm)(u,{size:"large",long:"",type:"primary",class:"mt-3",onClick:a.submit},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.ok),1)]})),_:1},8,["onClick"])])}},U={name:"TextForm",components:{FieldCondition:h},props:{item:{type:Object,required:!0},okText:{type:String,required:!1,default:u.c.ok},focus:{type:Boolean,required:!1,default:!1},conditionFields:{type:Array,required:!1,default:function(){return[]}},withRemove:{type:Boolean,required:!1,default:!1}},emits:["submit","remove","cancel"],data:function(){return{dataItem:{}}},computed:{rules:function(){return{display_name:[{required:!0,message:(0,u.w)("title")}],markdown:[{required:!0,message:(0,u.w)("markdown")}]}},isConditional:function(){var e;return!(null===(e=this.dataItem.conditions)||void 0===e||!e.length)}},mounted:function(){this.focus&&this.$refs.titleInput.$el.querySelector("input").focus()},created:function(){this.dataItem=JSON.parse(JSON.stringify(this.item))},methods:{openMarkdownEditor:function(){var e=this;this.$Modal.open(W,{modelValue:this.dataItem.markdown,fields:this.conditionFields.map((function(e){return{name:e.value}})),onSubmit:function(t){e.dataItem.markdown=t,e.$Modal.remove()}},{title:this.i18n.edit_markdown,closable:!0})},submit:function(){var e=this;this.$refs.form.validate((function(t){var n;t&&(e.dataItem.name=(0,c.It)(e.dataItem.display_name),!e.dataItem.conditions||null!==(n=e.dataItem.conditions[0])&&void 0!==n&&n.field||(e.dataItem.conditions=[]),e.$emit("submit",e.dataItem))}))},toggleConditional:function(){var e;(e=this.dataItem).conditions||(e.conditions=[]),this.isConditional?this.dataItem.conditions=[]:this.dataItem.conditions=[{field:"",action:"eq",value:""}]}},render:function(e,t,n,o,a,l){var c=(0,i.up)("VInput"),u=(0,i.up)("FormItem"),d=(0,i.up)("VButton"),h=(0,i.up)("Checkbox"),p=(0,i.up)("FieldCondition"),f=(0,i.up)("VForm");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(f,{ref:"form",rules:l.rules,"label-position":"top",model:a.dataItem,onSubmit:(0,s.iM)(l.submit,["prevent"])},{default:(0,i.w5)((function(){return[(0,i.Wm)(u,{ref:"titleInput",label:e.i18n.title,prop:"display_name"},{default:(0,i.w5)((function(){return[(0,i.Wm)(c,{modelValue:a.dataItem.display_name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.dataItem.display_name=e}),placeholder:e.i18n.field_name,onDrag:t[1]||(t[1]=(0,s.iM)((function(){}),["stop"]))},null,8,["modelValue","placeholder"])]})),_:1},8,["label"]),(0,i.Wm)(u,{label:e.i18n.markdown,prop:"markdown"},{default:(0,i.w5)((function(){return[(0,i.Wm)(c,{modelValue:a.dataItem.markdown,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.dataItem.markdown=e}),type:"textarea",autosize:{minRows:4,maxRows:5},onDrag:t[3]||(t[3]=(0,s.iM)((function(){}),["stop"]))},null,8,["modelValue"]),(0,i._)("div",N,[(0,i.Wm)(d,{type:"text",icon:"logo-markdown",onClick:l.openMarkdownEditor},{default:(0,i.w5)((function(){return[V]})),_:1},8,["onClick"])])]})),_:1},8,["label"]),(0,i.Wm)(h,{"model-value":l.isConditional,class:"d-block mb-3","onUpdate:modelValue":l.toggleConditional},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(" ")+" "+(0,r.zw)(e.i18n.conditional),1)]})),_:1},8,["model-value","onUpdate:modelValue"]),l.isConditional?((0,i.wg)(),(0,i.j4)(p,{key:0,modelValue:a.dataItem.conditions[0],"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.dataItem.conditions[0]=e}),fields:n.conditionFields},null,8,["modelValue","fields"])):(0,i.kq)("v-if",!0)]})),_:1},8,["rules","model","onSubmit"]),(0,i._)("div",B,[(0,i._)("div",null,[n.withRemove?((0,i.wg)(),(0,i.j4)(d,{key:0,type:"error",ghost:"",class:"me-2",onClick:t[5]||(t[5]=function(t){return e.$emit("remove")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.remove),1)]})),_:1})):(0,i.kq)("v-if",!0),(0,i.Wm)(d,{onClick:t[6]||(t[6]=function(t){return e.$emit("cancel")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.cancel),1)]})),_:1})]),(0,i.Wm)(d,{type:"primary",onClick:l.submit},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(n.okText),1)]})),_:1},8,["onClick"])])])}};function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e){return function(e){if(Array.isArray(e))return Y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||G(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Q={display_name:"",name:"",field_type:"input",default_value:"",validators:[]},J={display_name:"",name:"",items:[]},X={display_name:"",name:"",markdown:""};const ee={name:"LayoutItemsList",components:{GroupForm:p,FieldForm:_,FieldItem:D,GroupItem:R,TextItem:{name:"TextItem",components:{TextForm:U},props:{item:{type:Object,required:!0},conditionFields:{type:Array,required:!1,default:function(){return[]}}},emits:["replace","remove"],data:function(){return{isForm:!1}},methods:{toggleForm:function(){var e=this;this.isForm=!this.isForm,this.isForm&&this.$nextTick((function(){e.$el.scrollIntoView({inline:"end",block:"center",behavior:"smooth"})}))},onRemove:function(){this.isForm=!1,this.$emit("remove",this.item)},onSubmit:function(e){this.isForm=!1,this.$emit("replace",[this.item,e])}},render:function(e,t,n,o,s,a){var l=(0,i.up)("Icon"),c=(0,i.up)("TextForm");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",L,[(0,i._)("div",P,[(0,i._)("div",{class:"cursor-pointer d-flex align-items-center justify-content-between py-2",onClick:t[0]||(t[0]=function(){return a.toggleForm&&a.toggleForm.apply(a,arguments)})},[(0,i._)("div",F,[(0,i.Wm)(l,{type:"ios-menu",class:"me-3 cursor-grab handle"}),(0,i._)("p",I,(0,r.zw)(n.item.display_name),1)]),(0,i._)("div",j,[(0,i.Wm)(l,{type:s.isForm?"ios-arrow-up":"ios-arrow-down"},null,8,["type"])])]),s.isForm?((0,i.wg)(),(0,i.j4)(c,{key:0,item:JSON.parse(JSON.stringify(n.item)),class:"py-3","condition-fields":n.conditionFields,"with-remove":!0,onCancel:a.toggleForm,onRemove:a.onRemove,onSubmit:a.onSubmit},null,8,["item","condition-fields","onCancel","onRemove","onSubmit"])):(0,i.kq)("v-if",!0)])])])}},TextForm:U},props:{items:{type:Array,required:!1,default:function(){return[]}},withButtons:{type:Boolean,required:!1,default:!0},nestingLevel:{type:Number,required:!1,default:0},conditionFields:{type:Array,required:!1,default:function(){return[]}},withMinHeight:{type:Boolean,required:!1,default:!1}},data:function(){return{newField:null,newGroup:null,newTextItem:null}},computed:{fieldItems:function(){return this.items.filter((function(e){return e.field_type}))},listConditionFieldOptions:function(){return[].concat(Z(this.items.map((function(e){return!!e.field_type&&{label:e.display_name,value:e.name,field:e}})).filter(Boolean)),Z(this.conditionFields))}},methods:{toggleNewField:function(){var e=this;this.newField?this.newField=null:(this.newField=JSON.parse(JSON.stringify(Q)),this.$nextTick((function(){e.$refs.newFieldForm.$el.scrollIntoView({inline:"end",block:"center",behavior:"smooth"})})))},toggleNewTextItem:function(){var e=this;this.newTextItem?this.newTextItem=null:(this.newTextItem=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},X),this.$nextTick((function(){e.$refs.newTextForm.$el.scrollIntoView({inline:"end",block:"center",behavior:"smooth"})})))},toggleNewGroup:function(){var e=this;this.newGroup?this.newGroup=null:(this.newGroup=JSON.parse(JSON.stringify(J)),this.$nextTick((function(){e.$refs.newGroupForm.$el.scrollIntoView({inline:"end",block:"center",behavior:"smooth"})})))},addField:function(e){this.items.push(e),this.newField=null},addTextItem:function(e){this.items.push(e),this.newTextItem=null},addGroup:function(e){this.items.push(e),this.newGroup=null},removeItem:function(e){var t=this.items.indexOf(e);this.items.splice(t,1)},replaceItem:function(e){var t,n,i=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(t,n)||G(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=i[0],o=i[1],s=this.items.indexOf(r);this.items.splice(s,1,o)}},render:function(e,t,n,s,a,l){var c=(0,i.up)("TextItem"),u=(0,i.up)("FieldItem"),d=(0,i.up)("GroupItem"),h=(0,i.up)("VueDraggableNext"),p=(0,i.up)("FieldForm"),f=(0,i.up)("Card"),m=(0,i.up)("GroupForm"),g=(0,i.up)("TextForm"),v=(0,i.up)("VButton"),y=(0,i.up)("DropdownItem"),b=(0,i.up)("DropdownMenu"),w=(0,i.up)("Dropdown");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(h,{list:n.items,handle:".handle",group:"form",style:(0,r.j5)(n.withMinHeight?"min-height: 15px":null)},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.items,(function(e){return(0,i.wg)(),(0,i.iD)("div",{key:e.name},[e.markdown?((0,i.wg)(),(0,i.j4)(c,{key:0,item:e,class:"mb-2","condition-fields":l.listConditionFieldOptions,onRemove:l.removeItem,onReplace:l.replaceItem},null,8,["item","condition-fields","onRemove","onReplace"])):(0,i.kq)("v-if",!0),e.field_type?((0,i.wg)(),(0,i.j4)(u,{key:1,field:e,class:"mb-2","condition-fields":l.listConditionFieldOptions,onRemove:l.removeItem,onReplace:l.replaceItem},null,8,["field","condition-fields","onRemove","onReplace"])):(0,i.kq)("v-if",!0),Array.isArray(e.items)?((0,i.wg)(),(0,i.j4)(d,{key:2,group:e,class:"mb-2","nesting-level":n.nestingLevel+1,"condition-fields":l.listConditionFieldOptions,onRemove:l.removeItem,onReplace:l.replaceItem},null,8,["group","nesting-level","condition-fields","onRemove","onReplace"])):(0,i.kq)("v-if",!0)])})),128))]})),_:1},8,["list","style"]),a.newField?((0,i.wg)(),(0,i.j4)(f,{key:0,ref:"newFieldForm",class:"mb-2"},{default:(0,i.w5)((function(){return[(0,i.Wm)(p,{field:a.newField,focus:!0,"ok-text":e.i18n.add,"condition-fields":l.listConditionFieldOptions,onSubmit:l.addField,onCancel:t[0]||(t[0]=function(e){return a.newField=null})},null,8,["field","ok-text","condition-fields","onSubmit"])]})),_:1},512)):(0,i.kq)("v-if",!0),a.newGroup?((0,i.wg)(),(0,i.j4)(f,{key:1,ref:"newGroupForm",class:"mb-2"},{default:(0,i.w5)((function(){return[(0,i.Wm)(m,{group:a.newGroup,focus:!0,"ok-text":e.i18n.add,"condition-fields":l.listConditionFieldOptions,onSubmit:l.addGroup,onCancel:t[1]||(t[1]=function(e){return a.newGroup=null})},null,8,["group","ok-text","condition-fields","onSubmit"])]})),_:1},512)):(0,i.kq)("v-if",!0),a.newTextItem?((0,i.wg)(),(0,i.j4)(f,{key:2,ref:"newTextForm",class:"mb-2"},{default:(0,i.w5)((function(){return[(0,i.Wm)(g,{item:a.newTextItem,"condition-fields":l.listConditionFieldOptions,focus:!0,"ok-text":e.i18n.add,onSubmit:l.addTextItem,onCancel:t[2]||(t[2]=function(e){return a.newTextItem=null})},null,8,["item","condition-fields","ok-text","onSubmit"])]})),_:1},512)):(0,i.kq)("v-if",!0),n.withButtons?((0,i.wg)(),(0,i.iD)("div",o,[(0,i.Wm)(v,{long:"",type:"text",icon:"md-add",class:"me-1",onClick:l.toggleNewField},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.add_field),1)]})),_:1},8,["onClick"]),n.nestingLevel<3?((0,i.wg)(),(0,i.j4)(v,{key:0,long:"",type:"text",icon:"md-add",class:"ms-1",onClick:l.toggleNewGroup},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.add_group),1)]})),_:1},8,["onClick"])):(0,i.kq)("v-if",!0),(0,i.Wm)(w,{trigger:"click",class:"ms-1 text-start float-end",placement:"bottom-end",style:{position:"absolute",bottom:"7px",right:"0px"}},{list:(0,i.w5)((function(){return[(0,i.Wm)(b,null,{default:(0,i.w5)((function(){return[n.nestingLevel>=3?((0,i.wg)(),(0,i.j4)(y,{key:0,onClick:l.toggleNewGroup},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.add_group),1)]})),_:1},8,["onClick"])):(0,i.kq)("v-if",!0),(0,i.Wm)(y,{onClick:l.toggleNewTextItem},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.add_text),1)]})),_:1},8,["onClick"])]})),_:1})]})),default:(0,i.w5)((function(){return[(0,i.Wm)(v,{long:"",type:"text",icon:"md-more"})]})),_:1})])):(0,i.kq)("v-if",!0)],64)}}},3218:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>k}),n(8309),n(2222),n(6699);var i=n(6252);n(1249),n(4916),n(5306),n(9070),n(7941),n(2526),n(7327),n(5003),n(9554),n(4747),n(9337),n(3321);var r=n(2841),o=n(1789),s=n(784),a=n(5763),l=n(1896),c=(n(561),n(3577));function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(0,i.dD)("data-v-4a25d3fb");var p={class:"ivu-card-body py-0"},f={class:"d-flex align-items-center justify-content-between py-2"},m={class:"d-flex align-items-center py-1"},g={class:"d-flex align-items-center py-1"},v={class:"text-center my-2"};(0,i.Cn)(),n(6992),n(1539),n(8674),n(8783),n(3948);const y={name:"GroupItem",components:{FormItems:(0,i.RC)((function(){return Promise.resolve().then(n.bind(n,3218))}))},props:{formData:{type:Object,required:!0},variablesData:{type:Object,required:!1,default:function(){return{}}},propPrefix:{type:String,required:!1,default:""},item:{type:Object,required:!0}},methods:{buildDefaultValues:l.J},render:function(e,t,n,r,o,s){var a=(0,i.up)("Icon"),l=(0,i.up)("FormItems"),u=(0,i.up)("VButton"),h=(0,i.up)("VueDraggableNext"),y=(0,i.up)("Panel"),b=(0,i.up)("Collapse");return(0,i.wg)(),(0,i.j4)(b,{simple:"",class:"mb-3",style:{margin:"0 -16px"},"model-value":"1"},{default:(0,i.w5)((function(){return[(0,i.Wm)(y,{name:"1"},{content:(0,i.w5)((function(){return[n.item.is_array?((0,i.wg)(),(0,i.j4)(h,{key:0,list:n.formData,handle:".handle"},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.formData,(function(e,t){return(0,i.wg)(),(0,i.iD)("div",{key:t,class:"ivu-card ivu-card-bordered mb-2"},[(0,i._)("div",p,[(0,i._)("div",f,[(0,i._)("div",m,[(0,i.Wm)(a,{type:"ios-menu",class:"me-3 cursor-grab handle"})]),(0,i._)("div",g,[(0,i.Wm)(a,{type:"md-trash",class:"cursor-pointer",onClick:function(e){return n.formData.splice(t,1)}},null,8,["onClick"])])]),(0,i.Wm)(l,{"form-data":n.formData[t],"onUpdate:form-data":function(e){return n.formData[t]=e},items:n.item.items,"variables-data":d(d({},n.variablesData),n.formData[t]),"prop-prefix":n.propPrefix?"".concat(n.propPrefix,".").concat(t):"".concat(n.item.name,".").concat(t)},null,8,["form-data","onUpdate:form-data","items","variables-data","prop-prefix"])])])})),128)),(0,i._)("div",v,[(0,i.Wm)(u,{long:"",type:"text",icon:"md-add",class:"me-1",onClick:t[0]||(t[0]=function(e){return n.formData.push(s.buildDefaultValues(n.item.items))})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,c.zw)(e.i18n.add_item),1)]})),_:1})])]})),_:1},8,["list"])):((0,i.wg)(),(0,i.j4)(l,{key:1,"form-data":n.formData,"onUpdate:form-data":t[1]||(t[1]=function(e){return n.formData=e}),items:n.item.items,"variables-data":d(d({},n.variablesData),n.formData),"prop-prefix":n.propPrefix?n.propPrefix:n.item.name},null,8,["form-data","items","variables-data","prop-prefix"]))]})),default:(0,i.w5)((function(){return[(0,i.Uk)((0,c.zw)(n.item.display_name)+" ",1)]})),_:1})]})),_:1})},__scopeId:"data-v-4a25d3fb"};var b=n(5487);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const k={name:"FormItems",components:{FormListInput:r.Z,FormInput:o.Z,GroupItem:y,Markdown:s.Z},props:{formData:{type:Object,required:!0},variablesData:{type:Object,required:!1,default:function(){return{}}},propPrefix:{type:String,required:!1,default:""},items:{type:Array,required:!0}},emits:["update:form-data"],computed:{mergedVariablesFormData:function(){return _(_({},this.variablesData),this.formData)}},watch:{items:{deep:!0,handler:function(e){this.$emit("update:form-data",(0,l.J)(this.items))}}},methods:{checkConditions:l.Q,interpolate:a.sX,buildValidationRules:function(e){return(e.validators||[]).map((function(t){return _(_({},t),{},{message:b.c.field_is_required.replace("%{field}",e.display_name)})}))}},render:function(e,t,n,r,o,s){var a=(0,i.up)("Markdown"),l=(0,i.up)("GroupItem"),c=(0,i.up)("FormListInput"),u=(0,i.up)("FormInput"),d=(0,i.up)("FormItem");return(0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.items,(function(e){return(0,i.wg)(),(0,i.iD)("div",{key:e.name},[s.checkConditions(e.conditions,s.mergedVariablesFormData)?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[e.markdown?((0,i.wg)(),(0,i.j4)(a,{key:0,markdown:e.markdown,data:s.mergedVariablesFormData,"without-data":!0},null,8,["markdown","data"])):e.items?((0,i.wg)(),(0,i.j4)(l,{key:1,"form-data":n.formData[e.name],"onUpdate:form-data":function(t){return n.formData[e.name]=t},item:e,"variables-data":n.variablesData,"prop-prefix":n.propPrefix?"".concat(n.propPrefix,".").concat(e.name):e.name},null,8,["form-data","onUpdate:form-data","item","variables-data","prop-prefix"])):((0,i.wg)(),(0,i.j4)(d,{key:2,ref:"formItem",label:s.interpolate(e.display_name,s.mergedVariablesFormData),rules:s.buildValidationRules(e),prop:n.propPrefix?"".concat(n.propPrefix,".").concat(e.name):e.name},{default:(0,i.w5)((function(){return[e.is_array&&["file","json","textarea"].includes(e.field_type)?((0,i.wg)(),(0,i.j4)(c,{key:0,modelValue:n.formData[e.name],"onUpdate:modelValue":function(t){return n.formData[e.name]=t},column:e,"form-data":s.mergedVariablesFormData},null,8,["modelValue","onUpdate:modelValue","column","form-data"])):((0,i.wg)(),(0,i.j4)(u,{key:1,modelValue:n.formData[e.name],"onUpdate:modelValue":function(t){return n.formData[e.name]=t},column:e,"form-data":s.mergedVariablesFormData},null,8,["modelValue","onUpdate:modelValue","column","form-data"]))]})),_:2},1032,["label","rules","prop"]))],2112)):(0,i.kq)("v-if",!0)])})),128)}}},6126:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>M});var i=n(6252),r=n(3577),o={key:0,class:"sticky-footer"},s=n(7757),a=n.n(s),l=(n(9653),n(4916),n(4723),n(1249),n(5306),n(9554),n(4747),n(6541),n(6699),n(9600),n(1539),n(8674),n(9070),n(7941),n(2526),n(7327),n(5003),n(9337),n(3321),n(9963)),c={key:0},u={class:"fs-2 fw-bold text-center mb-2"},d={key:0,class:"mb-2"},h={key:0},p=["innerHTML"];n(7727),n(8309),n(2222);var f=n(3218),m=n(5763),g=n(1006),v=n(9476),y=n(1896),b=n(9669),w=n.n(b),_=n(7856),x=n.n(_);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const A={name:"DataForm",components:{FormItems:f.default},props:{data:{type:Object,required:!1,default:function(){return{}}},form:{type:Object,required:!0},withSuccessMessage:{type:Boolean,required:!1,default:!0},withSubmit:{type:Boolean,required:!1,default:!1}},emits:["submit","success","error","reset"],data:function(){return{isLoading:!1,isSuccess:!1,successData:null,formData:{}}},computed:{safeSuccessData:function(){return x().sanitize(this.successData)},headers:function(){var e={},t=document.querySelector('[name="csrf-token"]');return t&&(e["X-CSRF-Token"]=t.content),e},isSubmitDisabled:function(){return!this.form.api_path},fields:function(){return this.form.preferences.fields}},watch:{data:function(){this.formData=C(C(C({},(0,y.J)(this.fields)),this.formData),this.data)},form:function(){this.formData=C(C(C({},(0,y.J)(this.fields)),this.formData),this.data)}},created:function(){this.formData=C(C({},(0,y.J)(this.fields)),this.data)},methods:{scrollToErrors:v.o,reset:function(){this.formData={},this.$parent.resetData(),this.isSuccess=!1,this.successData=null,this.formData=C(C({},(0,y.J)(this.fields)),this.$parent.formData)},sendData:function(){var e=this,t=(0,m.sX)(this.form.api_path,this.formData),n=this.form.http_method.toLowerCase();this.isLoading=!0,(0,g.w)().then((function(i){return w()[n](t,C({},e.formData),{headers:C(C({},e.headers),i.headers)}).then((function(t){var n,i,r=(null===(n=t.data)||void 0===n?void 0:n.redirect)||(null===(i=t.data)||void 0===i?void 0:i.redirect_to)||t.redirect||t.redirect_to;if("string"==typeof r){var o=e.$router.resolve({path:r.replace(location.origin,"")},e.$route);null!=o&&o.name?e.$router.push(o):location.href=r}else e.isSuccess=!0,e.successData=t.data;e.$emit("success",t)})).catch((function(t){var n,i;console.error(t),null!==(n=t.response)&&void 0!==n&&null!==(i=n.data)&&void 0!==i&&i.errors?(e.$refs.form.setErrors(t.response.data.errors),e.scrollToErrors()):e.$Message.error("".concat(e.i18n.unable_to_submit_form,": ").concat(t.response.status)),e.$emit("error",t)})).finally((function(){e.isLoading=!1,e.$emit("submit",e.formData)}))}))},handleSubmit:function(){var e=this;this.isSubmitDisabled||this.$refs.form.validate((function(t){t?e.sendData():e.scrollToErrors()}))}},render:function(e,t,n,o,s,a){var f=(0,i.up)("Icon"),m=(0,i.up)("VButton"),g=(0,i.up)("FormItems"),v=(0,i.up)("VForm"),y=(0,i.up)("Spin");return(0,i.wg)(),(0,i.iD)(i.HY,null,[s.isSuccess&&n.withSuccessMessage?((0,i.wg)(),(0,i.iD)("div",c,[(0,i._)("p",u,[(0,i.Wm)(f,{type:"md-checkmark-circle-outline",class:"text-success"}),(0,i.Uk)(" "+(0,r.zw)(e.i18n.form_has_been_submitted_successfully),1)]),s.successData?((0,i.wg)(),(0,i.iD)("div",d,["object"==typeof s.successData?((0,i.wg)(),(0,i.iD)("pre",h,(0,r.zw)(JSON.stringify(s.successData,null,"  ")),1)):((0,i.wg)(),(0,i.iD)("div",{key:1,innerHTML:a.safeSuccessData},null,8,p))])):(0,i.kq)("v-if",!0),(0,i.Wm)(m,{icon:"md-refresh",size:"large",ghost:"",long:"",type:"primary",onClick:a.reset},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.resubmit),1)]})),_:1},8,["onClick"])])):((0,i.wg)(),(0,i.j4)(v,{key:1,ref:"form",model:s.formData,"label-position":"top",onSubmit:(0,l.iM)(a.handleSubmit,["prevent"])},{default:(0,i.w5)((function(){return[(0,i.Wm)(g,{"form-data":s.formData,"onUpdate:form-data":t[0]||(t[0]=function(e){return s.formData=e}),"variables-data":s.formData,items:a.fields},null,8,["form-data","variables-data","items"]),n.withSubmit?((0,i.wg)(),(0,i.j4)(m,{key:0,type:"primary",long:"",size:"large",disabled:a.isSubmitDisabled,onClick:a.handleSubmit},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.submit),1)]})),_:1},8,["disabled","onClick"])):(0,i.kq)("v-if",!0)]})),_:1},8,["model","onSubmit"])),s.isLoading?((0,i.wg)(),(0,i.j4)(y,{key:2,fix:""})):(0,i.kq)("v-if",!0)],64)}};var D=n(7248);function O(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,r)}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const M={name:"CustomFormWrapper",components:{CustomForm:A},props:{data:{type:Object,required:!1,default:function(){return{}}},form:{type:Object,required:!1,default:null},withFooterSubmit:{type:Boolean,required:!1,default:!1},withSuccessMessage:{type:Boolean,required:!1,default:!0},formId:{type:Number,required:!1,default:null}},emits:["submit","success","error","loaded"],data:function(){return{formData:{},dataForm:{},variableWatchers:{},isSuccess:!1,isLoading:!0}},computed:{customFormComponentData:function(){return this.$refs.form.formData},intialDataVariables:function(){if(this.dataForm.preferences.default_values_api_path){var e=this.dataForm.preferences.default_values_api_path.match(/{{?(\w+)}}?/g);return e?e.map((function(e){return e.replace(/[{}]/g,"")})):[]}return[]}},watch:{"dataForm.preferences.default_values_api_path":function(e){this.assignInitialDataVariablesWatchers()},data:function(){this.formData=E({},this.data),this.loadData()},form:function(){this.dataForm=E({},this.form),this.loadData()}},created:function(){var e,t=this;return(e=a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.formData=E({},t.data),t.form){e.next=6;break}return e.next=4,t.loadForm();case 4:e.next=7;break;case 6:t.dataForm=E({},t.form);case 7:return e.next=9,t.loadData();case 9:t.isLoading=!1,t.$emit("loaded",t.dataForm),t.assignInitialDataVariablesWatchers();case 12:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){O(o,i,r,s,a,"next",e)}function a(e){O(o,i,r,s,a,"throw",e)}s(void 0)}))})()},methods:{submit:function(){this.$refs.form.handleSubmit()},assignInitialDataVariablesWatchers:function(){var e=this;this.intialDataVariables.forEach((function(t){var n;(n=e.variableWatchers)[t]||(n[t]=(0,i.YP)((function(){return e.customFormComponentData[t]}),(function(t){t&&e.loadData()})))}))},resetData:function(){this.isSuccess=!1,this.formData=E({},this.data),this.loadData()},onSuccess:function(e){this.isSuccess=!0,this.$emit("success",e)},loadData:function(){var e=this,t=this.intialDataVariables.every((function(t){return![null,void 0,""].includes(e.customFormComponentData[t])}));if(this.dataForm.preferences.default_values_api_path&&t){var n=(0,m.sX)(this.dataForm.preferences.default_values_api_path,this.customFormComponentData);return(0,g.w)().then((function(t){return w().get(n,{},{headers:E(E({},e.headers),t.headers)}).then((function(t){e.formData=E(E({},e.data),t.data)})).catch((function(t){var n;console.error(t),null!==(n=t.response.data)&&void 0!==n&&n.errors?e.$Message.error((0,m.$G)(t.response.data.errors.join("\n"),70)):e.$Message.error(e.i18n.unable_to_load_form_data)}))}))}return Promise.resolve({})},loadForm:function(){var e=this;return D.Z.get("forms/".concat(this.formId),{}).then((function(t){e.dataForm=t.data.data})).catch((function(t){var n;console.error(t),null!==(n=t.response.data)&&void 0!==n&&n.errors&&e.$Message.error(t.response.data.errors.join("\n"))}))}},render:function(e,t,n,s,a,l){var c=(0,i.up)("Spin"),u=(0,i.up)("CustomForm"),d=(0,i.up)("VButton");return(0,i.wg)(),(0,i.iD)("div",null,[a.isLoading?((0,i.wg)(),(0,i.j4)(c,{key:0,fix:""})):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i.Wm)(u,{ref:"form",form:a.dataForm,data:a.formData,"with-submit":!n.withFooterSubmit,"with-success-message":n.withSuccessMessage,onSuccess:l.onSuccess,onError:t[0]||(t[0]=function(t){return e.$emit("error",t)}),onReset:l.resetData,onSubmit:t[1]||(t[1]=function(t){return e.$emit("submit",t)})},null,8,["form","data","with-submit","with-success-message","onSuccess","onReset"]),n.withFooterSubmit&&!a.isSuccess?((0,i.wg)(),(0,i.iD)("div",o,[(0,i.Wm)(d,{type:"primary",long:"",size:"large",style:{position:"sticky",bottom:"0"},onClick:l.submit},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.submit),1)]})),_:1},8,["onClick"])])):(0,i.kq)("v-if",!0)],64))])}}},7272:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(6252);n(9653);var r=n(8424);const o={name:"DashboardSelect",props:{modelValue:{type:[String,Number],required:!1,default:""},size:{type:String,required:!1,default:"default"}},emits:["update:modelValue"],computed:{dashboards:function(){return r.n3}},created:function(){(0,r.jc)()},methods:{},render:function(e,t,n,r,o,s){var a=(0,i.up)("MSelect");return(0,i.wg)(),(0,i.j4)(a,{"model-value":n.modelValue,filterable:"",size:n.size,options:s.dashboards,"label-key":"title","value-key":"id",placeholder:e.i18n.select_dashboard,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.$emit("update:modelValue",t)})},null,8,["model-value","size","options","placeholder"])}}},813:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ne});var i=n(6252);n(9653),n(3710),n(1539),n(9714),n(4916),n(4723);var r=n(3577),o={key:0},s=n(1308);const a={name:"DateTime",props:{value:{type:String,required:!1,default:""},displayTime:{type:Boolean,required:!1,default:!0}},computed:{formatOptions:function(){var e={year:"numeric",month:"short",day:"numeric"};return this.displayTime&&(e.hour="numeric",e.minute="numeric",e.hour12=!0),e},formattedDate:function(){return(0,s.p)(this.value,this.formatOptions)},timeAgo:function(){return(0,s.q)(this.value,new Date)}},methods:{copyToClipboard:function(){return navigator.clipboard.writeText(this.formattedDate)}},render:function(e,t,n,s,a,l){return n.value?((0,i.wg)(),(0,i.iD)("span",o,(0,r.zw)(l.formattedDate),1)):(0,i.kq)("v-if",!0)}};n(7042);const l={props:{truncate:{type:Boolean,required:!1,default:!0}},computed:{isTruncated:function(){return!!this.truncate&&this.value.length>60},truncatedValue:function(){return this.isTruncated?this.value.slice(0,60)+"...":this.value}}};function c(){return navigator.clipboard.writeText(this.value.toString())}const u={name:"TextCell",mixins:[l],props:{value:{type:[String],required:!1,default:""}},computed:{popoverParams:function(){return{content:this.value,trigger:"mouseenter",disabled:!0,bodyStyle:{maxWidth:"350px",overflowY:"auto",maxHeight:"200px",whiteSpace:"pre-wrap",lineBreak:"anywhere"}}}},methods:{copyToClipboard:c},render:function(e,t,n,o,s,a){var l=(0,i.Q2)("popover");return(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{class:(0,r.C_)(["text-cell",{"pre-wrap":!e.truncate}])},[(0,i.Uk)((0,r.zw)(e.truncatedValue),1)],2)),[[l,a.popoverParams]])}};var d=n(9963);n(8309);const h={name:"TextCell",mixins:[l],props:{value:{type:[String],required:!1,default:""},format:{type:Object,required:!1,default:function(){return{}}}},computed:{linkParams:function(){var e={};if(this.value.match(/^(https?:|\/rails)/))e.target="_blank",e.is="a",e.href=this.value;else{var t=this.$router.resolve({path:this.value},this.$route);null!=t&&t.name?(e.is="RouterLink",e.to=t):(e.is="a",e.href=this.value)}return e}},methods:{copyToClipboard:function(){var e="/"===this.value[0]?document.location.origin+this.value:this.value;return navigator.clipboard.writeText(e)}},render:function(e,t,n,o,s,a){return(0,i.wg)(),(0,i.j4)((0,i.LL)(a.linkParams.is),{href:a.linkParams.href,target:a.linkParams.target,rel:"nofollow",class:(0,r.C_)(n.format.link_text?"ivu-btn ivu-btn-primary ivu-btn-ghost":"text-break-all"),onClick:t[0]||(t[0]=(0,d.iM)((function(){}),["stop"]))},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(n.format.link_text||e.truncatedValue),1)]})),_:1},8,["href","target","class"])}};n(9753),n(6699),n(2023),n(1249),n(3123),n(3210),n(2222),n(9070),n(7941),n(2526),n(7327),n(5003),n(9554),n(4747),n(9337),n(3321);var p=n(1483),f=n.n(p);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y={},b=n(5763),w={ok:"ivu-tag-green",done:"ivu-tag-green",available:"ivu-tag-green",completed:"ivu-tag-green",valid:"ivu-tag-green",fail:"ivu-tag-red",failed:"ivu-tag-red",undone:"ivu-tag-orange",interrupt:"ivu-tag-orange",interrupted:"ivu-tag-orange",unavailable:"ivu-tag-orange",progress:"ivu-tag-orange",in_progress:"ivu-tag-blue",pending:"ivu-tag-blue",enabled:"ivu-tag-green",resolved:"ivu-tag-green",disabled:"ivu-tag-red",invalid:"ivu-tag-red"};const _={name:"DataTag",props:{value:{type:[String,Array,Number],required:!1,default:function(){return[]}},format:{type:Object,required:!1,default:function(){return{}}}},computed:{colorClass:function(){return w[this.value]},normalizedValue:function(){return"string"==typeof this.value&&this.format.split_tags_by&&this.value.includes(this.format.split_tags_by)?this.value.split(this.format.split_tags_by).map((function(e){return e.trim()})):this.value},tagColors:function(){return function(e){var t=y[e];if(!t){var n={};e&&e.toString().match(/^not[_\s]/i)&&(n={hue:{min:0,max:60}}),t=[new(f())(g(g({},n),{},{lightness:.9})).hex(e.toString()),new(f())(g(g({},n),{},{lightness:.4})).hex(e.toString())],y[e]=t}return t}(this.value)},bgStyle:function(){return this.colorClass?"":"background: ".concat(this.tagColors[0],"; border: 1px solid ").concat(this.tagColors[1])},textStyle:function(){return this.colorClass?"":"color: ".concat(this.tagColors[1]," !important")}},methods:{titleize:b.MI,copyToClipboard:c},render:function(e,t,n,o,s,a){var l=(0,i.up)("DataTag");return Array.isArray(a.normalizedValue)?((0,i.wg)(!0),(0,i.iD)(i.HY,{key:0},(0,i.Ko)(a.normalizedValue,(function(e,t){return(0,i.wg)(),(0,i.j4)(l,{key:t,value:e,format:n.format},null,8,["value","format"])})),128)):n.value?((0,i.wg)(),(0,i.iD)("div",{key:1,class:(0,r.C_)(["ivu-tag ivu-tag-size-default ivu-tag-checked cursor-unset",a.colorClass]),style:(0,r.j5)(a.bgStyle)},[(0,i._)("span",{class:"ivu-tag-text ivu-tag-color-white cursor-unset",style:(0,r.j5)(a.textStyle)},(0,r.zw)(a.titleize(n.value.toString())),5)],6)):(0,i.kq)("v-if",!0)}};var x={key:0,class:"photoswipe"},k=["href"],C=["src"],S=["src"],A=n(5776),D=n(6255);const O={name:"DataImage",props:{value:{type:String,required:!0},photoswipe:{type:Boolean,required:!1,default:!1}},mounted:function(){if(this.photoswipe){var e={gallerySelector:".photoswipe a",pswpModule:D.Z};new A.Z(e).init()}},methods:{copyToClipboard:function(){var e="/"===this.value[0]?document.location.origin+this.value:this.value;return navigator.clipboard.writeText(e)}},render:function(e,t,n,r,o,s){return n.photoswipe&&n.value?((0,i.wg)(),(0,i.iD)("div",x,[(0,i._)("a",{href:n.value,target:"_blank",class:"cursor-zoom-in","data-pswp-width":"3000","data-pswp-height":"3000"},[(0,i._)("img",{class:"info-image",src:n.value},null,8,C)],8,k)])):n.value?((0,i.wg)(),(0,i.iD)("img",{key:1,class:"table-image",src:n.value},null,8,S)):(0,i.kq)("v-if",!0)}},T={name:"DataBoolean",props:{value:{type:[Boolean,String],required:!1,default:!1}},computed:{},mounted:function(){},methods:{copyToClipboard:c},render:function(e,t,n,r,o,s){var a=(0,i.up)("Icon");return"true"===n.value||!0===n.value?((0,i.wg)(),(0,i.j4)(a,{key:0,type:"md-checkmark-circle",class:"text-success fs-2"})):((0,i.wg)(),(0,i.j4)(a,{key:1,type:"md-close-circle",class:"text-danger fs-2"}))}};var E=["href"];const $={name:"TextCell",mixins:[l],props:{value:{type:[String],required:!1,default:""}},computed:{},methods:{copyToClipboard:c},render:function(e,t,n,o,s,a){return(0,i.wg)(),(0,i.iD)("a",{href:"mailto:".concat(n.value),target:"_blank",rel:"nofollow",onClick:t[0]||(t[0]=(0,d.iM)((function(){}),["stop"]))},(0,r.zw)(e.truncatedValue),9,E)}};var M=["href"];const R={name:"DataPhone",mixins:[l],props:{value:{type:[String],required:!1,default:""}},computed:{},methods:{copyToClipboard:c},render:function(e,t,n,o,s,a){return(0,i.wg)(),(0,i.iD)("a",{href:"tel:".concat(n.value),target:"_blank",rel:"nofollow",onClick:t[0]||(t[0]=(0,d.iM)((function(){}),["stop"]))},(0,r.zw)(e.truncatedValue),9,M)}},L={name:"CurrencyCell",props:{value:{type:[String,Number],required:!1,default:""},format:{type:Object,required:!1,default:function(){return{}}}},computed:{formattedValue:function(){var e="cents"===this.format.currency_base?this.value/100:this.value;return Intl.NumberFormat(navigator.language||"en-US",{style:"currency",currency:this.format.currency||"USD"}).format(e)}},methods:{copyToClipboard:function(){return navigator.clipboard.writeText(this.formattedValue)}},render:function(e,t,n,i,o,s){return(0,r.zw)(s.formattedValue)}};var P=["innerHTML"],F=n(7856),I=n.n(F),j=n(6250),N=n.n(j);const V={name:"RichtextCell",props:{value:{type:[String],required:!1,default:""},truncate:{type:Boolean,required:!1,default:!0}},computed:{safeHtml:function(){var e;return null!==(e=this.value)&&void 0!==e&&e.includes("data-trix-attachment")?N().DocumentView.render(N().Document.fromHTML(this.value)).innerHTML:I().sanitize(this.value)},truncatedValue:function(){return this.rawText.length>60?this.rawText.slice(0,60)+"...":this.rawText},rawText:function(){return I().sanitize(this.value,{ALLOWED_TAGS:[],KEEP_CONTENT:!0})},popoverParams:function(){return{content:this.safeHtml,trigger:"mouseenter",disabled:!0,bodyStyle:{maxWidth:"350px",overflowY:"auto",maxHeight:"200px",whiteSpace:"pre-wrap",lineBreak:"anywhere"}}}},methods:{copyToClipboard:c},render:function(e,t,n,r,o,s){var a=(0,i.Q2)("popover");return(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{class:"richtext richtext-cell trix-content",innerHTML:n.truncate?s.truncatedValue:s.safeHtml},null,8,P)),[[a,s.popoverParams]])}};n(1058);const B={name:"PercentageCell",props:{value:{type:[String,Number,Array],required:!1,default:0}},computed:{percent:function(){var e,t=100;return"string"==typeof this.value?e=parseInt(this.value):Array.isArray(this.value)?(e=parseInt(this.value[0]),t=parseInt(this.value[1])||t):e=this.value,parseInt(e/t*100)}},methods:{copyToClipboard:function(){return navigator.clipboard.writeText(this.percent+"%")}},render:function(e,t,n,r,o,s){var a=(0,i.up)("Progress");return(0,i.wg)(),(0,i.j4)(a,{percent:s.percent,"stroke-width":20,"text-inside":""},null,8,["percent"])},__scopeId:"data-v-3afb9c5a"},q={name:"ChangeCell",props:{value:{type:[String,Number],required:!1,default:0}},computed:{isPositiveChange:function(){return!this.value.toString().match(/^-/)}},methods:{copyToClipboard:c},render:function(e,t,n,o,s,a){var l=(0,i.up)("Icon");return(0,i.wg)(),(0,i.iD)("div",{class:(0,r.C_)(a.isPositiveChange?"text-success":"text-danger")},[(0,i.Wm)(l,{type:a.isPositiveChange?"md-arrow-round-up":"md-arrow-round-down"},null,8,["type"]),(0,i.Uk)(" "+(0,r.zw)(n.value),1)],2)}};var z={key:0,viewBox:"0 0 300 105",width:"100%",style:{"max-width":"200px"}},W=["points"];function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n(9600),n(1817),n(2165),n(6992),n(8783),n(3948),n(1038);const H={name:"ChartCell",props:{value:{type:[String,Number,Array],required:!1,default:0}},computed:{stepX:function(){return parseInt(300/(this.value.length-1))},maxValue:function(){return Math.max.apply(Math,function(e){if(Array.isArray(e))return U(e)}(e=this.value)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var e},points:function(){var e=this;return this.value.map((function(t,n){return"".concat(n*e.stepX,",").concat(102-(e.maxValue?parseInt(100*t/e.maxValue):0))})).join("\n")}},methods:{copyToClipboard:c},render:function(e,t,n,r,o,s){return Array.isArray(n.value)?((0,i.wg)(),(0,i.iD)("svg",z,[(0,i._)("polyline",{fill:"none",stroke:"#408ccf","stroke-width":"4",points:s.points},null,8,W)])):(0,i.kq)("v-if",!0)}};var K={class:"d-flex"};var Z=["src"];var G=["src"],Y=["src"];const Q={name:"DataVideo",props:{value:{type:String,required:!0},isTable:{type:Boolean,required:!1,default:!0}},methods:{copyToClipboard:function(){var e="/"===this.value[0]?document.location.origin+this.value:this.value;return navigator.clipboard.writeText(e)}},render:function(e,t,n,r,o,s){return n.isTable&&n.value?((0,i.wg)(),(0,i.iD)("video",{key:0,src:n.value,class:"table-image"},null,8,G)):n.value?((0,i.wg)(),(0,i.iD)("video",{key:1,src:n.value,style:{width:"100%"},controls:""},null,8,Y)):(0,i.kq)("v-if",!0)}},J={name:"NumberCell",props:{value:{type:[String,Number,Array],required:!1,default:""},withFormat:{type:Boolean,required:!1,default:!1}},computed:{formattedValue:function(){return Array.isArray(this.value)?null!==this.value?JSON.stringify(this.value,null," "):this.value:this.withFormat&&this.value&&"number"==typeof this.value?Intl.NumberFormat(navigator.language||"en-US").format(this.value):null===(e=this.value)||void 0===e?void 0:e.toString();var e}},methods:{copyToClipboard:c},render:function(e,t,n,i,o,s){return(0,r.zw)(s.formattedValue)}},X="datetime",ee="tag",te="date",ne={name:"DataCell",components:{DataText:u,DateTime:a,DataLink:h,DataTag:_,DataImage:O,DataBoolean:T,DataEmail:$,DataPhone:R,DataCurrency:L,DataRichtext:V,DataPercentage:B,DataChange:q,DataChart:H,DataColor:{name:"ColorCell",props:{value:{type:String,required:!1,default:""}},computed:{},methods:{copyToClipboard:c},render:function(e,t,n,o,s,a){return(0,i.wg)(),(0,i.iD)("div",K,[(0,i._)("span",{style:(0,r.j5)({backgroundColor:n.value,width:"20px",height:"20px",marginRight:"5px"})},null,4),(0,i.Uk)(" "+(0,r.zw)(n.value),1)])}},DataAudio:{name:"AudioCell",props:{value:{type:[String],required:!1,default:""}},computed:{},methods:{copyToClipboard:function(){var e="/"===this.value[0]?document.location.origin+this.value:this.value;return navigator.clipboard.writeText(e)}},render:function(e,t,n,r,o,s){return n.value?((0,i.wg)(),(0,i.iD)("audio",{key:0,controls:"",preload:"metadata",class:"align-middle my-1",src:n.value},null,8,Z)):(0,i.kq)("v-if",!0)}},DataVideo:Q,DataNumber:J},props:{value:{type:[String,Number,Object,Boolean],required:!1,default:""},type:{type:String,required:!1,default:"text"},format:{type:Object,required:!1,default:function(){return{}}},textTruncate:{type:Boolean,required:!1,default:!0}},computed:{stringValue:function(){return this.value&&"object"==typeof this.value?JSON.stringify(this.value,null,"  "):"number"==typeof this.value?this.value.toString():(null!==(e=this.value)&&void 0!==e?e:"").toString();var e},isDateTime:function(){return this.type===X||this.type===te},isTag:function(){return this.type===ee},isPhone:function(){return!!this.stringValue.match(/^\+[\d\s()-]{5,}$/)},isEmail:function(){return!!this.stringValue.match(/^[\w.]+@[\w-]+\.\w{2,3}/)},isBoolean:function(){return"boolean"===this.type},isPercentage:function(){return"percentage"===this.type},isChange:function(){return"change"===this.type},isNumber:function(){return"integer"===this.type||"float"===this.type||"number"===this.type},isChart:function(){return"chart"===this.type},isImage:function(){return"image"===this.type||this.isPath&&!!this.stringValue.match(/\.(jpg|png|jpeg|webp|svg|gif)$/i)},isAudio:function(){return"audio"===this.type||this.isPath&&!!this.stringValue.match(/\.(mp3|ogg|wav|aif)$/i)},isVideo:function(){return"video"===this.type||this.isPath&&!!this.stringValue.match(/\.(mp4|mov|flv|webm)$/i)},isCurrency:function(){return"currency"===this.type},isColor:function(){return"color"===this.type},isRichtext:function(){return"richtext"===this.type},isUrl:function(){return!!this.stringValue.match(/^https?:\/\//i)},isPath:function(){return!!this.stringValue.match(/^\/[^\s]+$/i)}},render:function(e,t,n,r,o,s){var a=(0,i.up)("DateTime"),l=(0,i.up)("DataRichtext"),c=(0,i.up)("DataPercentage"),u=(0,i.up)("DataColor"),d=(0,i.up)("DataChange"),h=(0,i.up)("DataChart"),p=(0,i.up)("DataCurrency"),f=(0,i.up)("DataTag"),m=(0,i.up)("DataImage"),g=(0,i.up)("DataAudio"),v=(0,i.up)("DataVideo"),y=(0,i.up)("DataLink"),b=(0,i.up)("DataBoolean"),w=(0,i.up)("DataEmail"),_=(0,i.up)("DataPhone"),x=(0,i.up)("DataNumber"),k=(0,i.up)("DataText");return s.isDateTime?((0,i.wg)(),(0,i.j4)(a,{key:0,ref:"cell",value:s.stringValue,"display-time":"date"!==n.type},null,8,["value","display-time"])):s.isRichtext?((0,i.wg)(),(0,i.j4)(l,{key:1,ref:"cell",truncate:n.textTruncate,value:n.value},null,8,["truncate","value"])):s.isPercentage?((0,i.wg)(),(0,i.j4)(c,{key:2,ref:"cell",value:n.value},null,8,["value"])):s.isColor?((0,i.wg)(),(0,i.j4)(u,{key:3,ref:"cell",value:n.value},null,8,["value"])):s.isChange?((0,i.wg)(),(0,i.j4)(d,{key:4,ref:"cell",value:n.value},null,8,["value"])):s.isChart?((0,i.wg)(),(0,i.j4)(h,{key:5,ref:"cell",value:n.value},null,8,["value"])):s.isCurrency?((0,i.wg)(),(0,i.j4)(p,{key:6,ref:"cell",value:n.value,format:n.format},null,8,["value","format"])):s.isTag?((0,i.wg)(),(0,i.j4)(f,{key:7,ref:"cell",value:n.value,format:n.format},null,8,["value","format"])):s.isImage?((0,i.wg)(),(0,i.j4)(m,{key:8,ref:"cell",photoswipe:!n.textTruncate,value:s.stringValue},null,8,["photoswipe","value"])):s.isAudio?((0,i.wg)(),(0,i.j4)(g,{key:9,ref:"cell",value:s.stringValue},null,8,["value"])):s.isVideo?((0,i.wg)(),(0,i.j4)(v,{key:10,ref:"cell","is-table":n.textTruncate,value:s.stringValue},null,8,["is-table","value"])):s.isUrl||s.isPath?((0,i.wg)(),(0,i.j4)(y,{key:11,ref:"cell",truncate:n.textTruncate,format:n.format,value:s.stringValue},null,8,["truncate","format","value"])):s.isBoolean?((0,i.wg)(),(0,i.j4)(b,{key:12,ref:"cell",value:n.value},null,8,["value"])):s.isEmail?((0,i.wg)(),(0,i.j4)(w,{key:13,ref:"cell",truncate:n.textTruncate,value:n.value},null,8,["truncate","value"])):s.isPhone?((0,i.wg)(),(0,i.j4)(_,{key:14,ref:"cell",truncate:n.textTruncate,value:n.value},null,8,["truncate","value"])):s.isNumber?((0,i.wg)(),(0,i.j4)(x,{key:15,ref:"cell",value:n.value,"with-format":n.format.number_format},null,8,["value","with-format"])):((0,i.wg)(),(0,i.j4)(k,{key:16,ref:"cell",truncate:n.textTruncate,value:s.stringValue},null,8,["truncate","value"]))}}},85:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h}),n(7327),n(3710),n(1539),n(9714);var i=n(6252),r=n(9963),o=n(3577);(0,i.dD)("data-v-3ee6b1f8");var s=(0,i.Uk)();(0,i.Cn)(),n(9653),n(4916),n(4723),n(9600),n(9826),n(8309),n(9070),n(7941),n(2526),n(5003),n(9554),n(4747),n(9337),n(3321);var a=n(48),l=n(5763);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h={name:"ResourceReference",props:{resourceId:{type:[String,Number],required:!0},referenceName:{type:String,required:!1,default:""},referenceData:{type:[String,Object],required:!1,default:function(){return{}}},polymorphicModel:{type:Object,required:!1,default:null},maxLength:{type:Number,required:!1,default:20},alwaysRefer:{type:Boolean,required:!1,default:!1},showPopover:{type:Boolean,required:!1,default:!1}},computed:{isNumberId:function(){return!!this.resourceId.toString().match(/^\d+$/)},referenceId:function(){return this.referenceData[this.model.primary_key]},isCanRead:function(){return this.$can("read",this.model.class_name,this.referenceData)},displayText:function(){return this.referenceData.first_name&&this.referenceData.last_name?[this.referenceData.first_name,this.referenceData.last_name].join(" "):this.referenceData[this.model.display_column]},popoverParams:function(){var e=this,t=this.model.tabs.find((function(e){return"details"===e.name}));return{trigger:"mouseenter",render:function(i){return"query"===(null==t?void 0:t.tab_type)?i(n(2920).Z,{tab:t,style:"min-width: 250px",class:"richtext-no-padding",variables:u(d({id:e.referenceId},"".concat(e.model.name,"_id"),e.referenceId),e.referenceData)}):i(n(6270).Z,{resourceName:e.model.name,resourceId:e.referenceId,oneColumn:!0,referencePopover:!1})},disabled:!this.showPopover||!this.referenceId||!this.isCanRead,placement:"right",bodyStyle:{whiteSpace:"query"===(null==t?void 0:t.tab_type)?"":"break-spaces",overflowY:"auto",minHeight:"50px",maxHeight:"300px",maxWidth:"300px"}}},model:function(){return this.polymorphicModel?this.polymorphicModel:a.r3[this.referenceName]},resourceSlug:function(){return this.model.slug}},methods:{truncate:l.$G,copyToClipboard:function(){return navigator.clipboard.writeText(this.referenceId)}},render:function(e,t,n,a,l,c){var u=(0,i.up)("VButton"),d=(0,i.Q2)("popover");return(0,i.wy)(((0,i.wg)(),(0,i.j4)(u,{to:c.referenceId||n.alwaysRefer?{name:"resources",params:{fragments:[c.resourceSlug,c.referenceId||n.resourceId].filter(Boolean)}}:null,type:"primary",ghost:"",shape:"circle",onClick:t[0]||(t[0]=(0,r.iM)((function(){}),["stop"]))},{default:(0,i.w5)((function(){return[c.isNumberId?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[n.alwaysRefer||c.model.display_primary_key?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i.Uk)(" #"+(0,o.zw)(n.resourceId),1)],2112)):(0,i.kq)("v-if",!0),s,n.resourceId!==c.displayText?((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i.Uk)((0,o.zw)(c.truncate(c.displayText,n.maxLength)),1)],2112)):(0,i.kq)("v-if",!0)],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i.Uk)((0,o.zw)(c.truncate(c.model.display_primary_key?n.resourceId.toString():c.displayText,n.maxLength)),1)],2112))]})),_:1},8,["to"])),[[d,c.popoverParams]])},__scopeId:"data-v-3ee6b1f8"}},1789:(e,t,n)=>{"use strict";n.d(t,{Z:()=>re}),n(8309),n(3710),n(1539),n(9714);var i=n(6252),r=n(9963);n(9653),n(6699),n(4916),n(4723),n(2023),n(5306);var o=n(7390);n(6992),n(8674),n(8783),n(3948),n(9826),n(2222),n(9600),n(7727),n(9070);var s=n(7248),a=n(48),l=n(645),c=n(5763),u=n(8688),d=(0,i.RC)((function(){return Promise.resolve().then(n.bind(n,9026))})),h=(0,i.RC)((function(){return Promise.resolve().then(n.bind(n,6126))}));const p={name:"ResourceSelect",props:{modelValue:{type:[String,Number,Array],required:!1,default:""},resourceName:{type:String,required:!0},multiple:{type:Boolean,required:!1,default:!1},primaryKey:{type:String,required:!1,default:""},selectedResource:{type:Object,required:!1,default:null}},emits:["update:modelValue","select"],data:function(){return{options:[],selectedOptions:[],selectedOption:null,isLoading:!1,value:this.multiple?[]:""}},computed:{model:function(){return a.r3[this.resourceName]},canCreateNew:function(){var e;return!(null===(e=this.createAction)||void 0===e||!e.visible)},createAction:function(){return this.model.actions.find((function(e){return"create"===e.name}))},valueKey:function(){return this.primaryKey||this.model.primary_key},customCreateActionProps:function(){var e=this;return{data:(0,l.JG)(this.model),formId:this.createAction.preferences.form_id,withFooterSubmit:!0,withSuccessMessage:!1,onClose:function(){e.$Modal.remove()},onSuccess:function(t){e.onCreateSuccess(t.data.data||t.data[e.model.name]||t.data),e.$Modal.remove()}}},defaultCreateProps:function(){var e=this;return{action:"new",resource:(0,l.JG)(this.model),resourceName:this.model.name,withSaveAndCreateNew:!1,onClose:function(){e.$Modal.remove()},onSuccess:function(t){e.onCreateSuccess(t.data.data)}}}},watch:{modelValue:function(e){var t=this;this.multiple?null!=e&&e.length&&JSON.stringify(e)!==JSON.stringify(this.value)&&this.loadMultipleResourceoptionsById(e).then((function(){t.value=e||[]})):this.value!==e&&this.assignSelectedOption()},multiple:function(){this.resetData()},selectedResource:function(){this.selectedOption=this.selectedResource},resourceName:function(){this.resetData(),this.loadResources("")},value:function(e){this.$emit("update:modelValue",e)}},created:function(){var e,t;this.multiple?null!==(e=this.value)&&void 0!==e&&e.length?this.loadMultipleResourceoptionsById(this.value):this.value||(this.value=[]):(this.selectedOption=this.selectedResource,this.selectedOption?this.value=null!==(t=this.modelValue)&&void 0!==t?t:"":this.assignSelectedOption())},methods:{onCreateSuccess:function(e){this.selectedOption=e,this.value=e[this.valueKey]},onCreateClick:function(){var e="default"===this.createAction.action_type?d:h,t="default"===this.createAction.action_type?this.defaultCreateProps:this.customCreateActionProps;this.$Modal.open(e,t,{title:"".concat(this.createAction.display_name," ").concat((0,u.Z)(this.model.display_name)),closable:!0})},resetData:function(){this.value=this.multiple?[]:"",this.selectedOption=null,this.selectedOptions=[]},assignSelectedOption:function(){var e,t=this;this.modelValue?this.loadMultipleResourceoptionsById([this.modelValue]).then((function(e){var n;t.selectedOption=e.data.data[0],t.value=null!==(n=t.modelValue)&&void 0!==n?n:""})):(this.value=null!==(e=this.modelValue)&&void 0!==e?e:"",this.selectedOption=null)},labelFunction:function(e){var t=e[this.model.display_column];return"id"===this.valueKey?t?(0,c.$G)("#".concat(e[this.valueKey]," ").concat(t),50):"#".concat(e[this.valueKey]):(0,c.$G)(t,60)},loadMultipleResourceoptionsById:function(e){var t,n=this;this.isLoading=!0;var i,r,o,a=this.model.slug+e.join();return this.resourcesRespCache||(this.resourcesRespCache={}),(t=this.resourcesRespCache)[a]||(t[a]=s.Z.get("data/".concat(this.model.slug),{params:{filter:(i={},r=this.valueKey,o=e,r in i?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o,i)}})),this.resourcesRespCache[a].then((function(e){return n.selectedOptions=e.data.data,e})).catch((function(e){console.error(e)})).finally((function(){n.isLoading=!1}))},loadResources:function(e){var t,n=this,i=this.model.slug+e;return this.isLoading=!0,this.resourcesRespCache||(this.resourcesRespCache={}),(t=this.resourcesRespCache)[i]||(t[i]=s.Z.get("data/".concat(this.model.slug),{params:{q:e.includes(" ")?e.replace(/^#\d+\s/,""):e.replace(/^#/,""),page:{limit:20}}})),this.resourcesRespCache[i].then((function(e){n.options=e.data.data})).catch((function(e){console.error(e)})).finally((function(){n.isLoading=!1}))}},render:function(e,t,n,r,o,s){var a=(0,i.up)("MSelect");return(0,i.wg)(),(0,i.j4)(a,{key:n.resourceName,modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.value=e}),"selected-options":o.selectedOptions,"onUpdate:selected-options":t[1]||(t[1]=function(e){return o.selectedOptions=e}),"selected-option":o.selectedOption,"onUpdate:selected-option":t[2]||(t[2]=function(e){return o.selectedOption=e}),filterable:"","remote-function":s.loadResources,options:o.options,loading:o.isLoading,multiple:n.multiple,"with-create-button":s.canCreateNew,"value-key":s.valueKey,"label-function":s.labelFunction,onSelect:t[3]||(t[3]=function(t){return e.$emit("select",t)}),onClickCreate:s.onCreateClick},null,8,["modelValue","selected-options","selected-option","remote-function","options","loading","multiple","with-create-button","value-key","label-function","onClickCreate"])}};function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(5827),n(9753),n(4765),n(4553),n(7941),n(2526),n(7327),n(5003),n(9554),n(4747),n(9337),n(3321);const g={name:"QueryValueSelect",props:{modelValue:{type:[String,Number,Array],required:!1,default:""},queryId:{type:[String,Number],required:!0},multiple:{type:Boolean,required:!1,default:!1},formData:{type:Object,required:!1,default:function(){return{}}},size:{type:String,required:!1,default:"default"}},emits:["update:modelValue","select"],data:function(){return{isLoading:!1,labelColumnIndex:1,valueColumnIndex:0,dataValue:null,data:[],columns:[],selectedOptions:[],selectedOption:null,query:null}},computed:{variablesData:function(){var e=this;return this.query&&this.formData?this.query.preferences.variables.reduce((function(t,n){return"search"!==n.name&&(t[n.name]=e.formData[n.name]),t}),{}):{}},isSearchableQuery:function(){return this.query&&this.query.preferences.variables.find((function(e){return"search"===e.name}))}},watch:{multiple:function(){this.dataValue=null,this.selectedOption=null,this.selectedOptions=[]},queryId:function(){var e=this;this.data=[],this.loadQuery().then((function(){e.loadOptions()}))},modelValue:function(e){var t=this;JSON.stringify(this.dataValue)!==JSON.stringify(this.modelValue)&&(this.modelValue.length&&this.isSearchableQuery&&this.columns.length?this.loadSelectedOptions().then((function(){t.dataValue=JSON.parse(JSON.stringify(t.modelValue))})):this.dataValue=JSON.parse(JSON.stringify(this.modelValue)))},variablesData:{deep:!0,handler:function(e,t){JSON.stringify(e)!==JSON.stringify(t)&&((Array.isArray(this.modelValue)?this.modelValue.length:this.modelValue)&&this.$emit("update:modelValue",this.multiple?[]:""),this.loadOptions())}}},created:function(){var e=this;this.dataValue=JSON.parse(JSON.stringify(this.modelValue)),this.loadQuery().then((function(){e.loadOptions().then((function(){e.modelValue.length&&e.isSearchableQuery&&e.loadSelectedOptions()}))}))},methods:{loadSelectedOptions:function(){var e=this;return s.Z.get("run_queries/".concat(this.queryId),{params:{filter:m({},this.columns[this.valueColumnIndex].name,this.modelValue)}}).then((function(t){e.columns=t.data.meta.columns,e.selectedOptions=t.data.data,e.assignOptionIndexesFromColumns(e.columns)})).catch((function(e){console.error(e)}))},onUpdateValue:function(e){this.$emit("update:modelValue",e),this.$emit("select",e)},loadOptions:function(e){var t,n=this;this.isLoading=!0;var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.variablesData);this.isSearchableQuery&&(i.search=e);var r=JSON.stringify(i);return this.optionsRespCache||(this.optionsRespCache={}),(t=this.optionsRespCache)[r]||(t[r]=s.Z.get("run_queries/".concat(this.queryId),{params:{variables:i,limit:this.isSearchableQuery?50:null}})),this.optionsRespCache[r].then((function(e){n.columns=e.data.meta.columns,n.data=e.data.data,n.assignOptionIndexesFromColumns(n.columns)})).catch((function(e){console.error(e)})).finally((function(){n.isLoading=!1}))},assignOptionIndexesFromColumns:function(e){var t=e.findIndex((function(e){return"value"===e.name})),n=e.findIndex((function(e){return"label"===e.name}));-1===t&&(t=e.findIndex((function(e){return"id"===e.name}))),-1===n&&(n=e.findIndex((function(e){return"name"===e.name}))),this.valueColumnIndex=-1===t?0:t,this.labelColumnIndex=-1===n?1:n,1===e.length&&(this.labelColumnIndex=0)},loadQuery:function(){var e=this;return s.Z.get("queries/".concat(this.queryId),{params:{include:"tags"}}).then((function(t){e.query=t.data.data})).catch((function(t){var n;console.error(t),null!==(n=t.response.data)&&void 0!==n&&n.errors&&e.$Message.error(t.response.data.errors.join("\n"))}))}},render:function(e,t,n,r,o,s){var a=(0,i.up)("MSelect");return(0,i.wg)(),(0,i.j4)(a,{"selected-options":o.selectedOptions,"onUpdate:selected-options":t[0]||(t[0]=function(e){return o.selectedOptions=e}),"selected-option":o.selectedOption,"onUpdate:selected-option":t[1]||(t[1]=function(e){return o.selectedOption=e}),modelValue:o.dataValue,"onUpdate:modelValue":[t[2]||(t[2]=function(e){return o.dataValue=e}),s.onUpdateValue],filterable:"",size:n.size,options:o.data,loading:o.isLoading,multiple:n.multiple,"remote-function":s.isSearchableQuery?s.loadOptions:null,"label-key":o.labelColumnIndex,"value-key":o.valueColumnIndex,placeholder:e.i18n.select_placeholder,onSelect:t[3]||(t[3]=function(t){return e.$emit("select",t)})},null,8,["selected-options","selected-option","modelValue","size","options","loading","multiple","remote-function","label-key","value-key","placeholder","onUpdate:modelValue"])}};var v={class:"trix-container"},y=["contenteditable","input","placeholder"],b=["id","name","value"];n(9601);var w=n(6250),_=n.n(w),x=n(9292);class k{constructor(e,t){this.attachment=e,this.element=t,this.directUpload=new x.DirectUpload(e.file,this.directUploadUrl,this)}start(){this.directUpload.create(this.directUploadDidComplete.bind(this))}directUploadWillStoreFileWithXHR(e){e.upload.addEventListener("progress",(e=>{const t=e.loaded/e.total*100;this.attachment.setUploadProgress(t)}))}directUploadDidComplete(e,t){if(e)throw new Error(`Direct upload failed: ${e}`);this.attachment.setAttributes({sgid:t.attachable_sgid,url:this.createBlobUrl(t.signed_id,t.filename)})}createBlobUrl(e,t){return this.blobUrlTemplate.replace(":signed_id",e).replace(":filename",encodeURIComponent(t))}get directUploadUrl(){return this.element.dataset.directUploadUrl}get blobUrlTemplate(){return this.element.dataset.blobUrlTemplate}}const C={name:"VueTrix",props:{disabledEditor:{type:Boolean,required:!1,default:!1},inputId:{type:String,required:!1,default:""},inputName:{type:String,required:!1,default:"content"},placeholder:{type:String,required:!1,default:""},modelValue:{type:String,required:!1,default:""},localStorage:{type:Boolean,required:!1,default:!1},autofocus:{type:Boolean,required:!1,default:!1},config:{type:Object,required:!1,default:function(){return{}}}},emits:["trix-attachment-add","trix-attachment-remove","trix-attachment-add","trix-file-accept","trix-initialize","trix-selection-change","trix-focus","trix-blur","trix-initialize","update:modelValue"],data:function(){return{editorContent:this.modelValue,isActived:null}},computed:{generateId:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},computedId:function(){return this.inputId||this.generateId},isDisabled:function(){return this.disabledEditor}},watch:{modelValue:function(){this.modelValue!==this.editorContent&&(this.reloadEditorContent(this.modelValue),this.editorContent=this.modelValue)},editorContent:function(){this.localStorage&&localStorage.setItem(this.storageId("VueTrix"),JSON.stringify(this.$refs.trix.editor)),this.$emit("update:modelValue",this.editorContent)},isDisabled:function(e){this.decorateDisabledEditor(e)}},mounted:function(){var e=this;this.overrideConfig(this.config),this.decorateDisabledEditor(this.disabledEditor),this.$nextTick((function(){if(e.localStorage){var t=localStorage.getItem(e.storageId("VueTrix"));t&&!e.modelValue&&e.$refs.trix.editor.loadJSON(JSON.parse(t))}}))},methods:{emitAttachmentAdd:function(e){var t=e.attachment,n=e.target;t.file&&new k(t,n).start(),this.$emit("trix-attachment-add",e)},emitAttachmentRemove:function(e){this.$emit("trix-attachment-remove",e)},emitHandleFile:function(e){this.$emit("trix-attachment-add",e)},emitFileAccept:function(e){this.$emit("trix-file-accept",e)},emitInitialize:function(e){this.$emit("trix-initialize",this.$refs.trix.editor,event)},emitSelectionChange:function(e){this.$emit("trix-selection-change",this.$refs.trix.editor,e)},processTrixFocus:function(e){this.$refs.trix&&(this.isActived=!0,this.$emit("trix-focus",this.$refs.trix.editor,e))},processTrixBlur:function(e){this.$refs.trix&&(this.isActived=!1,this.$emit("trix-blur",this.$refs.trix.editor,e))},handleContentChange:function(e){this.editorContent=e.srcElement?e.srcElement.value:e.target.value,this.$emit("update:modelValue",this.editorContent)},handleInitialize:function(e){this.autofocus&&this.$refs.trix.editor.setSelectedRange(0),this.$emit("trix-initialize",this.emitInitialize)},storageId:function(e){return this.inputId?"".concat(e,".").concat(this.inputId,".content"):"".concat(e,".content")},reloadEditorContent:function(e){this.$refs.trix.editor.loadHTML(e),this.$refs.trix.editor.setSelectedRange(this.getContentEndPosition())},getContentEndPosition:function(){return this.$refs.trix.editor.getDocument().toString().length-1},decorateDisabledEditor:function(e){e?(this.$refs.trix.toolbarElement.style["pointer-events"]="none",this.$refs.trix.contentEditable=!1,this.$refs.trix.style.background="#e9ecef"):(this.$refs.trix.toolbarElement.style["pointer-events"]="unset",this.$refs.trix.style["pointer-events"]="unset",this.$refs.trix.style.background="transparent")},overrideConfig:function(e){_().config=Object.assign(_().config,e)}},render:function(e,t,n,r,o,s){return(0,i.wg)(),(0,i.iD)("div",v,[(0,i._)("trix-editor",{ref:"trix",contenteditable:!n.disabledEditor,class:"richtext trix-content ivu-input",input:s.computedId,placeholder:n.placeholder,"data-direct-upload-url":"/rails/active_storage/direct_uploads","data-blob-url-template":"/rails/active_storage/blobs/redirect/:signed_id/:filename",onTrixChange:t[0]||(t[0]=function(){return s.handleContentChange&&s.handleContentChange.apply(s,arguments)}),onTrixFileAccept:t[1]||(t[1]=function(){return s.emitFileAccept&&s.emitFileAccept.apply(s,arguments)}),onTrixAttachmentAdd:t[2]||(t[2]=function(){return s.emitAttachmentAdd&&s.emitAttachmentAdd.apply(s,arguments)}),onTrixAttachmentRemove:t[3]||(t[3]=function(){return s.emitAttachmentRemove&&s.emitAttachmentRemove.apply(s,arguments)}),onTrixSelectionChange:t[4]||(t[4]=function(){return s.emitSelectionChange&&s.emitSelectionChange.apply(s,arguments)}),onTrixInitialize:t[5]||(t[5]=function(){return s.handleInitialize&&s.handleInitialize.apply(s,arguments)}),onTrixFocus:t[6]||(t[6]=function(){return s.processTrixFocus&&s.processTrixFocus.apply(s,arguments)}),onTrixBlur:t[7]||(t[7]=function(){return s.processTrixBlur&&s.processTrixBlur.apply(s,arguments)})},null,40,y),(0,i._)("input",{id:s.computedId,type:"hidden",name:n.inputName,value:o.editorContent},null,8,b)])}};var S=n(3093),A=n(3577);const D=["name","value"],O=["tabindex"],T=(0,i.Uk)(" "+(0,A.zw)(" ")+" ");var E=n(7621),$=n.n(E),M=n(9338),R=n(3456),L=n(2565);const P=["data-color-id"],F={key:0},I={methods:{handleEscape(e){this.dispatch("ColorPicker","on-escape-keydown",e)}}},j={data:()=>({prefixCls:"ivu-color-picker",inputPrefixCls:"ivu-input",iconPrefixCls:"ion",transferPrefixCls:"ivu-transfer"})};var N=n(6378);function V(e,t){const n=$()(e),{_a:i}=n;return null==i&&n.setAlpha(t||1),n}function B(e,t){const n=""===e?"#2d8cf0":e,i=function(e,t){const n=t&&t.a;if(t){if(t.hsl)return V(t.hsl,n);if(t.hex&&t.hex.length>0)return V(t.hex,n)}return V(t,n)}(0,n),r=i.toHsl(),o=i.toHsv();return 0===r.s&&(r.h=n.h||n.hsl&&n.hsl.h||t||0,o.h=r.h),o.v<.0164&&(o.h=n.h||n.hsv&&n.hsv.h||0,o.s=n.s||n.hsv&&n.hsv.s||0),r.l<.01&&(r.h=n.h||n.hsl&&n.hsl.h||0,r.s=n.s||n.hsl&&n.hsl.s||0),{hsl:r,hex:i.toHexString().toUpperCase(),rgba:i.toRgb(),hsv:o,oldHue:n.h||t||r.h,source:n.source,a:n.a||i.getAlpha()}}function q(e,t,n){return e<t?t:e>n?n:e}function z(e,t,n){return(0,N.kw)(e,t)?n:0}function W(e,t){return e.touches?e.touches[0][t]:0}function U(e){const{r:t,g:n,b:i,a:r}=e;return`rgba(${[t,n,i,r].join(",")})`}const H={name:"RecommendedColors",mixins:[o.Z,I,j],props:{list:{type:Array,default:void 0}},data(){return{left:-1,right:1,up:-1,down:1,powerKey:"shiftKey",grid:{x:1,y:1},rows:Math.ceil(this.list.length/12),columns:12}},computed:{hideClass(){return`${this.prefixCls}-hide`},linearIndex(){return this.getLinearIndex(this.grid)},currentCircle(){return this.$refs[`color-circle-${this.linearIndex}`][0]}},methods:{getLinearIndex(e){return this.columns*(e.y-1)+e.x-1},getMaxLimit(e){return"x"===e?this.columns:this.rows},handleArrow(e,t,n){e.preventDefault(),e.stopPropagation(),this.blurColor();const i={...this.grid};e[this.powerKey]?i[t]=n<0?1:this.getMaxLimit(t):i[t]+=n;const r=this.getLinearIndex(i);r>=0&&r<this.list.length&&(this.grid[t]=q(i[t],1,this.getMaxLimit(t))),this.focusColor()},blurColor(){this.currentCircle.classList.add(this.hideClass)},focusColor(){this.currentCircle.classList.remove(this.hideClass)},handleEnter(e){this.handleClick(e,this.currentCircle)},handleClick(e,t){e.preventDefault(),e.stopPropagation(),this.$refs.reference.focus();const n=t||e.target,i=n.dataset.colorId||n.parentElement.dataset.colorId;if(i){this.blurColor();const e=Number(i)+1;this.grid.x=e%this.columns||this.columns,this.grid.y=Math.ceil(e/this.columns),this.focusColor(),this.$emit("picker-color",this.list[i]),this.$emit("change",{hex:this.list[i],source:"hex"})}},lineBreak(e,t){if(!t)return!1;const n=t+1;return n<e.length&&n%this.columns==0}},render:function(e,t,n,o,s,a){return(0,i.wg)(),(0,i.iD)("div",{ref:"reference",tabindex:"0",onClick:t[0]||(t[0]=(...e)=>a.handleClick&&a.handleClick(...e)),onKeydown:[t[1]||(t[1]=(0,r.D2)(((...t)=>e.handleEscape&&e.handleEscape(...t)),["esc"])),t[2]||(t[2]=(0,r.D2)(((...e)=>a.handleEnter&&a.handleEnter(...e)),["enter"])),t[3]||(t[3]=(0,r.D2)((e=>a.handleArrow(e,"x",s.left)),["left"])),t[4]||(t[4]=(0,r.D2)((e=>a.handleArrow(e,"x",s.right)),["right"])),t[5]||(t[5]=(0,r.D2)((e=>a.handleArrow(e,"y",s.up)),["up"])),t[6]||(t[6]=(0,r.D2)((e=>a.handleArrow(e,"y",s.down)),["down"]))],onBlur:t[7]||(t[7]=(...e)=>a.blurColor&&a.blurColor(...e)),onFocus:t[8]||(t[8]=(...e)=>a.focusColor&&a.focusColor(...e))},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.list,((t,r)=>((0,i.wg)(),(0,i.iD)(i.HY,{key:t+":"+r},[(0,i._)("div",{class:(0,A.C_)([e.prefixCls+"-picker-colors-wrapper"])},[(0,i._)("div",{"data-color-id":r},[(0,i._)("div",{style:(0,A.j5)({background:t}),class:(0,A.C_)([e.prefixCls+"-picker-colors-wrapper-color"])},null,6),(0,i._)("div",{ref:"color-circle-"+r,class:(0,A.C_)([e.prefixCls+"-picker-colors-wrapper-circle",a.hideClass])},null,2)],8,P)],2),a.lineBreak(n.list,r)?((0,i.wg)(),(0,i.iD)("br",F)):(0,i.kq)("v-if",!0)],64)))),128))],544)}};var K=n(1980);const Z={mixins:[o.Z,I],props:{focused:{type:Boolean,default:!1},modelValue:{type:Object,default:void 0}},beforeUnmount(){this.unbindEventListeners()},created(){this.focused&&setTimeout((()=>this.$el.focus()),1)},methods:{handleLeft(e){this.handleSlide(e,this.left,"left")},handleRight(e){this.handleSlide(e,this.right,"right")},handleUp(e){this.handleSlide(e,this.up,"up")},handleDown(e){this.handleSlide(e,this.down,"down")},handleMouseDown(e){this.dispatch("ColorPicker","on-dragging",!0),this.handleChange(e,!0),(0,K.on)(window,"mousemove",this.handleChange),(0,K.on)(window,"mouseup",this.handleMouseUp)},handleMouseUp(){this.unbindEventListeners()},unbindEventListeners(){(0,K.S)(window,"mousemove",this.handleChange),(0,K.S)(window,"mouseup",this.handleMouseUp),setTimeout((()=>this.dispatch("ColorPicker","on-dragging",!1)),1)},getLeft(e){const{container:t}=this.$refs,n=t.getBoundingClientRect().left+window.pageXOffset;return(e.pageX||W(e,"PageX"))-n},getTop(e){const{container:t}=this.$refs,n=t.getBoundingClientRect().top+window.pageYOffset;return(e.pageY||W(e,"PageY"))-n}}},G={name:"Saturation",mixins:[Z,j],emits:["change"],data:()=>({left:-.01,right:.01,up:.01,down:-.01,multiplier:10,powerKey:"shiftKey"}),computed:{bgColorStyle(){return{background:`hsl(${this.modelValue.hsv.h}, 100%, 50%)`}},pointerStyle(){return{top:-100*this.modelValue.hsv.v+1+100+"%",left:100*this.modelValue.hsv.s+"%"}}},methods:{change(e,t,n,i){this.$emit("change",{h:e,s:t,v:n,a:i,source:"hsva"})},handleSlide(e,t,n){e.preventDefault(),e.stopPropagation();const i=e[this.powerKey]?t*this.multiplier:t,{h:r,s:o,v:s,a}=this.modelValue.hsv,l=q(o+z(n,["left","right"],i),0,1),c=q(s+z(n,["up","down"],i),0,1);this.change(r,l,c,a)},handleChange(e){e.preventDefault(),e.stopPropagation();const{clientWidth:t,clientHeight:n}=this.$refs.container,i=q(this.getLeft(e),0,t),r=q(this.getTop(e),0,n),o=i/t,s=q(1-r/n,0,1);this.change(this.modelValue.hsv.h,o,s,this.modelValue.hsv.a)},handleMouseDown(e){Z.methods.handleMouseDown.call(this,e),(0,K.on)(window,"mouseup",this.handleChange)},unbindEventListeners(e){Z.methods.unbindEventListeners.call(this,e),(0,K.S)(window,"mouseup",this.handleChange)}},render:function(e,t,n,o,s,a){return(0,i.wg)(),(0,i.iD)("div",{class:(0,A.C_)([e.prefixCls+"-saturation-wrapper"]),tabindex:"0",onKeydown:[t[1]||(t[1]=(0,r.D2)(((...t)=>e.handleEscape&&e.handleEscape(...t)),["esc"])),t[3]||(t[3]=(0,r.D2)(((...t)=>e.handleLeft&&e.handleLeft(...t)),["left"])),t[4]||(t[4]=(0,r.D2)(((...t)=>e.handleRight&&e.handleRight(...t)),["right"])),t[5]||(t[5]=(0,r.D2)(((...t)=>e.handleUp&&e.handleUp(...t)),["up"])),t[6]||(t[6]=(0,r.D2)(((...t)=>e.handleDown&&e.handleDown(...t)),["down"]))],onClick:t[2]||(t[2]=t=>e.$el.focus())},[(0,i._)("div",{ref:"container",style:(0,A.j5)(a.bgColorStyle),class:(0,A.C_)([e.prefixCls+"-saturation"]),onMousedown:t[0]||(t[0]=(...e)=>a.handleMouseDown&&a.handleMouseDown(...e))},[(0,i._)("div",{class:(0,A.C_)([e.prefixCls+"-saturation--white"])},null,2),(0,i._)("div",{class:(0,A.C_)([e.prefixCls+"-saturation--black"])},null,2),(0,i._)("div",{style:(0,A.j5)(a.pointerStyle),class:(0,A.C_)([e.prefixCls+"-saturation-pointer"])},[(0,i._)("div",{class:(0,A.C_)([e.prefixCls+"-saturation-circle"])},null,2)],6)],38)],34)}},Y={name:"Hue",mixins:[Z,j],emits:["change"],data(){const e=1/360*25,t=20*e;return{left:-e,right:e,up:t,down:-t,powerKey:"shiftKey",percent:q(100*this.modelValue.hsl.h/360,0,100)}},watch:{modelValue(){this.percent=q(100*this.modelValue.hsl.h/360,0,100)}},methods:{change(e){this.percent=q(e,0,100);const{h:t,s:n,l:i,a:r}=this.modelValue.hsl,o=q(e/100*360,0,360);t!==o&&this.$emit("change",{h:o,s:n,l:i,a:r,source:"hsl"})},handleSlide(e,t){e.preventDefault(),e.stopPropagation(),e[this.powerKey]?this.change(t<0?0:100):this.change(this.percent+t)},handleChange(e){e.preventDefault(),e.stopPropagation();const t=this.getLeft(e);if(t<0)return void this.change(0);const{clientWidth:n}=this.$refs.container;t>n?this.change(100):this.change(100*t/n)}},render:function(e,t,n,o,s,a){return(0,i.wg)(),(0,i.iD)("div",{class:(0,A.C_)([e.prefixCls+"-hue"]),tabindex:"0",onClick:t[3]||(t[3]=t=>e.$el.focus()),onKeydown:[t[4]||(t[4]=(0,r.D2)(((...t)=>e.handleEscape&&e.handleEscape(...t)),["esc"])),t[5]||(t[5]=(0,r.D2)(((...t)=>e.handleLeft&&e.handleLeft(...t)),["left"])),t[6]||(t[6]=(0,r.D2)(((...t)=>e.handleRight&&e.handleRight(...t)),["right"])),t[7]||(t[7]=(0,r.D2)(((...t)=>e.handleUp&&e.handleUp(...t)),["up"])),t[8]||(t[8]=(0,r.D2)(((...t)=>e.handleDown&&e.handleDown(...t)),["down"]))]},[(0,i._)("div",{ref:"container",class:(0,A.C_)([e.prefixCls+"-hue-container"]),onMousedown:t[0]||(t[0]=(...t)=>e.handleMouseDown&&e.handleMouseDown(...t)),onTouchmove:t[1]||(t[1]=(...e)=>a.handleChange&&a.handleChange(...e)),onTouchstart:t[2]||(t[2]=(...e)=>a.handleChange&&a.handleChange(...e))},[(0,i._)("div",{style:(0,A.j5)({top:0,left:`${s.percent}%`}),class:(0,A.C_)([e.prefixCls+"-hue-pointer"])},[(0,i._)("div",{class:(0,A.C_)([e.prefixCls+"-hue-picker"])},null,2)],6)],34)],34)}},Q={name:"Alpha",mixins:[Z,j],data:()=>({left:-1,right:1,up:10,down:-10,powerKey:"shiftKey"}),computed:{gradientStyle(){const{r:e,g:t,b:n}=this.value.rgba;return{background:`linear-gradient(to right, ${U({r:e,g:t,b:n,a:0})} 0%, ${U({r:e,g:t,b:n,a:1})} 100%)`}}},methods:{change(e){const{h:t,s:n,l:i}=this.value.hsl,{a:r}=this.value;r!==e&&this.$emit("change",{h:t,s:n,l:i,a:e,source:"rgba"})},handleSlide(e,t){e.preventDefault(),e.stopPropagation(),this.change(q(e[this.powerKey]?t:Math.round(100*this.value.hsl.a+t)/100,0,1))},handleChange(e){e.preventDefault(),e.stopPropagation();const t=this.getLeft(e);if(t<0)return void this.change(0);const{clientWidth:n}=this.$refs.container;t>n?this.change(1):this.change(Math.round(100*t/n)/100)}},render:function(e,t,n,o,s,a){return(0,i.wg)(),(0,i.iD)("div",{class:(0,A.C_)([e.prefixCls+"-alpha"]),tabindex:"0",onClick:t[3]||(t[3]=t=>e.$el.focus()),onKeydown:[t[4]||(t[4]=(0,r.D2)(((...t)=>e.handleEscape&&e.handleEscape(...t)),["esc"])),t[5]||(t[5]=(0,r.D2)(((...t)=>e.handleLeft&&e.handleLeft(...t)),["left"])),t[6]||(t[6]=(0,r.D2)(((...t)=>e.handleRight&&e.handleRight(...t)),["right"])),t[7]||(t[7]=(0,r.D2)(((...t)=>e.handleUp&&e.handleUp(...t)),["up"])),t[8]||(t[8]=(0,r.D2)(((...t)=>e.handleDown&&e.handleDown(...t)),["down"]))]},[(0,i._)("div",{class:(0,A.C_)([e.prefixCls+"-alpha-checkboard-wrap"])},[(0,i._)("div",{class:(0,A.C_)([e.prefixCls+"-alpha-checkerboard"])},null,2)],2),(0,i._)("div",{style:(0,A.j5)(a.gradientStyle),class:(0,A.C_)([e.prefixCls+"-alpha-gradient"])},null,6),(0,i._)("div",{ref:"container",class:(0,A.C_)([e.prefixCls+"-alpha-container"]),onMousedown:t[0]||(t[0]=(...t)=>e.handleMouseDown&&e.handleMouseDown(...t)),onTouchmove:t[1]||(t[1]=(...e)=>a.handleChange&&a.handleChange(...e)),onTouchstart:t[2]||(t[2]=(...e)=>a.handleChange&&a.handleChange(...e))},[(0,i._)("div",{style:(0,A.j5)({top:0,left:100*e.value.a+"%"}),class:(0,A.C_)([e.prefixCls+"-alpha-pointer"])},[(0,i._)("div",{class:(0,A.C_)([e.prefixCls+"-alpha-picker"])},null,2)],6)],34)],34)}};var J=n(8450),X=n(3430),ee=n(4379),te=n(3996),ne=n(8251);const ie={name:"ColorPicker",components:{Drop:L.Z,RecommendColors:H,Saturation:G,Hue:Y,Alpha:Q,VInput:J.Z,VButton:X.Z,Icon:ee.Z},directives:{clickOutside:M.X,TransferDom:R.Z},mixins:[o.Z,te.Z,j,ne.Z],emits:["on-open-change","on-active-change","update:modelValue","on-pick-success","on-pick-clear","on-change"],props:{modelValue:{type:String,default:void 0},hue:{type:Boolean,default:!0},alpha:{type:Boolean,default:!1},recommend:{type:Boolean,default:!1},format:{type:String,validator:e=>(0,N.kw)(e,["hsl","hsv","hex","rgb"]),default:void 0},colors:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},size:{validator:e=>(0,N.kw)(e,["small","large","default"]),default:()=>"default"},hideDropDown:{type:Boolean,default:!1},placement:{type:String,validator:e=>(0,N.kw)(e,["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end"]),default:"bottom"},transfer:{type:Boolean,default:()=>!1},name:{type:String,default:void 0},editable:{type:Boolean,default:!0},capture:{type:Boolean,default:()=>!0},transferClassName:{type:String}},data(){return{val:B(this.modelValue),currentValue:this.modelValue,dragging:!1,visible:!1,recommendedColor:["#2d8cf0","#19be6b","#ff9900","#ed4014","#00b5ff","#19c919","#f9e31c","#ea1a1a","#9b1dea","#00c2b1","#ac7a33","#1d35ea","#8bc34a","#f16b62","#ea4ca3","#0d94aa","#febd79","#5d4037","#00bcd4","#f06292","#cddc39","#607d8b","#000000","#ffffff"]}},computed:{arrowClasses(){return[`${this.inputPrefixCls}-icon`,`${this.inputPrefixCls}-icon-normal`]},transition(){return(0,N.kw)(this.placement,["bottom-start","bottom","bottom-end"])?"slide-up":"fade"},saturationColors:{get(){return this.val},set(e){this.val=e,this.$emit("on-active-change",this.formatColor)}},classes(){return[`${this.prefixCls}`,{[`${this.prefixCls}-transfer`]:this.transfer}]},wrapClasses(){return[`${this.prefixCls}-rel`,`${this.prefixCls}-${this.size}`,`${this.inputPrefixCls}-wrapper`,`${this.inputPrefixCls}-wrapper-${this.size}`,{[`${this.prefixCls}-disabled`]:this.itemDisabled}]},inputClasses(){return[`${this.prefixCls}-input`,`${this.inputPrefixCls}`,`${this.inputPrefixCls}-${this.size}`,{[`${this.prefixCls}-focused`]:this.visible,[`${this.prefixCls}-disabled`]:this.itemDisabled}]},dropClasses(){return[`${this.transferPrefixCls}-no-max-height`,{[`${this.prefixCls}-transfer`]:this.transfer,[`${this.prefixCls}-hide-drop`]:this.hideDropDown,[this.transferClassName]:this.transferClassName}]},displayedColorStyle(){return{backgroundColor:U(this.visible?this.saturationColors.rgba:$()(this.modelValue).toRgb())}},formatColor(){const{format:e,saturationColors:t}=this;if(e){if("hsl"===e)return $()(t.hsl).toHslString();if("hsv"===e)return $()(t.hsv).toHsvString();if("hex"===e)return t.hex;if("rgb"===e)return U(t.rgba)}else if(this.alpha)return U(t.rgba);return t.hex},confirmColorClasses(){return[`${this.prefixCls}-confirm-color`,{[`${this.prefixCls}-confirm-color-editable`]:this.editable}]},arrowType:()=>"ios-arrow-down",customArrowType:()=>"",arrowSize:()=>""},watch:{modelValue(e){this.val=B(e)},visible(e){this.val=B(this.modelValue),this.$refs.drop[e?"update":"destroy"](),this.$emit("on-open-change",Boolean(e))}},mounted(){this.mitt.on("on-escape-keydown",this.closer),this.mitt.on("on-dragging",this.setDragging)},methods:{setDragging(e){this.dragging=e},handleClose(e){if(this.visible){if(this.dragging||"mousedown"===e.type)return void(this.$refs.editColorInput&&e.target!==this.$refs.editColorInput.$el.querySelector("input")&&e.preventDefault());if(this.transfer){const{$el:t}=this.$refs.drop;if(t===e.target||t.contains(e.target))return}this.closer(e)}else this.visible=!1},toggleVisible(){this.itemDisabled||(this.visible=!this.visible,this.$refs.input.focus())},childChange(e){this.colorChange(e)},colorChange(e,t){this.oldHue=this.saturationColors.hsl.h,this.saturationColors=B(e,t||this.oldHue)},closer(e){e&&(e.preventDefault(),e.stopPropagation()),this.visible=!1,this.$refs.input.focus()},handleButtons(e,t){this.currentValue=t,this.$emit("update:modelValue",t),this.$emit("on-change",t),this.dispatch("FormItem","on-form-change",t),this.closer(e)},handleSuccess(e){this.handleButtons(e,this.formatColor),this.$emit("on-pick-success")},handleClear(e){this.handleButtons(e,""),this.$emit("on-pick-clear")},handleSelectColor(e){this.val=B(e),this.$emit("on-active-change",this.formatColor)},handleEditColor(e){const t=e.target.value;this.handleSelectColor(t)},handleFirstTab(e){e.shiftKey&&(e.preventDefault(),e.stopPropagation(),this.$refs.ok.$el.focus())},handleLastTab(e){e.shiftKey||(e.preventDefault(),e.stopPropagation(),this.$refs.saturation.$el.focus())},onTab(e){this.visible&&e.preventDefault()},onEscape(e){this.visible&&this.closer(e)},onArrow(e){this.visible||(e.preventDefault(),e.stopPropagation(),this.visible=!0)}},render:function(e,t,n,o,s,a){const l=(0,i.up)("Icon"),c=(0,i.up)("Saturation"),u=(0,i.up)("Hue"),d=(0,i.up)("Alpha"),h=(0,i.up)("recommend-colors"),p=(0,i.up)("VInput"),f=(0,i.up)("VButton"),m=(0,i.up)("Drop"),g=(0,i.Q2)("transfer-dom"),v=(0,i.Q2)("click-outside");return(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{class:(0,A.C_)(a.classes)},[(0,i._)("div",{ref:"reference",class:(0,A.C_)(a.wrapClasses),onClick:t[4]||(t[4]=(...e)=>a.toggleVisible&&a.toggleVisible(...e))},[(0,i._)("input",{name:n.name,value:s.currentValue,type:"hidden"},null,8,D),(0,i.Wm)(l,{type:a.arrowType,custom:a.customArrowType,size:a.arrowSize,class:(0,A.C_)(a.arrowClasses)},null,8,["type","custom","size","class"]),(0,i._)("div",{ref:"input",tabindex:e.itemDisabled?void 0:0,class:(0,A.C_)(a.inputClasses),onKeydown:[t[0]||(t[0]=(0,r.D2)(((...e)=>a.onTab&&a.onTab(...e)),["tab"])),t[1]||(t[1]=(0,r.D2)(((...e)=>a.onEscape&&a.onEscape(...e)),["esc"])),t[2]||(t[2]=(0,r.D2)(((...e)=>a.onArrow&&a.onArrow(...e)),["up"])),t[3]||(t[3]=(0,r.D2)(((...e)=>a.onArrow&&a.onArrow(...e)),["down"]))]},[(0,i._)("div",{class:(0,A.C_)([e.prefixCls+"-color"])},[(0,i.wy)((0,i._)("div",{class:(0,A.C_)([e.prefixCls+"-color-empty"])},[(0,i._)("i",{class:(0,A.C_)([e.iconPrefixCls,e.iconPrefixCls+"-ios-close"])},null,2)],2),[[r.F8,""===n.modelValue&&!s.visible]]),(0,i.wy)((0,i._)("div",{style:(0,A.j5)(a.displayedColorStyle)},null,4),[[r.F8,n.modelValue||s.visible]])],2)],42,O)],2),(0,i.Wm)(r.uT,{name:"transition-drop"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(m,{ref:"drop",placement:n.placement,"data-transfer":n.transfer,transfer:n.transfer,class:(0,A.C_)(a.dropClasses)},{default:(0,i.w5)((()=>[(0,i.Wm)(r.uT,{name:"fade"},{default:(0,i.w5)((()=>[s.visible?((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,A.C_)([e.prefixCls+"-picker"])},[(0,i._)("div",{class:(0,A.C_)([e.prefixCls+"-picker-wrapper"])},[(0,i._)("div",{class:(0,A.C_)([e.prefixCls+"-picker-panel"])},[(0,i.Wm)(c,{ref:"saturation",modelValue:a.saturationColors,"onUpdate:modelValue":t[5]||(t[5]=e=>a.saturationColors=e),focused:s.visible,onChange:a.childChange,onKeydown:(0,r.D2)(a.handleFirstTab,["native","tab"])},null,8,["modelValue","focused","onChange","onKeydown"])],2),n.hue?((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,A.C_)([e.prefixCls+"-picker-hue-slider"])},[(0,i.Wm)(u,{modelValue:a.saturationColors,"onUpdate:modelValue":t[6]||(t[6]=e=>a.saturationColors=e),onChange:a.childChange},null,8,["modelValue","onChange"])],2)):(0,i.kq)("v-if",!0),n.alpha?((0,i.wg)(),(0,i.iD)("div",{key:1,class:(0,A.C_)([e.prefixCls+"-picker-alpha-slider"])},[(0,i.Wm)(d,{modelValue:a.saturationColors,"onUpdate:modelValue":t[7]||(t[7]=e=>a.saturationColors=e),onChange:a.childChange},null,8,["modelValue","onChange"])],2)):(0,i.kq)("v-if",!0),n.colors.length?((0,i.wg)(),(0,i.j4)(h,{key:2,list:n.colors,class:(0,A.C_)([e.prefixCls+"-picker-colors"]),onPickerColor:a.handleSelectColor},null,8,["list","class","onPickerColor"])):(0,i.kq)("v-if",!0),!n.colors.length&&n.recommend?((0,i.wg)(),(0,i.j4)(h,{key:3,list:s.recommendedColor,class:(0,A.C_)([e.prefixCls+"-picker-colors"]),onPickerColor:a.handleSelectColor},null,8,["list","class","onPickerColor"])):(0,i.kq)("v-if",!0)],2),(0,i._)("div",{class:(0,A.C_)([e.prefixCls+"-confirm"])},[(0,i._)("span",{class:(0,A.C_)(a.confirmColorClasses)},[n.editable?((0,i.wg)(),(0,i.j4)(p,{key:0,ref:"editColorInput","model-value":a.formatColor,size:"small",onOnEnter:a.handleEditColor,onOnBlur:a.handleEditColor},null,8,["model-value","onOnEnter","onOnBlur"])):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i.Uk)((0,A.zw)(a.formatColor),1)],2112))],2),(0,i.Wm)(f,{ref:"clear",tabindex:0,size:"small",onClick:a.handleClear,onKeydown:[(0,r.D2)(a.handleClear,["enter"]),(0,r.D2)(a.closer,["native","esc"])]},{default:(0,i.w5)((()=>[(0,i.Uk)((0,A.zw)(e.t("i.datepicker.clear")),1)])),_:1},8,["onClick","onKeydown"]),T,(0,i.Wm)(f,{ref:"ok",tabindex:0,size:"small",type:"primary",onClick:a.handleSuccess,onKeydown:[(0,r.D2)(a.handleLastTab,["native","tab"]),(0,r.D2)(a.handleSuccess,["enter"]),(0,r.D2)(a.closer,["native","esc"])]},{default:(0,i.w5)((()=>[(0,i.Uk)((0,A.zw)(e.t("i.datepicker.ok")),1)])),_:1},8,["onClick","onKeydown"])],2)],2)):(0,i.kq)("v-if",!0)])),_:1})])),_:1},8,["placement","data-transfer","transfer","class"]),[[r.F8,s.visible],[g]])])),_:1})],2)),[[v,a.handleClose,n.capture]])}},re={name:"FormInput",components:{ResourceSelect:p,QueryValueSelect:g,VueTrix:C,OptionsInput:S.Z,ColorPicker:ie},mixins:[o.Z],props:{modelValue:{type:[String,Number,Boolean,Date,Object],required:!1,default:""},column:{type:Object,required:!0},formData:{type:Object,required:!1,default:null}},emits:["update:modelValue","select","enter"],data:function(){return{dataValue:this.modelValue}},computed:{valueType:function(){return typeof this.modelValue},type:function(){return this.column.column_type||this.column.field_type},isTagSelect:function(){return"tag"===this.type||this.tagOptions.length||this.column.is_array&&["input","number","string","float","integer"].includes(this.type)},tagOptions:function(){var e;return(null===(e=this.column.format)||void 0===e?void 0:e.select_options)||[]},isBoolean:function(){return"boolean"==typeof this.modelValue||"boolean"===this.type||"checkbox"===this.type},isDateTime:function(){return"datetime"===this.type},isDate:function(){return"date"===this.type},isFile:function(){var e;return"file"===this.type||"image"===this.type||"active_storage/attachment"===(null===(e=this.column.reference)||void 0===e?void 0:e.model_name)},isNumber:function(){return["integer","bigint","int","float","decimal","double","number","currency","change","percentage"].includes(this.type)},isRichtext:function(){return"richtext"===this.type},isColor:function(){return"color"===this.type&&(!this.modelValue||this.modelValue.match(/#\w{3,6}/))},isTextarea:function(){return"json"===this.type||"textarea"===this.type||"string"===this.valueType&&this.modelValue.includes("\n")},isTextareaList:function(){return"chart"===this.type}},watch:{type:function(){this.dataValue="",this.$emit("update:modelValue","")}},created:function(){this.modelValue&&(this.isDateTime||this.isDate)&&(this.dataValue=new Date(new Date(this.modelValue).getTime()))},methods:{titleize:c.MI,onFile:function(e){var t=this,n=e.target.files[0],i=new FileReader;i.readAsBinaryString(n),i.onload=function(){t.$emit("update:modelValue",{filename:n.name,io:i.result})}},numberFormatter:function(e){return"currency"===this.type?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):e},numberParser:function(e){return"currency"===this.type?e.replace(/\$\s?|(,*)/g,""):e},onNumberUpdate:function(e){var t;"currency"===this.type&&"cents"===(null===(t=this.column.format)||void 0===t?void 0:t.currency_base)?this.$emit("update:modelValue",100*e):this.$emit("update:modelValue",e)},maybeAdjustCurrencyNumber:function(e){var t;return"currency"===this.type&&"cents"===(null===(t=this.column.format)||void 0===t?void 0:t.currency_base)?e/100:e},onSelect:function(e){var t=this;this.$nextTick((function(){t.$emit("select"),t.dispatch("FormItem","on-form-change",e)}))},onRichtextUpdate:function(e){this.$emit("update:modelValue",e),this.dispatch("FormItem","on-form-change",e)},updateDateTime:function(e){e?this.isDateTime?this.$emit("update:modelValue",e):this.$emit("update:modelValue",new Date(e.getTime()-6e4*e.getTimezoneOffset())):this.$emit("update:modelValue",""),this.$emit("select")}},render:function(e,t,n,o,s,a){var l=(0,i.up)("VueTrix"),c=(0,i.up)("ColorPicker"),u=(0,i.up)("ResourceSelect"),d=(0,i.up)("QueryValueSelect"),h=(0,i.up)("MSelect"),p=(0,i.up)("OptionsInput"),f=(0,i.up)("Checkbox"),m=(0,i.up)("InputNumber"),g=(0,i.up)("DatePicker"),v=(0,i.up)("VInput");return a.isFile?((0,i.wg)(),(0,i.iD)("input",{key:0,type:"file",onChange:t[0]||(t[0]=function(){return a.onFile&&a.onFile.apply(a,arguments)})},null,32)):a.isRichtext?((0,i.wg)(),(0,i.j4)(l,{key:1,"model-value":n.modelValue,"onUpdate:modelValue":a.onRichtextUpdate},null,8,["model-value","onUpdate:modelValue"])):a.isColor?((0,i.wg)(),(0,i.j4)(c,{key:2,"model-value":n.modelValue||"#ffffff",placement:"bottom-start","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.$emit("update:modelValue",t)})},null,8,["model-value"])):n.column.reference&&n.column.reference.model_name?((0,i.wg)(),(0,i.j4)(u,{key:3,"model-value":n.modelValue,"resource-name":n.column.reference.model_name,"selected-resource":n.formData?n.formData[n.column.reference.name]:null,multiple:n.column.is_array,"primary-key":n.column.reference.primary_key,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.$emit("update:modelValue",t)}),onSelect:a.onSelect},null,8,["model-value","resource-name","selected-resource","multiple","primary-key","onSelect"])):"select"===a.type&&n.column.select_query_id?((0,i.wg)(),(0,i.j4)(d,{key:4,"model-value":n.modelValue,"query-id":n.column.select_query_id,"form-data":n.formData,multiple:n.column.is_array,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.$emit("update:modelValue",t)}),onSelect:a.onSelect},null,8,["model-value","query-id","form-data","multiple","onSelect"])):a.isTagSelect?((0,i.wg)(),(0,i.j4)(h,{key:5,"model-value":n.modelValue,options:a.tagOptions,"allow-create":!a.tagOptions.length,multiple:n.column.is_array,"label-function":a.tagOptions.length?function(e){return a.titleize(e.value.toString())}:function(e){return e.value.toString()},"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.$emit("update:modelValue",t)}),onSelect:a.onSelect},null,8,["model-value","options","allow-create","multiple","label-function","onSelect"])):a.isTextareaList?((0,i.wg)(),(0,i.j4)(p,{key:6,"model-value":n.modelValue},null,8,["model-value"])):a.isBoolean?((0,i.wg)(),(0,i.j4)(f,{key:7,"model-value":n.modelValue,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.$emit("update:modelValue",t)})},null,8,["model-value"])):a.isNumber?((0,i.wg)(),(0,i.j4)(m,{key:8,"model-value":a.maybeAdjustCurrencyNumber(n.modelValue),parser:a.numberParser,formatter:a.numberFormatter,onKeydown:t[6]||(t[6]=(0,r.D2)((function(t){return e.$emit("enter")}),["enter"])),"onUpdate:modelValue":a.onNumberUpdate},null,8,["model-value","parser","formatter","onUpdate:modelValue"])):a.isDateTime||a.isDate?((0,i.wg)(),(0,i.j4)(g,{key:9,type:a.type,"model-value":s.dataValue,"onUpdate:modelValue":a.updateDateTime},null,8,["type","model-value","onUpdate:modelValue"])):a.isTextarea?((0,i.wg)(),(0,i.j4)(v,{key:10,"model-value":n.modelValue,type:"textarea",autosize:{minRows:1,maxRows:7},"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.$emit("update:modelValue",t)})},null,8,["model-value"])):((0,i.wg)(),(0,i.j4)(v,{key:11,"model-value":n.modelValue,type:"password"===n.column.name?"password":"text",onKeydown:t[8]||(t[8]=(0,r.D2)((function(t){return e.$emit("enter")}),["enter"])),"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.$emit("update:modelValue",t)})},null,8,["model-value","type"]))},__scopeId:"data-v-01024eac"}},2841:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(6252),r=n(3577);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n(7327),n(561),n(9753),n(2526),n(1817),n(1539),n(2165),n(6992),n(8783),n(3948),n(1038),n(7042),n(8309);const s={name:"ListInput",components:{FormInput:n(1789).Z},props:{modelValue:{type:Array,required:!1,default:function(){return[]}},formData:{type:Object,required:!1,default:function(){return{}}},column:{type:Object,required:!0}},emits:["update:modelValue"],data:function(){return{value:(e=this.modelValue||[],function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())};var e},mounted:function(){this.value.length||this.addNew()},methods:{emitUpdate:function(){var e=this.value.filter((function(e){return""!==e}));this.$emit("update:modelValue",e)},removeItem:function(e){this.value.splice(e,1),this.emitUpdate(),this.value.length||this.addNew()},addNew:function(){this.value.push("")}},render:function(e,t,n,o,s,a){var l=(0,i.up)("FormInput"),c=(0,i.up)("VButton");return(0,i.wg)(),(0,i.iD)(i.HY,null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.value,(function(e,t){return(0,i.wg)(),(0,i.iD)("div",{key:t,class:"mb-2 d-flex"},[(0,i.Wm)(l,{modelValue:s.value[t],"onUpdate:modelValue":[function(e){return s.value[t]=e},a.emitUpdate],column:n.column,"form-data":n.formData,class:"me-2 w-100"},null,8,["modelValue","onUpdate:modelValue","column","form-data"]),(0,i.Wm)(c,{icon:"md-trash",onClick:function(e){return a.removeItem(t)}},null,8,["onClick"])])})),128)),(0,i.Wm)(c,{long:"",icon:"md-add",onClick:a.addNew},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.add),1)]})),_:1},8,["onClick"])],64)}}},3810:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w}),n(8309),n(2772);var i=n(6252),r=n(3577);n(7042),n(5827),n(9826),n(5212),n(7327),n(6699),n(9554),n(4747),n(2222),n(1249),n(1539),n(8674),n(7727),n(6992),n(8783),n(3948),n(4916),n(5306),n(9600),n(9753),n(2526),n(1817),n(2165),n(1038),n(9070),n(7941),n(5003),n(9337),n(3321);var o=n(7248),s=n(9669),a=n.n(s),l=n(48),c=n(9026),u=n(3362),d=n(5763),h=n(6126),p=n(8688),f=n(1006),m=n(649);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}const w={name:"ResourceActions",props:{resources:{type:Array,required:!0},buttonType:{type:String,required:!1,default:"primary"},buttonGhost:{type:Boolean,required:!1,default:!0},withDeselect:{type:Boolean,required:!1,default:!1},withButtons:{type:Boolean,required:!1,default:!1},placement:{type:String,required:!1,default:"bottom"},resourceName:{type:String,required:!0},label:{type:String,required:!1,default:m.cR.actions}},emits:["start-action","finish-action"],computed:{dropdownLabel:function(){return this.i18n.actions!==this.label?this.label:this.buttonActions.length?this.i18n.more:this.i18n.actions},requestHeaders:function(){var e={},t=document.querySelector('[name="csrf-token"]');return t&&(e["X-CSRF-Token"]=t.content),e},buttonTypes:function(){return{edit:"primary",remove:"error"}},partitionedActions:function(){return this.permittedActions.reduce((function(e,t){var n,i,r=(i=3,function(e){if(Array.isArray(e))return e}(n=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(n,i)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],s=r[1],a=r[2];return a<50?(a+=t.display_name.length+6,o.push(t)):s.push(t),[o,s,a]}),[[],[],0]).slice(0,2)},buttonActions:function(){return this.withButtons?this.partitionedActions[1].length>1?this.partitionedActions[0]:this.permittedActions:[]},dropdownActions:function(){return this.withButtons?this.partitionedActions[1].length>1?this.partitionedActions[1]:[]:this.permittedActions},resource:function(){return this.resources[0]},editAction:function(){return this.model.actions.find((function(e){return"edit"===e.name&&e.visible}))},removeAction:function(){return this.model.actions.find((function(e){return"remove"===e.name&&e.visible}))},canEdit:function(){var e=this;return this.model.primary_key&&this.resources.some((function(t){return e.$can("edit",e.model.class_name,t)}))},canRemove:function(){var e=this;return this.model.primary_key&&this.resources.some((function(t){return e.$can("destroy",e.model.class_name,t)}))},hasActions:function(){return this.canEdit||this.canRemove||this.customActions.length>0},customActions:function(){return this.permittedActions.filter((function(e){return!["create","edit","remove"].includes(e.name)}))},permittedActions:function(){var e=this;return this.model.actions.filter((function(t){return"create"!==t.name&&t.visible&&e.resources.some((function(n){return e.$can(t.name,e.model.class_name,n)}))}))},model:function(){return l.r3[this.resourceName]}},methods:{deselect:function(){this.resources.forEach((function(e){e._selected=!1}))},removeRequest:function(e){return o.Z.delete("data/".concat(this.model.slug,"/").concat(e[this.model.primary_key]))},applyAction:function(e){var t=this;if("edit"===e.name&&"default"===e.action_type)return this.edit();if("remove"===e.name&&"default"===e.action_type)return this.remove();if(!("form"===e.action_type&&this.resources.length>1)){if("form"===e.action_type)return this.openForm(this.resource,e);this.$emit("start-action",e.name);var n=this.resources.map((function(n){return"method"===e.action_type?t.methodRequest(n,e):"api"===e.action_type?t.apiRequest(n,e):Promise.resolve({})}));Promise.all(n).then((function(e){if(1===e.length){var n,i,r=e[0].data,o=(null==r||null===(n=r.data)||void 0===n?void 0:n.redirect)||(null==r||null===(i=r.data)||void 0===i?void 0:i.redirect_to)||(null==r?void 0:r.redirect)||(null==r?void 0:r.redirect_to);if("string"==typeof o){var s=t.$router.resolve({path:o.replace(location.origin,"")},t.$route);null!=s&&s.name?(t.$router.push(s),t.$Message.info(t.i18n.action_has_been_applied)):location.href=o}else t.$Message.info(t.i18n.action_has_been_applied)}else t.$Message.info(t.i18n.action_has_been_applied)})).catch((function(e){var n,i,r;null!==(n=e.response)&&void 0!==n&&null!==(i=n.data)&&void 0!==i&&i.errors?t.$Message.error((0,d.$G)(e.response.data.errors.join("\n"),70)):null!=e&&null!==(r=e.response)&&void 0!==r&&r.status?t.$Message.error("".concat(t.i18n.action_has_failed_with_code," ").concat(e.response.status)):t.$Message.error(e.message)})).finally((function(){t.$emit("finish-action",e.name)}))}},methodRequest:function(e,t){return o.Z.put("data/".concat(this.model.slug,"/").concat(e[this.model.primary_key],"/").concat(t.preferences.method_name))},apiRequest:function(e,t){var n=this,i=(0,d.sX)(t.preferences.api_path,v(y({},this.model.name+"_"+this.model.primary_key,e[this.model.primary_key]),e));return(0,f.w)().then((function(e){return a().post(i,{},{headers:v(v({},n.requestHeaders),e.headers)})}))},openForm:function(e,t){var n=this,r="edit"===t.name?e:y({id:e[this.model.primary_key]},"".concat(this.model.name,"_").concat(this.model.primary_key),e[this.model.primary_key]);this.$Drawer.open(h.default,{data:r,withFooterSubmit:!0,formId:t.preferences.form_id,onSuccess:function(e){n.$emit("finish-action",t.name)},onError:function(e){}},{slots:{header:function(){return(0,i.h)(u.Z,{resource:n.resource,resourceName:n.resourceName,action:t.name})}},closable:!0})},edit:function(){var e=this;if(1===this.resources.length){var t="".concat((0,p.Z)(this.model.display_name)," #").concat(this.resource[this.model.primary_key]);this.$Drawer.open(c.default,{resource:this.resource,action:"edit",resourceName:this.resourceName,onClose:function(){e.$Drawer.remove()},onSuccess:function(n){e.$Drawer.remove(),e.$Message.info("".concat(t," ").concat(e.i18n.has_been_updated)),e.$emit("finish-action","edit")}},{slots:{header:function(){return(0,i.h)(u.Z,{resource:e.resource,resourceName:e.resourceName,action:"edit"})}},className:"drawer-no-bottom-padding",closable:!0})}},remove:function(){var e=this;this.$Dialog.confirm({title:this.resources.length>1?[this.i18n.items_will_be_removed.replace("%{count}",this.resources.length),this.i18n.are_you_sure].join(". "):[this.i18n.selected_item_will_be_removed,this.i18n.are_you_sure].join(". "),closable:!0,onOk:function(){e.$emit("start-action","remove"),Promise.all(e.resources.map(e.removeRequest)).then((function(t){e.resources.length>1?e.$Message.info("".concat(e.resources.length," ").concat(e.i18n.items_have_been_removed)):e.$Message.info(e.i18n.selected_item_has_been_removed)})).catch((function(t){var n;console.error(t),null!==(n=t.response.data)&&void 0!==n&&n.errors?e.$Message.error((0,d.$G)(t.response.data.errors.join("\n"),70)):e.$Message.error(e.i18n.unable_to_remove_items)})).finally((function(){e.$emit("finish-action","remove")}))}})}},render:function(e,t,n,o,s,a){var l=(0,i.up)("VButton"),c=(0,i.up)("Icon"),u=(0,i.up)("DropdownItem"),d=(0,i.up)("DropdownMenu"),h=(0,i.up)("Dropdown");return(0,i.wg)(),(0,i.iD)(i.HY,null,[n.withButtons?((0,i.wg)(!0),(0,i.iD)(i.HY,{key:0},(0,i.Ko)(a.buttonActions,(function(e,t){return(0,i.wg)(),(0,i.j4)(l,{key:e.name,class:(0,r.C_)(t!==a.buttonActions.length-1||a.dropdownActions.length?"me-2":""),type:a.buttonTypes[e.name],ghost:!!a.buttonTypes[e.name],onClick:function(t){return a.applyAction(e)}},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.display_name),1)]})),_:2},1032,["class","type","ghost","onClick"])})),128)):(0,i.kq)("v-if",!0),(n.withDeselect||a.hasActions)&&a.dropdownActions.length?((0,i.wg)(),(0,i.j4)(h,{key:1,trigger:"click",placement:n.placement},{list:(0,i.w5)((function(){return[(0,i.Wm)(d,null,{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.customActions,(function(e){return(0,i.wg)(),(0,i.iD)(i.HY,{key:e.name},[-1!==a.dropdownActions.indexOf(e)?((0,i.wg)(),(0,i.j4)(u,{key:0,disabled:n.resources.length>1&&"form"===e.action_type,onClick:function(t){return a.applyAction(e)}},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.display_name),1)]})),_:2},1032,["disabled","onClick"])):(0,i.kq)("v-if",!0)],64)})),128)),a.editAction&&a.canEdit&&-1!==a.dropdownActions.indexOf(a.editAction)?((0,i.wg)(),(0,i.j4)(u,{key:0,disabled:n.resources.length>1,onClick:t[0]||(t[0]=function(e){return a.applyAction(a.editAction)})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.edit),1)]})),_:1},8,["disabled"])):(0,i.kq)("v-if",!0),a.removeAction&&a.canRemove&&-1!==a.dropdownActions.indexOf(a.removeAction)?((0,i.wg)(),(0,i.j4)(u,{key:1,divided:!!a.editAction,class:"text-danger",onClick:t[1]||(t[1]=function(e){return a.applyAction(a.removeAction)})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.remove),1)]})),_:1},8,["divided"])):(0,i.kq)("v-if",!0),n.withDeselect?((0,i.wg)(),(0,i.j4)(u,{key:2,divided:a.hasActions,onClick:a.deselect},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.deselect_all),1)]})),_:1},8,["divided","onClick"])):(0,i.kq)("v-if",!0)]})),_:1})]})),default:(0,i.w5)((function(){return[(0,i.Wm)(l,{ghost:n.buttonGhost,type:n.buttonType,class:(0,r.C_)({"bg-white":n.buttonGhost})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(a.dropdownLabel)+" ",1),(0,i.Wm)(c,{type:"ios-arrow-down"})]})),_:1},8,["ghost","type","class"])]})),_:1},8,["placement"])):(0,i.kq)("v-if",!0)],64)}}},2883:(e,t,n)=>{"use strict";n.d(t,{Z:()=>T}),n(9753),n(2526),n(1817),n(1539),n(2165),n(6992),n(8783),n(3948),n(7042),n(8309),n(1038);var i=n(6252),r=n(3577);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var s={class:"pt-2"},a={style:{"max-width":"42px","text-align":"center"}},l={class:"pb-2 pt-3 text-center"};n(1249),n(561),n(4553),n(2772),n(9070),n(7941),n(7327),n(5003),n(9554),n(4747),n(9337),n(3321),n(6699);var c={class:"row","data-role":"filter-item"},u={class:"col-5 pe-2 ps-0"},d={class:"col-2 p-0"},h={class:"d-flex col-5 ps-2 pe-0"};n(9826),n(2222),n(4944),n(2023),n(4916),n(3123),n(9720);var p=n(1789),f=n(48);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var x=["eq","neq","eqnull","neqnull","contains","gt","gte","lt","lte","starts_with","ends_with","includes","excludes"];const k={name:"FilterItem",components:{FormInput:p.Z},props:{filter:{type:Object,required:!0},model:{type:Object,required:!0}},emits:["remove","update:filter"],data:function(){return{dataFilter:{key:"",action:"eq",value:""}}},computed:{selectedColumn:function(){var e=this;return this.columns.find((function(t){return t.value===e.dataFilter.key}))},columns:function(){return[].concat(b(this.model.columns.map((function(e){return e.virtual||e.reference||!["read_write","read_only"].includes(e.access_type)?null:v(v({},e),{},{value:e.name,label:e.display_name})})).filter(Boolean)),b(this.model.columns.map((function(e){return e.reference&&!e.reference.polymorphic&&["read_write","read_only"].includes(e.access_type)?f.r3[e.reference.model_name].columns.map((function(t){return!t.virtual&&"query"!==t.column_source&&["read_write","read_only"].includes(t.access_type)?v(v({},t.name===e.reference.primary_key?e:t),{},{value:"".concat(e.reference.name,".").concat(t.name),label:"".concat(e.reference.display_name," - ").concat(t.display_name)}):null})).filter(Boolean):[]})).flat()),b(this.model.associations.map((function(e){return e.visible?f.r3[e.model_name].columns.map((function(t){return!t.virtual&&"query"!==t.column_source&&["read_write","read_only"].includes(t.access_type)?v(v({},t),{},{value:"".concat(e.name,".").concat(t.name),label:"".concat(e.display_name," - ").concat(t.display_name)}):null})).filter(Boolean):[]})).flat()))},actions:function(){var e=[{value:"eq",label:this.i18n.is},{value:"neq",label:this.i18n.is_not},{value:"eqnull",label:this.i18n.is_null},{value:"neqnull",label:this.i18n.is_not_null}];return this.selectedColumn?this.selectedColumn.is_array?(e.push({value:"includes",label:this.i18n.includes},{value:"excludes",label:this.i18n.excludes}),e):(["link","image","audio","video","file","textarea","richtext","string","tag"].includes(this.selectedColumn.column_type)?e.push({value:"contains",label:this.i18n.contains},{value:"starts_with",label:this.i18n.starts_with},{value:"ends_with",label:this.i18n.ends_with}):["change","percentage","integer","float","date","datetime","currency"].includes(this.selectedColumn.column_type)&&e.push({value:"gt",label:this.i18n.greater_than},{value:"gte",label:this.i18n.greater_or_equal},{value:"lt",label:this.i18n.less_than},{value:"lte",label:this.i18n.less_or_equal}),e):e}},watch:{dataFilter:{deep:!0,handler:function(e){var t=e.key,n=e.value,i=e.action,r=m(t.split("."),2),o=r[0],s=r[1];s?this.$emit("update:filter",y({},o,y({},s,y({},i,n)))):this.$emit("update:filter",y({},t,y({},i,n)))}}},mounted:function(){this.assignDataFilter()},methods:{assignDataFilter:function(){var e=m(Object.entries(this.filter),1),t=m(e[0],2),n=t[0],i=t[1],r=m(Object.entries(i),1),o=m(r[0],2),s=o[0],a=o[1];if(x.includes(s))this.dataFilter={key:n,action:s,value:a};else{var l=m(Object.entries(a),1),c=m(l[0],2),u=c[0],d=c[1];this.dataFilter={key:"".concat(n,".").concat(s),action:u,value:d}}},onKeyChange:function(e){var t=this;this.actions.find((function(e){return e.value===t.dataFilter.action}))||(this.dataFilter.action="eq"),this.dataFilter.value=""}},render:function(e,t,n,r,o,s){var a=(0,i.up)("MSelect"),l=(0,i.up)("FormInput"),p=(0,i.up)("VInput"),f=(0,i.up)("VButton");return(0,i.wg)(),(0,i.iD)("div",c,[(0,i._)("div",u,[(0,i.Wm)(a,{modelValue:o.dataFilter.key,"onUpdate:modelValue":[t[0]||(t[0]=function(e){return o.dataFilter.key=e}),s.onKeyChange],"data-role":"filter-field",filterable:"","with-deselect":!1,style:{"margin-left":"50px",width:"calc(100% - 50px)"},options:s.columns},null,8,["modelValue","options","onUpdate:modelValue"]),(0,i.WI)(e.$slots,"default")]),(0,i._)("div",d,[(0,i.Wm)(a,{modelValue:o.dataFilter.action,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.dataFilter.action=e}),"data-role":"filter-condition","with-deselect":!1,options:s.actions},null,8,["modelValue","options"])]),(0,i._)("div",h,[s.selectedColumn&&!["contains","starts_with","ends_with","eqnull","neqnull"].includes(o.dataFilter.action)&&"richtext"!==s.selectedColumn.column_type?((0,i.wg)(),(0,i.j4)(l,{key:0,modelValue:o.dataFilter.value,"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.dataFilter.value=e}),"data-role":"filter-value",column:s.selectedColumn},null,8,["modelValue","column"])):((0,i.wg)(),(0,i.j4)(p,{key:1,modelValue:o.dataFilter.value,"onUpdate:modelValue":t[3]||(t[3]=function(e){return o.dataFilter.value=e}),disabled:["eqnull","neqnull"].includes(o.dataFilter.action),"data-role":"filter-value"},null,8,["modelValue","disabled"])),(0,i.Wm)(f,{icon:"md-close",class:"ms-1",type:"text",onClick:t[4]||(t[4]=function(t){return e.$emit("remove",n.filter)})})])])}};function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O={"":{eq:""}};const T={name:"ResourceFilters",components:{FilterItem:k},props:{model:{type:Object,required:!0},filters:{type:[Array,Object],required:!1,default:function(){return[]}}},emits:["update:filters"],data:function(){return{filtersWithKeys:[]}},created:function(){this.filtersWithKeys=this.filters.map((function(e){return[e,Math.random()]})),this.filters.length||this.addFilter()},methods:{updateFilters:function(){this.$emit("update:filters",this.filtersWithKeys.map((function(e){return e[0]})))},addFilter:function(){this.filtersWithKeys.push([A({},O),Math.random()]),this.updateFilters()},toggleOr:function(e){"OR"===this.filtersWithKeys[e][0]?this.filtersWithKeys.splice(e,1):this.filtersWithKeys.splice(e+1,0,["OR",Math.random()]),this.updateFilters()},updateFilter:function(e,t){var n=this.filtersWithKeys.findIndex((function(t){var n,i,r=(i=2,function(e){if(Array.isArray(e))return e}(n=t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(n,i)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return r[0],r[1]===e}));this.filtersWithKeys.splice(n,1,[t,e]),this.updateFilters()},removeFilter:function(e){var t,n,i,r=this.filters.indexOf(e);this.filtersWithKeys.splice(r,1),"OR"===(null===(t=this.filtersWithKeys[r])||void 0===t?void 0:t[0])&&this.filtersWithKeys.splice(r,1),"OR"===(null===(n=this.filtersWithKeys[0])||void 0===n?void 0:n[0])&&this.filtersWithKeys.splice(0,1),"OR"===(null===(i=this.filtersWithKeys[this.filtersWithKeys.length-1])||void 0===i?void 0:i[0])&&this.filtersWithKeys.splice(this.filtersWithKeys.length-1,1),this.updateFilters()}},render:function(e,t,n,c,u,d){var h=(0,i.up)("FilterItem"),p=(0,i.up)("Tag"),f=(0,i.up)("VButton");return(0,i.wg)(),(0,i.iD)("div",s,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(u.filtersWithKeys,(function(t,s){var l,c,u=(c=2,function(e){if(Array.isArray(e))return e}(l=t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(l,c)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(l,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=u[0],m=u[1];return(0,i.wg)(),(0,i.iD)(i.HY,{key:m},["OR"!==f?((0,i.wg)(),(0,i.j4)(h,{key:0,filter:f,model:n.model,style:{margin:"-4px 0"},onRemove:d.removeFilter,"onUpdate:filter":function(e){return d.updateFilter(m,e)}},null,8,["filter","model","onRemove","onUpdate:filter"])):(0,i.kq)("v-if",!0),(0,i._)("div",a,["OR"===f?((0,i.wg)(),(0,i.j4)(p,{key:0,color:"volcano",class:"ms-1 my-0",onClick:function(e){return d.toggleOr(s)}},{default:(0,i.w5)((function(){var t;return[(0,i.Uk)((0,r.zw)(null===(t=e.i18n[f.toLowerCase()])||void 0===t?void 0:t.toUpperCase()),1)]})),_:2},1032,["onClick"])):s!==n.filters.length-1&&"OR"!==n.filters[s+1]?((0,i.wg)(),(0,i.j4)(p,{key:1,color:"blue",class:"m-0",onClick:function(e){return d.toggleOr(s)}},{default:(0,i.w5)((function(){var t;return[(0,i.Uk)((0,r.zw)(null===(t=e.i18n.and)||void 0===t?void 0:t.toUpperCase()),1)]})),_:2},1032,["onClick"])):(0,i.kq)("v-if",!0)])],64)})),128)),(0,i._)("div",l,[(0,i.Wm)(f,{icon:"md-add",type:"text",onClick:d.addFilter},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.add_filter),1)]})),_:1},8,["onClick"])])])}}},9026:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>w}),n(8309),n(6699),n(2023);var i=n(6252),r=n(9963),o=n(3577);(0,i.dD)("data-v-32df14ae");var s={class:"sticky-footer"};(0,i.Cn)();var a=n(7757),l=n.n(a),c=(n(9653),n(5827),n(9554),n(4747),n(4916),n(5306),n(2222),n(9826),n(1249),n(7327),n(5212),n(1539),n(8674),n(7727),n(9600),n(9070),n(7941),n(2526),n(5003),n(9337),n(3321),n(7248)),u=n(48),d=n(645),h=n(9476),p=n(2734),f=n(1789),m=n(2841);function g(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,r)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){g(o,i,r,s,a,"next",e)}function a(e){g(o,i,r,s,a,"throw",e)}s(void 0)}))}}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const w={name:"ResourceForm",components:{FormInput:f.Z,FormListInput:m.Z},props:{resource:{type:Object,required:!1,default:function(){return{}}},action:{type:String,required:!1,default:"new",validator:function(e){return["edit","new"].includes(e)}},withSaveAndCreateNew:{type:Boolean,required:!1,default:!0},resourceName:{type:String,required:!0},parentResourceName:{type:String,required:!1,default:null},parentResourceId:{type:[Number,String],required:!1,default:null},associationName:{type:String,required:!1,default:null}},emits:["close","success"],data:function(){return{isLoading:!1,isSaveAndNewLoading:!1,isSaveLoading:!1,resourceData:{}}},computed:{multipleValuesSelectorColumnTypes:function(){return["string","integer","float","tag"]},rules:function(){var e=this;return this.columns.reduce((function(t,n){return t[n.name]=(0,d.j$)(n,e.resource),t}),{})},model:function(){return u.r3[this.resourceName]},requestParams:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.resourceData);return this.columns.forEach((function(n){var i,r;(0,d.om)(n,e.resource)&&(t[n.name]=JSON.parse(t[n.name])),"edit"!==e.action||(null!==(i=e.resource[n.name])&&void 0!==i?i:"")!==t[n.name]&&JSON.stringify(e.resource[n.name])!==JSON.stringify(t[n.name])?"active_storage/attachment"===(null===(r=n.reference)||void 0===r?void 0:r.model_name)&&(t[n.name.replace(/_attachment$/,"")]=t[n.name],delete t[n.name]):delete t[n.name]})),{data:t}},apiRequest:function(){var e=this;if("edit"===this.action)return c.Z.put("data/".concat(this.model.slug,"/").concat(this.resource[this.model.primary_key]),this.requestParams);if("new"===this.action&&this.parentResourceName){var t=u.r3[this.parentResourceName];return"active_storage/attachment"===t.associations.find((function(t){return t.name===e.associationName})).model_name?c.Z.post("data/active_storage__attachments",this.requestParams):c.Z.post("data/".concat(t.slug,"/").concat(this.parentResourceId,"/").concat(this.associationName),this.requestParams)}return"new"===this.action?c.Z.post("data/".concat(this.model.slug),this.requestParams):null},hasNewEditColumnsToLoad:function(){var e=this.model.columns.filter((function(e){return["read_write","read_only"].includes(e.access_type)})).map((function(e){return e.name}));return this.columns.some((function(t){return!e.includes(t.name)}))},columns:function(){var e=["read_write","write_only"];return this.model.columns.filter((function(t){return e.includes(t.access_type)}))}},created:function(){this.resourceData=this.normalizeResourceData(this.resource),"edit"===this.action&&this.hasNewEditColumnsToLoad&&this.loadData()},methods:{scrollToErrors:h.o,onSaveClick:function(){var e=this;this.$refs.form.validate((function(t){t?(e.isSaveLoading=!0,e.handleSubmit({button:"save"})):e.scrollToErrors()}))},onSaveAndCreateClick:function(){var e=this;this.$refs.form.validate((function(t){t?(e.isSaveAndNewLoading=!0,e.handleSubmit({button:"save_and_create"})):e.scrollToErrors()}))},normalizeResourceData:function(e){var t=this,n={};return this.columns.forEach((function(i){var r=e[i.name];(0,d.om)(i,t.resource)?n[i.name]=JSON.stringify(null!=r?r:{},null,"  "):n[i.name]=r&&"object"==typeof r?JSON.parse(JSON.stringify(r)):r})),n},loadData:function(){var e=this;this.isLoading=!0;var t=["read_only","read_write","write_only"];return c.Z.get("data/".concat(this.model.slug,"/").concat(this.resource[this.model.primary_key]),{params:{fields:(0,p.n)(this.model,t),include:(0,p.p)(this.model,t)}}).then((function(t){e.resourceData=e.normalizeResourceData(t.data.data)})).catch((function(t){var n,i;null!==(n=t.response)&&void 0!==n&&null!==(i=n.data)&&void 0!==i&&i.errors?e.$Message.error(t.response.data.errors.join("\n")):e.$Message.error(t.message)})).finally((function(){e.isLoading=!1}))},handleSubmit:function(){var e=arguments,t=this;return v(l().mark((function n(){var i,r,o,s;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=e.length>0&&void 0!==e[0]?e[0]:{},n.prev=1,n.next=4,t.apiRequest;case 4:r=n.sent,t.$emit("success",r),"save_and_create"===i.button?t.resourceData=t.normalizeResourceData(t.resource):t.$emit("close"),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(1),null!==(o=n.t0.response)&&void 0!==o&&null!==(s=o.data)&&void 0!==s&&s.errors?t.$refs.form.setErrors(n.t0.response.data.errors):n.t0.message&&t.$refs.form.setErrors([n.t0.message]),t.scrollToErrors();case 13:return n.prev=13,t.isSaveAndNewLoading=!1,t.isSaveLoading=!1,n.finish(13);case 17:case"end":return n.stop()}}),n,null,[[1,9,13,17]])})))()}},render:function(e,t,n,a,l,c){var u=(0,i.up)("Spin"),d=(0,i.up)("FormListInput"),h=(0,i.up)("FormInput"),p=(0,i.up)("FormItem"),f=(0,i.up)("VForm"),m=(0,i.up)("VButton");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(f,{ref:"form",model:l.resourceData,rules:c.rules,"label-position":"top"},{default:(0,i.w5)((function(){return[l.isLoading?((0,i.wg)(),(0,i.j4)(u,{key:0,fix:""})):(0,i.kq)("v-if",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(c.columns,(function(e){return(0,i.wg)(),(0,i.j4)(p,{key:e.name,label:e.display_name,prop:e.name},{default:(0,i.w5)((function(){return[e.is_array&&!c.multipleValuesSelectorColumnTypes.includes(e.column_type)?((0,i.wg)(),(0,i.j4)(d,{key:0,modelValue:l.resourceData[e.name],"onUpdate:modelValue":function(t){return l.resourceData[e.name]=t},column:e},null,8,["modelValue","onUpdate:modelValue","column"])):((0,i.wg)(),(0,i.j4)(h,{key:1,modelValue:l.resourceData[e.name],"onUpdate:modelValue":function(t){return l.resourceData[e.name]=t},column:e,"form-data":n.resource},null,8,["modelValue","onUpdate:modelValue","column","form-data"]))]})),_:2},1032,["label","prop"])})),128))]})),_:1},8,["model","rules"]),(0,i._)("div",s,[(0,i.Wm)(m,{style:{float:"left"},onClick:t[0]||(t[0]=(0,r.iM)((function(t){return e.$emit("close")}),["stop"]))},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.cancel),1)]})),_:1}),n.withSaveAndCreateNew&&"new"===n.action?((0,i.wg)(),(0,i.j4)(m,{key:0,type:"primary",ghost:"",class:"bg-white me-2",loading:l.isSaveAndNewLoading,onClick:(0,r.iM)(c.onSaveAndCreateClick,["stop"])},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.save_and_create_new),1)]})),_:1},8,["loading","onClick"])):(0,i.kq)("v-if",!0),(0,i.Wm)(m,{type:"primary",loading:l.isSaveLoading,onClick:(0,r.iM)(c.onSaveClick,["stop"])},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.save),1)]})),_:1},8,["loading","onClick"])])],64)},__scopeId:"data-v-32df14ae"}},3362:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d}),n(8309);var i=n(6252),r=n(3577);(0,i.dD)("data-v-7f9bfb99");var o={class:"d-flex"},s={class:"ivu-drawer-header-inner"};(0,i.Cn)(),n(9826),n(3710),n(1539),n(9714),n(2222);var a=n(48),l=n(8688),c=n(2345),u=n(873);const d={name:"FormHeader",props:{resource:{type:Object,required:!1,default:function(){return{}}},resourceName:{type:String,required:!0},action:{type:String,required:!0}},computed:{canEditCustomForm:function(){return this.customForm&&this.$can("update","Motor::Form",this.customForm)},canBuildCustomForm:function(){return!this.customForm&&this.$can("create","Motor::Form")},canAdjustColumns:function(){return!this.customForm&&this.$can("update","Motor::Resource",this.model)},customForm:function(){var e,t,n=null===(e=this.modelAction)||void 0===e||null===(t=e.preferences)||void 0===t?void 0:t.form_id;return n?c.r.find((function(e){return e.id.toString()===n.toString()})):null},model:function(){return a.r3[this.resourceName]},modelAction:function(){var e=this;return this.model.actions.find((function(t){return t.name===e.action}))},headerTitle:function(){return"".concat(this.modelAction.display_name," ").concat(this.resourceTitle)},resourceTitle:function(){return this.model.primary_key in this.resource?"".concat((0,l.Z)(this.model.display_name)," #").concat(this.resource[this.model.primary_key]):(0,l.Z)(this.model.display_name)}},methods:{openColumnSettings:function(){this.$Drawer.remove(),(0,u.r)({selectedResource:this.model,settingsType:"columns"})}},render:function(e,t,n,a,l,c){var u=(0,i.up)("Icon"),d=(0,i.up)("VButton"),h=(0,i.up)("DropdownItem"),p=(0,i.up)("DropdownMenu"),f=(0,i.up)("Dropdown");return(0,i.wg)(),(0,i.iD)("div",o,[c.canEditCustomForm||c.canBuildCustomForm||c.canAdjustColumns?((0,i.wg)(),(0,i.j4)(f,{key:0,trigger:"click",placement:"bottom-start"},{list:(0,i.w5)((function(){return[(0,i.Wm)(p,null,{default:(0,i.w5)((function(){return[c.canEditCustomForm?((0,i.wg)(),(0,i.j4)(h,{key:0,onClick:t[0]||(t[0]=function(t){return e.$router.push({name:"form",params:{id:c.customForm.id}})})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.adjust_form),1)]})),_:1})):(0,i.kq)("v-if",!0),c.canAdjustColumns?((0,i.wg)(),(0,i.j4)(h,{key:1,onClick:c.openColumnSettings},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.adjust_fields),1)]})),_:1},8,["onClick"])):(0,i.kq)("v-if",!0),c.canBuildCustomForm?((0,i.wg)(),(0,i.j4)(h,{key:2,onClick:t[1]||(t[1]=function(t){return e.$router.push({name:"new_form",query:{resource:c.model.name,action:n.action}})})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.build_custom_form),1)]})),_:1})):(0,i.kq)("v-if",!0)]})),_:1})]})),default:(0,i.w5)((function(){return[(0,i.Wm)(d,{type:"text",size:"large",class:"header-btn"},{default:(0,i.w5)((function(){return[(0,i.Wm)(u,{type:"md-more",size:"large"})]})),_:1})]})),_:1})):(0,i.kq)("v-if",!0),(0,i._)("div",s,(0,r.zw)(c.headerTitle),1)])},__scopeId:"data-v-7f9bfb99"}},6270:(e,t,n)=>{"use strict";n.d(t,{Z:()=>V}),n(8309);var i=n(6252),r=n(3577),o={key:1,class:"d-flex flex-column h-100"},s={key:0,ref:"observerElement",style:{height:"7px"}},a={ref:"title",class:"d-flex"},l={key:0,class:"text-center mt-2"},c={key:2,class:"settings-mask"},u={ref:"columnsWrapper",class:"row"},d=(0,i._)("br",null,null,-1),h=n(7757),p=n.n(h),f=(n(9653),n(3710),n(1539),n(9714),n(4916),n(4723),n(2222),n(7327),n(6699),n(9600),n(8674),n(7727),n(9753),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(7042),n(1038),n(7248)),m=n(48),g=n(8688),v=(n(2023),n(9963));(0,i.dD)("data-v-35412914");var y={key:2},b={key:3,class:"d-inline-flex"};(0,i.Cn)(),n(5306),n(9070),n(7941),n(5003),n(9554),n(4747),n(9337),n(3321);var w=n(813),_=n(1789),x=n(85),k=n(2841),C=n(645),S=n(2734),A=n(5763);function D(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,r)}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const E={name:"InfoCell",components:{DataCell:w.Z,FormInput:_.Z,FormListInput:k.Z,Reference:x.Z},props:{column:{type:Object,required:!0},resource:{type:Object,required:!0},resourceName:{type:String,required:!0},referencePopover:{type:Boolean,required:!1,default:!0},referenceSize:{type:Number,required:!1,default:30},editable:{type:Boolean,required:!1,default:!1}},emits:["update"],data:function(){return{isEdit:!1,isLoading:!1,resourceData:{}}},computed:{withClipboard:function(){return!!navigator.clipboard},multipleValuesSelectorColumnTypes:function(){return["string","integer","float","tag"]},model:function(){return m.r3[this.resourceName]},rules:function(){return T({},this.column.name,(0,C.j$)(this.column,this.resource))},requestData:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.resourceData);return this.isJsonColumn&&(e[this.column.name]=JSON.parse(e[this.column.name])),this.isActiveStorage&&(e[this.column.name.replace(/_attachment$/,"")]=e[this.column.name],delete e[this.column.name]),{fields:(0,S.n)(this.model),include:(0,S.p)(this.model),data:e}},isRichtext:function(){return"richtext"===this.column.column_type},isJsonColumn:function(){return(0,C.om)(this.column,this.resource)},value:function(){return this.resource[this.column.name]},isEditable:function(){return this.editable&&("read_write"===this.column.access_type||this.isActiveStorage)},columnType:function(){return this.column.column_type},referenceId:function(){var e=m.r3[this.column.reference.model_name];return e&&this.value[e.primary_key]||this.value},polymorphicModel:function(){var e;if(null!==(e=this.column.reference)&&void 0!==e&&e.polymorphic){var t=this.resource[this.column.reference.name+"_type"];return m.r3[(0,A.It)(t).replace(/:{2}/g,"/")]}return null},isActiveStorage:function(){var e;return"active_storage/attachment"===(null===(e=this.column.reference)||void 0===e?void 0:e.model_name)},isEmpty:function(){return[null,void 0,""].includes(this.value)}},methods:{copyToClipboard:function(){var e,t=this;this.$refs.dataCell?e=this.$refs.dataCell.$refs.cell.copyToClipboard():this.$refs.dataReference&&(e=this.$refs.dataReference.copyToClipboard()),e.then((function(){t.$Message.info(t.i18n.copied_to_the_clipboard)}))},toggleEdit:function(){this.isEdit||this.assignResourceData(),this.isEdit=!this.isEdit},assignResourceData:function(){this.isJsonColumn?this.resourceData[this.column.name]=JSON.stringify(this.value||{},null,"  "):this.value&&"object"==typeof this.value?this.resourceData[this.column.name]=JSON.parse(JSON.stringify(this.value)):this.resourceData[this.column.name]=this.value},handleSubmit:function(){var e,t=this;return(e=p().mark((function e(){var n,i,r;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,e.next=4,f.Z.put("data/".concat(t.model.slug,"/").concat(t.resource[t.model.primary_key]),t.requestData);case 4:n=e.sent,t.isEdit=!1,t.$emit("update",n.data.data),t.$Message.info("".concat(t.column.display_name," ").concat(t.i18n.has_been_updated)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),null!==(i=e.t0.response)&&void 0!==i&&null!==(r=i.data)&&void 0!==r&&r.errors?"string"==typeof e.t0.response.data.errors[0]?t.$refs.form.setErrors(T({},t.column.name,e.t0.response.data.errors)):t.$refs.form.setErrors(e.t0.response.data.errors):e.t0.message&&t.$refs.form.setErrors(T({},t.column.name,e.t0.message));case 13:return e.prev=13,t.isLoading=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})),function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){D(o,i,r,s,a,"next",e)}function a(e){D(o,i,r,s,a,"throw",e)}s(void 0)}))})()},submit:function(){var e=this;this.$refs.form.validate((function(t){t&&e.handleSubmit()}))}},render:function(e,t,n,o,s,a){var l,c,u=(0,i.up)("Spin"),d=(0,i.up)("FormListInput"),h=(0,i.up)("FormInput"),p=(0,i.up)("FormItem"),f=(0,i.up)("VForm"),m=(0,i.up)("DataCell"),g=(0,i.up)("Reference"),w=(0,i.up)("VButton"),_=(0,i.up)("Icon");return(0,i.wg)(),(0,i.iD)("div",{class:(0,r.C_)(["d-flex align-items-center info-cell position-relative",a.isRichtext&&s.isEdit?"flex-column":"flex-row"])},[s.isLoading?((0,i.wg)(),(0,i.j4)(u,{key:0,fix:""})):(0,i.kq)("v-if",!0),s.isEdit?((0,i.wg)(),(0,i.j4)(f,{key:1,ref:"form",model:s.resourceData,class:"w-100",rules:a.rules,"label-position":"top",onSubmit:t[2]||(t[2]=(0,v.iM)((function(){}),["prevent"]))},{default:(0,i.w5)((function(){return[(0,i.Wm)(p,{prop:n.column.name,class:"m-0"},{default:(0,i.w5)((function(){return[n.column.is_array&&!a.multipleValuesSelectorColumnTypes.includes(n.column.column_type)?((0,i.wg)(),(0,i.j4)(d,{key:0,modelValue:s.resourceData[n.column.name],"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.resourceData[n.column.name]=e}),column:n.column},null,8,["modelValue","column"])):((0,i.wg)(),(0,i.j4)(h,{key:1,modelValue:s.resourceData[n.column.name],"onUpdate:modelValue":t[1]||(t[1]=function(e){return s.resourceData[n.column.name]=e}),"form-data":n.resource,column:n.column,onEnter:a.submit},null,8,["modelValue","form-data","column","onEnter"]))]})),_:1},8,["prop"])]})),_:1},8,["model","rules"])):((0,i.wg)(),(0,i.iD)(i.HY,{key:2},[a.isActiveStorage?((0,i.wg)(),(0,i.j4)(m,{key:0,ref:"dataCell",value:null===(l=a.value)||void 0===l?void 0:l.path,"text-truncate":!1,type:"string"},null,8,["value"])):n.column.reference&&a.value&&(null===(c=n.column.reference)||void 0===c||!c.polymorphic||a.polymorphicModel)?((0,i.wg)(),(0,i.j4)(g,{key:1,ref:"dataReference","resource-id":a.referenceId,"reference-name":n.column.reference.model_name,"max-length":n.referenceSize,"show-popover":n.referencePopover,"reference-data":n.resource[n.column.reference.name],"polymorphic-model":a.polymorphicModel},null,8,["resource-id","reference-name","max-length","show-popover","reference-data","polymorphic-model"])):a.isEmpty?((0,i.wg)(),(0,i.iD)("span",y," - ")):((0,i.wg)(),(0,i.j4)(m,{key:3,ref:"dataCell",value:a.value,format:n.column.format,"text-truncate":!1,type:a.columnType},null,8,["value","format","type"]))],2112)),s.isEdit?((0,i.wg)(),(0,i.iD)("div",b,[a.isRichtext?((0,i.wg)(),(0,i.j4)(w,{key:0,icon:"md-close",type:"text",onClick:a.toggleEdit},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.cancel),1)]})),_:1},8,["onClick"])):((0,i.wg)(),(0,i.j4)(w,{key:1,icon:"md-close",type:"text",onClick:a.toggleEdit},null,8,["onClick"])),a.isRichtext?((0,i.wg)(),(0,i.j4)(w,{key:2,icon:"md-checkmark",type:"text",onClick:a.submit},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.submit),1)]})),_:1},8,["onClick"])):((0,i.wg)(),(0,i.j4)(w,{key:3,icon:"md-checkmark",type:"text",onClick:a.submit},null,8,["onClick"]))])):a.isEditable?((0,i.wg)(),(0,i.j4)(_,{key:4,type:"md-create","data-role":"edit",class:"cursor-pointer action-button",onClick:a.toggleEdit},null,8,["onClick"])):(0,i.kq)("v-if",!0),s.isEdit||a.isEmpty||!a.withClipboard?(0,i.kq)("v-if",!0):((0,i.wg)(),(0,i.j4)(_,{key:5,type:"md-clipboard","data-role":"copy",class:"cursor-pointer action-button",onClick:a.copyToClipboard},null,8,["onClick"]))],2)},__scopeId:"data-v-35412914"};var $=n(3810),M=n(8104),R=n(7605),L=n(8564),P=n(1394),F=n(7209);function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function j(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,r)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){j(o,i,r,s,a,"next",e)}function a(e){j(o,i,r,s,a,"throw",e)}s(void 0)}))}}const V={name:"ResourceInfo",components:{InfoCell:E,ResourceActions:$.Z,SettingsMask:P.Z},props:{resourceName:{type:String,required:!0},resourceId:{type:[String,Number],required:!0},withActions:{type:Boolean,required:!1,default:!1},withStickyTitle:{type:Boolean,required:!1,default:!1},editable:{type:Boolean,required:!1,default:!1},oneColumn:{type:Boolean,required:!1,default:!0},referencePopover:{type:Boolean,required:!1,default:!0}},emits:["remove"],data:function(){return{resource:{},notFound:!1,isLoading:!0,isReloading:!0}},computed:{isShowSettings:L.Qy,title:function(){var e,t=this.resource[this.model.primary_key],n=null==t||null===(e=t.toString())||void 0===e?void 0:e.match(/^\d+$/);return"".concat((0,g.Z)(this.model.display_name)).concat(n?" #":": ").concat(t)},model:function(){return m.r3[this.resourceName]},columns:function(){return this.model.columns.filter((function(e){return"id"!==e.name&&["read_only","read_write"].includes(e.access_type)}))},includeParams:function(){return(0,S.p)(this.model)},fieldsParams:function(){return(0,S.n)(this.model)},queryParams:function(){var e={fields:this.fieldsParams};return this.includeParams&&(e.include=this.includeParams),e}},watch:{columns:{deep:!0,handler:(0,F.Z)(N(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loadData();case 1:case"end":return e.stop()}}),e,this)}))),3e3)},"model.display_column":function(){this.assignBreadcrumbLabel()},"model.display_primary_key":function(){this.assignBreadcrumbLabel()}},beforeUnmount:function(){var e;null===(e=this.titleObserver)||void 0===e||e.disconnect()},mounted:function(){var e=this;this.loadData().then((function(){e.withStickyTitle&&e.initializeTitleObserver()}))},methods:{widthLessThan:R.aJ,initializeTitleObserver:function(){var e=this;this.titleObserver=new IntersectionObserver((function(t){var n,i,r=(n=t,i=1,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(n,i)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return e.$refs.title.classList.toggle("pinned-resource-title",r.intersectionRatio<1)}),{threshold:1}),this.$refs.observerElement&&this.titleObserver.observe(this.$refs.observerElement)},onFinisAction:function(e){"remove"===e?this.$emit("remove",this.resource):this.loadData()},assignResource:function(e){this.resource=e,this.assignBreadcrumbLabel()},assignBreadcrumbLabel:function(){var e=this.model.display_primary_key?["".concat(this.resourceId.toString().match(/^\d+$/)?"#":"").concat(this.resourceId)]:[];this.model.display_column&&this.resource[this.model.display_column]&&this.resourceId.toString()!==this.resource[this.model.display_column].toString()&&e.push("".concat(this.resource[this.model.display_column])),(0,M.y)(this.resourceName,this.resourceId,e.join(" "))},loadData:function(){var e=this;return this.isReloading=!0,f.Z.get("data/".concat(this.model.slug,"/").concat(this.resourceId),{params:this.queryParams}).then((function(t){e.assignResource(t.data.data)})).catch((function(t){var n,i,r,o;404===(null===(n=t.response)||void 0===n?void 0:n.status)?e.notFound=!0:(console.error(t),403===(null===(i=t.response)||void 0===i?void 0:i.status)&&(e.notFound=!0),null!==(r=t.response)&&void 0!==r&&null!==(o=r.data)&&void 0!==o&&o.errors?e.$Message.error(t.response.data.errors.join("\n")):e.$Message.error(t.message))})).finally((function(){e.isLoading=!1,e.isReloading=!1}))}},render:function(e,t,n,h,p,f){var m=(0,i.up)("Spin"),g=(0,i.up)("SettingsMask"),v=(0,i.up)("ResourceActions"),y=(0,i.up)("InfoCell");return(0,i.wg)(),(0,i.iD)("div",{style:{position:"relative"},class:(0,r.C_)({"h-100":p.isLoading})},[p.isLoading||p.isReloading?((0,i.wg)(),(0,i.j4)(m,{key:0,fix:""})):(0,i.kq)("v-if",!0),p.isLoading?(0,i.kq)("v-if",!0):((0,i.wg)(),(0,i.iD)("div",o,[n.withStickyTitle?((0,i.wg)(),(0,i.iD)("div",s,null,512)):(0,i.kq)("v-if",!0),(0,i._)("div",a,[(0,i._)("div",{class:"position-relative",style:(0,r.j5)([{"min-width":"250px"},n.withActions&&!p.notFound?f.widthLessThan("lg")?"width: calc(100% - 100px)":"width: 50%":"width: 100%"])},[p.notFound?((0,i.wg)(),(0,i.iD)("p",l,(0,r.zw)(e.i18n.not_found),1)):((0,i.wg)(),(0,i.iD)("h2",{key:1,style:(0,r.j5)(n.withStickyTitle?"margin: 9px 0":"margin-bottom: 9px")},(0,r.zw)(f.title),5)),f.isShowSettings?((0,i.wg)(),(0,i.iD)("div",c)):(0,i.kq)("v-if",!0)],4),n.withActions&&!p.notFound?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"d-flex justify-content-end align-items-center",style:(0,r.j5)([{"z-index":"0"},f.widthLessThan("lg")?"width: 100px":"width: 50%"])},[f.isShowSettings?((0,i.wg)(),(0,i.j4)(g,{key:0,"button-only":!0,"settings-type":"actions",resource:f.model},null,8,["resource"])):((0,i.wg)(),(0,i.j4)(v,{key:1,resources:[p.resource],"resource-name":f.model.name,"button-type":"primary","button-ghost":!1,label:e.i18n.actions,"with-buttons":!f.widthLessThan("lg"),placement:"bottom-end",onStartAction:t[0]||(t[0]=function(e){return p.isReloading=!0}),onFinishAction:f.onFinisAction},null,8,["resources","resource-name","label","with-buttons","onFinishAction"]))],4)):(0,i.kq)("v-if",!0)],512),p.notFound?(0,i.kq)("v-if",!0):((0,i.wg)(),(0,i.iD)("div",{key:1,class:"position-relative",style:(0,r.j5)({maxWidth:n.oneColumn&&!p.notFound?"500px":"",overflow:f.isShowSettings?"hidden":"",height:f.isShowSettings?Math.min(e.$refs.columnsWrapper.offsetHeight,e.$parent.$parent.$el.offsetHeight-110)+"px":"auto"})},[f.isShowSettings?((0,i.wg)(),(0,i.j4)(g,{key:0,resource:f.model,"settings-type":"columns"},null,8,["resource"])):(0,i.kq)("v-if",!0),(0,i._)("div",u,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(f.columns,(function(t){return(0,i.wg)(),(0,i.iD)("div",{key:t.name,class:(0,r.C_)([n.oneColumn?"col-12":"col-xxl-3 col-xl-6 col-md-12 col-12","mb-3"])},[(0,i._)("b",null,(0,r.zw)(t.display_name)+": ",1),d,(0,i.Wm)(y,{resource:p.resource,column:t,"resource-name":n.resourceName,editable:n.editable&&e.$can("edit",f.model.class_name,p.resource),"reference-popover":n.referencePopover,"reference-size":n.oneColumn?30:20,onUpdate:f.assignResource},null,8,["resource","column","resource-name","editable","reference-popover","reference-size","onUpdate"])],2)})),128))],512)],4))]))],2)}}},2920:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h}),n(8309);var i=n(6252),r=n(3577),o={key:2,class:"d-flex justify-content-center align-items-center",style:{height:"100%"}};n(7327),n(1539),n(8674),n(7727),n(5827),n(9070),n(7941),n(2526),n(5003),n(9554),n(4747),n(9337),n(3321);var s=n(9434),a=n(5634),l=n(7248);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h={name:"QueryTab",components:{QueryResult:s.Z,VariablesForm:a.Z},props:{variables:{type:Object,required:!1,default:function(){return{}}},tab:{type:Object,required:!0}},data:function(){return{isLoading:!1,isLoadingQuery:!0,dataVariables:u({},this.variables),errors:[],data:[],columns:[],query:{}}},computed:{queryId:function(){return this.tab.preferences.query_id},style:function(){return this.isLoadingQuery||!this.showVariablesForm?"height: 100%":"height: calc(100% - 78px)"},variablesToRender:function(){var e=this;return(this.query.preferences.variables||[]).filter((function(t){return!e.variables[t.name]}))},showVariablesForm:function(){return!!this.variablesToRender.length}},mounted:function(){this.loadQuery(),this.runQuery()},methods:{loadQuery:function(){var e=this;return l.Z.get("queries/".concat(this.queryId),{}).then((function(t){e.query=t.data.data,e.assignDataVariables()})).catch((function(e){console.error(e)})).finally((function(){e.isLoadingQuery=!1}))},assignDataVariables:function(){this.dataVariables=(this.query.preferences.variables||[]).reduce((function(e,t){return e[t.name]=t.default_value,e}),{})},runQuery:function(){var e=this;return this.isLoading=!0,l.Z.get("run_queries/".concat(this.queryId),{params:{variables:u(u({},this.dataVariables),this.variables)}}).then((function(t){e.errors=[],e.data=t.data.data,e.columns=t.data.meta.columns})).catch((function(t){var n;e.errors=null===(n=t.response.data)||void 0===n?void 0:n.errors})).finally((function(){e.isLoading=!1}))}},render:function(e,t,n,s,a,l){var c=(0,i.up)("Spin"),u=(0,i.up)("VariablesForm"),d=(0,i.up)("QueryResult");return(0,i.wg)(),(0,i.iD)("div",{style:(0,r.j5)(l.style)},[a.isLoadingQuery?((0,i.wg)(),(0,i.j4)(c,{key:0,fix:""})):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[l.showVariablesForm?((0,i.wg)(),(0,i.j4)(u,{key:0,data:a.dataVariables,"onUpdate:data":t[0]||(t[0]=function(e){return a.dataVariables=e}),variables:l.variablesToRender,class:"mx-2 pb-3",onSubmit:l.runQuery},null,8,["data","variables","onSubmit"])):(0,i.kq)("v-if",!0),a.isLoading?((0,i.wg)(),(0,i.j4)(c,{key:1,fix:""})):a.data.length?(0,i.kq)("v-if",!0):((0,i.wg)(),(0,i.iD)("div",o,(0,r.zw)(e.i18n.no_data),1)),a.data.length?((0,i.wg)(),(0,i.j4)(d,{key:3,data:a.data,errors:a.errors,title:a.query.name,columns:a.columns,"query-id":a.query.id,"with-footer":"markdown"!==a.query.preferences.visualization,"with-settings":!1,"header-border":l.showVariablesForm,preferences:a.query.preferences},null,8,["data","errors","title","columns","query-id","with-footer","header-border","preferences"])):(0,i.kq)("v-if",!0)],64))],4)}}},940:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var i=n(6252),r=n(3577),o=n(9963),s={class:"ivu-table-header"},a={class:"ivu-table-cell ivu-table-cell-with-selection"},l={key:0,class:"ivu-table-tbody"},c=["onClick"],u={class:"ivu-table-cell ivu-table-cell-with-selection"},d={key:1,style:{margin:"auto"}};n(9826),n(2564),n(3710),n(1539),n(9714),n(9554),n(4747),(0,i.dD)("data-v-1528f221");var h={class:"ivu-table-column"},p={class:"ivu-table-cell"},f=(0,i.Uk)(" "+(0,r.zw)(" ")+" "),m={key:0,class:"ivu-table-sort"};(0,i.Cn)(),n(2222);var g=n(48);const v={name:"DataTableHeaderCell",props:{column:{type:Object,required:!0},sortParams:{type:Object,required:!0},withSorting:{type:Boolean,required:!0}},emits:["update:sortParams"],computed:{sortKey:function(){var e;if("has_one"===(null===(e=this.column.reference)||void 0===e?void 0:e.reference_type)){var t=g.r3[this.column.reference.model_name];return t?"".concat(this.column.key,".").concat(t.primary_key):this.column.key}return this.column.key}},methods:{applySort:function(e){!e||this.sortKey===this.sortParams.key&&e===this.sortParams.order?this.$emit("update:sortParams",{}):this.$emit("update:sortParams",{key:this.sortKey,order:e})},toggleSort:function(){!1!==this.column.sortable&&(this.sortParams.key===this.sortKey?""===this.sortParams.order?this.applySort("asc"):"asc"===this.sortParams.order?this.applySort("desc"):"desc"===this.sortParams.order&&this.applySort():this.applySort("asc"))}},render:function(e,t,n,s,a,l){return(0,i.wg)(),(0,i.iD)("th",h,[(0,i._)("div",p,[(0,i._)("span",{class:(0,r.C_)({"ivu-table-cell-sort":n.withSorting}),onClick:t[0]||(t[0]=(0,o.iM)((function(){return l.toggleSort&&l.toggleSort.apply(l,arguments)}),["prevent"]))},(0,r.zw)(n.column.title),3),f,n.withSorting&&!1!==n.column.sortable?((0,i.wg)(),(0,i.iD)("span",m,[(0,i._)("i",{class:(0,r.C_)(["ion ion-md-arrow-dropup",{on:n.sortParams.key===l.sortKey&&"asc"===n.sortParams.order}]),onClick:t[1]||(t[1]=(0,o.iM)((function(e){return l.applySort("asc")}),["prevent"]))},null,2),(0,i._)("i",{class:(0,r.C_)(["ion ion-md-arrow-dropdown",{on:n.sortParams.key===l.sortKey&&"desc"===n.sortParams.order}]),onClick:t[2]||(t[2]=(0,o.iM)((function(e){return l.applySort("desc")}),["prevent"]))},null,2)])):(0,i.kq)("v-if",!0)])])},__scopeId:"data-v-1528f221"};n(8309),n(4916),n(4723);var y={class:"ivu-table-column"},b={class:"ivu-table-cell"};n(5306);var w=n(813),_=n(85),x=n(5763);const k={name:"DataTable",components:{HeaderCell:v,TableColumn:{name:"TableColumn",components:{Reference:_.Z,DataCell:w.Z},props:{row:{type:[Object,Array],required:!0},column:{type:Object,required:!0},withHtml:{type:Boolean,required:!1,default:!1},alwaysRefer:{type:Boolean,required:!1,default:!1}},computed:{polymorphicModel:function(){var e;if(null!==(e=this.column.reference)&&void 0!==e&&e.polymorphic){var t=this.row[this.column.reference.name+"_type"];return g.r3[(0,x.It)(t).replace(/:{2}/g,"/")]}return null},referenceId:function(){var e=g.r3[this.column.reference.model_name];return e&&this.row[this.column.key][e.primary_key]||this.row[this.column.key]}},render:function(e,t,n,r,s,a){var l,c,u,d,h=(0,i.up)("DataCell"),p=(0,i.up)("Reference");return(0,i.wg)(),(0,i.iD)("td",y,[(0,i._)("div",b,["active_storage/attachment"===(null===(l=n.column.reference)||void 0===l?void 0:l.model_name)?((0,i.wg)(),(0,i.j4)(h,{key:0,value:null===(c=n.row[n.column.key])||void 0===c?void 0:c.path,type:"string"},null,8,["value"])):n.column.reference&&n.row[n.column.key]&&(null===(u=n.column.reference)||void 0===u||!u.polymorphic||a.polymorphicModel)?((0,i.wg)(),(0,i.j4)(p,{key:1,"resource-id":a.referenceId,"reference-name":n.column.reference.model_name,"reference-data":n.row[n.column.reference.name],"always-refer":n.alwaysRefer,"polymorphic-model":a.polymorphicModel},null,8,["resource-id","reference-name","reference-data","always-refer","polymorphic-model"])):n.withHtml&&"string"===n.column.type&&null!==(d=n.row[n.column.key])&&void 0!==d&&d.match(/^\<.*\>$/)?((0,i.wg)(),(0,i.j4)(h,{key:2,value:n.row[n.column.key],type:"richtext","text-truncate":!1,onClick:t[0]||(t[0]=(0,o.iM)((function(){}),["stop"]))},null,8,["value"])):((0,i.wg)(),(0,i.j4)(h,{key:3,value:n.row[n.column.key],format:n.column.format,type:n.column.type},null,8,["value","format","type"]))])])}}},props:{data:{type:Array,required:!1,default:function(){return[]}},sortParams:{type:Object,required:!1,default:function(){return{}}},columns:{type:Array,required:!1,default:function(){return[]}},withSelect:{type:Boolean,required:!1,default:!0},alwaysRefer:{type:Boolean,required:!1,default:!1},clickRows:{type:Boolean,required:!1,default:!0},withSorting:{type:Boolean,required:!1,default:!0},withHtml:{type:Boolean,required:!1,default:!1},borderless:{type:Boolean,required:!1,default:!1},headerBorder:{type:Boolean,required:!1,default:!0},scrollToTopOnDataUpdate:{type:Boolean,required:!1,default:!0},compact:{type:Boolean,required:!1,default:!1},loading:{type:Boolean,required:!1,default:!1}},emits:["row-click","sort-change","update:sortParams"],data:function(){return{dataSort:{}}},computed:{isSelectedAll:function(){return 0!==this.data.length&&!this.data.find((function(e){return!e._selected}))}},watch:{sortParams:function(e){this.dataSort=e},data:function(){this.scrollToTopOnDataUpdate&&this.scrollToTop()}},mounted:function(){this.dataSort=this.sortParams},methods:{scrollToTop:function(){this.$refs.wrapper.scrollTop=0},onRowClick:function(e){var t=this;setTimeout((function(){0===window.getSelection().toString().length&&t.$emit("row-click",e)}),0)},toggleSelectAll:function(e){this.data.forEach((function(t){t._selected=e}))},applySort:function(e){this.dataSort=e,this.$emit("update:sortParams",this.dataSort),this.$emit("sort-change",this.dataSort)}},render:function(e,t,n,h,p,f){var m=(0,i.up)("Checkbox"),g=(0,i.up)("HeaderCell"),v=(0,i.up)("Spin"),y=(0,i.up)("TableColumn");return(0,i.wg)(),(0,i.iD)("div",{ref:"wrapper",class:"table-wrapper",style:(0,r.j5)({overflowX:"auto",overflowY:n.compact?"hidden":"auto",height:"100%"})},[(0,i._)("table",{cellspacing:"0",cellpadding:"0",border:"0",class:(0,r.C_)(["ivu-table ivu-table-default",{"ivu-table-clickable-rows":n.clickRows,"ivu-table-borderless":n.borderless,"ivu-table-compact":n.compact}]),style:{position:"relative"}},[(0,i._)("thead",s,[(0,i._)("tr",null,[n.withSelect&&n.columns.length?((0,i.wg)(),(0,i.iD)("th",{key:0,class:(0,r.C_)(["ivu-table-column ivu-table-column-center",{"border-top":!n.borderless&&n.headerBorder}]),style:{position:"sticky",top:0,left:0,zIndex:1}},[(0,i._)("div",a,[(0,i.Wm)(m,{"model-value":f.isSelectedAll,disabled:0===n.data.length,onOnChange:f.toggleSelectAll},null,8,["model-value","disabled","onOnChange"])])],2)):(0,i.kq)("v-if",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.columns,(function(e){return(0,i.wg)(),(0,i.j4)(g,{key:e.key,"sort-params":p.dataSort,column:e,class:(0,r.C_)(["ivu-table-column",{"border-top":!n.borderless&&n.headerBorder}]),"with-sorting":n.withSorting,"onUpdate:sortParams":f.applySort},null,8,["sort-params","column","with-sorting","class","onUpdate:sortParams"])})),128))])]),n.data.length?((0,i.wg)(),(0,i.iD)("tbody",l,[n.loading?((0,i.wg)(),(0,i.j4)(v,{key:0,fix:""})):(0,i.kq)("v-if",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.data,(function(e,r){return(0,i.wg)(),(0,i.iD)("tr",{key:e.id||r,class:"ivu-table-row",draggable:"false",onClick:(0,o.iM)((function(t){return f.onRowClick(e)}),["prevent"])},[n.withSelect?((0,i.wg)(),(0,i.iD)("td",{key:0,class:"ivu-table-column ivu-table-column-center",style:{position:"sticky",left:0},onClick:t[0]||(t[0]=(0,o.iM)((function(){}),["stop"]))},[(0,i._)("div",u,[(0,i.Wm)(m,{modelValue:e._selected,"onUpdate:modelValue":function(t){return e._selected=t}},null,8,["modelValue","onUpdate:modelValue"])])])):(0,i.kq)("v-if",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.columns,(function(t){return(0,i.wg)(),(0,i.j4)(y,{key:t.key,row:e,"with-html":n.withHtml,"always-refer":n.alwaysRefer,column:t},null,8,["row","with-html","always-refer","column"])})),128))],8,c)})),128))])):(0,i.kq)("v-if",!0)],2),0===n.data.length?((0,i.wg)(),(0,i.iD)("div",{key:0,style:(0,r.j5)({margin:"auto",height:n.columns.length?"calc(100% - 40px)":"100%",display:"flex",position:"relative"})},[n.loading?((0,i.wg)(),(0,i.j4)(v,{key:0,fix:""})):((0,i.wg)(),(0,i.iD)("div",d,(0,r.zw)(e.i18n.no_data),1))],4)):(0,i.kq)("v-if",!0)],4)}}},9434:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Ss});var i=n(6252),r=n(3577),o={key:4,class:"d-flex justify-content-center text-center border-top bg-white p-1"},s={class:"d-flex justify-content-start",style:{width:"15%"}},a={style:{width:"70%",whiteSpace:"nowrap"}},l={class:"d-flex justify-content-end",style:{width:"15%"}};n(9653),n(5827),n(6699),n(8309),n(2707),n(4916),n(5306),n(7042),n(1249),n(4723),n(3710),n(1539),n(9714),n(6992),n(8783),n(3948),n(285),n(2222),n(9753),n(2526),n(1817),n(2165),n(1038);var c=n(940),u={key:0,ref:"canvas",class:"bg-white p-2"},d={key:1,class:"d-flex justify-content-center align-items-center",style:{height:"100%"}};n(7327),n(4678),n(6541),n(2023),n(9070),n(7941),n(5003),n(9554),n(4747),n(9337),n(3321);const h="undefined"==typeof window?function(e){return e()}:window.requestAnimationFrame;function p(e,t,n){const i=n||(e=>Array.prototype.slice.call(e));let r=!1,o=[];return function(...n){o=i(n),r||(r=!0,h.call(window,(()=>{r=!1,e.apply(t,o)})))}}const f=e=>"start"===e?"left":"end"===e?"right":"center",m=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;function g(){}const v=function(){let e=0;return function(){return e++}}();function y(e){return null==e}function b(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.substr(0,7)&&"Array]"===t.substr(-6)}function w(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}const _=e=>("number"==typeof e||e instanceof Number)&&isFinite(+e);function x(e,t){return _(e)?e:t}function k(e,t){return void 0===e?t:e}const C=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function S(e,t,n){if(e&&"function"==typeof e.call)return e.apply(n,t)}function A(e,t,n,i){let r,o,s;if(b(e))if(o=e.length,i)for(r=o-1;r>=0;r--)t.call(n,e[r],r);else for(r=0;r<o;r++)t.call(n,e[r],r);else if(w(e))for(s=Object.keys(e),o=s.length,r=0;r<o;r++)t.call(n,e[s[r]],s[r])}function D(e,t){let n,i,r,o;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(r=e[n],o=t[n],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function O(e){if(b(e))return e.map(O);if(w(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let r=0;for(;r<i;++r)t[n[r]]=O(e[n[r]]);return t}return e}function T(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function E(e,t,n,i){if(!T(e))return;const r=t[e],o=n[e];w(r)&&w(o)?$(r,o,i):t[e]=O(o)}function $(e,t,n){const i=b(t)?t:[t],r=i.length;if(!w(e))return e;const o=(n=n||{}).merger||E;for(let s=0;s<r;++s){if(!w(t=i[s]))continue;const r=Object.keys(t);for(let i=0,s=r.length;i<s;++i)o(r[i],e,t,n)}return e}function M(e,t){return $(e,t,{merger:R})}function R(e,t,n){if(!T(e))return;const i=t[e],r=n[e];w(i)&&w(r)?M(i,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=O(r))}function L(e,t){const n=e.indexOf(".",t);return-1===n?e.length:n}function P(e,t){if(""===t)return e;let n=0,i=L(t,n);for(;e&&i>n;)e=e[t.substr(n,i-n)],n=i+1,i=L(t,n);return e}function F(e){return e.charAt(0).toUpperCase()+e.slice(1)}const I=e=>void 0!==e,j=e=>"function"==typeof e,N=Math.PI,V=2*N,B=V+N,q=Number.POSITIVE_INFINITY,z=N/180,W=N/2,U=N/4,H=2*N/3,K=Math.log10,Z=Math.sign;function G(e){const t=Math.round(e);e=Q(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(K(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function Y(e){return!isNaN(parseFloat(e))&&isFinite(e)}function Q(e,t,n){return Math.abs(e-t)<n}function J(e,t,n){let i,r,o;for(i=0,r=e.length;i<r;i++)o=e[i][n],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function X(e){return e*(N/180)}function ee(e){return e*(180/N)}function te(e){if(!_(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function ne(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function ie(e,t){return(e-t+B)%V-N}function re(e){return(e%V+V)%V}function oe(e,t,n,i){const r=re(e),o=re(t),s=re(n),a=re(o-r),l=re(s-r),c=re(r-o),u=re(r-s);return r===o||r===s||i&&o===s||a>l&&c<u}function se(e,t,n){return Math.max(t,Math.min(n,e))}const ae=e=>0===e||1===e,le=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*V/n),ce=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*V/n)+1,ue={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*W),easeOutSine:e=>Math.sin(e*W),easeInOutSine:e=>-.5*(Math.cos(N*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>ae(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>ae(e)?e:le(e,.075,.3),easeOutElastic:e=>ae(e)?e:ce(e,.075,.3),easeInOutElastic(e){const t=.1125;return ae(e)?e:e<.5?.5*le(2*e,t,.45):.5+.5*ce(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-ue.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*ue.easeInBounce(2*e):.5*ue.easeOutBounce(2*e-1)+.5},de={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},he="0123456789ABCDEF",pe=e=>he[15&e],fe=e=>he[(240&e)>>4]+he[15&e],me=e=>(240&e)>>4==(15&e);function ge(e){return e+.5|0}const ve=(e,t,n)=>Math.max(Math.min(e,n),t);function ye(e){return ve(ge(2.55*e),0,255)}function be(e){return ve(ge(255*e),0,255)}function we(e){return ve(ge(e/2.55)/100,0,1)}function _e(e){return ve(ge(100*e),0,100)}const xe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,ke=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ce(e,t,n){const i=t*Math.min(n,1-n),r=(t,r=(t+e/30)%12)=>n-i*Math.max(Math.min(r-3,9-r,1),-1);return[r(0),r(8),r(4)]}function Se(e,t,n){const i=(i,r=(i+e/60)%6)=>n-n*t*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function Ae(e,t,n){const i=Ce(e,1,.5);let r;for(t+n>1&&(r=1/(t+n),t*=r,n*=r),r=0;r<3;r++)i[r]*=1-t-n,i[r]+=t;return i}function De(e){const t=e.r/255,n=e.g/255,i=e.b/255,r=Math.max(t,n,i),o=Math.min(t,n,i),s=(r+o)/2;let a,l,c;return r!==o&&(c=r-o,l=s>.5?c/(2-r-o):c/(r+o),a=r===t?(n-i)/c+(n<i?6:0):r===n?(i-t)/c+2:(t-n)/c+4,a=60*a+.5),[0|a,l||0,s]}function Oe(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(be)}function Te(e,t,n){return Oe(Ce,e,t,n)}function Ee(e){return(e%360+360)%360}const $e={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Me={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Re;function Le(e,t,n){if(e){let i=De(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,0===t?360:1)),i=Te(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function Pe(e,t){return e?Object.assign(t||{},e):e}function Fe(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=be(e[3]))):(t=Pe(e,{r:0,g:0,b:0,a:1})).a=be(t.a),t}function Ie(e){return"r"===e.charAt(0)?function(e){const t=xe.exec(e);let n,i,r,o=255;if(t){if(t[7]!==n){const e=+t[7];o=255&(t[8]?ye(e):255*e)}return n=+t[1],i=+t[3],r=+t[5],n=255&(t[2]?ye(n):n),i=255&(t[4]?ye(i):i),r=255&(t[6]?ye(r):r),{r:n,g:i,b:r,a:o}}}(e):function(e){const t=ke.exec(e);let n,i=255;if(!t)return;t[5]!==n&&(i=t[6]?ye(+t[5]):be(+t[5]));const r=Ee(+t[2]),o=+t[3]/100,s=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return Oe(Ae,e,t,n)}(r,o,s):"hsv"===t[1]?function(e,t,n){return Oe(Se,e,t,n)}(r,o,s):Te(r,o,s),{r:n[0],g:n[1],b:n[2],a:i}}(e)}class je{constructor(e){if(e instanceof je)return e;const t=typeof e;let n;var i,r,o;"object"===t?n=Fe(e):"string"===t&&(o=(i=e).length,"#"===i[0]&&(4===o||5===o?r={r:255&17*de[i[1]],g:255&17*de[i[2]],b:255&17*de[i[3]],a:5===o?17*de[i[4]]:255}:7!==o&&9!==o||(r={r:de[i[1]]<<4|de[i[2]],g:de[i[3]]<<4|de[i[4]],b:de[i[5]]<<4|de[i[6]],a:9===o?de[i[7]]<<4|de[i[8]]:255})),n=r||function(e){Re||(Re=function(){const e={},t=Object.keys(Me),n=Object.keys($e);let i,r,o,s,a;for(i=0;i<t.length;i++){for(s=a=t[i],r=0;r<n.length;r++)o=n[r],a=a.replace(o,$e[o]);o=parseInt(Me[s],16),e[a]=[o>>16&255,o>>8&255,255&o]}return e}(),Re.transparent=[0,0,0,0]);const t=Re[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(e)||Ie(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=Pe(this._rgb);return e&&(e.a=we(e.a)),e}set rgb(e){this._rgb=Fe(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${we(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`):this._rgb;var e}hexString(){return this._valid?(e=this._rgb,t=function(e){return me(e.r)&&me(e.g)&&me(e.b)&&me(e.a)}(e)?pe:fe,e?"#"+t(e.r)+t(e.g)+t(e.b)+(e.a<255?t(e.a):""):e):this._rgb;var e,t}hslString(){return this._valid?function(e){if(!e)return;const t=De(e),n=t[0],i=_e(t[1]),r=_e(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${r}%, ${we(e.a)})`:`hsl(${n}, ${i}%, ${r}%)`}(this._rgb):this._rgb}mix(e,t){const n=this;if(e){const i=n.rgb,r=e.rgb;let o;const s=t===o?.5:t,a=2*s-1,l=i.a-r.a,c=((a*l==-1?a:(a+l)/(1+a*l))+1)/2;o=1-c,i.r=255&c*i.r+o*r.r+.5,i.g=255&c*i.g+o*r.g+.5,i.b=255&c*i.b+o*r.b+.5,i.a=s*i.a+(1-s)*r.a,n.rgb=i}return n}clone(){return new je(this.rgb)}alpha(e){return this._rgb.a=be(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=ge(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Le(this._rgb,2,e),this}darken(e){return Le(this._rgb,2,-e),this}saturate(e){return Le(this._rgb,1,e),this}desaturate(e){return Le(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=De(e);n[0]=Ee(n[0]+t),n=Te(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function Ne(e){return new je(e)}const Ve=e=>e instanceof CanvasGradient||e instanceof CanvasPattern;function Be(e){return Ve(e)?e:Ne(e)}function qe(e){return Ve(e)?e:Ne(e).saturate(.5).darken(.1).hexString()}const ze=Object.create(null),We=Object.create(null);function Ue(e,t){if(!t)return e;const n=t.split(".");for(let t=0,i=n.length;t<i;++t){const i=n[t];e=e[i]||(e[i]=Object.create(null))}return e}function He(e,t,n){return"string"==typeof t?$(Ue(e,t),n):$(Ue(e,""),t)}var Ke=new class{constructor(e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>qe(t.backgroundColor),this.hoverBorderColor=(e,t)=>qe(t.borderColor),this.hoverColor=(e,t)=>qe(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.describe(e)}set(e,t){return He(this,e,t)}get(e){return Ue(this,e)}describe(e,t){return He(We,e,t)}override(e,t){return He(ze,e,t)}route(e,t,n,i){const r=Ue(this,e),o=Ue(this,n),s="_"+t;Object.defineProperties(r,{[s]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[s],t=o[i];return w(e)?Object.assign({},t,e):k(e,t)},set(e){this[s]=e}}})}}({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function Ze(e,t,n,i,r){let o=t[r];return o||(o=t[r]=e.measureText(r).width,n.push(r)),o>i&&(i=o),i}function Ge(e,t,n,i){let r=(i=i||{}).data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},o=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let s=0;const a=n.length;let l,c,u,d,h;for(l=0;l<a;l++)if(d=n[l],null!=d&&!0!==b(d))s=Ze(e,r,o,s,d);else if(b(d))for(c=0,u=d.length;c<u;c++)h=d[c],null==h||b(h)||(s=Ze(e,r,o,s,h));e.restore();const p=o.length/2;if(p>n.length){for(l=0;l<p;l++)delete r[o[l]];o.splice(0,p)}return s}function Ye(e,t,n){const i=e.currentDevicePixelRatio,r=0!==n?Math.max(n/2,.5):0;return Math.round((t-r)*i)/i+r}function Qe(e,t){(t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function Je(e,t,n,i){let r,o,s,a,l;const c=t.pointStyle,u=t.rotation,d=t.radius;let h=(u||0)*z;if(c&&"object"==typeof c&&(r=c.toString(),"[object HTMLImageElement]"===r||"[object HTMLCanvasElement]"===r))return e.save(),e.translate(n,i),e.rotate(h),e.drawImage(c,-c.width/2,-c.height/2,c.width,c.height),void e.restore();if(!(isNaN(d)||d<=0)){switch(e.beginPath(),c){default:e.arc(n,i,d,0,V),e.closePath();break;case"triangle":e.moveTo(n+Math.sin(h)*d,i-Math.cos(h)*d),h+=H,e.lineTo(n+Math.sin(h)*d,i-Math.cos(h)*d),h+=H,e.lineTo(n+Math.sin(h)*d,i-Math.cos(h)*d),e.closePath();break;case"rectRounded":l=.516*d,a=d-l,o=Math.cos(h+U)*a,s=Math.sin(h+U)*a,e.arc(n-o,i-s,l,h-N,h-W),e.arc(n+s,i-o,l,h-W,h),e.arc(n+o,i+s,l,h,h+W),e.arc(n-s,i+o,l,h+W,h+N),e.closePath();break;case"rect":if(!u){a=Math.SQRT1_2*d,e.rect(n-a,i-a,2*a,2*a);break}h+=U;case"rectRot":o=Math.cos(h)*d,s=Math.sin(h)*d,e.moveTo(n-o,i-s),e.lineTo(n+s,i-o),e.lineTo(n+o,i+s),e.lineTo(n-s,i+o),e.closePath();break;case"crossRot":h+=U;case"cross":o=Math.cos(h)*d,s=Math.sin(h)*d,e.moveTo(n-o,i-s),e.lineTo(n+o,i+s),e.moveTo(n+s,i-o),e.lineTo(n-s,i+o);break;case"star":o=Math.cos(h)*d,s=Math.sin(h)*d,e.moveTo(n-o,i-s),e.lineTo(n+o,i+s),e.moveTo(n+s,i-o),e.lineTo(n-s,i+o),h+=U,o=Math.cos(h)*d,s=Math.sin(h)*d,e.moveTo(n-o,i-s),e.lineTo(n+o,i+s),e.moveTo(n+s,i-o),e.lineTo(n-s,i+o);break;case"line":o=Math.cos(h)*d,s=Math.sin(h)*d,e.moveTo(n-o,i-s),e.lineTo(n+o,i+s);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(h)*d,i+Math.sin(h)*d)}e.fill(),t.borderWidth>0&&e.stroke()}}function Xe(e,t,n){return n=n||.5,e&&t&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function et(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function tt(e){e.restore()}function nt(e,t,n,i,r){if(!t)return e.lineTo(n.x,n.y);if("middle"===r){const i=(t.x+n.x)/2;e.lineTo(i,t.y),e.lineTo(i,n.y)}else"after"===r!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function it(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function rt(e,t,n,i,r,o={}){const s=b(t)?t:[t],a=o.strokeWidth>0&&""!==o.strokeColor;let l,c;for(e.save(),e.font=r.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),y(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,o),l=0;l<s.length;++l)c=s[l],a&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),y(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(c,n,i,o.maxWidth)),e.fillText(c,n,i,o.maxWidth),ot(e,n,i,c,o),i+=r.lineHeight;e.restore()}function ot(e,t,n,i,r){if(r.strikethrough||r.underline){const o=e.measureText(i),s=t-o.actualBoundingBoxLeft,a=t+o.actualBoundingBoxRight,l=n-o.actualBoundingBoxAscent,c=n+o.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(s,u),e.lineTo(a,u),e.stroke()}}function st(e,t){const{x:n,y:i,w:r,h:o,radius:s}=t;e.arc(n+s.topLeft,i+s.topLeft,s.topLeft,-W,N,!0),e.lineTo(n,i+o-s.bottomLeft),e.arc(n+s.bottomLeft,i+o-s.bottomLeft,s.bottomLeft,N,W,!0),e.lineTo(n+r-s.bottomRight,i+o),e.arc(n+r-s.bottomRight,i+o-s.bottomRight,s.bottomRight,W,0,!0),e.lineTo(n+r,i+s.topRight),e.arc(n+r-s.topRight,i+s.topRight,s.topRight,0,-W,!0),e.lineTo(n+s.topLeft,i)}const at=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),lt=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function ct(e,t){const n=(""+e).match(at);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}function ut(e,t){const n={},i=w(t),r=i?Object.keys(t):t,o=w(e)?i?n=>k(e[n],e[t[n]]):t=>e[t]:()=>e;for(const e of r)n[e]=+o(e)||0;return n}function dt(e){return ut(e,{top:"y",right:"x",bottom:"y",left:"x"})}function ht(e){return ut(e,["topLeft","topRight","bottomLeft","bottomRight"])}function pt(e){const t=dt(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ft(e,t){e=e||{},t=t||Ke.font;let n=k(e.size,t.size);"string"==typeof n&&(n=parseInt(n,10));let i=k(e.style,t.style);i&&!(""+i).match(lt)&&(console.warn('Invalid font style specified: "'+i+'"'),i="");const r={family:k(e.family,t.family),lineHeight:ct(k(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:k(e.weight,t.weight),string:""};return r.string=function(e){return!e||y(e.size)||y(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(r),r}function mt(e,t,n,i){let r,o,s,a=!0;for(r=0,o=e.length;r<o;++r)if(s=e[r],void 0!==s&&(void 0!==t&&"function"==typeof s&&(s=s(t),a=!1),void 0!==n&&b(s)&&(s=s[n%s.length],a=!1),void 0!==s))return i&&!a&&(i.cacheable=!1),s}function gt(e,t,n){n=n||(n=>e[n]<t);let i,r=e.length-1,o=0;for(;r-o>1;)i=o+r>>1,n(i)?o=i:r=i;return{lo:o,hi:r}}const vt=(e,t,n)=>gt(e,n,(i=>e[i][t]<n)),yt=(e,t,n)=>gt(e,n,(i=>e[i][t]>=n)),bt=["push","pop","shift","splice","unshift"];function wt(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),i.length>0||(bt.forEach((t=>{delete e[t]})),delete e._chartjs)}function _t(e){const t=new Set;let n,i;for(n=0,i=e.length;n<i;++n)t.add(e[n]);return t.size===i?e:Array.from(t)}function xt(e,t=[""],n=e,i,r=(()=>e[0])){I(i)||(i=Rt("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:n,_fallback:i,_getTarget:r,override:r=>xt([r,...e],t,n,i)};return new Proxy(o,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,i)=>Dt(n,i,(()=>function(e,t,n,i){let r;for(const o of t)if(r=Rt(St(o,e),n),I(r))return At(e,r)?$t(n,i,e,r):r}(i,t,e,n))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>Lt(e).includes(t),ownKeys:e=>Lt(e),set:(e,t,n)=>((e._storage||(e._storage=r()))[t]=n,delete e[t],delete e._keys,!0)})}function kt(e,t,n,i){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:Ct(e,i),setContext:t=>kt(e,t,n,i),override:r=>kt(e.override(r),t,n,i)};return new Proxy(r,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>Dt(e,t,(()=>function(e,t,n){const{_proxy:i,_context:r,_subProxy:o,_descriptors:s}=e;let a=i[t];return j(a)&&s.isScriptable(t)&&(a=function(e,t,n,i){const{_proxy:r,_context:o,_subProxy:s,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);return a.add(e),t=t(o,s||i),a.delete(e),w(t)&&(t=$t(r._scopes,r,e,t)),t}(t,a,e,n)),b(a)&&a.length&&(a=function(e,t,n,i){const{_proxy:r,_context:o,_subProxy:s,_descriptors:a}=n;if(I(o.index)&&i(e))t=t[o.index%t.length];else if(w(t[0])){const n=t,i=r._scopes.filter((e=>e!==n));t=[];for(const l of n){const n=$t(i,r,e,l);t.push(kt(n,o,s&&s[e],a))}}return t}(t,a,e,s.isIndexable)),At(t,a)&&(a=kt(a,r,o&&o[t],s)),a}(e,t,n))),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,i)=>(e[n]=i,delete t[n],!0)})}function Ct(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:n,indexable:i,isScriptable:j(n)?n:()=>n,isIndexable:j(i)?i:()=>i}}const St=(e,t)=>e?e+F(t):t,At=(e,t)=>w(t)&&"adapters"!==e;function Dt(e,t,n){let i=e[t];return I(i)||(i=n(),I(i)&&(e[t]=i)),i}function Ot(e,t,n){return j(e)?e(t,n):e}const Tt=(e,t)=>!0===e?t:"string"==typeof e?P(t,e):void 0;function Et(e,t,n,i){for(const r of t){const t=Tt(n,r);if(t){e.add(t);const r=Ot(t._fallback,n,t);if(I(r)&&r!==n&&r!==i)return r}else if(!1===t&&I(i)&&n!==i)return null}return!1}function $t(e,t,n,i){const r=t._rootScopes,o=Ot(t._fallback,n,i),s=[...e,...r],a=new Set;a.add(i);let l=Mt(a,s,n,o||n);return null!==l&&(!I(o)||o===n||(l=Mt(a,s,o,l),null!==l))&&xt(Array.from(a),[""],r,o,(()=>function(e,t,n){const i=e._getTarget();t in i||(i[t]={});const r=i[t];return b(r)&&w(n)?n:r}(t,n,i)))}function Mt(e,t,n,i){for(;n;)n=Et(e,t,n,i);return n}function Rt(e,t){for(const n of t){if(!n)continue;const t=n[e];if(I(t))return t}}function Lt(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}const Pt=Number.EPSILON||1e-14,Ft=(e,t)=>t<e.length&&!e[t].skip&&e[t],It=e=>"x"===e?"y":"x";function jt(e,t,n,i){const r=e.skip?t:e,o=t,s=n.skip?t:n,a=ne(o,r),l=ne(s,o);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=i*c,h=i*u;return{previous:{x:o.x-d*(s.x-r.x),y:o.y-d*(s.y-r.y)},next:{x:o.x+h*(s.x-r.x),y:o.y+h*(s.y-r.y)}}}function Nt(e,t,n){return Math.max(Math.min(e,n),t)}function Vt(e,t,n,i,r){let o,s,a,l;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)!function(e,t="x"){const n=It(t),i=e.length,r=Array(i).fill(0),o=Array(i);let s,a,l,c=Ft(e,0);for(s=0;s<i;++s)if(a=l,l=c,c=Ft(e,s+1),l){if(c){const e=c[t]-l[t];r[s]=0!==e?(c[n]-l[n])/e:0}o[s]=a?c?Z(r[s-1])!==Z(r[s])?0:(r[s-1]+r[s])/2:r[s-1]:r[s]}!function(e,t,n){const i=e.length;let r,o,s,a,l,c=Ft(e,0);for(let u=0;u<i-1;++u)l=c,c=Ft(e,u+1),l&&c&&(Q(t[u],0,Pt)?n[u]=n[u+1]=0:(r=n[u]/t[u],o=n[u+1]/t[u],a=Math.pow(r,2)+Math.pow(o,2),a<=9||(s=3/Math.sqrt(a),n[u]=r*s*t[u],n[u+1]=o*s*t[u])))}(e,r,o),function(e,t,n="x"){const i=It(n),r=e.length;let o,s,a,l=Ft(e,0);for(let c=0;c<r;++c){if(s=a,a=l,l=Ft(e,c+1),!a)continue;const r=a[n],u=a[i];s&&(o=(r-s[n])/3,a[`cp1${n}`]=r-o,a[`cp1${i}`]=u-o*t[c]),l&&(o=(l[n]-r)/3,a[`cp2${n}`]=r+o,a[`cp2${i}`]=u+o*t[c])}}(e,o,t)}(e,r);else{let n=i?e[e.length-1]:e[0];for(o=0,s=e.length;o<s;++o)a=e[o],l=jt(n,a,e[Math.min(o+1,s-(i?0:1))%s],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,n=a}t.capBezierPoints&&function(e,t){let n,i,r,o,s,a=Xe(e[0],t);for(n=0,i=e.length;n<i;++n)s=o,o=a,a=n<i-1&&Xe(e[n+1],t),o&&(r=e[n],s&&(r.cp1x=Nt(r.cp1x,t.left,t.right),r.cp1y=Nt(r.cp1y,t.top,t.bottom)),a&&(r.cp2x=Nt(r.cp2x,t.left,t.right),r.cp2y=Nt(r.cp2y,t.top,t.bottom)))}(e,n)}function Bt(){return"undefined"!=typeof window&&"undefined"!=typeof document}function qt(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function zt(e,t,n){let i;return"string"==typeof e?(i=parseInt(e,10),-1!==e.indexOf("%")&&(i=i/100*t.parentNode[n])):i=e,i}const Wt=e=>window.getComputedStyle(e,null),Ut=["top","right","bottom","left"];function Ht(e,t,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const o=Ut[r];i[o]=parseFloat(e[t+"-"+o+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function Kt(e,t){const{canvas:n,currentDevicePixelRatio:i}=t,r=Wt(n),o="border-box"===r.boxSizing,s=Ht(r,"padding"),a=Ht(r,"border","width"),{x:l,y:c,box:u}=function(e,t){const n=e.native||e,i=n.touches,r=i&&i.length?i[0]:n,{offsetX:o,offsetY:s}=r;let a,l,c=!1;if(((e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot))(o,s,n.target))a=o,l=s;else{const e=t.getBoundingClientRect();a=r.clientX-e.left,l=r.clientY-e.top,c=!0}return{x:a,y:l,box:c}}(e,n),d=s.left+(u&&a.left),h=s.top+(u&&a.top);let{width:p,height:f}=t;return o&&(p-=s.width+a.width,f-=s.height+a.height),{x:Math.round((l-d)/p*n.width/i),y:Math.round((c-h)/f*n.height/i)}}const Zt=e=>Math.round(10*e)/10;function Gt(e,t,n){const i=t||1,r=Math.floor(e.height*i),o=Math.floor(e.width*i);e.height=r/i,e.width=o/i;const s=e.canvas;return s.style&&(n||!s.style.height&&!s.style.width)&&(s.style.height=`${e.height}px`,s.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==i||s.height!==r||s.width!==o)&&(e.currentDevicePixelRatio=i,s.height=r,s.width=o,e.ctx.setTransform(i,0,0,i,0,0),!0)}const Yt=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e}();function Qt(e,t){const n=function(e,t){return Wt(e).getPropertyValue(t)}(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Jt(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function Xt(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:"middle"===i?n<.5?e.y:t.y:"after"===i?n<1?e.y:t.y:n>0?t.y:e.y}}function en(e,t,n,i){const r={x:e.cp2x,y:e.cp2y},o={x:t.cp1x,y:t.cp1y},s=Jt(e,r,n),a=Jt(r,o,n),l=Jt(o,t,n),c=Jt(s,a,n),u=Jt(a,l,n);return Jt(c,u,n)}const tn=new Map;function nn(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let i=tn.get(n);return i||(i=new Intl.NumberFormat(e,t),tn.set(n,i)),i}(t,n).format(e)}function rn(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function on(e,t){let n,i;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function sn(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function an(e){return"angle"===e?{between:oe,compare:ie,normalize:re}:{between:(e,t,n)=>e>=Math.min(t,n)&&e<=Math.max(n,t),compare:(e,t)=>e-t,normalize:e=>e}}function ln({start:e,end:t,count:n,loop:i,style:r}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n==0,style:r}}function cn(e,t,n){if(!n)return[e];const{property:i,start:r,end:o}=n,s=t.length,{compare:a,between:l,normalize:c}=an(i),{start:u,end:d,loop:h,style:p}=function(e,t,n){const{property:i,start:r,end:o}=n,{between:s,normalize:a}=an(i),l=t.length;let c,u,{start:d,end:h,loop:p}=e;if(p){for(d+=l,h+=l,c=0,u=l;c<u&&s(a(t[d%l][i]),r,o);++c)d--,h--;d%=l,h%=l}return h<d&&(h+=l),{start:d,end:h,loop:p,style:e.style}}(e,t,n),f=[];let m,g,v,y=!1,b=null;for(let e=u,n=u;e<=d;++e)g=t[e%s],g.skip||(m=c(g[i]),m!==v&&(y=l(m,r,o),null===b&&(y||l(r,v,m)&&0!==a(r,v))&&(b=0===a(m,r)?e:n),null!==b&&(!y||0===a(o,m)||l(o,v,m))&&(f.push(ln({start:b,end:e,loop:h,count:s,style:p})),b=null),n=e,v=m));return null!==b&&f.push(ln({start:b,end:d,loop:h,count:s,style:p})),f}function un(e,t){const n=[],i=e.segments;for(let r=0;r<i.length;r++){const o=cn(i[r],e.points,t);o.length&&n.push(...o)}return n}function dn(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function hn(e,t){return t&&JSON.stringify(e)!==JSON.stringify(t)}var pn=new class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,i){const r=t.listeners[i],o=t.duration;r.forEach((i=>i({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(n-t.start,o)})))}_refresh(){const e=this;e._request||(e._running=!0,e._request=h.call(window,(()=>{e._update(),e._request=null,e._running&&e._refresh()})))}_update(e=Date.now()){const t=this;let n=0;t._charts.forEach(((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let s,a=o.length-1,l=!1;for(;a>=0;--a)s=o[a],s._active?(s._total>i.duration&&(i.duration=s._total),s.tick(e),l=!0):(o[a]=o[o.length-1],o.pop());l&&(r.draw(),t._notify(r,i,e,"progress")),o.length||(i.running=!1,t._notify(r,i,e,"complete"),i.initial=!1),n+=o.length})),t._lastDate=e,0===n&&(t._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}};const fn="transparent",mn={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const i=Be(e||fn),r=i.valid&&Be(t||fn);return r&&r.valid?r.mix(i,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class gn{constructor(e,t,n,i){const r=t[n];i=mt([e.to,i,r,e.from]);const o=mt([e.from,r,i]);this._active=!0,this._fn=e.fn||mn[e.type||typeof o],this._easing=ue[e.easing]||ue.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,n){const i=this;if(i._active){i._notify(!1);const r=i._target[i._prop],o=n-i._start,s=i._duration-o;i._start=n,i._duration=Math.floor(Math.max(s,e.duration)),i._total+=o,i._loop=!!e.loop,i._to=mt([e.to,t,r,e.from]),i._from=mt([e.from,r,t])}}cancel(){const e=this;e._active&&(e.tick(Date.now()),e._active=!1,e._notify(!1))}tick(e){const t=this,n=e-t._start,i=t._duration,r=t._prop,o=t._from,s=t._loop,a=t._to;let l;if(t._active=o!==a&&(s||n<i),!t._active)return t._target[r]=a,void t._notify(!0);n<0?t._target[r]=o:(l=n/i%2,l=s&&l>1?2-l:l,l=t._easing(Math.min(1,Math.max(0,l))),t._target[r]=t._fn(o,a,l))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,n)=>{e.push({res:t,rej:n})}))}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let e=0;e<n.length;e++)n[e][t]()}}Ke.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const vn=Object.keys(Ke.animation);Ke.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),Ke.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),Ke.describe("animations",{_fallback:"animation"}),Ke.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}});class yn{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!w(e))return;const t=this._properties;Object.getOwnPropertyNames(e).forEach((n=>{const i=e[n];if(!w(i))return;const r={};for(const e of vn)r[e]=i[e];(b(i.properties)&&i.properties||[n]).forEach((e=>{e!==n&&t.has(e)||t.set(e,r)}))}))}_animateOptions(e,t){const n=t.options,i=function(e,t){if(!t)return;let n=e.options;if(n)return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n;e.options=t}(e,n);if(!i)return[];const r=this._createAnimations(i,n);return n.$shared&&function(e,t){const n=[],i=Object.keys(t);for(let t=0;t<i.length;t++){const r=e[i[t]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}(e.options.$animations,n).then((()=>{e.options=n}),(()=>{})),r}_createAnimations(e,t){const n=this._properties,i=[],r=e.$animations||(e.$animations={}),o=Object.keys(t),s=Date.now();let a;for(a=o.length-1;a>=0;--a){const l=o[a];if("$"===l.charAt(0))continue;if("options"===l){i.push(...this._animateOptions(e,t));continue}const c=t[l];let u=r[l];const d=n.get(l);if(u){if(d&&u.active()){u.update(d,c,s);continue}u.cancel()}d&&d.duration?(r[l]=u=new gn(d,e,l,c),i.push(u)):e[l]=c}return i}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(pn.add(this._chart,n),!0):void 0}}function bn(e,t){const n=e&&e.options||{},i=n.reverse,r=void 0===n.min?t:0,o=void 0===n.max?t:0;return{start:i?o:r,end:i?r:o}}function wn(e,t){const n=[],i=e._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)n.push(i[r].index);return n}function _n(e,t,n,i){const r=e.keys,o="single"===i.mode;let s,a,l,c;if(null!==t){for(s=0,a=r.length;s<a;++s){if(l=+r[s],l===n){if(i.all)continue;break}c=e.values[l],_(c)&&(o||0===t||Z(t)===Z(c))&&(t+=c)}return t}}function xn(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function kn(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function Cn(e,t,n){for(const i of t.getMatchingVisibleMetas("bar").reverse()){const t=e[i.index];if(n&&t>0||!n&&t<0)return i.index}return null}function Sn(e,t){const{chart:n,_cachedMeta:i}=e,r=n._stacks||(n._stacks={}),{iScale:o,vScale:s,index:a}=i,l=o.axis,c=s.axis,u=function(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}(o,s,i),d=t.length;let h;for(let e=0;e<d;++e){const n=t[e],{[l]:i,[c]:o}=n;h=(n._stacks||(n._stacks={}))[c]=kn(r,u,i),h[a]=o,h._top=Cn(h,s,!0),h._bottom=Cn(h,s,!1)}}function An(e,t){const n=e.scales;return Object.keys(n).filter((e=>n[e].axis===t)).shift()}function Dn(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[i]||void 0===t[i][n])return;delete t[i][n]}}}const On=e=>"reset"===e||"none"===e,Tn=(e,t)=>t?e:Object.assign({},e);class En{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this,t=e._cachedMeta;e.configure(),e.linkScales(),t._stacked=xn(t.vScale,t),e.addElements()}updateIndex(e){this.index!==e&&Dn(this._cachedMeta),this.index=e}linkScales(){const e=this,t=e.chart,n=e._cachedMeta,i=e.getDataset(),r=(e,t,n,i)=>"x"===e?t:"r"===e?i:n,o=n.xAxisID=k(i.xAxisID,An(t,"x")),s=n.yAxisID=k(i.yAxisID,An(t,"y")),a=n.rAxisID=k(i.rAxisID,An(t,"r")),l=n.indexAxis,c=n.iAxisID=r(l,o,s,a),u=n.vAxisID=r(l,s,o,a);n.xScale=e.getScaleForId(o),n.yScale=e.getScaleForId(s),n.rScale=e.getScaleForId(a),n.iScale=e.getScaleForId(c),n.vScale=e.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&wt(this._data,this),e._stacked&&Dn(e)}_dataCheck(){const e=this,t=e.getDataset(),n=t.data||(t.data=[]),i=e._data;if(w(n))e._data=function(e){const t=Object.keys(e),n=new Array(t.length);let i,r,o;for(i=0,r=t.length;i<r;++i)o=t[i],n[i]={x:o,y:e[o]};return n}(n);else if(i!==n){if(i){wt(i,e);const t=e._cachedMeta;Dn(t),t._parsed=[]}n&&Object.isExtensible(n)&&(o=e,(r=n)._chartjs?r._chartjs.listeners.push(o):(Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[o]}}),bt.forEach((e=>{const t="_onData"+F(e),n=r[e];Object.defineProperty(r,e,{configurable:!0,enumerable:!1,value(...e){const i=n.apply(this,e);return r._chartjs.listeners.forEach((n=>{"function"==typeof n[t]&&n[t](...e)})),i}})})))),e._syncList=[],e._data=n}var r,o}addElements(){const e=this,t=e._cachedMeta;e._dataCheck(),e.datasetElementType&&(t.dataset=new e.datasetElementType)}buildOrUpdateElements(e){const t=this,n=t._cachedMeta,i=t.getDataset();let r=!1;t._dataCheck();const o=n._stacked;n._stacked=xn(n.vScale,n),n.stack!==i.stack&&(r=!0,Dn(n),n.stack=i.stack),t._resyncElements(e),(r||o!==n._stacked)&&Sn(t,n._parsed)}configure(){const e=this,t=e.chart.config,n=t.datasetScopeKeys(e._type),i=t.getOptionScopes(e.getDataset(),n,!0);e.options=t.createResolver(i,e.getContext()),e._parsing=e.options.parsing}parse(e,t){const n=this,{_cachedMeta:i,_data:r}=n,{iScale:o,_stacked:s}=i,a=o.axis;let l,c,u,d=0===e&&t===r.length||i._sorted,h=e>0&&i._parsed[e-1];if(!1===n._parsing)i._parsed=r,i._sorted=!0,u=r;else{u=b(r[e])?n.parseArrayData(i,r,e,t):w(r[e])?n.parseObjectData(i,r,e,t):n.parsePrimitiveData(i,r,e,t);const o=()=>null===c[a]||h&&c[a]<h[a];for(l=0;l<t;++l)i._parsed[l+e]=c=u[l],d&&(o()&&(d=!1),h=c);i._sorted=d}s&&Sn(n,u)}parsePrimitiveData(e,t,n,i){const{iScale:r,vScale:o}=e,s=r.axis,a=o.axis,l=r.getLabels(),c=r===o,u=new Array(i);let d,h,p;for(d=0,h=i;d<h;++d)p=d+n,u[d]={[s]:c||r.parse(l[p],p),[a]:o.parse(t[p],p)};return u}parseArrayData(e,t,n,i){const{xScale:r,yScale:o}=e,s=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=t[c],s[a]={x:r.parse(u[0],c),y:o.parse(u[1],c)};return s}parseObjectData(e,t,n,i){const{xScale:r,yScale:o}=e,{xAxisKey:s="x",yAxisKey:a="y"}=this._parsing,l=new Array(i);let c,u,d,h;for(c=0,u=i;c<u;++c)d=c+n,h=t[d],l[c]={x:r.parse(P(h,s),d),y:o.parse(P(h,a),d)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const i=this.chart,r=this._cachedMeta,o=t[e.axis];return _n({keys:wn(i,!0),values:t._stacks[e.axis]},o,r.index,{mode:n})}updateRangeFromParsed(e,t,n,i){const r=n[t.axis];let o=null===r?NaN:r;const s=i&&n._stacks[t.axis];i&&s&&(i.values=s,e.min=Math.min(e.min,o),e.max=Math.max(e.max,o),o=_n(i,r,this._cachedMeta.index,{all:!0})),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const n=this,i=n._cachedMeta,r=i._parsed,o=i._sorted&&e===i.iScale,s=r.length,a=n._getOtherScale(e),l=t&&i._stacked&&{keys:wn(n.chart,!0),values:null},c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=function(e){const{min:t,max:n,minDefined:i,maxDefined:r}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}(a);let h,p,f,m;function g(){return f=r[h],p=f[e.axis],m=f[a.axis],!_(p)||u>m||d<m}for(h=0;h<s&&(g()||(n.updateRangeFromParsed(c,e,f,l),!o));++h);if(o)for(h=s-1;h>=0;--h)if(!g()){n.updateRangeFromParsed(c,e,f,l);break}return c}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let i,r,o;for(i=0,r=t.length;i<r;++i)o=t[i][e.axis],_(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,i=t.vScale,r=this.getParsed(e);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const t=this,n=t._cachedMeta;t.configure(),t._cachedDataOpts={},t.update(e||"default"),n._clip=function(e){let t,n,i,r;return w(e)?(t=e.top,n=e.right,i=e.bottom,r=e.left):t=n=i=r=e,{top:t,right:n,bottom:i,left:r,disabled:!1===e}}(k(t.options.clip,function(e,t,n){if(!1===n)return!1;const i=bn(e,n),r=bn(t,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(n.xScale,n.yScale,t.getMaxOverflow())))}update(e){}draw(){const e=this,t=e._ctx,n=e.chart,i=e._cachedMeta,r=i.data||[],o=n.chartArea,s=[],a=e._drawStart||0,l=e._drawCount||r.length-a;let c;for(i.dataset&&i.dataset.draw(t,o,a,l),c=a;c<a+l;++c){const e=r[c];e.hidden||(e.active?s.push(e):e.draw(t,o))}for(c=0;c<s.length;++c)s[c].draw(t,o)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const i=this,r=i.getDataset();let o;if(e>=0&&e<i._cachedMeta.data.length){const t=i._cachedMeta.data[e];o=t.$context||(t.$context=function(e,t,n){return Object.assign(Object.create(e),{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(i.getContext(),e,t)),o.parsed=i.getParsed(e),o.raw=r.data[e],o.index=o.dataIndex=e}else o=i.$context||(i.$context=function(e,t){return Object.assign(Object.create(e),{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(i.chart.getContext(),i.index)),o.dataset=r,o.index=o.datasetIndex=i.index;return o.active=!!t,o.mode=n,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",n){const i=this,r="active"===t,o=i._cachedDataOpts,s=e+"-"+t,a=o[s],l=i.enableOptionSharing&&I(n);if(a)return Tn(a,l);const c=i.chart.config,u=c.datasetElementScopeKeys(i._type,e),d=r?[`${e}Hover`,"hover",e,""]:[e,""],h=c.getOptionScopes(i.getDataset(),u),p=Object.keys(Ke.elements[e]),f=c.resolveNamedOptions(h,p,(()=>i.getContext(n,r)),d);return f.$shared&&(f.$shared=l,o[s]=Object.freeze(Tn(f,l))),f}_resolveAnimations(e,t,n){const i=this,r=i.chart,o=i._cachedDataOpts,s=`animation-${t}`,a=o[s];if(a)return a;let l;if(!1!==r.options.animation){const r=i.chart.config,o=r.datasetAnimationScopeKeys(i._type,t),s=r.getOptionScopes(i.getDataset(),o);l=r.createResolver(s,i.getContext(e,n,t))}const c=new yn(r,l&&l.animations);return l&&l._cacheable&&(o[s]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||On(e)||this.chart._animationsDisabled}updateElement(e,t,n,i){On(i)?Object.assign(e,n):this._resolveAnimations(t,i).update(e,n)}updateSharedOptions(e,t,n){e&&!On(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,i){e.active=i;const r=this.getStyle(t,i);this._resolveAnimations(t,n,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this,n=t._data,i=t._cachedMeta.data;for(const[e,n,i]of t._syncList)t[e](n,i);t._syncList=[];const r=i.length,o=n.length,s=Math.min(o,r);s&&t.parse(0,s),o>r?t._insertElements(r,o-r,e):o<r&&t._removeElements(o,r-o)}_insertElements(e,t,n=!0){const i=this,r=i._cachedMeta,o=r.data,s=e+t;let a;const l=e=>{for(e.length+=t,a=e.length-1;a>=s;a--)e[a]=e[a-t]};for(l(o),a=e;a<s;++a)o[a]=new i.dataElementType;i._parsing&&l(r._parsed),i.parse(e,t),n&&i.updateElements(o,e,t,"reset")}updateElements(e,t,n,i){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,t);n._stacked&&Dn(n,i)}n.data.splice(e,t)}_onDataPush(){const e=arguments.length;this._syncList.push(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._syncList.push(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._syncList.push(["_removeElements",0,1])}_onDataSplice(e,t){this._syncList.push(["_removeElements",e,t]),this._syncList.push(["_insertElements",e,arguments.length-2])}_onDataUnshift(){this._syncList.push(["_insertElements",0,arguments.length])}}function $n(e){const t=function(e){if(!e._cache.$bar){const t=e.getMatchingVisibleMetas("bar");let n=[];for(let i=0,r=t.length;i<r;i++)n=n.concat(t[i].controller.getAllParsedValues(e));e._cache.$bar=_t(n.sort(((e,t)=>e-t)))}return e._cache.$bar}(e);let n,i,r,o,s=e._length;const a=()=>{32767!==r&&-32768!==r&&(I(o)&&(s=Math.min(s,Math.abs(r-o)||s)),o=r)};for(n=0,i=t.length;n<i;++n)r=e.getPixelForValue(t[n]),a();for(o=void 0,n=0,i=e.ticks.length;n<i;++n)r=e.getPixelForTick(n),a();return s}function Mn(e,t,n,i){return b(e)?function(e,t,n,i){const r=n.parse(e[0],i),o=n.parse(e[1],i),s=Math.min(r,o),a=Math.max(r,o);let l=s,c=a;Math.abs(s)>Math.abs(a)&&(l=a,c=s),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:r,end:o,min:s,max:a}}(e,t,n,i):t[n.axis]=n.parse(e,i),t}function Rn(e,t,n,i){const r=e.iScale,o=e.vScale,s=r.getLabels(),a=r===o,l=[];let c,u,d,h;for(c=n,u=n+i;c<u;++c)h=t[c],d={},d[r.axis]=a||r.parse(s[c],c),l.push(Mn(h,d,o,c));return l}function Ln(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function Pn(e,t,n,i){let r=t.borderSkipped;const o={};if(!r)return void(e.borderSkipped=o);const{start:s,end:a,reverse:l,top:c,bottom:u}=function(e){let t,n,i,r,o;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:n,end:i,reverse:t,top:r,bottom:o}}(e);"middle"===r&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?r=c:(n._bottom||0)===i?r=u:(o[Fn(u,s,a,l)]=!0,r=c)),o[Fn(r,s,a,l)]=!0,e.borderSkipped=o}function Fn(e,t,n,i){var r,o,s;return i?(s=n,e=In(e=(r=e)===(o=t)?s:r===s?o:r,n,t)):e=In(e,t,n),e}function In(e,t,n){return"start"===e?t:"end"===e?n:e}En.defaults={},En.prototype.datasetElementType=null,En.prototype.dataElementType=null;class jn extends En{parsePrimitiveData(e,t,n,i){return Rn(e,t,n,i)}parseArrayData(e,t,n,i){return Rn(e,t,n,i)}parseObjectData(e,t,n,i){const{iScale:r,vScale:o}=e,{xAxisKey:s="x",yAxisKey:a="y"}=this._parsing,l="x"===r.axis?s:a,c="x"===o.axis?s:a,u=[];let d,h,p,f;for(d=n,h=n+i;d<h;++d)f=t[d],p={},p[r.axis]=r.parse(P(f,l),d),u.push(Mn(P(f,c),p,o,d));return u}updateRangeFromParsed(e,t,n,i){super.updateRangeFromParsed(e,t,n,i);const r=n._custom;r&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:i}=t,r=this.getParsed(e),o=r._custom,s=Ln(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:s}}initialize(){const e=this;e.enableOptionSharing=!0,super.initialize(),e._cachedMeta.stack=e.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,i){const r=this,o="reset"===i,{index:s,_cachedMeta:{vScale:a}}=r,l=a.getBasePixel(),c=a.isHorizontal(),u=r._getRuler(),d=r.resolveDataElementOptions(t,i),h=r.getSharedOptions(d),p=r.includeOptions(i,h);r.updateSharedOptions(h,i,d);for(let d=t;d<t+n;d++){const t=r.getParsed(d),n=o||y(t[a.axis])?{base:l,head:l}:r._calculateBarValuePixels(d),f=r._calculateBarIndexPixels(d,u),m=(t._stacks||{})[a.axis],g={horizontal:c,base:n.base,enableBorderRadius:!m||Ln(t._custom)||s===m._top||s===m._bottom,x:c?n.head:f.center,y:c?f.center:n.head,height:c?f.size:Math.abs(n.size),width:c?Math.abs(n.size):f.size};p&&(g.options=h||r.resolveDataElementOptions(d,e[d].active?"active":i)),Pn(g,g.options||e[d].options,m,s),r.updateElement(e[d],d,g,i)}}_getStacks(e,t){const n=this._cachedMeta.iScale,i=n.getMatchingVisibleMetas(this._type),r=n.options.stacked,o=i.length,s=[];let a,l;for(a=0;a<o;++a)if(l=i[a],l.controller.options.grouped){if(void 0!==t){const e=l.controller.getParsed(t)[l.controller._cachedMeta.vScale.axis];if(y(e)||isNaN(e))continue}if((!1===r||-1===s.indexOf(l.stack)||void 0===r&&void 0===l.stack)&&s.push(l.stack),l.index===e)break}return s.length||s.push(void 0),s}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,n){const i=this._getStacks(e,n),r=void 0!==t?i.indexOf(t):-1;return-1===r?i.length-1:r}_getRuler(){const e=this,t=e.options,n=e._cachedMeta,i=n.iScale,r=[];let o,s;for(o=0,s=n.data.length;o<s;++o)r.push(i.getPixelForValue(e.getParsed(o)[i.axis],o));const a=t.barThickness;return{min:a||$n(i),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:e._getStackCount(),scale:i,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(e){const t=this,{_cachedMeta:{vScale:n,_stacked:i},options:{base:r,minBarLength:o}}=t,s=r||0,a=t.getParsed(e),l=a._custom,c=Ln(l);let u,d,h=a[n.axis],p=0,f=i?t.applyStack(n,a,i):h;f!==h&&(p=f-h,f=h),c&&(h=l.barStart,f=l.barEnd-l.barStart,0!==h&&Z(h)!==Z(l.barEnd)&&(p=0),p+=h);const m=y(r)||c?p:r;let g=n.getPixelForValue(m);if(u=t.chart.getDataVisibility(e)?n.getPixelForValue(p+f):g,d=u-g,Math.abs(d)<o&&(d=function(e,t,n){return 0!==e?Z(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(d,n,s)*o,h===s&&(g-=d/2),u=g+d),g===n.getPixelForValue(s)){const e=Z(d)*n.getLineWidthForValue(s)/2;g+=e,d-=e}return{size:d,base:g,head:u,center:u+d/2}}_calculateBarIndexPixels(e,t){const n=this,i=t.scale,r=n.options,o=r.skipNull,s=k(r.maxBarThickness,1/0);let a,l;if(t.grouped){const i=o?n._getStackCount(e):t.stackCount,c="flex"===r.barThickness?function(e,t,n,i){const r=t.pixels,o=r[e];let s=e>0?r[e-1]:null,a=e<r.length-1?r[e+1]:null;const l=n.categoryPercentage;null===s&&(s=o-(null===a?t.end-t.start:a-o)),null===a&&(a=o+o-s);const c=o-(o-Math.min(s,a))/2*l;return{chunk:Math.abs(a-s)/2*l/i,ratio:n.barPercentage,start:c}}(e,t,r,i):function(e,t,n,i){const r=n.barThickness;let o,s;return y(r)?(o=t.min*n.categoryPercentage,s=n.barPercentage):(o=r*i,s=1),{chunk:o/i,ratio:s,start:t.pixels[e]-o/2}}(e,t,r,i),u=n._getStackIndex(n.index,n._cachedMeta.stack,o?e:void 0);a=c.start+c.chunk*u+c.chunk/2,l=Math.min(s,c.chunk*c.ratio)}else a=i.getPixelForValue(n.getParsed(e)[i.axis],e),l=Math.min(s,t.min*t.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this,t=e._cachedMeta,n=t.vScale,i=t.data,r=i.length;let o=0;for(;o<r;++o)null!==e.getParsed(o)[n.axis]&&i[o].draw(e._ctx)}}jn.id="bar",jn.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},jn.overrides={interaction:{mode:"index"},scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class Nn extends En{initialize(){this.enableOptionSharing=!0,super.initialize()}parseObjectData(e,t,n,i){const{xScale:r,yScale:o}=e,{xAxisKey:s="x",yAxisKey:a="y"}=this._parsing,l=[];let c,u,d;for(c=n,u=n+i;c<u;++c)d=t[c],l.push({x:r.parse(P(d,s),c),y:o.parse(P(d,a),c),_custom:d&&d.r&&+d.r});return l}getMaxOverflow(){const{data:e,_parsed:t}=this._cachedMeta;let n=0;for(let i=e.length-1;i>=0;--i)n=Math.max(n,e[i].size()/2,t[i]._custom);return n>0&&n}getLabelAndValue(e){const t=this._cachedMeta,{xScale:n,yScale:i}=t,r=this.getParsed(e),o=n.getLabelForValue(r.x),s=i.getLabelForValue(r.y),a=r._custom;return{label:t.label,value:"("+o+", "+s+(a?", "+a:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,i){const r=this,o="reset"===i,{iScale:s,vScale:a}=r._cachedMeta,l=r.resolveDataElementOptions(t,i),c=r.getSharedOptions(l),u=r.includeOptions(i,c),d=s.axis,h=a.axis;for(let l=t;l<t+n;l++){const t=e[l],n=!o&&r.getParsed(l),c={},p=c[d]=o?s.getPixelForDecimal(.5):s.getPixelForValue(n[d]),f=c[h]=o?a.getBasePixel():a.getPixelForValue(n[h]);c.skip=isNaN(p)||isNaN(f),u&&(c.options=r.resolveDataElementOptions(l,t.active?"active":i),o&&(c.options.radius=0)),r.updateElement(t,l,c,i)}r.updateSharedOptions(c,i,l)}resolveDataElementOptions(e,t){const n=this.getParsed(e);let i=super.resolveDataElementOptions(e,t);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const r=i.radius;return"active"!==t&&(i.radius=0),i.radius+=k(n&&n._custom,r),i}}Nn.id="bubble",Nn.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},Nn.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}};class Vn extends En{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,i=this._cachedMeta;let r,o;for(r=e,o=e+t;r<o;++r)i._parsed[r]=+n[r]}_getRotation(){return X(this.options.rotation-90)}_getCircumference(){return X(this.options.circumference)}_getRotationExtents(){let e=V,t=-V;const n=this;for(let i=0;i<n.chart.data.datasets.length;++i)if(n.chart.isDatasetVisible(i)){const r=n.chart.getDatasetMeta(i).controller,o=r._getRotation(),s=r._getCircumference();e=Math.min(e,o),t=Math.max(t,o+s)}return{rotation:e,circumference:t-e}}update(e){const t=this,n=t.chart,{chartArea:i}=n,r=t._cachedMeta,o=r.data,s=t.getMaxBorderWidth()+t.getMaxOffset(o)+t.options.spacing,a=Math.max((Math.min(i.width,i.height)-s)/2,0),l=Math.min(((e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100:e/t)(t.options.cutout,a),1),c=t._getRingWeight(t.index),{circumference:u,rotation:d}=t._getRotationExtents(),{ratioX:h,ratioY:p,offsetX:f,offsetY:m}=function(e,t,n){let i=1,r=1,o=0,s=0;if(t<V){const a=e,l=a+t,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),h=Math.sin(l),p=(e,t,i)=>oe(e,a,l,!0)?1:Math.max(t,t*n,i,i*n),f=(e,t,i)=>oe(e,a,l,!0)?-1:Math.min(t,t*n,i,i*n),m=p(0,c,d),g=p(W,u,h),v=f(N,c,d),y=f(N+W,u,h);i=(m-v)/2,r=(g-y)/2,o=-(m+v)/2,s=-(g+y)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:s}}(d,u,l),g=(i.width-s)/h,v=(i.height-s)/p,y=Math.max(Math.min(g,v)/2,0),b=C(t.options.radius,y),w=(b-Math.max(b*l,0))/t._getVisibleDatasetWeightTotal();t.offsetX=f*b,t.offsetY=m*b,r.total=t.calculateTotal(),t.outerRadius=b-w*t._getRingWeightOffset(t.index),t.innerRadius=Math.max(t.outerRadius-w*c,0),t.updateElements(o,0,o.length,e)}_circumference(e,t){const n=this,i=n.options,r=n._cachedMeta,o=n._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||null===r._parsed[e]||r.data[e].hidden?0:n.calculateCircumference(r._parsed[e]*o/V)}updateElements(e,t,n,i){const r=this,o="reset"===i,s=r.chart,a=s.chartArea,l=s.options.animation,c=(a.left+a.right)/2,u=(a.top+a.bottom)/2,d=o&&l.animateScale,h=d?0:r.innerRadius,p=d?0:r.outerRadius,f=r.resolveDataElementOptions(t,i),m=r.getSharedOptions(f),g=r.includeOptions(i,m);let v,y=r._getRotation();for(v=0;v<t;++v)y+=r._circumference(v,o);for(v=t;v<t+n;++v){const t=r._circumference(v,o),n=e[v],s={x:c+r.offsetX,y:u+r.offsetY,startAngle:y,endAngle:y+t,circumference:t,outerRadius:p,innerRadius:h};g&&(s.options=m||r.resolveDataElementOptions(v,n.active?"active":i)),y+=t,r.updateElement(n,v,s,i)}r.updateSharedOptions(m,i,f)}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,i=0;for(n=0;n<t.length;n++){const r=e._parsed[n];null===r||isNaN(r)||!this.chart.getDataVisibility(n)||t[n].hidden||(i+=Math.abs(r))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?V*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=nn(t._parsed[e],n.options.locale);return{label:i[e]||"",value:r}}getMaxBorderWidth(e){const t=this;let n=0;const i=t.chart;let r,o,s,a,l;if(!e)for(r=0,o=i.data.datasets.length;r<o;++r)if(i.isDatasetVisible(r)){s=i.getDatasetMeta(r),e=s.data,a=s.controller,a!==t&&a.configure();break}if(!e)return 0;for(r=0,o=e.length;r<o;++r)l=a.resolveDataElementOptions(r),"inner"!==l.borderAlign&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let t=0;for(let n=0,i=e.length;n<i;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(k(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Vn.id="doughnut",Vn.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},Vn.descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e},Vn.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n}}=e.legend.options;return t.labels.map(((t,i)=>{const r=e.getDatasetMeta(0).controller.getStyle(i);return{text:t,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,lineWidth:r.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}},tooltip:{callbacks:{title:()=>"",label(e){let t=e.label;const n=": "+e.formattedValue;return b(t)?(t=t.slice(),t[0]+=n):t+=n,t}}}}};class Bn extends En{initialize(){this.enableOptionSharing=!0,super.initialize()}update(e){const t=this,n=t._cachedMeta,{dataset:i,data:r=[],_dataset:o}=n,s=t.chart._animationsDisabled;let{start:a,count:l}=function(e,t,n){const i=t.length;let r=0,o=i;if(e._sorted){const{iScale:s,_parsed:a}=e,l=s.axis,{min:c,max:u,minDefined:d,maxDefined:h}=s.getUserBounds();d&&(r=se(Math.min(vt(a,s.axis,c).lo,n?i:vt(t,l,s.getPixelForValue(c)).lo),0,i-1)),o=h?se(Math.max(vt(a,s.axis,u).hi+1,n?0:vt(t,l,s.getPixelForValue(u)).hi+1),r,i)-r:i-r}return{start:r,count:o}}(n,r,s);t._drawStart=a,t._drawCount=l,function(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,r={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=r,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),o}(n)&&(a=0,l=r.length),i._datasetIndex=t.index,i._decimated=!!o._decimated,i.points=r;const c=t.resolveDatasetElementOptions(e);t.options.showLine||(c.borderWidth=0),c.segment=t.options.segment,t.updateElement(i,void 0,{animated:!s,options:c},e),t.updateElements(r,a,l,e)}updateElements(e,t,n,i){const r=this,o="reset"===i,{iScale:s,vScale:a,_stacked:l}=r._cachedMeta,c=r.resolveDataElementOptions(t,i),u=r.getSharedOptions(c),d=r.includeOptions(i,u),h=s.axis,p=a.axis,f=r.options.spanGaps,m=Y(f)?f:Number.POSITIVE_INFINITY,g=r.chart._animationsDisabled||o||"none"===i;let v=t>0&&r.getParsed(t-1);for(let c=t;c<t+n;++c){const t=e[c],n=r.getParsed(c),f=g?t:{},b=y(n[p]),w=f[h]=s.getPixelForValue(n[h],c),_=f[p]=o||b?a.getBasePixel():a.getPixelForValue(l?r.applyStack(a,n,l):n[p],c);f.skip=isNaN(w)||isNaN(_)||b,f.stop=c>0&&n[h]-v[h]>m,f.parsed=n,d&&(f.options=u||r.resolveDataElementOptions(c,t.active?"active":i)),g||r.updateElement(t,c,f,i),v=n}r.updateSharedOptions(u,i,c)}getMaxOverflow(){const e=this,t=e._cachedMeta,n=t.dataset,i=n.options&&n.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const o=r[0].size(e.resolveDataElementOptions(0)),s=r[r.length-1].size(e.resolveDataElementOptions(r.length-1));return Math.max(i,o,s)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Bn.id="line",Bn.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},Bn.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class qn extends En{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=nn(t._parsed[e].r,n.options.locale);return{label:i[e]||"",value:r}}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}_updateRadius(){const e=this,t=e.chart,n=t.chartArea,i=t.options,r=Math.min(n.right-n.left,n.bottom-n.top),o=Math.max(r/2,0),s=(o-Math.max(i.cutoutPercentage?o/100*i.cutoutPercentage:1,0))/t.getVisibleDatasetCount();e.outerRadius=o-s*e.index,e.innerRadius=e.outerRadius-s}updateElements(e,t,n,i){const r=this,o="reset"===i,s=r.chart,a=r.getDataset(),l=s.options.animation,c=r._cachedMeta.rScale,u=c.xCenter,d=c.yCenter,h=c.getIndexAngle(0)-.5*N;let p,f=h;const m=360/r.countVisibleElements();for(p=0;p<t;++p)f+=r._computeAngle(p,i,m);for(p=t;p<t+n;p++){const t=e[p];let n=f,g=f+r._computeAngle(p,i,m),v=s.getDataVisibility(p)?c.getDistanceFromCenterForValue(a.data[p]):0;f=g,o&&(l.animateScale&&(v=0),l.animateRotate&&(n=g=h));const y={x:u,y:d,innerRadius:0,outerRadius:v,startAngle:n,endAngle:g,options:r.resolveDataElementOptions(p,t.active?"active":i)};r.updateElement(t,p,y,i)}}countVisibleElements(){const e=this.getDataset(),t=this._cachedMeta;let n=0;return t.data.forEach(((t,i)=>{!isNaN(e.data[i])&&this.chart.getDataVisibility(i)&&n++})),n}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?X(this.resolveDataElementOptions(e,t).angle||n):0}}qn.id="polarArea",qn.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},qn.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n}}=e.legend.options;return t.labels.map(((t,i)=>{const r=e.getDatasetMeta(0).controller.getStyle(i);return{text:t,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,lineWidth:r.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}},tooltip:{callbacks:{title:()=>"",label:e=>e.chart.data.labels[e.dataIndex]+": "+e.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class zn extends Vn{}zn.id="pie",zn.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class Wn extends En{getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}update(e){const t=this,n=t._cachedMeta,i=n.dataset,r=n.data||[],o=n.iScale.getLabels();if(i.points=r,"resize"!==e){const n=t.resolveDatasetElementOptions(e);t.options.showLine||(n.borderWidth=0);const s={_loop:!0,_fullLoop:o.length===r.length,options:n};t.updateElement(i,void 0,s,e)}t.updateElements(r,0,r.length,e)}updateElements(e,t,n,i){const r=this,o=r.getDataset(),s=r._cachedMeta.rScale,a="reset"===i;for(let l=t;l<t+n;l++){const t=e[l],n=r.resolveDataElementOptions(l,t.active?"active":i),c=s.getPointPositionForValue(l,o.data[l]),u=a?s.xCenter:c.x,d=a?s.yCenter:c.y,h={x:u,y:d,angle:c.angle,skip:isNaN(u)||isNaN(d),options:n};r.updateElement(t,l,h,i)}}}Wn.id="radar",Wn.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},Wn.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class Un extends Bn{}function Hn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}Un.id="scatter",Un.defaults={showLine:!1,fill:!1},Un.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:e=>"("+e.label+", "+e.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}};class Kn{constructor(e){this.options=e||{}}formats(){return Hn()}parse(e,t){return Hn()}format(e,t){return Hn()}add(e,t,n){return Hn()}diff(e,t,n){return Hn()}startOf(e,t,n){return Hn()}endOf(e,t){return Hn()}}Kn.override=function(e){Object.assign(Kn.prototype,e)};var Zn={_date:Kn};function Gn(e,t){return"native"in e?{x:e.x,y:e.y}:Kt(e,t)}function Yn(e,t,n,i){const{controller:r,data:o,_sorted:s}=e,a=r._cachedMeta.iScale;if(a&&t===a.axis&&s&&o.length){const e=a._reversePixels?yt:vt;if(!i)return e(o,t,n);if(r._sharedOptions){const i=o[0],r="function"==typeof i.getRange&&i.getRange(t);if(r){const i=e(o,t,n-r),s=e(o,t,n+r);return{lo:i.lo,hi:s.hi}}}}return{lo:0,hi:o.length-1}}function Qn(e,t,n,i,r){const o=e.getSortedVisibleDatasetMetas(),s=n[t];for(let e=0,n=o.length;e<n;++e){const{index:n,data:a}=o[e],{lo:l,hi:c}=Yn(o[e],t,s,r);for(let e=l;e<=c;++e){const t=a[e];t.skip||i(t,n,e)}}}function Jn(e,t,n,i){const r=[];return Xe(t,e.chartArea,e._minPadding)?(Qn(e,n,t,(function(e,n,o){e.inRange(t.x,t.y,i)&&r.push({element:e,datasetIndex:n,index:o})}),!0),r):r}function Xn(e,t,n,i,r){const o=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,i){const r=t?Math.abs(e.x-i.x):0,o=n?Math.abs(e.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}(n);let s=Number.POSITIVE_INFINITY,a=[];return Xe(t,e.chartArea,e._minPadding)?(Qn(e,n,t,(function(n,l,c){if(i&&!n.inRange(t.x,t.y,r))return;const u=n.getCenterPoint(r);if(!Xe(u,e.chartArea,e._minPadding)&&!n.inRange(t.x,t.y,r))return;const d=o(t,u);d<s?(a=[{element:n,datasetIndex:l,index:c}],s=d):d===s&&a.push({element:n,datasetIndex:l,index:c})})),a):a}function ei(e,t,n,i){const r=Gn(t,e),o=[],s=n.axis,a="x"===s?"inXRange":"inYRange";let l=!1;return function(e,t){const n=e.getSortedVisibleDatasetMetas();let i,r,o;for(let e=0,s=n.length;e<s;++e){({index:i,data:r}=n[e]);for(let e=0,n=r.length;e<n;++e)o=r[e],o.skip||t(o,i,e)}}(e,((e,t,n)=>{e[a](r[s],i)&&o.push({element:e,datasetIndex:t,index:n}),e.inRange(r.x,r.y,i)&&(l=!0)})),n.intersect&&!l?[]:o}var ti={modes:{index(e,t,n,i){const r=Gn(t,e),o=n.axis||"x",s=n.intersect?Jn(e,r,o,i):Xn(e,r,o,!1,i),a=[];return s.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=s[0].index,n=e.data[t];n&&!n.skip&&a.push({element:n,datasetIndex:e.index,index:t})})),a):[]},dataset(e,t,n,i){const r=Gn(t,e),o=n.axis||"xy";let s=n.intersect?Jn(e,r,o,i):Xn(e,r,o,!1,i);if(s.length>0){const t=s[0].datasetIndex,n=e.getDatasetMeta(t).data;s=[];for(let e=0;e<n.length;++e)s.push({element:n[e],datasetIndex:t,index:e})}return s},point:(e,t,n,i)=>Jn(e,Gn(t,e),n.axis||"xy",i),nearest:(e,t,n,i)=>Xn(e,Gn(t,e),n.axis||"xy",n.intersect,i),x:(e,t,n,i)=>(n.axis="x",ei(e,t,n,i)),y:(e,t,n,i)=>(n.axis="y",ei(e,t,n,i))}};const ni=["left","top","right","bottom"];function ii(e,t){return e.filter((e=>e.pos===t))}function ri(e,t){return e.filter((e=>-1===ni.indexOf(e.pos)&&e.box.axis===t))}function oi(e,t){return e.sort(((e,n)=>{const i=t?n:e,r=t?e:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight}))}function si(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function ai(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function li(e,t,n,i){const{pos:r,box:o}=n,s=e.maxPadding;if(!w(r)){n.size&&(e[r]-=n.size);const t=i[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?o.height:o.width),n.size=t.size/t.count,e[r]+=n.size}o.getPadding&&ai(s,o.getPadding());const a=Math.max(0,t.outerWidth-si(s,e,"left","right")),l=Math.max(0,t.outerHeight-si(s,e,"top","bottom")),c=a!==e.w,u=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function ci(e,t){const n=t.maxPadding;return function(e){const i={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{i[e]=Math.max(t[e],n[e])})),i}(e?["left","right"]:["top","bottom"])}function ui(e,t,n,i){const r=[];let o,s,a,l,c,u;for(o=0,s=e.length,c=0;o<s;++o){a=e[o],l=a.box,l.update(a.width||t.w,a.height||t.h,ci(a.horizontal,t));const{same:s,other:d}=li(t,n,a,i);c|=s&&r.length,u=u||d,l.fullSize||r.push(a)}return c&&ui(r,t,n,i)||u}function di(e,t,n,i,r){e.top=n,e.left=t,e.right=t+i,e.bottom=n+r,e.width=i,e.height=r}function hi(e,t,n,i){const r=n.padding;let{x:o,y:s}=t;for(const a of e){const e=a.box,l=i[a.stack]||{count:1,placed:0,weight:1},c=a.stackWeight/l.weight||1;if(a.horizontal){const i=t.w*c,o=l.size||e.height;I(l.start)&&(s=l.start),e.fullSize?di(e,r.left,s,n.outerWidth-r.right-r.left,o):di(e,t.left+l.placed,s,i,o),l.start=s,l.placed+=i,s=e.bottom}else{const i=t.h*c,s=l.size||e.width;I(l.start)&&(o=l.start),e.fullSize?di(e,o,r.top,s,n.outerHeight-r.bottom-r.top):di(e,o,t.top+l.placed,s,i),l.start=o,l.placed+=i,o=e.right}}t.x=o,t.y=s}Ke.set("layout",{padding:{top:0,right:0,bottom:0,left:0}});var pi={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const r=pt(e.options.layout.padding),o=Math.max(t-r.width,0),s=Math.max(n-r.height,0),a=function(e){const t=function(e){const t=[];let n,i,r,o,s,a;for(n=0,i=(e||[]).length;n<i;++n)r=e[n],({position:o,options:{stack:s,stackWeight:a=1}}=r),t.push({index:n,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:s&&o+s,stackWeight:a});return t}(e),n=oi(t.filter((e=>e.box.fullSize)),!0),i=oi(ii(t,"left"),!0),r=oi(ii(t,"right")),o=oi(ii(t,"top"),!0),s=oi(ii(t,"bottom")),a=ri(t,"x"),l=ri(t,"y");return{fullSize:n,leftAndTop:i.concat(o),rightAndBottom:r.concat(l).concat(s).concat(a),chartArea:ii(t,"chartArea"),vertical:i.concat(r).concat(l),horizontal:o.concat(s).concat(a)}}(e.boxes),l=a.vertical,c=a.horizontal;A(e.boxes,(e=>{"function"==typeof e.beforeLayout&&e.beforeLayout()}));const u=l.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,d=Object.freeze({outerWidth:t,outerHeight:n,padding:r,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/u,hBoxMaxHeight:s/2}),h=Object.assign({},r);ai(h,pt(i));const p=Object.assign({maxPadding:h,w:o,h:s,x:r.left,y:r.top},r),f=function(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:i,stackWeight:r}=n;if(!e||!ni.includes(i))continue;const o=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return t}(e),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,s,a;for(o=0,s=e.length;o<s;++o){a=e[o];const{fullSize:s}=a.box,l=n[a.stack],c=l&&a.stackWeight/l.weight;a.horizontal?(a.width=c?c*i:s&&t.availableWidth,a.height=r):(a.width=i,a.height=c?c*r:s&&t.availableHeight)}return n}(l.concat(c),d);ui(a.fullSize,p,d,f),ui(l,p,d,f),ui(c,p,d,f)&&ui(l,p,d,f),function(e){const t=e.maxPadding;function n(n){const i=Math.max(t[n]-e[n],0);return e[n]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(p),hi(a.leftAndTop,p,d,f),p.x+=p.w,p.y+=p.h,hi(a.rightAndBottom,p,d,f),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},A(a.chartArea,(t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(p.w,p.h)}))}};class fi{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,i){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):n)}}isAttached(e){return!0}}class mi extends fi{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}}const gi={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},vi=e=>null===e||""===e,yi=!!Yt&&{passive:!0};function bi(e,t,n){e.canvas.removeEventListener(t,n,yi)}function wi(e,t,n){const i=e.canvas,r=i&&qt(i)||i,o=new MutationObserver((e=>{const t=qt(r);e.forEach((e=>{for(let i=0;i<e.addedNodes.length;i++){const o=e.addedNodes[i];o!==r&&o!==t||n(e.target)}}))}));return o.observe(document,{childList:!0,subtree:!0}),o}function _i(e,t,n){const i=e.canvas,r=i&&qt(i);if(!r)return;const o=new MutationObserver((e=>{e.forEach((e=>{for(let t=0;t<e.removedNodes.length;t++)if(e.removedNodes[t]===i){n();break}}))}));return o.observe(r,{childList:!0}),o}const xi=new Map;let ki=0;function Ci(){const e=window.devicePixelRatio;e!==ki&&(ki=e,xi.forEach(((t,n)=>{n.currentDevicePixelRatio!==e&&t()})))}function Si(e,t,n){const i=e.canvas,r=i&&qt(i);if(!r)return;const o=p(((e,t)=>{const i=r.clientWidth;n(e,t),i<r.clientWidth&&n()}),window),s=new ResizeObserver((e=>{const t=e[0],n=t.contentRect.width,i=t.contentRect.height;0===n&&0===i||o(n,i)}));return s.observe(r),function(e,t){xi.size||window.addEventListener("resize",Ci),xi.set(e,t)}(e,o),s}function Ai(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){xi.delete(e),xi.size||window.removeEventListener("resize",Ci)}(e)}function Di(e,t,n){const i=e.canvas,r=p((t=>{null!==e.ctx&&n(function(e,t){const n=gi[e.type]||e.type,{x:i,y:r}=Kt(e,t);return{type:n,chart:t,native:e,x:void 0!==i?i:null,y:void 0!==r?r:null}}(t,e))}),e,(e=>{const t=e[0];return[t,t.offsetX,t.offsetY]}));return function(e,t,n){e.addEventListener(t,n,yi)}(i,t,r),r}class Oi extends fi{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,i=e.getAttribute("height"),r=e.getAttribute("width");if(e.$chartjs={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",vi(r)){const t=Qt(e,"width");void 0!==t&&(e.width=t)}if(vi(i))if(""===e.style.height)e.height=e.width/(t||2);else{const t=Qt(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t.$chartjs)return!1;const n=t.$chartjs.initial;["height","width"].forEach((e=>{const i=n[e];y(i)?t.removeAttribute(e):t.setAttribute(e,i)}));const i=n.style||{};return Object.keys(i).forEach((e=>{t.style[e]=i[e]})),t.width=t.width,delete t.$chartjs,!0}addEventListener(e,t,n){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),r={attach:wi,detach:_i,resize:Si}[t]||Di;i[t]=r(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),i=n[t];i&&(({attach:Ai,detach:Ai,resize:Ai}[t]||bi)(e,t,i),n[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,i){return function(e,t,n,i){const r=Wt(e),o=Ht(r,"margin"),s=zt(r.maxWidth,e,"clientWidth")||q,a=zt(r.maxHeight,e,"clientHeight")||q,l=function(e,t,n){let i,r;if(void 0===t||void 0===n){const o=qt(e);if(o){const e=o.getBoundingClientRect(),s=Wt(o),a=Ht(s,"border","width"),l=Ht(s,"padding");t=e.width-l.width-a.width,n=e.height-l.height-a.height,i=zt(s.maxWidth,o,"clientWidth"),r=zt(s.maxHeight,o,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:i||q,maxHeight:r||q}}(e,t,n);let{width:c,height:u}=l;if("content-box"===r.boxSizing){const e=Ht(r,"border","width"),t=Ht(r,"padding");c-=t.width+e.width,u-=t.height+e.height}return c=Math.max(0,c-o.width),u=Math.max(0,i?Math.floor(c/i):u-o.height),c=Zt(Math.min(c,s,l.maxWidth)),u=Zt(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Zt(c/2)),{width:c,height:u}}(e,t,n,i)}isAttached(e){const t=qt(e);return!(!t||!t.isConnected)}}class Ti{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return Y(this.x)&&Y(this.y)}getProps(e,t){const n=this,i=this.$animations;if(!t||!i)return n;const r={};return e.forEach((e=>{r[e]=i[e]&&i[e].active()?i[e]._to:n[e]})),r}}Ti.defaults={},Ti.defaultRoutes=void 0;const Ei={values:e=>b(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const i=this.chart.options.locale;let r,o=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(r="scientific"),o=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}(e,n)}const s=K(Math.abs(o)),a=Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),nn(e,i,l)},logarithmic(e,t,n){if(0===e)return"0";const i=e/Math.pow(10,Math.floor(K(e)));return 1===i||2===i||5===i?Ei.numeric.call(this,e,t,n):""}};var $i={formatters:Ei};function Mi(e,t,n,i,r){const o=k(i,0),s=Math.min(k(r,e.length),e.length);let a,l,c,u=0;for(n=Math.ceil(n),r&&(a=r-i,n=a/Math.floor(a/n)),c=o;c<0;)u++,c=Math.round(o+u*n);for(l=Math.max(o,0);l<s;l++)l===c&&(t.push(e[l]),u++,c=Math.round(o+u*n))}Ke.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:$i.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),Ke.route("scale.ticks","color","","color"),Ke.route("scale.grid","color","","borderColor"),Ke.route("scale.grid","borderColor","","borderColor"),Ke.route("scale.title","color","","color"),Ke.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e}),Ke.describe("scales",{_fallback:"scale"}),Ke.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e});const Ri=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n;function Li(e,t){const n=[],i=e.length/t,r=e.length;let o=0;for(;o<r;o+=i)n.push(e[Math.floor(o)]);return n}function Pi(e,t,n){const i=e.ticks.length,r=Math.min(t,i-1),o=e._startPixel,s=e._endPixel,a=1e-6;let l,c=e.getPixelForTick(r);if(!(n&&(l=1===i?Math.max(c-o,s-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(r-1))/2,c+=r<t?l:-l,c<o-a||c>s+a)))return c}function Fi(e){return e.drawTicks?e.tickLength:0}function Ii(e,t){if(!e.display)return 0;const n=ft(e.font,t),i=pt(e.padding);return(b(e.text)?e.text.length:1)*n.lineHeight+i.height}function ji(e,t,n){let i=f(e);return(n&&"right"!==t||!n&&"right"===t)&&(i=(e=>"left"===e?"right":"right"===e?"left":e)(i)),i}class Ni extends Ti{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){const t=this;t.options=e.setContext(t.getContext()),t.axis=e.axis,t._userMin=t.parse(e.min),t._userMax=t.parse(e.max),t._suggestedMin=t.parse(e.suggestedMin),t._suggestedMax=t.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:i}=this;return e=x(e,Number.POSITIVE_INFINITY),t=x(t,Number.NEGATIVE_INFINITY),n=x(n,Number.POSITIVE_INFINITY),i=x(i,Number.NEGATIVE_INFINITY),{min:x(e,n),max:x(t,i),minDefined:_(e),maxDefined:_(t)}}getMinMax(e){const t=this;let n,{min:i,max:r,minDefined:o,maxDefined:s}=t.getUserBounds();if(o&&s)return{min:i,max:r};const a=t.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)n=a[l].controller.getMinMax(t,e),o||(i=Math.min(i,n.min)),s||(r=Math.max(r,n.max));return{min:x(i,x(r,i)),max:x(r,x(i,r))}}getPadding(){const e=this;return{left:e.paddingLeft||0,top:e.paddingTop||0,right:e.paddingRight||0,bottom:e.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){S(this.options.beforeUpdate,[this])}update(e,t,n){const i=this,r=i.options.ticks,o=r.sampleSize;i.beforeUpdate(),i.maxWidth=e,i.maxHeight=t,i._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),i.ticks=null,i._labelSizes=null,i._gridLineItems=null,i._labelItems=null,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i._maxLength=i.isHorizontal()?i.width+n.left+n.right:i.height+n.top+n.bottom,i._dataLimitsCached||(i.beforeDataLimits(),i.determineDataLimits(),i.afterDataLimits(),i._range=function(e,t){const{min:n,max:i}=e;return{min:n-Math.abs(C(t,n)),max:i+C(t,i)}}(i,i.options.grace),i._dataLimitsCached=!0),i.beforeBuildTicks(),i.ticks=i.buildTicks()||[],i.afterBuildTicks();const s=o<i.ticks.length;i._convertTicksToLabels(s?Li(i.ticks,o):i.ticks),i.configure(),i.beforeCalculateLabelRotation(),i.calculateLabelRotation(),i.afterCalculateLabelRotation(),r.display&&(r.autoSkip||"auto"===r.source)&&(i.ticks=function(e,t){const n=e.options.ticks,i=n.maxTicksLimit||function(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),r=e._maxLength/n;return Math.floor(Math.min(i,r))}(e),r=n.major.enabled?function(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}(t):[],o=r.length,s=r[0],a=r[o-1],l=[];if(o>i)return function(e,t,n,i){let r,o=0,s=n[0];for(i=Math.ceil(i),r=0;r<e.length;r++)r===s&&(t.push(e[r]),o++,s=n[o*i])}(t,l,r,o/i),l;const c=function(e,t,n){const i=function(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}(e),r=t.length/n;if(!i)return Math.max(r,1);const o=function(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i==0&&(t.push(i),t.push(e/i));return n===(0|n)&&t.push(n),t.sort(((e,t)=>e-t)).pop(),t}(i);for(let e=0,t=o.length-1;e<t;e++){const t=o[e];if(t>r)return t}return Math.max(r,1)}(r,t,i);if(o>0){let e,n;const i=o>1?Math.round((a-s)/(o-1)):null;for(Mi(t,l,c,y(i)?0:s-i,s),e=0,n=o-1;e<n;e++)Mi(t,l,c,r[e],r[e+1]);return Mi(t,l,c,a,y(i)?t.length:a+i),l}return Mi(t,l,c),l}(i,i.ticks),i._labelSizes=null),s&&i._convertTicksToLabels(i.ticks),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate()}configure(){const e=this;let t,n,i=e.options.reverse;e.isHorizontal()?(t=e.left,n=e.right):(t=e.top,n=e.bottom,i=!i),e._startPixel=t,e._endPixel=n,e._reversePixels=i,e._length=n-t,e._alignToPixels=e.options.alignToPixels}afterUpdate(){S(this.options.afterUpdate,[this])}beforeSetDimensions(){S(this.options.beforeSetDimensions,[this])}setDimensions(){const e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0}afterSetDimensions(){S(this.options.afterSetDimensions,[this])}_callHooks(e){const t=this;t.chart.notifyPlugins(e,t.getContext()),S(t.options[e],[t])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){S(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this,n=t.options.ticks;let i,r,o;for(i=0,r=e.length;i<r;i++)o=e[i],o.label=S(n.callback,[o.value,i,e],t)}afterTickToLabelConversion(){S(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){S(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this,t=e.options,n=t.ticks,i=e.ticks.length,r=n.minRotation||0,o=n.maxRotation;let s,a,l,c=r;if(!e._isVisible()||!n.display||r>=o||i<=1||!e.isHorizontal())return void(e.labelRotation=r);const u=e._getLabelSizes(),d=u.widest.width,h=u.highest.height,p=se(e.chart.width-d,0,e.maxWidth);s=t.offset?e.maxWidth/i:p/(i-1),d+6>s&&(s=p/(i-(t.offset?.5:1)),a=e.maxHeight-Fi(t.grid)-n.padding-Ii(t.title,e.chart.options.font),l=Math.sqrt(d*d+h*h),c=ee(Math.min(Math.asin(se((u.highest.height+6)/s,-1,1)),Math.asin(se(a/l,-1,1))-Math.asin(se(h/l,-1,1)))),c=Math.max(r,Math.min(o,c))),e.labelRotation=c}afterCalculateLabelRotation(){S(this.options.afterCalculateLabelRotation,[this])}beforeFit(){S(this.options.beforeFit,[this])}fit(){const e=this,t={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:o}}=e,s=e._isVisible(),a=e.isHorizontal();if(s){const s=Ii(r,n.options.font);if(a?(t.width=e.maxWidth,t.height=Fi(o)+s):(t.height=e.maxHeight,t.width=Fi(o)+s),i.display&&e.ticks.length){const{first:n,last:r,widest:o,highest:s}=e._getLabelSizes(),l=2*i.padding,c=X(e.labelRotation),u=Math.cos(c),d=Math.sin(c);if(a){const n=i.mirror?0:d*o.width+u*s.height;t.height=Math.min(e.maxHeight,t.height+n+l)}else{const n=i.mirror?0:u*o.width+d*s.height;t.width=Math.min(e.maxWidth,t.width+n+l)}e._calculatePadding(n,r,d,u)}}e._handleMargins(),a?(e.width=e._length=n.width-e._margins.left-e._margins.right,e.height=t.height):(e.width=t.width,e.height=e._length=n.height-e._margins.top-e._margins.bottom)}_calculatePadding(e,t,n,i){const r=this,{ticks:{align:o,padding:s},position:a}=r.options,l=0!==r.labelRotation,c="top"!==a&&"x"===r.axis;if(r.isHorizontal()){const a=r.getPixelForTick(0)-r.left,u=r.right-r.getPixelForTick(r.ticks.length-1);let d=0,h=0;l?c?(d=i*e.width,h=n*t.height):(d=n*e.height,h=i*t.width):"start"===o?h=t.width:"end"===o?d=e.width:(d=e.width/2,h=t.width/2),r.paddingLeft=Math.max((d-a+s)*r.width/(r.width-a),0),r.paddingRight=Math.max((h-u+s)*r.width/(r.width-u),0)}else{let n=t.height/2,i=e.height/2;"start"===o?(n=0,i=e.height):"end"===o&&(n=t.height,i=0),r.paddingTop=n+s,r.paddingBottom=i+s}}_handleMargins(){const e=this;e._margins&&(e._margins.left=Math.max(e.paddingLeft,e._margins.left),e._margins.top=Math.max(e.paddingTop,e._margins.top),e._margins.right=Math.max(e.paddingRight,e._margins.right),e._margins.bottom=Math.max(e.paddingBottom,e._margins.bottom))}afterFit(){S(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){const t=this;let n,i;for(t.beforeTickToLabelConversion(),t.generateTickLabels(e),n=0,i=e.length;n<i;n++)y(e[n].label)&&(e.splice(n,1),i--,n--);t.afterTickToLabelConversion()}_getLabelSizes(){const e=this;let t=e._labelSizes;if(!t){const n=e.options.ticks.sampleSize;let i=e.ticks;n<i.length&&(i=Li(i,n)),e._labelSizes=t=e._computeLabelSizes(i,i.length)}return t}_computeLabelSizes(e,t){const{ctx:n,_longestTextCache:i}=this,r=[],o=[];let s,a,l,c,u,d,h,p,f,m,g,v=0,w=0;for(s=0;s<t;++s){if(c=e[s].label,u=this._resolveTickFontOptions(s),n.font=d=u.string,h=i[d]=i[d]||{data:{},gc:[]},p=u.lineHeight,f=m=0,y(c)||b(c)){if(b(c))for(a=0,l=c.length;a<l;++a)g=c[a],y(g)||b(g)||(f=Ze(n,h.data,h.gc,f,g),m+=p)}else f=Ze(n,h.data,h.gc,f,c),m=p;r.push(f),o.push(m),v=Math.max(f,v),w=Math.max(m,w)}!function(e,t){A(e,(e=>{const n=e.gc,i=n.length/2;let r;if(i>t){for(r=0;r<i;++r)delete e.data[n[r]];n.splice(0,i)}}))}(i,t);const _=r.indexOf(v),x=o.indexOf(w),k=e=>({width:r[e]||0,height:o[e]||0});return{first:k(0),last:k(t-1),widest:k(_),highest:k(x),widths:r,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){const t=this;t._reversePixels&&(e=1-e);const n=t._startPixel+e*t._length;return function(e){return se(e,-32768,32767)}(t._alignToPixels?Ye(t.chart,n,0):n)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this,n=t.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=function(e,t,n){return Object.assign(Object.create(e),{tick:n,index:t,type:"tick"})}(t.getContext(),e,i))}return t.$context||(t.$context=(i=t.chart.getContext(),r=t,Object.assign(Object.create(i),{scale:r,type:"scale"})));var i,r}_tickSize(){const e=this,t=e.options.ticks,n=X(e.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),o=e._getLabelSizes(),s=t.autoSkipPadding||0,a=o?o.widest.width+s:0,l=o?o.highest.height+s:0;return e.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this,n=t.axis,i=t.chart,r=t.options,{grid:o,position:s}=r,a=o.offset,l=t.isHorizontal(),c=t.ticks.length+(a?1:0),u=Fi(o),d=[],h=o.setContext(t.getContext()),p=h.drawBorder?h.borderWidth:0,f=p/2,m=function(e){return Ye(i,e,p)};let g,v,y,b,_,x,C,S,A,D,O,T;if("top"===s)g=m(t.bottom),x=t.bottom-u,S=g-f,D=m(e.top)+f,T=e.bottom;else if("bottom"===s)g=m(t.top),D=e.top,T=m(e.bottom)-f,x=g+f,S=t.top+u;else if("left"===s)g=m(t.right),_=t.right-u,C=g-f,A=m(e.left)+f,O=e.right;else if("right"===s)g=m(t.left),A=e.left,O=m(e.right)-f,_=g+f,C=t.left+u;else if("x"===n){if("center"===s)g=m((e.top+e.bottom)/2+.5);else if(w(s)){const e=Object.keys(s)[0],n=s[e];g=m(t.chart.scales[e].getPixelForValue(n))}D=e.top,T=e.bottom,x=g+f,S=x+u}else if("y"===n){if("center"===s)g=m((e.left+e.right)/2);else if(w(s)){const e=Object.keys(s)[0],n=s[e];g=m(t.chart.scales[e].getPixelForValue(n))}_=g-f,C=_-u,A=e.left,O=e.right}const E=k(r.ticks.maxTicksLimit,c),$=Math.max(1,Math.ceil(c/E));for(v=0;v<c;v+=$){const e=o.setContext(t.getContext(v)),n=e.lineWidth,r=e.color,s=o.borderDash||[],c=e.borderDashOffset,u=e.tickWidth,h=e.tickColor,p=e.tickBorderDash||[],f=e.tickBorderDashOffset;y=Pi(t,v,a),void 0!==y&&(b=Ye(i,y,n),l?_=C=A=O=b:x=S=D=T=b,d.push({tx1:_,ty1:x,tx2:C,ty2:S,x1:A,y1:D,x2:O,y2:T,width:n,color:r,borderDash:s,borderDashOffset:c,tickWidth:u,tickColor:h,tickBorderDash:p,tickBorderDashOffset:f}))}return t._ticksLength=c,t._borderValue=g,d}_computeLabelItems(e){const t=this,n=t.axis,i=t.options,{position:r,ticks:o}=i,s=t.isHorizontal(),a=t.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=o,h=Fi(i.grid),p=h+u,f=d?-u:p,m=-X(t.labelRotation),g=[];let v,y,_,x,k,C,S,A,D,O,T,E,$="middle";if("top"===r)C=t.bottom-f,S=t._getXAxisLabelAlignment();else if("bottom"===r)C=t.top+f,S=t._getXAxisLabelAlignment();else if("left"===r){const e=t._getYAxisLabelAlignment(h);S=e.textAlign,k=e.x}else if("right"===r){const e=t._getYAxisLabelAlignment(h);S=e.textAlign,k=e.x}else if("x"===n){if("center"===r)C=(e.top+e.bottom)/2+p;else if(w(r)){const e=Object.keys(r)[0],n=r[e];C=t.chart.scales[e].getPixelForValue(n)+p}S=t._getXAxisLabelAlignment()}else if("y"===n){if("center"===r)k=(e.left+e.right)/2-p;else if(w(r)){const e=Object.keys(r)[0],n=r[e];k=t.chart.scales[e].getPixelForValue(n)}S=t._getYAxisLabelAlignment(h).textAlign}"y"===n&&("start"===l?$="top":"end"===l&&($="bottom"));const M=t._getLabelSizes();for(v=0,y=a.length;v<y;++v){_=a[v],x=_.label;const e=o.setContext(t.getContext(v));A=t.getPixelForTick(v)+o.labelOffset,D=t._resolveTickFontOptions(v),O=D.lineHeight,T=b(x)?x.length:1;const n=T/2,i=e.color,l=e.textStrokeColor,u=e.textStrokeWidth;let h;if(s?(k=A,E="top"===r?"near"===c||0!==m?-T*O+O/2:"center"===c?-M.highest.height/2-n*O+O:-M.highest.height+O/2:"near"===c||0!==m?O/2:"center"===c?M.highest.height/2-n*O:M.highest.height-T*O,d&&(E*=-1)):(C=A,E=(1-T)*O/2),e.showLabelBackdrop){const t=pt(e.backdropPadding),n=M.heights[v],i=M.widths[v];let r=C+E-t.top,o=k-t.left;switch($){case"middle":r-=n/2;break;case"bottom":r-=n}switch(S){case"center":o-=i/2;break;case"right":o-=i}h={left:o,top:r,width:i+t.width,height:n+t.height,color:e.backdropColor}}g.push({rotation:m,label:x,font:D,color:i,strokeColor:l,strokeWidth:u,textOffset:E,textAlign:S,textBaseline:$,translation:[k,C],backdrop:h})}return g}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-X(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align&&(n="right"),n}_getYAxisLabelAlignment(e){const t=this,{position:n,ticks:{crossAlign:i,mirror:r,padding:o}}=t.options,s=e+o,a=t._getLabelSizes().widest.width;let l,c;return"left"===n?r?(l="left",c=t.right+o):(c=t.right-s,"near"===i?l="right":"center"===i?(l="center",c-=a/2):(l="left",c=t.left)):"right"===n?r?(l="right",c=t.left+o):(c=t.left+s,"near"===i?l="left":"center"===i?(l="center",c+=a/2):(l="right",c=t.right)):l="right",{textAlign:l,x:c}}_computeLabelArea(){const e=this;if(e.options.ticks.mirror)return;const t=e.chart,n=e.options.position;return"left"===n||"right"===n?{top:0,left:e.left,bottom:t.height,right:e.right}:"top"===n||"bottom"===n?{top:e.top,left:0,bottom:e.bottom,right:t.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:i,width:r,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,i,r,o),e.restore())}getLineWidthForValue(e){const t=this,n=t.options.grid;if(!t._isVisible()||!n.display)return 0;const i=t.ticks.findIndex((t=>t.value===e));return i>=0?n.setContext(t.getContext(i)).lineWidth:0}drawGrid(e){const t=this,n=t.options.grid,i=t.ctx,r=t._gridLineItems||(t._gridLineItems=t._computeGridLineItems(e));let o,s;const a=(e,t,n)=>{n.width&&n.color&&(i.save(),i.lineWidth=n.width,i.strokeStyle=n.color,i.setLineDash(n.borderDash||[]),i.lineDashOffset=n.borderDashOffset,i.beginPath(),i.moveTo(e.x,e.y),i.lineTo(t.x,t.y),i.stroke(),i.restore())};if(n.display)for(o=0,s=r.length;o<s;++o){const e=r[o];n.drawOnChartArea&&a({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),n.drawTicks&&a({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const e=this,{chart:t,ctx:n,options:{grid:i}}=e,r=i.setContext(e.getContext()),o=i.drawBorder?r.borderWidth:0;if(!o)return;const s=i.setContext(e.getContext(0)).lineWidth,a=e._borderValue;let l,c,u,d;e.isHorizontal()?(l=Ye(t,e.left,o)-o/2,c=Ye(t,e.right,s)+s/2,u=d=a):(u=Ye(t,e.top,o)-o/2,d=Ye(t,e.bottom,s)+s/2,l=c=a),n.save(),n.lineWidth=r.borderWidth,n.strokeStyle=r.borderColor,n.beginPath(),n.moveTo(l,u),n.lineTo(c,d),n.stroke(),n.restore()}drawLabels(e){const t=this;if(!t.options.ticks.display)return;const n=t.ctx,i=t._computeLabelArea();i&&et(n,i);const r=t._labelItems||(t._labelItems=t._computeLabelItems(e));let o,s;for(o=0,s=r.length;o<s;++o){const e=r[o],t=e.font,i=e.label;e.backdrop&&(n.fillStyle=e.backdrop.color,n.fillRect(e.backdrop.left,e.backdrop.top,e.backdrop.width,e.backdrop.height)),rt(n,i,0,e.textOffset,t,e)}i&&tt(n)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:i}}=this;if(!n.display)return;const r=ft(n.font),o=pt(n.padding),s=n.align;let a=r.lineHeight/2;"bottom"===t||"center"===t||w(t)?(a+=o.bottom,b(n.text)&&(a+=r.lineHeight*(n.text.length-1))):a+=o.top;const{titleX:l,titleY:c,maxWidth:u,rotation:d}=function(e,t,n,i){const{top:r,left:o,bottom:s,right:a,chart:l}=e,{chartArea:c,scales:u}=l;let d,h,p,f=0;const g=s-r,v=a-o;if(e.isHorizontal()){if(h=m(i,o,a),w(n)){const e=Object.keys(n)[0],i=n[e];p=u[e].getPixelForValue(i)+g-t}else p="center"===n?(c.bottom+c.top)/2+g-t:Ri(e,n,t);d=a-o}else{if(w(n)){const e=Object.keys(n)[0],i=n[e];h=u[e].getPixelForValue(i)-v+t}else h="center"===n?(c.left+c.right)/2-v+t:Ri(e,n,t);p=m(i,s,r),f="left"===n?-W:W}return{titleX:h,titleY:p,maxWidth:d,rotation:f}}(this,a,t,s);rt(e,n.text,0,0,r,{color:n.color,maxWidth:u,rotation:d,textAlign:ji(s,t,i),textBaseline:"middle",translation:[l,c]})}draw(e){const t=this;t._isVisible()&&(t.drawBackground(),t.drawGrid(e),t.drawBorder(),t.drawTitle(),t.drawLabels(e))}_layers(){const e=this,t=e.options,n=t.ticks&&t.ticks.z||0,i=k(t.grid&&t.grid.z,-1);return e._isVisible()&&e.draw===Ni.prototype.draw?[{z:i,draw(t){e.drawBackground(),e.drawGrid(t),e.drawTitle()}},{z:i+1,draw(){e.drawBorder()}},{z:n,draw(t){e.drawLabels(t)}}]:[{z:n,draw(t){e.draw(t)}}]}getMatchingVisibleMetas(e){const t=this,n=t.chart.getSortedVisibleDatasetMetas(),i=t.axis+"AxisID",r=[];let o,s;for(o=0,s=n.length;o<s;++o){const s=n[o];s[i]!==t.id||e&&s.type!==e||r.push(s)}return r}_resolveTickFontOptions(e){return ft(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this,t=e._resolveTickFontOptions(0).lineHeight;return(e.isHorizontal()?e.width:e.height)/t}}class Vi{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=this,n=Object.getPrototypeOf(e);let i;(function(e){return"id"in e&&"defaults"in e})(n)&&(i=t.register(n));const r=t.items,o=e.id,s=t.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in r||(r[o]=e,function(e,t,n){const i=$(Object.create(null),[n?Ke.get(n):{},Ke.get(t),e.defaults]);Ke.set(t,i),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((n=>{const i=n.split("."),r=i.pop(),o=[e].concat(i).join("."),s=t[n].split("."),a=s.pop(),l=s.join(".");Ke.route(o,r,l,a)}))}(t,e.defaultRoutes),e.descriptors&&Ke.describe(t,e.descriptors)}(e,s,i),t.override&&Ke.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,i=this.scope;n in t&&delete t[n],i&&n in Ke[i]&&(delete Ke[i][n],this.override&&delete ze[n])}}var Bi=new class{constructor(){this.controllers=new Vi(En,"datasets",!0),this.elements=new Vi(Ti,"elements"),this.plugins=new Vi(Object,"plugins"),this.scales=new Vi(Ni,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){const i=this;[...t].forEach((t=>{const r=n||i._getRegistryForType(t);n||r.isForType(t)||r===i.plugins&&t.id?i._exec(e,r,t):A(t,(t=>{const r=n||i._getRegistryForType(t);i._exec(e,r,t)}))}))}_exec(e,t,n){const i=F(e);S(n["before"+i],[],n),t[e](n),S(n["after"+i],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const i=t.get(e);if(void 0===i)throw new Error('"'+e+'" is not a registered '+n+".");return i}};class qi{constructor(){this._init=[]}notify(e,t,n,i){const r=this;"beforeInit"===t&&(r._init=r._createDescriptors(e,!0),r._notify(r._init,e,"install"));const o=i?r._descriptors(e).filter(i):r._descriptors(e),s=r._notify(o,e,t,n);return"destroy"===t&&(r._notify(o,e,"stop"),r._notify(r._init,e,"uninstall")),s}_notify(e,t,n,i){i=i||{};for(const r of e){const e=r.plugin;if(!1===S(e[n],[t,i,r.options],e)&&i.cancelable)return!1}return!0}invalidate(){y(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,i=k(n.options&&n.options.plugins,{}),r=function(e){const t=[],n=Object.keys(Bi.plugins.items);for(let e=0;e<n.length;e++)t.push(Bi.getPlugin(n[e]));const i=e.plugins||[];for(let e=0;e<i.length;e++){const n=i[e];-1===t.indexOf(n)&&t.push(n)}return t}(n);return!1!==i||t?function(e,t,n,i){const r=[],o=e.getContext();for(let s=0;s<t.length;s++){const a=t[s],l=zi(n[a.id],i);null!==l&&r.push({plugin:a,options:Wi(e.config,a,l,o)})}return r}(e,r,i,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,i=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(i(t,n),e,"stop"),this._notify(i(n,t),e,"start")}}function zi(e,t){return t||!1!==e?!0===e?{}:e:null}function Wi(e,t,n,i){const r=e.pluginScopeKeys(t),o=e.getOptionScopes(n,r);return e.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ui(e,t){const n=Ke.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function Hi(e,t){return"x"===e||"y"===e?e:t.axis||("top"===(n=t.position)||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0)||e.charAt(0).toLowerCase();var n}function Ki(e){const t=e.options||(e.options={});t.plugins=k(t.plugins,{}),t.scales=function(e,t){const n=ze[e.type]||{scales:{}},i=t.scales||{},r=Ui(e.type,t),o=Object.create(null),s=Object.create(null);return Object.keys(i).forEach((e=>{const t=i[e],a=Hi(e,t),l=function(e,t){return e===t?"_index_":"_value_"}(a,r),c=n.scales||{};o[a]=o[a]||e,s[e]=M(Object.create(null),[{axis:a},t,c[a],c[l]])})),e.data.datasets.forEach((n=>{const r=n.type||e.type,a=n.indexAxis||Ui(r,t),l=(ze[r]||{}).scales||{};Object.keys(l).forEach((e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,a),r=n[t+"AxisID"]||o[t]||t;s[r]=s[r]||Object.create(null),M(s[r],[{axis:t},i[r],l[e]])}))})),Object.keys(s).forEach((e=>{const t=s[e];M(t,[Ke.scales[t.type],Ke.scale])})),s}(e,t)}function Zi(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const Gi=new Map,Yi=new Set;function Qi(e,t){let n=Gi.get(e);return n||(n=t(),Gi.set(e,n),Yi.add(n)),n}const Ji=(e,t,n)=>{const i=P(t,n);void 0!==i&&e.add(i)};class Xi{constructor(e){this._config=function(e){return(e=e||{}).data=Zi(e.data),Ki(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Zi(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Ki(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Qi(e,(()=>[[`datasets.${e}`,""]]))}datasetAnimationScopeKeys(e,t){return Qi(`${e}.transition.${t}`,(()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]]))}datasetElementScopeKeys(e,t){return Qi(`${e}-${t}`,(()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]]))}pluginScopeKeys(e){const t=e.id;return Qi(`${this.type}-plugin-${t}`,(()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const n=this._scopeCache;let i=n.get(e);return i&&!t||(i=new Map,n.set(e,i)),i}getOptionScopes(e,t,n){const{options:i,type:r}=this,o=this._cachedScopes(e,n),s=o.get(t);if(s)return s;const a=new Set;t.forEach((t=>{e&&(a.add(e),t.forEach((t=>Ji(a,e,t)))),t.forEach((e=>Ji(a,i,e))),t.forEach((e=>Ji(a,ze[r]||{},e))),t.forEach((e=>Ji(a,Ke,e))),t.forEach((e=>Ji(a,We,e)))}));const l=Array.from(a);return 0===l.length&&l.push(Object.create(null)),Yi.has(t)&&o.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,ze[t]||{},Ke.datasets[t]||{},{type:t},Ke,We]}resolveNamedOptions(e,t,n,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:s}=er(this._resolverCache,e,i);let a=o;(function(e,t){const{isScriptable:n,isIndexable:i}=Ct(e);for(const r of t)if(n(r)&&j(e[r])||i(r)&&b(e[r]))return!0;return!1})(o,t)&&(r.$shared=!1,a=kt(o,n=j(n)?n():n,this.createResolver(e,n,s)));for(const e of t)r[e]=a[e];return r}createResolver(e,t,n=[""],i){const{resolver:r}=er(this._resolverCache,e,n);return w(t)?kt(r,t,void 0,i):r}}function er(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const r=n.join();let o=i.get(r);return o||(o={resolver:xt(t,n),subPrefixes:n.filter((e=>!e.toLowerCase().includes("hover")))},i.set(r,o)),o}const tr=["top","bottom","left","right","chartArea"];function nr(e,t){return"top"===e||"bottom"===e||-1===tr.indexOf(e)&&"x"===t}function ir(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function rr(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),S(n&&n.onComplete,[e],t)}function or(e){const t=e.chart,n=t.options.animation;S(n&&n.onProgress,[e],t)}function sr(e){return Bt()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const ar={},lr=e=>{const t=sr(e);return Object.values(ar).filter((e=>e.canvas===t)).pop()};class cr{constructor(e,t){const n=this,i=this.config=new Xi(t),r=sr(e),o=lr(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas can be reused.");const s=i.createResolver(i.chartOptionScopes(),n.getContext());this.platform=new(i.platform||function(e){return!Bt()||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?mi:Oi}(r));const a=n.platform.acquireContext(r,s.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;this.id=v(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this.scale=void 0,this._plugins=new qi,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(){return t?(clearTimeout(n),n=setTimeout(e,t)):e(),t}}((()=>this.update("resize")),s.resizeDelay||0),ar[n.id]=n,a&&l?(pn.listen(n,"complete",rr),pn.listen(n,"progress",or),n._initialize(),n.attached&&n.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:i,_aspectRatio:r}=this;return y(e)?t&&r?r:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}_initialize(){const e=this;return e.notifyPlugins("beforeInit"),e.options.responsive?e.resize():Gt(e,e.options.devicePixelRatio),e.bindEvents(),e.notifyPlugins("afterInit"),e}clear(){return Qe(this.canvas,this.ctx),this}stop(){return pn.stop(this),this}resize(e,t){pn.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this,i=n.options,r=n.canvas,o=i.maintainAspectRatio&&n.aspectRatio,s=n.platform.getMaximumSize(r,e,t,o),a=i.devicePixelRatio||n.platform.getDevicePixelRatio();n.width=s.width,n.height=s.height,n._aspectRatio=n.aspectRatio,Gt(n,a,!0)&&(n.notifyPlugins("resize",{size:s}),S(i.onResize,[n,s],n),n.attached&&n._doResize()&&n.render())}ensureScalesHaveIDs(){A(this.options.scales||{},((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this,t=e.options,n=t.scales,i=e.scales,r=Object.keys(i).reduce(((e,t)=>(e[t]=!1,e)),{});let o=[];n&&(o=o.concat(Object.keys(n).map((e=>{const t=n[e],i=Hi(e,t),r="r"===i,o="x"===i;return{options:t,dposition:r?"chartArea":o?"bottom":"left",dtype:r?"radialLinear":o?"category":"linear"}})))),A(o,(n=>{const o=n.options,s=o.id,a=Hi(s,o),l=k(o.type,n.dtype);void 0!==o.position&&nr(o.position,a)===nr(n.dposition)||(o.position=n.dposition),r[s]=!0;let c=null;s in i&&i[s].type===l?c=i[s]:(c=new(Bi.getScale(l))({id:s,type:l,ctx:e.ctx,chart:e}),i[c.id]=c),c.init(o,t)})),A(r,((e,t)=>{e||delete i[t]})),A(i,(t=>{pi.configure(e,t,t.options),pi.addBox(e,t)}))}_updateMetasets(){const e=this,t=e._metasets,n=e.data.datasets.length,i=t.length;if(t.sort(((e,t)=>e.index-t.index)),i>n){for(let t=n;t<i;++t)e._destroyDatasetMeta(t);t.splice(n,i-n)}e._sortedMetasets=t.slice(0).sort(ir("order","index"))}_removeUnreferencedMetasets(){const e=this,{_metasets:t,data:{datasets:n}}=e;t.length>n.length&&delete e._stacks,t.forEach(((t,i)=>{0===n.filter((e=>e===t._dataset)).length&&e._destroyDatasetMeta(i)}))}buildOrUpdateControllers(){const e=this,t=[],n=e.data.datasets;let i,r;for(e._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const r=n[i];let o=e.getDatasetMeta(i);const s=r.type||e.config.type;if(o.type&&o.type!==s&&(e._destroyDatasetMeta(i),o=e.getDatasetMeta(i)),o.type=s,o.indexAxis=r.indexAxis||Ui(s,e.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=e.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const n=Bi.getController(s),{datasetElementType:r,dataElementType:a}=Ke.datasets[s];Object.assign(n.prototype,{dataElementType:Bi.getElement(a),datasetElementType:r&&Bi.getElement(r)}),o.controller=new n(e,i),t.push(o.controller)}}return e._updateMetasets(),t}_resetElements(){const e=this;A(e.data.datasets,((t,n)=>{e.getDatasetMeta(n).controller.reset()}),e)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this,n=t.config;n.update(),t._options=n.createResolver(n.chartOptionScopes(),t.getContext()),A(t.scales,(e=>{pi.removeBox(t,e)}));const i=t._animationsDisabled=!t.options.animation;if(t.ensureScalesHaveIDs(),t.buildOrUpdateScales(),((e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0})(new Set(Object.keys(t._listeners)),new Set(t.options.events))&&!!this._responsiveListeners===t.options.responsive||(t.unbindEvents(),t.bindEvents()),t._plugins.invalidate(),!1===t.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const r=t.buildOrUpdateControllers();t.notifyPlugins("beforeElementsUpdate");let o=0;for(let e=0,n=t.data.datasets.length;e<n;e++){const{controller:n}=t.getDatasetMeta(e),s=!i&&-1===r.indexOf(n);n.buildOrUpdateElements(s),o=Math.max(+n.getMaxOverflow(),o)}t._minPadding=o,t._updateLayout(o),i||A(r,(e=>{e.reset()})),t._updateDatasets(e),t.notifyPlugins("afterUpdate",{mode:e}),t._layers.sort(ir("z","_idx")),t._lastEvent&&t._eventHandler(t._lastEvent,!0),t.render()}_updateLayout(e){const t=this;if(!1===t.notifyPlugins("beforeLayout",{cancelable:!0}))return;pi.update(t,t.width,t.height,e);const n=t.chartArea,i=n.width<=0||n.height<=0;t._layers=[],A(t.boxes,(e=>{i&&"chartArea"===e.position||(e.configure&&e.configure(),t._layers.push(...e._layers()))}),t),t._layers.forEach(((e,t)=>{e._idx=t})),t.notifyPlugins("afterLayout")}_updateDatasets(e){const t=this,n="function"==typeof e;if(!1!==t.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let i=0,r=t.data.datasets.length;i<r;++i)t._updateDataset(i,n?e({datasetIndex:i}):e);t.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this,i=n.getDatasetMeta(e),r={meta:i,index:e,mode:t,cancelable:!0};!1!==n.notifyPlugins("beforeDatasetUpdate",r)&&(i.controller._update(t),r.cancelable=!1,n.notifyPlugins("afterDatasetUpdate",r))}render(){const e=this;!1!==e.notifyPlugins("beforeRender",{cancelable:!0})&&(pn.has(e)?e.attached&&!pn.running(e)&&pn.start(e):(e.draw(),rr({chart:e})))}draw(){const e=this;let t;if(e._resizeBeforeDraw){const{width:t,height:n}=e._resizeBeforeDraw;e._resize(t,n),e._resizeBeforeDraw=null}if(e.clear(),e.width<=0||e.height<=0)return;if(!1===e.notifyPlugins("beforeDraw",{cancelable:!0}))return;const n=e._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(e.chartArea);for(e._drawDatasets();t<n.length;++t)n[t].draw(e.chartArea);e.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let i,r;for(i=0,r=t.length;i<r;++i){const r=t[i];e&&!r.visible||n.push(r)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){const e=this;if(!1===e.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=e.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)e._drawDataset(t[n]);e.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this,n=t.ctx,i=e._clip,r=!i.disabled,o=t.chartArea,s={meta:e,index:e.index,cancelable:!0};!1!==t.notifyPlugins("beforeDatasetDraw",s)&&(r&&et(n,{left:!1===i.left?0:o.left-i.left,right:!1===i.right?t.width:o.right+i.right,top:!1===i.top?0:o.top-i.top,bottom:!1===i.bottom?t.height:o.bottom+i.bottom}),e.controller.draw(),r&&tt(n),s.cancelable=!1,t.notifyPlugins("afterDatasetDraw",s))}getElementsAtEventForMode(e,t,n,i){const r=ti.modes[t];return"function"==typeof r?r(this,e,n,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let i=n.filter((e=>e&&e._dataset===t)).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context={chart:this,type:"chart"})}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"==typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const i=this,r=n?"show":"hide",o=i.getDatasetMeta(e),s=o.controller._resolveAnimations(void 0,r);I(t)?(o.data[t].hidden=!n,i.update()):(i.setDatasetVisibility(e,n),s.update(o,{visible:n}),i.update((t=>t.datasetIndex===e?r:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this,n=t._metasets&&t._metasets[e];n&&n.controller&&(n.controller._destroy(),delete t._metasets[e])}destroy(){const e=this,{canvas:t,ctx:n}=e;let i,r;for(e.stop(),pn.remove(e),i=0,r=e.data.datasets.length;i<r;++i)e._destroyDatasetMeta(i);e.config.clearCache(),t&&(e.unbindEvents(),Qe(t,n),e.platform.releaseContext(n),e.canvas=null,e.ctx=null),e.notifyPlugins("destroy"),delete ar[e.id]}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this,t=e._listeners,n=e.platform,i=function(t,n,i){t.offsetX=n,t.offsetY=i,e._eventHandler(t)};A(e.options.events,(r=>((i,r)=>{n.addEventListener(e,i,r),t[i]=r})(r,i)))}bindResponsiveEvents(){const e=this;e._responsiveListeners||(e._responsiveListeners={});const t=e._responsiveListeners,n=e.platform,i=(i,r)=>{n.addEventListener(e,i,r),t[i]=r},r=(i,r)=>{t[i]&&(n.removeEventListener(e,i,r),delete t[i])},o=(t,n)=>{e.canvas&&e.resize(t,n)};let s;const a=()=>{r("attach",a),e.attached=!0,e.resize(),i("resize",o),i("detach",s)};s=()=>{e.attached=!1,r("resize",o),i("attach",a)},n.isAttached(e.canvas)?a():s()}unbindEvents(){const e=this;A(e._listeners,((t,n)=>{e.platform.removeEventListener(e,n,t)})),e._listeners={},A(e._responsiveListeners,((t,n)=>{e.platform.removeEventListener(e,n,t)})),e._responsiveListeners=void 0}updateHoverStyle(e,t,n){const i=n?"set":"remove";let r,o,s,a;for("dataset"===t&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),s=0,a=e.length;s<a;++s){o=e[s];const t=o&&this.getDatasetMeta(o.datasetIndex).controller;t&&t[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this,n=t._active||[],i=e.map((({datasetIndex:e,index:n})=>{const i=t.getDatasetMeta(e);if(!i)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:i.data[n],index:n}}));!D(i,n)&&(t._active=i,t._updateHoverStyles(i,n))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}_updateHoverStyles(e,t,n){const i=this,r=i.options.hover,o=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),s=o(t,e),a=n?e:o(e,t);s.length&&i.updateHoverStyle(s,r.mode,!1),a.length&&r.mode&&i.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,t){const n=this,i={event:e,replay:t,cancelable:!0},r=t=>(t.options.events||this.options.events).includes(e.type);if(!1===n.notifyPlugins("beforeEvent",i,r))return;const o=n._handleEvent(e,t);return i.cancelable=!1,n.notifyPlugins("afterEvent",i,r),(o||i.changed)&&n.render(),n}_handleEvent(e,t){const n=this,{_active:i=[],options:r}=n,o=r.hover,s=t;let a=[],l=!1,c=null;return"mouseout"!==e.type&&(a=n.getElementsAtEventForMode(e,o.mode,o,s),c="click"===e.type?n._lastEvent:e),n._lastEvent=null,Xe(e,n.chartArea,n._minPadding)&&(S(r.onHover,[e,a,n],n),"mouseup"!==e.type&&"click"!==e.type&&"contextmenu"!==e.type||S(r.onClick,[e,a,n],n)),l=!D(a,i),(l||t)&&(n._active=a,n._updateHoverStyles(a,i,t)),n._lastEvent=c,l}}const ur=()=>A(cr.instances,(e=>e._plugins.invalidate())),dr=!0;function hr(e,t,n){const{startAngle:i,pixelMargin:r,x:o,y:s,outerRadius:a,innerRadius:l}=t;let c=r/a;e.beginPath(),e.arc(o,s,a,i-c,n+c),l>r?(c=r/l,e.arc(o,s,l,n+c,i-c,!0)):e.arc(o,s,r,n+W,i-W),e.closePath(),e.clip()}function pr(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function fr(e,t,n,i,r){const{x:o,y:s,startAngle:a,pixelMargin:l,innerRadius:c}=t,u=Math.max(t.outerRadius+i+n-l,0),d=c>0?c+i+n+l:0;let h=0;const p=r-a;if(i){const e=((c>0?c-i:0)+(u>0?u-i:0))/2;h=(p-(0!==e?p*e/(e+i):p))/2}const f=(p-Math.max(.001,p*u-n/N)/u)/2,m=a+f+h,g=r-f-h,{outerStart:v,outerEnd:y,innerStart:b,innerEnd:w}=function(e,t,n,i){const r=function(e){return ut(e,["outerStart","outerEnd","innerStart","innerEnd"])}(e.options.borderRadius),o=(n-t)/2,s=Math.min(o,i*t/2),a=e=>{const t=(n-Math.min(o,e))*i/2;return se(e,0,Math.min(o,t))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:se(r.innerStart,0,s),innerEnd:se(r.innerEnd,0,s)}}(t,d,u,g-m),_=u-v,x=u-y,k=m+v/_,C=g-y/x,S=d+b,A=d+w,D=m+b/S,O=g-w/A;if(e.beginPath(),e.arc(o,s,u,k,C),y>0){const t=pr(x,C,o,s);e.arc(t.x,t.y,y,C,g+W)}const T=pr(A,g,o,s);if(e.lineTo(T.x,T.y),w>0){const t=pr(A,O,o,s);e.arc(t.x,t.y,w,g+W,O+Math.PI)}if(e.arc(o,s,d,g-w/d,m+b/d,!0),b>0){const t=pr(S,D,o,s);e.arc(t.x,t.y,b,D+Math.PI,m-W)}const E=pr(_,m,o,s);if(e.lineTo(E.x,E.y),v>0){const t=pr(_,k,o,s);e.arc(t.x,t.y,v,m-W,k)}e.closePath()}Object.defineProperties(cr,{defaults:{enumerable:dr,value:Ke},instances:{enumerable:dr,value:ar},overrides:{enumerable:dr,value:ze},registry:{enumerable:dr,value:Bi},version:{enumerable:dr,value:"3.5.0"},getChart:{enumerable:dr,value:lr},register:{enumerable:dr,value:(...e)=>{Bi.add(...e),ur()}},unregister:{enumerable:dr,value:(...e)=>{Bi.remove(...e),ur()}}});class mr extends Ti{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const i=this.getProps(["x","y"],n),{angle:r,distance:o}=function(e,t){const n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i);let o=Math.atan2(i,n);return o<-.5*N&&(o+=V),{angle:o,distance:r}}(i,{x:e,y:t}),{startAngle:s,endAngle:a,innerRadius:l,outerRadius:c,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),d=this.options.spacing/2;return(u>=V||oe(r,s,a))&&o>=l+d&&o<=c+d}getCenterPoint(e){const{x:t,y:n,startAngle:i,endAngle:r,innerRadius:o,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:a,spacing:l}=this.options,c=(i+r)/2,u=(o+s+l+a)/2;return{x:t+Math.cos(c)*u,y:n+Math.sin(c)*u}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const t=this,{options:n,circumference:i}=t,r=(n.offset||0)/2,o=(n.spacing||0)/2;if(t.pixelMargin="inner"===n.borderAlign?.33:0,t.fullCircles=i>V?Math.floor(i/V):0,0===i||t.innerRadius<0||t.outerRadius<0)return;e.save();let s=0;if(r){s=r/2;const n=(t.startAngle+t.endAngle)/2;e.translate(Math.cos(n)*s,Math.sin(n)*s),t.circumference>=N&&(s=r)}e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor;const a=function(e,t,n,i){const{fullCircles:r,startAngle:o,circumference:s}=t;let a=t.endAngle;if(r){fr(e,t,n,i,o+V);for(let t=0;t<r;++t)e.fill();isNaN(s)||(a=o+s%V,s%V==0&&(a+=V))}return fr(e,t,n,i,a),e.fill(),a}(e,t,s,o);(function(e,t,n,i,r){const{options:o}=t,s="inner"===o.borderAlign;o.borderWidth&&(s?(e.lineWidth=2*o.borderWidth,e.lineJoin="round"):(e.lineWidth=o.borderWidth,e.lineJoin="bevel"),t.fullCircles&&function(e,t,n){const{x:i,y:r,startAngle:o,pixelMargin:s,fullCircles:a}=t,l=Math.max(t.outerRadius-s,0),c=t.innerRadius+s;let u;for(n&&hr(e,t,o+V),e.beginPath(),e.arc(i,r,c,o+V,o,!0),u=0;u<a;++u)e.stroke();for(e.beginPath(),e.arc(i,r,l,o,o+V),u=0;u<a;++u)e.stroke()}(e,t,s),s&&hr(e,t,r),fr(e,t,n,i,r),e.stroke())})(e,t,s,o,a),e.restore()}}function gr(e,t,n=t){e.lineCap=k(n.borderCapStyle,t.borderCapStyle),e.setLineDash(k(n.borderDash,t.borderDash)),e.lineDashOffset=k(n.borderDashOffset,t.borderDashOffset),e.lineJoin=k(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=k(n.borderWidth,t.borderWidth),e.strokeStyle=k(n.borderColor,t.borderColor)}function vr(e,t,n){e.lineTo(n.x,n.y)}function yr(e,t,n={}){const i=e.length,{start:r=0,end:o=i-1}=n,{start:s,end:a}=t,l=Math.max(r,s),c=Math.min(o,a),u=r<s&&o<s||r>a&&o>a;return{count:i,start:l,loop:t.loop,ilen:c<l&&!u?i+c-l:c-l}}function br(e,t,n,i){const{points:r,options:o}=t,{count:s,start:a,loop:l,ilen:c}=yr(r,n,i),u=function(e){return e.stepped?nt:e.tension||"monotone"===e.cubicInterpolationMode?it:vr}(o);let d,h,p,{move:f=!0,reverse:m}=i||{};for(d=0;d<=c;++d)h=r[(a+(m?c-d:d))%s],h.skip||(f?(e.moveTo(h.x,h.y),f=!1):u(e,p,h,m,o.stepped),p=h);return l&&(h=r[(a+(m?c:0))%s],u(e,p,h,m,o.stepped)),!!l}function wr(e,t,n,i){const r=t.points,{count:o,start:s,ilen:a}=yr(r,n,i),{move:l=!0,reverse:c}=i||{};let u,d,h,p,f,m,g=0,v=0;const y=e=>(s+(c?a-e:e))%o,b=()=>{p!==f&&(e.lineTo(g,f),e.lineTo(g,p),e.lineTo(g,m))};for(l&&(d=r[y(0)],e.moveTo(d.x,d.y)),u=0;u<=a;++u){if(d=r[y(u)],d.skip)continue;const t=d.x,n=d.y,i=0|t;i===h?(n<p?p=n:n>f&&(f=n),g=(v*g+t)/++v):(b(),e.lineTo(t,n),h=i,v=0,p=f=n),m=n}b()}function _r(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return e._decimated||e._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||n?br:wr}mr.id="arc",mr.defaults={borderAlign:"center",borderColor:"#fff",borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0},mr.defaultRoutes={backgroundColor:"backgroundColor"};const xr="function"==typeof Path2D;class kr extends Ti{constructor(e){super(),this.animated=!0,this.options=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this,i=n.options;if((i.tension||"monotone"===i.cubicInterpolationMode)&&!i.stepped&&!n._pointsUpdated){const r=i.spanGaps?n._loop:n._fullLoop;Vt(n._points,i,e,r,t),n._pointsUpdated=!0}}set points(e){const t=this;t._points=e,delete t._segments,delete t._path,t._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,i=e.options.spanGaps,r=n.length;if(!r)return[];const o=!!e._loop,{start:s,end:a}=function(e,t,n,i){let r=0,o=t-1;if(n&&!i)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,n&&(o+=r);o>r&&e[o%t].skip;)o--;return o%=t,{start:r,end:o}}(n,r,o,i);return function(e,t,n,i){return i&&i.setContext&&n?function(e,t,n,i){const r=dn(e.options),o=n.length,s=[];let a=t[0].start,l=a;for(const c of t){let t,u=r,d=n[a%o];for(l=a+1;l<=c.end;l++){const r=n[l%o];t=dn(i.setContext({type:"segment",p0:d,p1:r,p0DataIndex:(l-1)%o,p1DataIndex:l%o,datasetIndex:e._datasetIndex})),hn(t,u)&&(s.push({start:a,end:l-1,loop:c.loop,style:u}),u=t,a=l-1),d=r,u=t}a<l-1&&(s.push({start:a,end:l-1,loop:c.loop,style:t}),a=l-1)}return s}(e,t,n,i):t}(e,!0===i?[{start:s,end:a,loop:o}]:function(e,t,n,i){const r=e.length,o=[];let s,a=t,l=e[t];for(s=t+1;s<=n;++s){const n=e[s%r];n.skip||n.stop?l.skip||(i=!1,o.push({start:t%r,end:(s-1)%r,loop:i}),t=a=n.stop?s:null):(a=s,l.skip&&(t=s)),l=n}return null!==a&&o.push({start:t%r,end:a%r,loop:i}),o}(n,s,a<s?a+r:a,!!e._fullLoop&&0===s&&a===r-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this,i=n.options,r=e[t],o=n.points,s=un(n,{property:t,start:r,end:r});if(!s.length)return;const a=[],l=function(e){return e.stepped?Xt:e.tension||"monotone"===e.cubicInterpolationMode?en:Jt}(i);let c,u;for(c=0,u=s.length;c<u;++c){const{start:n,end:u}=s[c],d=o[n],h=o[u];if(d===h){a.push(d);continue}const p=l(d,h,Math.abs((r-d[t])/(h[t]-d[t])),i.stepped);p[t]=e[t],a.push(p)}return 1===a.length?a[0]:a}pathSegment(e,t,n){return _r(this)(e,this,t,n)}path(e,t,n){const i=this,r=i.segments,o=_r(i);let s=i._loop;t=t||0,n=n||i.points.length-t;for(const a of r)s&=o(e,i,a,{start:t,end:t+n-1});return!!s}draw(e,t,n,i){const r=this,o=r.options||{};(r.points||[]).length&&o.borderWidth&&(e.save(),function(e,t,n,i){xr&&1===t.segments.length?function(e,t,n,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,n,i)&&r.closePath()),gr(e,t.options),e.stroke(r)}(e,t,n,i):function(e,t,n,i){const{segments:r,options:o}=t,s=_r(t);for(const a of r)gr(e,o,a.style),e.beginPath(),s(e,t,a,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}(e,t,n,i)}(e,r,n,i),e.restore(),r.animated&&(r._pointsUpdated=!1,r._path=void 0))}}function Cr(e,t,n,i){const r=e.options,{[n]:o}=e.getProps([n],i);return Math.abs(t-o)<r.radius+r.hitRadius}kr.id="line",kr.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},kr.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},kr.descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};class Sr extends Ti{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const i=this.options,{x:r,y:o}=this.getProps(["x","y"],n);return Math.pow(e-r,2)+Math.pow(t-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,t){return Cr(this,e,"x",t)}inYRange(e,t){return Cr(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;return t=Math.max(t,t&&e.hoverRadius||0),2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this,i=n.options;n.skip||i.radius<.1||!Xe(n,t,n.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,Je(e,i,n.x,n.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function Ar(e,t){const{x:n,y:i,base:r,width:o,height:s}=e.getProps(["x","y","base","width","height"],t);let a,l,c,u,d;return e.horizontal?(d=s/2,a=Math.min(n,r),l=Math.max(n,r),c=i-d,u=i+d):(d=o/2,a=n-d,l=n+d,c=Math.min(i,r),u=Math.max(i,r)),{left:a,top:c,right:l,bottom:u}}function Dr(e,t,n,i){return e?0:se(t,n,i)}function Or(e,t,n,i){const r=null===t,o=null===n,s=e&&!(r&&o)&&Ar(e,i);return s&&(r||t>=s.left&&t<=s.right)&&(o||n>=s.top&&n<=s.bottom)}function Tr(e,t){e.rect(t.x,t.y,t.w,t.h)}function Er(e,t,n={}){const i=e.x!==n.x?-t:0,r=e.y!==n.y?-t:0,o=(e.x+e.w!==n.x+n.w?t:0)-i,s=(e.y+e.h!==n.y+n.h?t:0)-r;return{x:e.x+i,y:e.y+r,w:e.w+o,h:e.h+s,radius:e.radius}}Sr.id="point",Sr.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},Sr.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};class $r extends Ti{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,e&&Object.assign(this,e)}draw(e){const t=this.options,{inner:n,outer:i}=function(e){const t=Ar(e),n=t.right-t.left,i=t.bottom-t.top,r=function(e,t,n){const i=e.options.borderWidth,r=e.borderSkipped,o=dt(i);return{t:Dr(r.top,o.top,0,n),r:Dr(r.right,o.right,0,t),b:Dr(r.bottom,o.bottom,0,n),l:Dr(r.left,o.left,0,t)}}(e,n/2,i/2),o=function(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,o=ht(r),s=Math.min(t,n),a=e.borderSkipped,l=i||w(r);return{topLeft:Dr(!l||a.top||a.left,o.topLeft,0,s),topRight:Dr(!l||a.top||a.right,o.topRight,0,s),bottomLeft:Dr(!l||a.bottom||a.left,o.bottomLeft,0,s),bottomRight:Dr(!l||a.bottom||a.right,o.bottomRight,0,s)}}(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}(this),r=(o=i.radius).topLeft||o.topRight||o.bottomLeft||o.bottomRight?st:Tr;var o;e.save(),i.w===n.w&&i.h===n.h||(e.beginPath(),r(e,Er(i,.33,n)),e.clip(),r(e,Er(n,-.33,i)),e.fillStyle=t.borderColor,e.fill("evenodd")),e.beginPath(),r(e,Er(n,.33,i)),e.fillStyle=t.backgroundColor,e.fill(),e.restore()}inRange(e,t,n){return Or(this,e,t,n)}inXRange(e,t){return Or(this,e,null,t)}inYRange(e,t){return Or(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(t+i)/2:t,y:r?n:(n+i)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}function Mr(e,t,n){const i=function(e){const t=e.options,n=t.fill;let i=k(n&&n.target,n);return void 0===i&&(i=!!t.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(e);if(w(i))return!isNaN(i.value)&&i;let r=parseFloat(i);return _(r)&&Math.floor(r)===r?("-"!==i[0]&&"+"!==i[0]||(r=t+r),!(r===t||r<0||r>=n)&&r):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}$r.id="bar",$r.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,enableBorderRadius:!0,pointStyle:void 0},$r.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};class Rr{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:i,y:r,radius:o}=this;return t=t||{start:0,end:V},e.arc(i,r,o,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:i}=this,r=e.angle;return{x:t+Math.cos(r)*i,y:n+Math.sin(r)*i,angle:r}}}function Lr(e,t,n){for(;t>e;t--){const e=n[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}const Pr=e=>"line"===e.type&&!e.hidden;function Fr(e,t,n){const i=[];for(let r=0;r<n.length;r++){const o=n[r],{first:s,last:a,point:l}=Ir(o,t,"x");if(!(!l||s&&a))if(s)i.unshift(l);else if(e.push(l),!a)break}e.push(...i)}function Ir(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const r=i[n],o=e.segments,s=e.points;let a=!1,l=!1;for(let e=0;e<o.length;e++){const t=o[e],i=s[t.start][n],c=s[t.end][n];if(r>=i&&r<=c){a=r===i,l=r===c;break}}return{first:a,last:l,point:i}}function jr(e,t){let n=[],i=!1;return b(e)?(i=!0,n=e):n=function(e,t){const{x:n=null,y:i=null}=e||{},r=t.points,o=[];return t.segments.forEach((({start:e,end:t})=>{t=Lr(e,t,r);const s=r[e],a=r[t];null!==i?(o.push({x:s.x,y:i}),o.push({x:a.x,y:i})):null!==n&&(o.push({x:n,y:s.y}),o.push({x:n,y:a.y}))})),o}(e,t),n.length?new kr({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function Nr(e,t,n){let i=e[t].fill;const r=[t];let o;if(!n)return i;for(;!1!==i&&-1===r.indexOf(i);){if(!_(i))return i;if(o=e[i],!o)return!1;if(o.visible)return i;r.push(i),i=o.fill}return!1}function Vr(e,t,n){e.beginPath(),t.path(e),e.lineTo(t.last().x,n),e.lineTo(t.first().x,n),e.closePath(),e.clip()}function Br(e,t,n,i){if(i)return;let r=t[e],o=n[e];return"angle"===e&&(r=re(r),o=re(o)),{property:e,start:r,end:o}}function qr(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function zr(e,t,n){const{top:i,bottom:r}=t.chart.chartArea,{property:o,start:s,end:a}=n||{};"x"===o&&(e.beginPath(),e.rect(s,i,a-s,r-i),e.clip())}function Wr(e,t,n,i){const r=t.interpolate(n,i);r&&e.lineTo(r.x,r.y)}function Ur(e,t){const{line:n,target:i,property:r,color:o,scale:s}=t,a=function(e,t,n){const i=e.segments,r=e.points,o=t.points,s=[];for(const e of i){let{start:i,end:a}=e;a=Lr(i,a,r);const l=Br(n,r[i],r[a],e.loop);if(!t.segments){s.push({source:e,target:l,start:r[i],end:r[a]});continue}const c=un(t,l);for(const t of c){const i=Br(n,o[t.start],o[t.end],t.loop),a=cn(e,r,i);for(const e of a)s.push({source:e,target:t,start:{[n]:qr(l,i,"start",Math.max)},end:{[n]:qr(l,i,"end",Math.min)}})}}return s}(n,i,r);for(const{source:t,target:l,start:c,end:u}of a){const{style:{backgroundColor:a=o}={}}=t,d=!0!==i;e.save(),e.fillStyle=a,zr(e,s,d&&Br(r,c,u)),e.beginPath();const h=!!n.pathSegment(e,t);let p;if(d){h?e.closePath():Wr(e,i,u,r);const t=!!i.pathSegment(e,l,{move:h,reverse:!0});p=h&&t,p||Wr(e,i,c,r)}e.closePath(),e.fill(p?"evenodd":"nonzero"),e.restore()}}function Hr(e,t,n){const i=function(e){const{chart:t,fill:n,line:i}=e;if(_(n))return function(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}(t,n);if("stack"===n)return function(e){const{chart:t,scale:n,index:i,line:r}=e,o=[],s=r.segments,a=r.points,l=function(e,t){const n=[],i=e.getSortedVisibleDatasetMetas();for(let e=0;e<i.length;e++){const r=i[e];if(r.index===t)break;Pr(r)&&n.unshift(r.dataset)}return n}(t,i);l.push(jr({x:null,y:n.bottom},r));for(let e=0;e<s.length;e++){const t=s[e];for(let e=t.start;e<=t.end;e++)Fr(o,a[e],l)}return new kr({points:o,options:{}})}(e);if("shape"===n)return!0;const r=function(e){return(e.scale||{}).getPointPositionForValue?function(e){const{scale:t,fill:n}=e,i=t.options,r=t.getLabels().length,o=[],s=i.reverse?t.max:t.min,a=i.reverse?t.min:t.max;let l,c,u;if(u="start"===n?s:"end"===n?a:w(n)?n.value:t.getBaseValue(),i.grid.circular)return c=t.getPointPositionForValue(0,s),new Rr({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(u)});for(l=0;l<r;++l)o.push(t.getPointPositionForValue(l,u));return o}(e):function(e){const{scale:t={},fill:n}=e;let i,r=null;return"start"===n?r=t.bottom:"end"===n?r=t.top:w(n)?r=t.getPixelForValue(n.value):t.getBasePixel&&(r=t.getBasePixel()),_(r)?(i=t.isHorizontal(),{x:i?r:null,y:i?null:r}):null}(e)}(e);return r instanceof Rr?r:jr(r,i)}(t),{line:r,scale:o,axis:s}=t,a=r.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:d=c}=l||{};i&&r.points.length&&(et(e,n),function(e,t){const{line:n,target:i,above:r,below:o,area:s,scale:a}=t,l=n._loop?"angle":t.axis;e.save(),"x"===l&&o!==r&&(Vr(e,i,s.top),Ur(e,{line:n,target:i,color:r,scale:a,property:l}),e.restore(),e.save(),Vr(e,i,s.bottom)),Ur(e,{line:n,target:i,color:o,scale:a,property:l}),e.restore()}(e,{line:r,target:i,above:u,below:d,area:n,scale:o,axis:s}),tt(e))}var Kr={id:"filler",afterDatasetsUpdate(e,t,n){const i=(e.data.datasets||[]).length,r=[];let o,s,a,l;for(s=0;s<i;++s)o=e.getDatasetMeta(s),a=o.dataset,l=null,a&&a.options&&a instanceof kr&&(l={visible:e.isDatasetVisible(s),index:s,fill:Mr(a,s,i),chart:e,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=l,r.push(l);for(s=0;s<i;++s)l=r[s],l&&!1!==l.fill&&(l.fill=Nr(r,s,n.propagate))},beforeDraw(e,t,n){const i="beforeDraw"===n.drawTime,r=e.getSortedVisibleDatasetMetas(),o=e.chartArea;for(let t=r.length-1;t>=0;--t){const n=r[t].$filler;n&&(n.line.updateControlPoints(o,n.axis),i&&Hr(e.ctx,n,o))}},beforeDatasetsDraw(e,t,n){if("beforeDatasetsDraw"!==n.drawTime)return;const i=e.getSortedVisibleDatasetMetas();for(let t=i.length-1;t>=0;--t){const n=i[t].$filler;n&&Hr(e.ctx,n,e.chartArea)}},beforeDatasetDraw(e,t,n){const i=t.meta.$filler;i&&!1!==i.fill&&"beforeDatasetDraw"===n.drawTime&&Hr(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Zr=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}};class Gr extends Ti{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){const i=this;i.maxWidth=e,i.maxHeight=t,i._margins=n,i.setDimensions(),i.buildLabels(),i.fit()}setDimensions(){const e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=e._margins.left,e.right=e.width):(e.height=e.maxHeight,e.top=e._margins.top,e.bottom=e.height)}buildLabels(){const e=this,t=e.options.labels||{};let n=S(t.generateLabels,[e.chart],e)||[];t.filter&&(n=n.filter((n=>t.filter(n,e.chart.data)))),t.sort&&(n=n.sort(((n,i)=>t.sort(n,i,e.chart.data)))),e.options.reverse&&n.reverse(),e.legendItems=n}fit(){const e=this,{options:t,ctx:n}=e;if(!t.display)return void(e.width=e.height=0);const i=t.labels,r=ft(i.font),o=r.size,s=e._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Zr(i,o);let c,u;n.font=r.string,e.isHorizontal()?(c=e.maxWidth,u=e._fitRows(s,o,a,l)+10):(u=e.maxHeight,c=e._fitCols(s,o,a,l)+10),e.width=Math.min(c,t.maxWidth||e.maxWidth),e.height=Math.min(u,t.maxHeight||e.maxHeight)}_fitRows(e,t,n,i){const r=this,{ctx:o,maxWidth:s,options:{labels:{padding:a}}}=r,l=r.legendHitBoxes=[],c=r.lineWidths=[0],u=i+a;let d=e;o.textAlign="left",o.textBaseline="middle";let h=-1,p=-u;return r.legendItems.forEach(((e,r)=>{const f=n+t/2+o.measureText(e.text).width;(0===r||c[c.length-1]+f+2*a>s)&&(d+=u,c[c.length-(r>0?0:1)]=0,p+=u,h++),l[r]={left:0,top:p,row:h,width:f,height:i},c[c.length-1]+=f+a})),d}_fitCols(e,t,n,i){const r=this,{ctx:o,maxHeight:s,options:{labels:{padding:a}}}=r,l=r.legendHitBoxes=[],c=r.columnSizes=[],u=s-e;let d=a,h=0,p=0,f=0,m=0;return r.legendItems.forEach(((e,r)=>{const s=n+t/2+o.measureText(e.text).width;r>0&&p+i+2*a>u&&(d+=h+a,c.push({width:h,height:p}),f+=h+a,m++,h=p=0),l[r]={left:f,top:p,col:m,width:s,height:i},h=Math.max(h,s),p+=i+a})),d+=h,c.push({width:h,height:p}),d}adjustHitBoxes(){const e=this;if(!e.options.display)return;const t=e._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:o}}=e,s=rn(o,e.left,e.width);if(this.isHorizontal()){let o=0,a=m(i,e.left+r,e.right-e.lineWidths[o]);for(const l of n)o!==l.row&&(o=l.row,a=m(i,e.left+r,e.right-e.lineWidths[o])),l.top+=e.top+t+r,l.left=s.leftForLtr(s.x(a),l.width),a+=l.width+r}else{let o=0,a=m(i,e.top+t+r,e.bottom-e.columnSizes[o].height);for(const l of n)l.col!==o&&(o=l.col,a=m(i,e.top+t+r,e.bottom-e.columnSizes[o].height)),l.top=a,l.left+=e.left+r,l.left=s.leftForLtr(s.x(l.left),l.width),a+=l.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){const e=this;if(e.options.display){const t=e.ctx;et(t,e),e._draw(),tt(t)}}_draw(){const e=this,{options:t,columnSizes:n,lineWidths:i,ctx:r}=e,{align:o,labels:s}=t,a=Ke.color,l=rn(t.rtl,e.left,e.width),c=ft(s.font),{color:u,padding:d}=s,h=c.size,p=h/2;let f;e.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:g,boxHeight:v,itemHeight:y}=Zr(s,h),b=e.isHorizontal(),w=this._computeTitleHeight();f=b?{x:m(o,e.left+d,e.right-i[0]),y:e.top+d+w,line:0}:{x:e.left+d,y:m(o,e.top+w+d,e.bottom-n[0].height),line:0},on(e.ctx,t.textDirection);const _=y+d;e.legendItems.forEach(((x,C)=>{r.strokeStyle=x.fontColor||u,r.fillStyle=x.fontColor||u;const S=r.measureText(x.text).width,A=l.textAlign(x.textAlign||(x.textAlign=s.textAlign)),D=g+p+S;let O=f.x,T=f.y;l.setWidth(e.width),b?C>0&&O+D+d>e.right&&(T=f.y+=_,f.line++,O=f.x=m(o,e.left+d,e.right-i[f.line])):C>0&&T+_>e.bottom&&(O=f.x=O+n[f.line].width+d,f.line++,T=f.y=m(o,e.top+w+d,e.bottom-n[f.line].height)),function(e,t,n){if(isNaN(g)||g<=0||isNaN(v)||v<0)return;r.save();const i=k(n.lineWidth,1);if(r.fillStyle=k(n.fillStyle,a),r.lineCap=k(n.lineCap,"butt"),r.lineDashOffset=k(n.lineDashOffset,0),r.lineJoin=k(n.lineJoin,"miter"),r.lineWidth=i,r.strokeStyle=k(n.strokeStyle,a),r.setLineDash(k(n.lineDash,[])),s.usePointStyle){const o={radius:g*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:i},s=l.xPlus(e,g/2);Je(r,o,s,t+p)}else{const o=t+Math.max((h-v)/2,0),s=l.leftForLtr(e,g),a=ht(n.borderRadius);r.beginPath(),Object.values(a).some((e=>0!==e))?st(r,{x:s,y:o,w:g,h:v,radius:a}):r.rect(s,o,g,v),r.fill(),0!==i&&r.stroke()}r.restore()}(l.x(O),T,x),O=((e,t,n,i)=>e===(i?"left":"right")?n:"center"===e?(t+n)/2:t)(A,O+g+p,b?O+D:e.right,t.rtl),function(e,t,n){rt(r,n.text,e,t+y/2,c,{strikethrough:n.hidden,textAlign:l.textAlign(n.textAlign)})}(l.x(O),T,x),b?f.x+=D+d:f.y+=_})),sn(e.ctx,t.textDirection)}drawTitle(){const e=this,t=e.options,n=t.title,i=ft(n.font),r=pt(n.padding);if(!n.display)return;const o=rn(t.rtl,e.left,e.width),s=e.ctx,a=n.position,l=i.size/2,c=r.top+l;let u,d=e.left,h=e.width;if(this.isHorizontal())h=Math.max(...e.lineWidths),u=e.top+c,d=m(t.align,d,e.right-h);else{const n=e.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);u=c+m(t.align,e.top,e.bottom-n-t.labels.padding-e._computeTitleHeight())}const p=m(a,d,d+h);s.textAlign=o.textAlign(f(a)),s.textBaseline="middle",s.strokeStyle=n.color,s.fillStyle=n.color,s.font=i.string,rt(s,n.text,p,u,i)}_computeTitleHeight(){const e=this.options.title,t=ft(e.font),n=pt(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){const n=this;let i,r,o;if(e>=n.left&&e<=n.right&&t>=n.top&&t<=n.bottom)for(o=n.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],e>=r.left&&e<=r.left+r.width&&t>=r.top&&t<=r.top+r.height)return n.legendItems[i];return null}handleEvent(e){const t=this,n=t.options;if(!function(e,t){return!("mousemove"!==e||!t.onHover&&!t.onLeave)||!(!t.onClick||"click"!==e&&"mouseup"!==e)}(e.type,n))return;const i=t._getLegendItemAt(e.x,e.y);if("mousemove"===e.type){const s=t._hoveredItem,a=(o=i,null!==(r=s)&&null!==o&&r.datasetIndex===o.datasetIndex&&r.index===o.index);s&&!a&&S(n.onLeave,[e,s,t],t),t._hoveredItem=i,i&&!a&&S(n.onHover,[e,i,t],t)}else i&&S(n.onClick,[e,i,t],t);var r,o}}var Yr={id:"legend",_element:Gr,start(e,t,n){const i=e.legend=new Gr({ctx:e.ctx,options:n,chart:e});pi.configure(e,i,n),pi.addBox(e,i)},stop(e){pi.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;pi.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:o}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const s=e.controller.getStyle(n?0:void 0),a=pt(s.borderWidth);return{text:t[e.index].label,fillStyle:s.backgroundColor,fontColor:o,hidden:!e.visible,lineCap:s.borderCapStyle,lineDash:s.borderDash,lineDashOffset:s.borderDashOffset,lineJoin:s.borderJoinStyle,lineWidth:(a.width+a.height)/4,strokeStyle:s.borderColor,pointStyle:i||s.pointStyle,rotation:s.rotation,textAlign:r||s.textAlign,borderRadius:0,datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};new WeakMap;const Qr={average(e){if(!e.length)return!1;let t,n,i=0,r=0,o=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();i+=e.x,r+=e.y,++o}}return{x:i/o,y:r/o}},nearest(e,t){if(!e.length)return!1;let n,i,r,o=t.x,s=t.y,a=Number.POSITIVE_INFINITY;for(n=0,i=e.length;n<i;++n){const i=e[n].element;if(i&&i.hasValue()){const e=ne(t,i.getCenterPoint());e<a&&(a=e,r=i)}}if(r){const e=r.tooltipPosition();o=e.x,s=e.y}return{x:o,y:s}}};function Jr(e,t){return t&&(b(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Xr(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function eo(e,t){const{element:n,datasetIndex:i,index:r}=t,o=e.getDatasetMeta(i).controller,{label:s,value:a}=o.getLabelAndValue(r);return{chart:e,label:s,parsed:o.getParsed(r),raw:e.data.datasets[i].data[r],formattedValue:a,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function to(e,t){const n=e._chart.ctx,{body:i,footer:r,title:o}=e,{boxWidth:s,boxHeight:a}=t,l=ft(t.bodyFont),c=ft(t.titleFont),u=ft(t.footerFont),d=o.length,h=r.length,p=i.length,f=pt(t.padding);let m=f.height,g=0,v=i.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);v+=e.beforeBody.length+e.afterBody.length,d&&(m+=d*c.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),v&&(m+=p*(t.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(v-p)*l.lineHeight+(v-1)*t.bodySpacing),h&&(m+=t.footerMarginTop+h*u.lineHeight+(h-1)*t.footerSpacing);let y=0;const b=function(e){g=Math.max(g,n.measureText(e).width+y)};return n.save(),n.font=c.string,A(e.title,b),n.font=l.string,A(e.beforeBody.concat(e.afterBody),b),y=t.displayColors?s+2:0,A(i,(e=>{A(e.before,b),A(e.lines,b),A(e.after,b)})),y=0,n.font=u.string,A(e.footer,b),n.restore(),g+=f.width,{width:g,height:m}}function no(e,t,n,i){const{x:r,width:o}=n,{width:s,chartArea:{left:a,right:l}}=e;let c="center";return"center"===i?c=r<=(a+l)/2?"left":"right":r<=o/2?c="left":r>=s-o/2&&(c="right"),function(e,t,n,i){const{x:r,width:o}=i,s=n.caretSize+n.caretPadding;return"left"===e&&r+o+s>t.width||"right"===e&&r-o-s<0||void 0}(c,e,t,n)&&(c="center"),c}function io(e,t,n){const i=t.yAlign||function(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}(e,n);return{xAlign:t.xAlign||no(e,t,n,i),yAlign:i}}function ro(e,t,n,i){const{caretSize:r,caretPadding:o,cornerRadius:s}=e,{xAlign:a,yAlign:l}=n,c=r+o,u=s+o;let d=function(e,t){let{x:n,width:i}=e;return"right"===t?n-=i:"center"===t&&(n-=i/2),n}(t,a);const h=function(e,t,n){let{y:i,height:r}=e;return"top"===t?i+=n:i-="bottom"===t?r+n:r/2,i}(t,l,c);return"center"===l?"left"===a?d+=c:"right"===a&&(d-=c):"left"===a?d-=u:"right"===a&&(d+=u),{x:se(d,0,i.width-t.width),y:se(h,0,i.height-t.height)}}function oo(e,t,n){const i=pt(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-i.right:e.x+i.left}function so(e){return Jr([],Xr(e))}function ao(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}class lo extends Ti{constructor(e){super(),this.opacity=0,this._active=[],this._chart=e._chart,this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this,t=e._cachedAnimations;if(t)return t;const n=e._chart,i=e.options.setContext(e.getContext()),r=i.enabled&&n.options.animation&&i.animations,o=new yn(e._chart,r);return r._cacheable&&(e._cachedAnimations=Object.freeze(o)),o}getContext(){const e=this;return e.$context||(e.$context=(t=e._chart.getContext(),n=e,i=e._tooltipItems,Object.assign(Object.create(t),{tooltip:n,tooltipItems:i,type:"tooltip"})));var t,n,i}getTitle(e,t){const n=this,{callbacks:i}=t,r=i.beforeTitle.apply(n,[e]),o=i.title.apply(n,[e]),s=i.afterTitle.apply(n,[e]);let a=[];return a=Jr(a,Xr(r)),a=Jr(a,Xr(o)),a=Jr(a,Xr(s)),a}getBeforeBody(e,t){return so(t.callbacks.beforeBody.apply(this,[e]))}getBody(e,t){const n=this,{callbacks:i}=t,r=[];return A(e,(e=>{const t={before:[],lines:[],after:[]},o=ao(i,e);Jr(t.before,Xr(o.beforeLabel.call(n,e))),Jr(t.lines,o.label.call(n,e)),Jr(t.after,Xr(o.afterLabel.call(n,e))),r.push(t)})),r}getAfterBody(e,t){return so(t.callbacks.afterBody.apply(this,[e]))}getFooter(e,t){const n=this,{callbacks:i}=t,r=i.beforeFooter.apply(n,[e]),o=i.footer.apply(n,[e]),s=i.afterFooter.apply(n,[e]);let a=[];return a=Jr(a,Xr(r)),a=Jr(a,Xr(o)),a=Jr(a,Xr(s)),a}_createItems(e){const t=this,n=t._active,i=t._chart.data,r=[],o=[],s=[];let a,l,c=[];for(a=0,l=n.length;a<l;++a)c.push(eo(t._chart,n[a]));return e.filter&&(c=c.filter(((t,n,r)=>e.filter(t,n,r,i)))),e.itemSort&&(c=c.sort(((t,n)=>e.itemSort(t,n,i)))),A(c,(n=>{const i=ao(e.callbacks,n);r.push(i.labelColor.call(t,n)),o.push(i.labelPointStyle.call(t,n)),s.push(i.labelTextColor.call(t,n))})),t.labelColors=r,t.labelPointStyles=o,t.labelTextColors=s,t.dataPoints=c,c}update(e,t){const n=this,i=n.options.setContext(n.getContext()),r=n._active;let o,s=[];if(r.length){const e=Qr[i.position].call(n,r,n._eventPosition);s=n._createItems(i),n.title=n.getTitle(s,i),n.beforeBody=n.getBeforeBody(s,i),n.body=n.getBody(s,i),n.afterBody=n.getAfterBody(s,i),n.footer=n.getFooter(s,i);const t=n._size=to(n,i),a=Object.assign({},e,t),l=io(n._chart,i,a),c=ro(i,a,l,n._chart);n.xAlign=l.xAlign,n.yAlign=l.yAlign,o={opacity:1,x:c.x,y:c.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==n.opacity&&(o={opacity:0});n._tooltipItems=s,n.$context=void 0,o&&n._resolveAnimations().update(n,o),e&&i.external&&i.external.call(n,{chart:n._chart,tooltip:n,replay:t})}drawCaret(e,t,n,i){const r=this.getCaretPosition(e,n,i);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,n){const{xAlign:i,yAlign:r}=this,{cornerRadius:o,caretSize:s}=n,{x:a,y:l}=e,{width:c,height:u}=t;let d,h,p,f,m,g;return"center"===r?(m=l+u/2,"left"===i?(d=a,h=d-s,f=m+s,g=m-s):(d=a+c,h=d+s,f=m-s,g=m+s),p=d):(h="left"===i?a+o+s:"right"===i?a+c-o-s:this.caretX,"top"===r?(f=l,m=f-s,d=h-s,p=h+s):(f=l+u,m=f+s,d=h+s,p=h-s),g=f),{x1:d,x2:h,x3:p,y1:f,y2:m,y3:g}}drawTitle(e,t,n){const i=this,r=i.title,o=r.length;let s,a,l;if(o){const c=rn(n.rtl,i.x,i.width);for(e.x=oo(i,n.titleAlign,n),t.textAlign=c.textAlign(n.titleAlign),t.textBaseline="middle",s=ft(n.titleFont),a=n.titleSpacing,t.fillStyle=n.titleColor,t.font=s.string,l=0;l<o;++l)t.fillText(r[l],c.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+a,l+1===o&&(e.y+=n.titleMarginBottom-a)}}_drawColorBox(e,t,n,i,r){const o=this,s=o.labelColors[n],a=o.labelPointStyles[n],{boxHeight:l,boxWidth:c}=r,u=ft(r.bodyFont),d=oo(o,"left",r),h=i.x(d),p=l<u.lineHeight?(u.lineHeight-l)/2:0,f=t.y+p;if(r.usePointStyle){const t={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},n=i.leftForLtr(h,c)+c/2,o=f+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,Je(e,t,n,o),e.strokeStyle=s.borderColor,e.fillStyle=s.backgroundColor,Je(e,t,n,o)}else{e.lineWidth=s.borderWidth||1,e.strokeStyle=s.borderColor,e.setLineDash(s.borderDash||[]),e.lineDashOffset=s.borderDashOffset||0;const t=i.leftForLtr(h,c),n=i.leftForLtr(i.xPlus(h,1),c-2),o=ht(s.borderRadius);Object.values(o).some((e=>0!==e))?(e.beginPath(),e.fillStyle=r.multiKeyBackground,st(e,{x:t,y:f,w:c,h:l,radius:o}),e.fill(),e.stroke(),e.fillStyle=s.backgroundColor,e.beginPath(),st(e,{x:n,y:f+1,w:c-2,h:l-2,radius:o}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(t,f,c,l),e.strokeRect(t,f,c,l),e.fillStyle=s.backgroundColor,e.fillRect(n,f+1,c-2,l-2))}e.fillStyle=o.labelTextColors[n]}drawBody(e,t,n){const i=this,{body:r}=i,{bodySpacing:o,bodyAlign:s,displayColors:a,boxHeight:l,boxWidth:c}=n,u=ft(n.bodyFont);let d=u.lineHeight,h=0;const p=rn(n.rtl,i.x,i.width),f=function(n){t.fillText(n,p.x(e.x+h),e.y+d/2),e.y+=d+o},m=p.textAlign(s);let g,v,y,b,w,_,x;for(t.textAlign=s,t.textBaseline="middle",t.font=u.string,e.x=oo(i,m,n),t.fillStyle=n.bodyColor,A(i.beforeBody,f),h=a&&"right"!==m?"center"===s?c/2+1:c+2:0,b=0,_=r.length;b<_;++b){for(g=r[b],v=i.labelTextColors[b],t.fillStyle=v,A(g.before,f),y=g.lines,a&&y.length&&(i._drawColorBox(t,e,b,p,n),d=Math.max(u.lineHeight,l)),w=0,x=y.length;w<x;++w)f(y[w]),d=u.lineHeight;A(g.after,f)}h=0,d=u.lineHeight,A(i.afterBody,f),e.y-=o}drawFooter(e,t,n){const i=this,r=i.footer,o=r.length;let s,a;if(o){const l=rn(n.rtl,i.x,i.width);for(e.x=oo(i,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=l.textAlign(n.footerAlign),t.textBaseline="middle",s=ft(n.footerFont),t.fillStyle=n.footerColor,t.font=s.string,a=0;a<o;++a)t.fillText(r[a],l.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+n.footerSpacing}}drawBackground(e,t,n,i){const{xAlign:r,yAlign:o}=this,{x:s,y:a}=e,{width:l,height:c}=n,u=i.cornerRadius;t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(s+u,a),"top"===o&&this.drawCaret(e,t,n,i),t.lineTo(s+l-u,a),t.quadraticCurveTo(s+l,a,s+l,a+u),"center"===o&&"right"===r&&this.drawCaret(e,t,n,i),t.lineTo(s+l,a+c-u),t.quadraticCurveTo(s+l,a+c,s+l-u,a+c),"bottom"===o&&this.drawCaret(e,t,n,i),t.lineTo(s+u,a+c),t.quadraticCurveTo(s,a+c,s,a+c-u),"center"===o&&"left"===r&&this.drawCaret(e,t,n,i),t.lineTo(s,a+u),t.quadraticCurveTo(s,a,s+u,a),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this,n=t._chart,i=t.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const i=Qr[e.position].call(t,t._active,t._eventPosition);if(!i)return;const s=t._size=to(t,e),a=Object.assign({},i,t._size),l=io(n,e,a),c=ro(e,a,l,n);r._to===c.x&&o._to===c.y||(t.xAlign=l.xAlign,t.yAlign=l.yAlign,t.width=s.width,t.height=s.height,t.caretX=i.x,t.caretY=i.y,t._resolveAnimations().update(t,c))}}draw(e){const t=this,n=t.options.setContext(t.getContext());let i=t.opacity;if(!i)return;t._updateAnimationTarget(n);const r={width:t.width,height:t.height},o={x:t.x,y:t.y};i=Math.abs(i)<.001?0:i;const s=pt(n.padding),a=t.title.length||t.beforeBody.length||t.body.length||t.afterBody.length||t.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=i,t.drawBackground(o,e,r,n),on(e,n.textDirection),o.y+=s.top,t.drawTitle(o,e,n),t.drawBody(o,e,n),t.drawFooter(o,e,n),sn(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this,i=n._active,r=e.map((({datasetIndex:e,index:t})=>{const i=n._chart.getDatasetMeta(e);if(!i)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:i.data[t],index:t}})),o=!D(i,r),s=n._positionChanged(r,t);(o||s)&&(n._active=r,n._eventPosition=t,n.update(!0))}handleEvent(e,t){const n=this,i=n.options,r=n._active||[];let o=!1,s=[];"mouseout"!==e.type&&(s=n._chart.getElementsAtEventForMode(e,i.mode,i,t),i.reverse&&s.reverse());const a=n._positionChanged(s,e);return o=t||!D(s,r)||a,o&&(n._active=s,(i.enabled||i.external)&&(n._eventPosition={x:e.x,y:e.y},n.update(!0,t))),o}_positionChanged(e,t){const{caretX:n,caretY:i,options:r}=this,o=Qr[r.position].call(this,e,t);return!1!==o&&(n!==o.x||i!==o.y)}}lo.positioners=Qr;var co={id:"tooltip",_element:lo,positioners:Qr,afterInit(e,t,n){n&&(e.tooltip=new lo({_chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip,n={tooltip:t};!1!==e.notifyPlugins("beforeTooltipDraw",n)&&(t&&t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n))},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:g,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:g,beforeBody:g,beforeLabel:g,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return y(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:g,afterBody:g,beforeFooter:g,footer:g,afterFooter:g}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};class uo extends Ni{constructor(e){super(e),this._startValue=void 0,this._valueRange=0}parse(e,t){if(y(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:se(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:function(e,t,n){const i=e.indexOf(t);return-1===i?((e,t,n)=>"string"==typeof t?e.push(t)-1:isNaN(t)?null:n)(e,t,n):i!==e.lastIndexOf(t)?n:i}(n,e,k(t,e)),n.length-1)}determineDataLimits(){const e=this,{minDefined:t,maxDefined:n}=e.getUserBounds();let{min:i,max:r}=e.getMinMax(!0);"ticks"===e.options.bounds&&(t||(i=0),n||(r=e.getLabels().length-1)),e.min=i,e.max=r}buildTicks(){const e=this,t=e.min,n=e.max,i=e.options.offset,r=[];let o=e.getLabels();o=0===t&&n===o.length-1?o:o.slice(t,n+1),e._valueRange=Math.max(o.length-(i?0:1),1),e._startValue=e.min-(i?.5:0);for(let e=t;e<=n;e++)r.push({value:e});return r}getLabelForValue(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}configure(){const e=this;super.configure(),e.isHorizontal()||(e._reversePixels=!e._reversePixels)}getPixelForValue(e){const t=this;return"number"!=typeof e&&(e=t.parse(e)),null===e?NaN:t.getPixelForDecimal((e-t._startValue)/t._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){const t=this;return Math.round(t._startValue+t.getDecimalForPixel(e)*t._valueRange)}getBasePixel(){return this.bottom}}function ho(e,t,{horizontal:n,minRotation:i}){const r=X(i),o=(n?Math.sin(r):Math.cos(r))||.001,s=.75*t*(""+e).length;return Math.min(t/o,s)}uo.id="category",uo.defaults={ticks:{callback:uo.prototype.getLabelForValue}};class po extends Ni{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return y(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const e=this,{beginAtZero:t}=e.options,{minDefined:n,maxDefined:i}=e.getUserBounds();let{min:r,max:o}=e;const s=e=>r=n?r:e,a=e=>o=i?o:e;if(t){const e=Z(r),t=Z(o);e<0&&t<0?a(0):e>0&&t>0&&s(0)}if(r===o){let e=1;(o>=Number.MAX_SAFE_INTEGER||r<=Number.MIN_SAFE_INTEGER)&&(e=Math.abs(.05*o)),a(o+e),t||s(r-e)}e.min=r,e.max=o}getTickLimit(){const e=this,t=e.options.ticks;let n,{maxTicksLimit:i,stepSize:r}=t;return r?n=Math.ceil(e.max/r)-Math.floor(e.min/r)+1:(n=e.computeTickLimit(),i=i||11),i&&(n=Math.min(i,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this,t=e.options,n=t.ticks;let i=e.getTickLimit();i=Math.max(2,i);const r=function(e,t){const n=[],{bounds:i,step:r,min:o,max:s,precision:a,count:l,maxTicks:c,maxDigits:u,includeBounds:d}=e,h=r||1,p=c-1,{min:f,max:m}=t,g=!y(o),v=!y(s),b=!y(l),w=(m-f)/(u+1);let _,x,k,C,S=G((m-f)/p/h)*h;if(S<1e-14&&!g&&!v)return[{value:f},{value:m}];C=Math.ceil(m/S)-Math.floor(f/S),C>p&&(S=G(C*S/p/h)*h),y(a)||(_=Math.pow(10,a),S=Math.ceil(S*_)/_),"ticks"===i?(x=Math.floor(f/S)*S,k=Math.ceil(m/S)*S):(x=f,k=m),g&&v&&r&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((s-o)/r,S/1e3)?(C=Math.round(Math.min((s-o)/S,c)),S=(s-o)/C,x=o,k=s):b?(x=g?o:x,k=v?s:k,C=l-1,S=(k-x)/C):(C=(k-x)/S,C=Q(C,Math.round(C),S/1e3)?Math.round(C):Math.ceil(C));const A=Math.max(te(S),te(x));_=Math.pow(10,y(a)?A:a),x=Math.round(x*_)/_,k=Math.round(k*_)/_;let D=0;for(g&&(d&&x!==o?(n.push({value:o}),x<o&&D++,Q(Math.round((x+D*S)*_)/_,o,ho(o,w,e))&&D++):x<o&&D++);D<C;++D)n.push({value:Math.round((x+D*S)*_)/_});return v&&d&&k!==s?Q(n[n.length-1].value,s,ho(s,w,e))?n[n.length-1].value=s:n.push({value:s}):v&&k!==s||n.push({value:k}),n}({maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:e._maxDigits(),horizontal:e.isHorizontal(),minRotation:n.minRotation||0,includeBounds:!1!==n.includeBounds},e._range||e);return"ticks"===t.bounds&&J(r,e,"value"),t.reverse?(r.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max),r}configure(){const e=this,t=e.ticks;let n=e.min,i=e.max;if(super.configure(),e.options.offset&&t.length){const e=(i-n)/Math.max(t.length-1,1)/2;n-=e,i+=e}e._startValue=n,e._endValue=i,e._valueRange=i-n}getLabelForValue(e){return nn(e,this.chart.options.locale)}}class fo extends po{determineDataLimits(){const e=this,{min:t,max:n}=e.getMinMax(!0);e.min=_(t)?t:0,e.max=_(n)?n:1,e.handleTickRangeOptions()}computeTickLimit(){const e=this,t=e.isHorizontal(),n=t?e.width:e.height,i=X(e.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=e._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/r))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}function mo(e){return 1==e/Math.pow(10,Math.floor(K(e)))}fo.id="linear",fo.defaults={ticks:{callback:$i.formatters.numeric}};class go extends Ni{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=po.prototype.parse.apply(this,[e,t]);if(0!==n)return _(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const e=this,{min:t,max:n}=e.getMinMax(!0);e.min=_(t)?Math.max(0,t):null,e.max=_(n)?Math.max(0,n):null,e.options.beginAtZero&&(e._zero=!0),e.handleTickRangeOptions()}handleTickRangeOptions(){const e=this,{minDefined:t,maxDefined:n}=e.getUserBounds();let i=e.min,r=e.max;const o=e=>i=t?i:e,s=e=>r=n?r:e,a=(e,t)=>Math.pow(10,Math.floor(K(e))+t);i===r&&(i<=0?(o(1),s(10)):(o(a(i,-1)),s(a(r,1)))),i<=0&&o(a(r,-1)),r<=0&&s(a(i,1)),e._zero&&e.min!==e._suggestedMin&&i===a(e.min,0)&&o(a(i,-1)),e.min=i,e.max=r}buildTicks(){const e=this,t=e.options,n=function(e,t){const n=Math.floor(K(t.max)),i=Math.ceil(t.max/Math.pow(10,n)),r=[];let o=x(e.min,Math.pow(10,Math.floor(K(t.min)))),s=Math.floor(K(o)),a=Math.floor(o/Math.pow(10,s)),l=s<0?Math.pow(10,Math.abs(s)):1;do{r.push({value:o,major:mo(o)}),++a,10===a&&(a=1,++s,l=s>=0?1:l),o=Math.round(a*Math.pow(10,s)*l)/l}while(s<n||s===n&&a<i);const c=x(e.max,o);return r.push({value:c,major:mo(o)}),r}({min:e._userMin,max:e._userMax},e);return"ticks"===t.bounds&&J(n,e,"value"),t.reverse?(n.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max),n}getLabelForValue(e){return void 0===e?"0":nn(e,this.chart.options.locale)}configure(){const e=this,t=e.min;super.configure(),e._startValue=K(t),e._valueRange=K(e.max)-K(t)}getPixelForValue(e){const t=this;return void 0!==e&&0!==e||(e=t.min),null===e||isNaN(e)?NaN:t.getPixelForDecimal(e===t.min?0:(K(e)-t._startValue)/t._valueRange)}getValueForPixel(e){const t=this,n=t.getDecimalForPixel(e);return Math.pow(10,t._startValue+n*t._valueRange)}}function vo(e){const t=e.ticks;if(t.display&&e.display){const e=pt(t.backdropPadding);return k(t.font&&t.font.size,Ke.font.size)+e.height}return 0}function yo(e,t,n,i,r){return e===i||e===r?{start:t-n/2,end:t+n/2}:e<i||e>r?{start:t-n,end:t}:{start:t,end:t+n}}function bo(e){return 0===e||180===e?"center":e<180?"left":"right"}function wo(e,t,n){return 90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t),e}function _o(e,t,n,i){const{ctx:r}=e;if(n)r.arc(e.xCenter,e.yCenter,t,0,V);else{let n=e.getPointPosition(0,t);r.moveTo(n.x,n.y);for(let o=1;o<i;o++)n=e.getPointPosition(o,t),r.lineTo(n.x,n.y)}}function xo(e){return Y(e)?e:0}go.id="logarithmic",go.defaults={ticks:{callback:$i.formatters.logarithmic,major:{enabled:!0}}};class ko extends po{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this;e.width=e.maxWidth,e.height=e.maxHeight,e.paddingTop=vo(e.options)/2,e.xCenter=Math.floor(e.width/2),e.yCenter=Math.floor((e.height-e.paddingTop)/2),e.drawingArea=Math.min(e.height-e.paddingTop,e.width)/2}determineDataLimits(){const e=this,{min:t,max:n}=e.getMinMax(!1);e.min=_(t)&&!isNaN(t)?t:0,e.max=_(n)&&!isNaN(n)?n:0,e.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/vo(this.options))}generateTickLabels(e){const t=this;po.prototype.generateTickLabels.call(t,e),t._pointLabels=t.getLabels().map(((e,n)=>{const i=S(t.options.pointLabels.callback,[e,n],t);return i||0===i?i:""}))}fit(){const e=this,t=e.options;t.display&&t.pointLabels.display?function(e){const t={l:0,r:e.width,t:0,b:e.height-e.paddingTop},n={},i=[],r=[],o=e.getLabels().length;for(let c=0;c<o;c++){const o=e.options.pointLabels.setContext(e.getPointLabelContext(c));r[c]=o.padding;const u=e.getPointPosition(c,e.drawingArea+r[c]),d=ft(o.font),h=(s=e.ctx,a=d,l=b(l=e._pointLabels[c])?l:[l],{w:Ge(s,a.string,l),h:l.length*a.lineHeight});i[c]=h;const p=e.getIndexAngle(c),f=ee(p),m=yo(f,u.x,h.w,0,180),g=yo(f,u.y,h.h,90,270);m.start<t.l&&(t.l=m.start,n.l=p),m.end>t.r&&(t.r=m.end,n.r=p),g.start<t.t&&(t.t=g.start,n.t=p),g.end>t.b&&(t.b=g.end,n.b=p)}var s,a,l;e._setReductions(e.drawingArea,t,n),e._pointLabelItems=function(e,t,n){const i=[],r=e.getLabels().length,o=e.options,s=vo(o),a=e.getDistanceFromCenterForValue(o.ticks.reverse?e.min:e.max);for(let o=0;o<r;o++){const r=0===o?s/2:0,d=e.getPointPosition(o,a+r+n[o]),h=ee(e.getIndexAngle(o)),p=t[o],f=wo(d.y,p.h,h),m=bo(h),g=(l=d.x,c=p.w,"right"===(u=m)?l-=c:"center"===u&&(l-=c/2),l);i.push({x:d.x,y:f,textAlign:m,left:g,top:f,right:g+p.w,bottom:f+p.h})}var l,c,u;return i}(e,i,r)}(e):e.setCenterPoint(0,0,0,0)}_setReductions(e,t,n){const i=this;let r=t.l/Math.sin(n.l),o=Math.max(t.r-i.width,0)/Math.sin(n.r),s=-t.t/Math.cos(n.t),a=-Math.max(t.b-(i.height-i.paddingTop),0)/Math.cos(n.b);r=xo(r),o=xo(o),s=xo(s),a=xo(a),i.drawingArea=Math.max(e/2,Math.min(Math.floor(e-(r+o)/2),Math.floor(e-(s+a)/2))),i.setCenterPoint(r,o,s,a)}setCenterPoint(e,t,n,i){const r=this,o=r.width-t-r.drawingArea,s=e+r.drawingArea,a=n+r.drawingArea,l=r.height-r.paddingTop-i-r.drawingArea;r.xCenter=Math.floor((s+o)/2+r.left),r.yCenter=Math.floor((a+l)/2+r.top+r.paddingTop)}getIndexAngle(e){return re(e*(V/this.getLabels().length)+X(this.options.startAngle||0))}getDistanceFromCenterForValue(e){const t=this;if(y(e))return NaN;const n=t.drawingArea/(t.max-t.min);return t.options.reverse?(t.max-e)*n:(e-t.min)*n}getValueForDistanceFromCenter(e){if(y(e))return NaN;const t=this,n=e/(t.drawingArea/(t.max-t.min));return t.options.reverse?t.max-n:t.min+n}getPointLabelContext(e){const t=this,n=t._pointLabels||[];if(e>=0&&e<n.length){const i=n[e];return function(e,t,n){return Object.assign(Object.create(e),{label:n,index:t,type:"pointLabel"})}(t.getContext(),e,i)}}getPointPosition(e,t){const n=this,i=n.getIndexAngle(e)-W;return{x:Math.cos(i)*t+n.xCenter,y:Math.sin(i)*t+n.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:i,bottom:r}=this._pointLabelItems[e];return{left:t,top:n,right:i,bottom:r}}drawBackground(){const e=this,{backgroundColor:t,grid:{circular:n}}=e.options;if(t){const i=e.ctx;i.save(),i.beginPath(),_o(e,e.getDistanceFromCenterForValue(e._endValue),n,e.getLabels().length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const e=this,t=e.ctx,n=e.options,{angleLines:i,grid:r}=n,o=e.getLabels().length;let s,a,l;if(n.pointLabels.display&&function(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let r=t-1;r>=0;r--){const t=i.setContext(e.getPointLabelContext(r)),o=ft(t.font),{x:s,y:a,textAlign:l,left:c,top:u,right:d,bottom:h}=e._pointLabelItems[r],{backdropColor:p}=t;if(!y(p)){const e=pt(t.backdropPadding);n.fillStyle=p,n.fillRect(c-e.left,u-e.top,d-c+e.width,h-u+e.height)}rt(n,e._pointLabels[r],s,a+o.lineHeight/2,o,{color:t.color,textAlign:l,textBaseline:"middle"})}}(e,o),r.display&&e.ticks.forEach(((t,n)=>{if(0!==n){a=e.getDistanceFromCenterForValue(t.value);const i=r.setContext(e.getContext(n-1));!function(e,t,n,i){const r=e.ctx,o=t.circular,{color:s,lineWidth:a}=t;!o&&!i||!s||!a||n<0||(r.save(),r.strokeStyle=s,r.lineWidth=a,r.setLineDash(t.borderDash),r.lineDashOffset=t.borderDashOffset,r.beginPath(),_o(e,n,o,i),r.closePath(),r.stroke(),r.restore())}(e,i,a,o)}})),i.display){for(t.save(),s=e.getLabels().length-1;s>=0;s--){const r=i.setContext(e.getPointLabelContext(s)),{color:o,lineWidth:c}=r;c&&o&&(t.lineWidth=c,t.strokeStyle=o,t.setLineDash(r.borderDash),t.lineDashOffset=r.borderDashOffset,a=e.getDistanceFromCenterForValue(n.ticks.reverse?e.min:e.max),l=e.getPointPosition(s,a),t.beginPath(),t.moveTo(e.xCenter,e.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const e=this,t=e.ctx,n=e.options,i=n.ticks;if(!i.display)return;const r=e.getIndexAngle(0);let o,s;t.save(),t.translate(e.xCenter,e.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",e.ticks.forEach(((r,a)=>{if(0===a&&!n.reverse)return;const l=i.setContext(e.getContext(a)),c=ft(l.font);if(o=e.getDistanceFromCenterForValue(e.ticks[a].value),l.showLabelBackdrop){t.font=c.string,s=t.measureText(r.label).width,t.fillStyle=l.backdropColor;const e=pt(l.backdropPadding);t.fillRect(-s/2-e.left,-o-c.size/2-e.top,s+e.width,c.size+e.height)}rt(t,r.label,0,-o,c,{color:l.color})})),t.restore()}drawTitle(){}}ko.id="radialLinear",ko.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:$i.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5}},ko.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},ko.descriptors={angleLines:{_fallback:"grid"}};const Co={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},So=Object.keys(Co);function Ao(e,t){return e-t}function Do(e,t){if(y(t))return null;const n=e._adapter,{parser:i,round:r,isoWeekday:o}=e._parseOpts;let s=t;return"function"==typeof i&&(s=i(s)),_(s)||(s="string"==typeof i?n.parse(s,i):n.parse(s)),null===s?null:(r&&(s="week"!==r||!Y(o)&&!0!==o?n.startOf(s,r):n.startOf(s,"isoWeek",o)),+s)}function Oo(e,t,n,i){const r=So.length;for(let o=So.indexOf(e);o<r-1;++o){const e=Co[So[o]],r=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(r*e.size))<=i)return So[o]}return So[r-1]}function To(e,t,n){if(n){if(n.length){const{lo:i,hi:r}=gt(n,t);e[n[i]>=t?n[i]:n[r]]=!0}}else e[t]=!0}function Eo(e,t,n){const i=[],r={},o=t.length;let s,a;for(s=0;s<o;++s)a=t[s],r[a]=s,i.push({value:a,major:!1});return 0!==o&&n?function(e,t,n,i){const r=e._adapter,o=+r.startOf(t[0].value,i),s=t[t.length-1].value;let a,l;for(a=o;a<=s;a=+r.add(a,1,i))l=n[a],l>=0&&(t[l].major=!0);return t}(e,i,r,n):i}class $o extends Ni{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t){const n=e.time||(e.time={}),i=this._adapter=new Zn._date(e.adapters.date);M(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:Do(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this,t=e.options,n=e._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:s,maxDefined:a}=e.getUserBounds();function l(e){s||isNaN(e.min)||(r=Math.min(r,e.min)),a||isNaN(e.max)||(o=Math.max(o,e.max))}s&&a||(l(e._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||l(e.getMinMax(!1))),r=_(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),o=_(o)&&!isNaN(o)?o:+n.endOf(Date.now(),i)+1,e.min=Math.min(r,o-1),e.max=Math.max(r+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this,t=e.options,n=t.time,i=t.ticks,r="labels"===i.source?e.getLabelTimestamps():e._generate();"ticks"===t.bounds&&r.length&&(e.min=e._userMin||r[0],e.max=e._userMax||r[r.length-1]);const o=e.min,s=function(e,t,n){let i=0,r=e.length;for(;i<r&&e[i]<t;)i++;for(;r>i&&e[r-1]>n;)r--;return i>0||r<e.length?e.slice(i,r):e}(r,o,e.max);return e._unit=n.unit||(i.autoSkip?Oo(n.minUnit,e.min,e.max,e._getLabelCapacity(o)):function(e,t,n,i,r){for(let o=So.length-1;o>=So.indexOf(n);o--){const n=So[o];if(Co[n].common&&e._adapter.diff(r,i,n)>=t-1)return n}return So[n?So.indexOf(n):0]}(e,s.length,n.minUnit,e.min,e.max)),e._majorUnit=i.major.enabled&&"year"!==e._unit?function(e){for(let t=So.indexOf(e)+1,n=So.length;t<n;++t)if(Co[So[t]].common)return So[t]}(e._unit):void 0,e.initOffsets(r),t.reverse&&s.reverse(),Eo(e,s,e._majorUnit)}initOffsets(e){const t=this;let n,i,r=0,o=0;t.options.offset&&e.length&&(n=t.getDecimalForValue(e[0]),r=1===e.length?1-n:(t.getDecimalForValue(e[1])-n)/2,i=t.getDecimalForValue(e[e.length-1]),o=1===e.length?i:(i-t.getDecimalForValue(e[e.length-2]))/2);const s=e.length<3?.5:.25;r=se(r,0,s),o=se(o,0,s),t._offsets={start:r,end:o,factor:1/(r+1+o)}}_generate(){const e=this,t=e._adapter,n=e.min,i=e.max,r=e.options,o=r.time,s=o.unit||Oo(o.minUnit,n,i,e._getLabelCapacity(n)),a=k(o.stepSize,1),l="week"===s&&o.isoWeekday,c=Y(l)||!0===l,u={};let d,h,p=n;if(c&&(p=+t.startOf(p,"isoWeek",l)),p=+t.startOf(p,c?"day":s),t.diff(i,n,s)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+s);const f="data"===r.ticks.source&&e.getDataTimestamps();for(d=p,h=0;d<i;d=+t.add(d,a,s),h++)To(u,d,f);return d!==i&&"ticks"!==r.bounds&&1!==h||To(u,d,f),Object.keys(u).sort(((e,t)=>e-t)).map((e=>+e))}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}_tickFormatFunction(e,t,n,i){const r=this,o=r.options,s=o.time.displayFormats,a=r._unit,l=r._majorUnit,c=a&&s[a],u=l&&s[l],d=n[t],h=l&&u&&d&&d.major,p=r._adapter.format(e,i||(h?u:c)),f=o.ticks.callback;return f?S(f,[p,t,n],r):p}generateTickLabels(e){let t,n,i;for(t=0,n=e.length;t<n;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){const t=this;return null===e?NaN:(e-t.min)/(t.max-t.min)}getPixelForValue(e){const t=this,n=t._offsets,i=t.getDecimalForValue(e);return t.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const t=this,n=t._offsets,i=t.getDecimalForPixel(e)/n.factor-n.end;return t.min+i*(t.max-t.min)}_getLabelSize(e){const t=this,n=t.options.ticks,i=t.ctx.measureText(e).width,r=X(t.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(r),s=Math.sin(r),a=t._resolveTickFontOptions(0).size;return{w:i*o+a*s,h:i*s+a*o}}_getLabelCapacity(e){const t=this,n=t.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,o=t._tickFormatFunction(e,0,Eo(t,[e],t._majorUnit),r),s=t._getLabelSize(o),a=Math.floor(t.isHorizontal()?t.width/s.w:t.height/s.h)-1;return a>0?a:1}getDataTimestamps(){const e=this;let t,n,i=e._cache.data||[];if(i.length)return i;const r=e.getMatchingVisibleMetas();if(e._normalized&&r.length)return e._cache.data=r[0].controller.getAllParsedValues(e);for(t=0,n=r.length;t<n;++t)i=i.concat(r[t].controller.getAllParsedValues(e));return e._cache.data=e.normalize(i)}getLabelTimestamps(){const e=this,t=e._cache.labels||[];let n,i;if(t.length)return t;const r=e.getLabels();for(n=0,i=r.length;n<i;++n)t.push(Do(e,r[n]));return e._cache.labels=e._normalized?t:e.normalize(t)}normalize(e){return _t(e.sort(Ao))}}function Mo(e,t,n){let i,r,o,s,a=0,l=e.length-1;n?(t>=e[a].pos&&t<=e[l].pos&&({lo:a,hi:l}=vt(e,"pos",t)),({pos:i,time:o}=e[a]),({pos:r,time:s}=e[l])):(t>=e[a].time&&t<=e[l].time&&({lo:a,hi:l}=vt(e,"time",t)),({time:i,pos:o}=e[a]),({time:r,pos:s}=e[l]));const c=r-i;return c?o+(s-o)*(t-i)/c:o}$o.id="time",$o.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};class Ro extends $o{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this,t=e._getTimestampsForTable(),n=e._table=e.buildLookupTable(t);e._minPos=Mo(n,e.min),e._tableRange=Mo(n,e.max)-e._minPos,super.initOffsets(t)}buildLookupTable(e){const{min:t,max:n}=this,i=[],r=[];let o,s,a,l,c;for(o=0,s=e.length;o<s;++o)l=e[o],l>=t&&l<=n&&i.push(l);if(i.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(o=0,s=i.length;o<s;++o)c=i[o+1],a=i[o-1],l=i[o],Math.round((c+a)/2)!==l&&r.push({time:l,pos:o/(s-1)});return r}_getTimestampsForTable(){const e=this;let t=e._cache.all||[];if(t.length)return t;const n=e.getDataTimestamps(),i=e.getLabelTimestamps();return t=n.length&&i.length?e.normalize(n.concat(i)):n.length?n:i,t=e._cache.all=t,t}getDecimalForValue(e){return(Mo(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this,n=t._offsets,i=t.getDecimalForPixel(e)/n.factor-n.end;return Mo(t._table,i*t._tableRange+t._minPos,!0)}}Ro.id="timeseries",Ro.defaults=$o.defaults;var Lo=function(){if("undefined"!=typeof window){if(window.devicePixelRatio)return window.devicePixelRatio;var e=window.screen;if(e)return(e.deviceXDPI||1)/(e.logicalXDPI||1)}return 1}(),Po=function(e,t,n){var i,r=[].concat(t),o=r.length,s=e.font,a=0;for(e.font=n.string,i=0;i<o;++i)a=Math.max(e.measureText(r[i]).width,a);return e.font=s,{height:o*n.lineHeight,width:a}};function Fo(e,t){var n=t.x,i=t.y;if(null===n)return{x:0,y:-1};if(null===i)return{x:1,y:0};var r=e.x-n,o=e.y-i,s=Math.sqrt(r*r+o*o);return{x:s?r/s:0,y:s?o/s:-1}}function Io(e,t,n){var i=0;return e<n.left?i|=1:e>n.right&&(i|=2),t<n.top?i|=8:t>n.bottom&&(i|=4),i}function jo(e,t){var n,i,r=t.anchor,o=e;return t.clamp&&(o=function(e,t){for(var n,i,r,o=e.x0,s=e.y0,a=e.x1,l=e.y1,c=Io(o,s,t),u=Io(a,l,t);c|u&&!(c&u);)8&(n=c||u)?(i=o+(a-o)*(t.top-s)/(l-s),r=t.top):4&n?(i=o+(a-o)*(t.bottom-s)/(l-s),r=t.bottom):2&n?(r=s+(l-s)*(t.right-o)/(a-o),i=t.right):1&n&&(r=s+(l-s)*(t.left-o)/(a-o),i=t.left),n===c?c=Io(o=i,s=r,t):u=Io(a=i,l=r,t);return{x0:o,x1:a,y0:s,y1:l}}(o,t.area)),"start"===r?(n=o.x0,i=o.y0):"end"===r?(n=o.x1,i=o.y1):(n=(o.x0+o.x1)/2,i=(o.y0+o.y1)/2),function(e,t,n,i,r){switch(r){case"center":n=i=0;break;case"bottom":n=0,i=1;break;case"right":n=1,i=0;break;case"left":n=-1,i=0;break;case"top":n=0,i=-1;break;case"start":n=-n,i=-i;break;case"end":break;default:r*=Math.PI/180,n=Math.cos(r),i=Math.sin(r)}return{x:e,y:t,vx:n,vy:i}}(n,i,e.vx,e.vy,t.align)}var No=function(e,t){var n=(e.startAngle+e.endAngle)/2,i=Math.cos(n),r=Math.sin(n),o=e.innerRadius,s=e.outerRadius;return jo({x0:e.x+i*o,y0:e.y+r*o,x1:e.x+i*s,y1:e.y+r*s,vx:i,vy:r},t)},Vo=function(e,t){var n=Fo(e,t.origin),i=n.x*e.options.radius,r=n.y*e.options.radius;return jo({x0:e.x-i,y0:e.y-r,x1:e.x+i,y1:e.y+r,vx:n.x,vy:n.y},t)},Bo=function(e,t){var n=Fo(e,t.origin),i=e.x,r=e.y,o=0,s=0;return e.horizontal?(i=Math.min(e.x,e.base),o=Math.abs(e.base-e.x)):(r=Math.min(e.y,e.base),s=Math.abs(e.base-e.y)),jo({x0:i,y0:r+s,x1:i+o,y1:r,vx:n.x,vy:n.y},t)},qo=function(e,t){var n=Fo(e,t.origin);return jo({x0:e.x,y0:e.y,x1:e.x,y1:e.y,vx:n.x,vy:n.y},t)},zo=function(e){return Math.round(e*Lo)/Lo};function Wo(e,t){var n=t.chart.getDatasetMeta(t.datasetIndex).vScale;if(!n)return null;if(void 0!==n.xCenter&&void 0!==n.yCenter)return{x:n.xCenter,y:n.yCenter};var i=n.getBasePixel();return e.horizontal?{x:i,y:null}:{x:null,y:i}}function Uo(e,t,n){var i=e.shadowBlur,r=n.stroked,o=zo(n.x),s=zo(n.y),a=zo(n.w);r&&e.strokeText(t,o,s,a),n.filled&&(i&&r&&(e.shadowBlur=0),e.fillText(t,o,s,a),i&&r&&(e.shadowBlur=i))}var Ho=function(e,t,n,i){var r=this;r._config=e,r._index=i,r._model=null,r._rects=null,r._ctx=t,r._el=n};$(Ho.prototype,{_modelize:function(e,t,n,i){var r,o=this,s=o._index,a=ft(mt([n.font,{}],i,s)),l=mt([n.color,Ke.color],i,s);return{align:mt([n.align,"center"],i,s),anchor:mt([n.anchor,"center"],i,s),area:i.chart.chartArea,backgroundColor:mt([n.backgroundColor,null],i,s),borderColor:mt([n.borderColor,null],i,s),borderRadius:mt([n.borderRadius,0],i,s),borderWidth:mt([n.borderWidth,0],i,s),clamp:mt([n.clamp,!1],i,s),clip:mt([n.clip,!1],i,s),color:l,display:e,font:a,lines:t,offset:mt([n.offset,0],i,s),opacity:mt([n.opacity,1],i,s),origin:Wo(o._el,i),padding:pt(mt([n.padding,0],i,s)),positioner:(r=o._el,r instanceof mr?No:r instanceof Sr?Vo:r instanceof $r?Bo:qo),rotation:mt([n.rotation,0],i,s)*(Math.PI/180),size:Po(o._ctx,t,a),textAlign:mt([n.textAlign,"start"],i,s),textShadowBlur:mt([n.textShadowBlur,0],i,s),textShadowColor:mt([n.textShadowColor,l],i,s),textStrokeColor:mt([n.textStrokeColor,l],i,s),textStrokeWidth:mt([n.textStrokeWidth,0],i,s)}},update:function(e){var t,n,i,r=this,o=null,s=null,a=r._index,l=r._config,c=mt([l.display,!0],e,a);c&&(t=e.dataset.data[a],(i=y(n=k(S(l.formatter,[t,e]),t))?[]:function(e){var t,n=[];for(e=[].concat(e);e.length;)"string"==typeof(t=e.pop())?n.unshift.apply(n,t.split("\n")):Array.isArray(t)?e.push.apply(e,t):y(e)||n.unshift(""+t);return n}(n)).length&&(s=function(e){var t=e.borderWidth||0,n=e.padding,i=e.size.height,r=e.size.width,o=-r/2,s=-i/2;return{frame:{x:o-n.left-t,y:s-n.top-t,w:r+n.width+2*t,h:i+n.height+2*t},text:{x:o,y:s,w:r,h:i}}}(o=r._modelize(c,i,l,e)))),r._model=o,r._rects=s},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(e,t){var n,i=e.ctx,r=this._model,o=this._rects;this.visible()&&(i.save(),r.clip&&(n=r.area,i.beginPath(),i.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),i.clip()),i.globalAlpha=function(e,t,n){return Math.max(e,Math.min(t,n))}(0,r.opacity,1),i.translate(zo(t.x),zo(t.y)),i.rotate(r.rotation),function(e,t,n){var i=n.backgroundColor,r=n.borderColor,o=n.borderWidth;(i||r&&o)&&(e.beginPath(),function(e,t,n,i,r,o){var s=Math.PI/2;if(o){var a=Math.min(o,r/2,i/2),l=t+a,c=n+a,u=t+i-a,d=n+r-a;e.moveTo(t,c),l<u&&c<d?(e.arc(l,c,a,-Math.PI,-s),e.arc(u,c,a,-s,0),e.arc(u,d,a,0,s),e.arc(l,d,a,s,Math.PI)):l<u?(e.moveTo(l,n),e.arc(u,c,a,-s,s),e.arc(l,c,a,s,Math.PI+s)):c<d?(e.arc(l,c,a,-Math.PI,0),e.arc(l,d,a,0,Math.PI)):e.arc(l,c,a,-Math.PI,Math.PI),e.closePath(),e.moveTo(t,n)}else e.rect(t,n,i,r)}(e,zo(t.x)+o/2,zo(t.y)+o/2,zo(t.w)-o,zo(t.h)-o,n.borderRadius),e.closePath(),i&&(e.fillStyle=i,e.fill()),r&&o&&(e.strokeStyle=r,e.lineWidth=o,e.lineJoin="miter",e.stroke()))}(i,o.frame,r),function(e,t,n,i){var r,o=i.textAlign,s=i.color,a=!!s,l=i.font,c=t.length,u=i.textStrokeColor,d=i.textStrokeWidth,h=u&&d;if(c&&(a||h))for(n=function(e,t,n){var i=n.lineHeight,r=e.w,o=e.x;return"center"===t?o+=r/2:"end"!==t&&"right"!==t||(o+=r),{h:i,w:r,x:o,y:e.y+i/2}}(n,o,l),e.font=l.string,e.textAlign=o,e.textBaseline="middle",e.shadowBlur=i.textShadowBlur,e.shadowColor=i.textShadowColor,a&&(e.fillStyle=s),h&&(e.lineJoin="round",e.lineWidth=d,e.strokeStyle=u),r=0,c=t.length;r<c;++r)Uo(e,t[r],{stroked:h,filled:a,w:n.w,x:n.x,y:n.y+n.h*r})}(i,r.lines,o.text,r),i.restore())}});var Ko=Number.MIN_SAFE_INTEGER||-9007199254740991,Zo=Number.MAX_SAFE_INTEGER||9007199254740991;function Go(e,t,n){var i=Math.cos(n),r=Math.sin(n),o=t.x,s=t.y;return{x:o+i*(e.x-o)-r*(e.y-s),y:s+r*(e.x-o)+i*(e.y-s)}}function Yo(e,t){var n,i,r,o,s,a=Zo,l=Ko,c=t.origin;for(n=0;n<e.length;++n)r=(i=e[n]).x-c.x,o=i.y-c.y,s=t.vx*r+t.vy*o,a=Math.min(a,s),l=Math.max(l,s);return{min:a,max:l}}function Qo(e,t){var n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i);return{vx:(t.x-e.x)/r,vy:(t.y-e.y)/r,origin:e,ln:r}}var Jo=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};function Xo(e,t,n){var i=t.positioner(e,t),r=i.vx,o=i.vy;if(!r&&!o)return{x:i.x,y:i.y};var s=n.w,a=n.h,l=t.rotation,c=Math.abs(s/2*Math.cos(l))+Math.abs(a/2*Math.sin(l)),u=Math.abs(s/2*Math.sin(l))+Math.abs(a/2*Math.cos(l)),d=1/Math.max(Math.abs(r),Math.abs(o));return c*=r*d,u*=o*d,c+=t.offset*r,u+=t.offset*o,{x:i.x+c,y:i.y+u}}$(Jo.prototype,{center:function(){var e=this._rect;return{x:e.x+e.w/2,y:e.y+e.h/2}},update:function(e,t,n){this._rotation=n,this._rect={x:t.x+e.x,y:t.y+e.y,w:t.w,h:t.h}},contains:function(e){var t=this,n=t._rect;return!((e=Go(e,t.center(),-t._rotation)).x<n.x-1||e.y<n.y-1||e.x>n.x+n.w+2||e.y>n.y+n.h+2)},intersects:function(e){var t,n,i,r=this._points(),o=e._points(),s=[Qo(r[0],r[1]),Qo(r[0],r[3])];for(this._rotation!==e._rotation&&s.push(Qo(o[0],o[1]),Qo(o[0],o[3])),t=0;t<s.length;++t)if(n=Yo(r,s[t]),i=Yo(o,s[t]),n.max<i.min||i.max<n.min)return!1;return!0},_points:function(){var e=this,t=e._rect,n=e._rotation,i=e.center();return[Go({x:t.x,y:t.y},i,n),Go({x:t.x+t.w,y:t.y},i,n),Go({x:t.x+t.w,y:t.y+t.h},i,n),Go({x:t.x,y:t.y+t.h},i,n)]}});var es={prepare:function(e){var t,n,i,r,o,s=[];for(t=0,i=e.length;t<i;++t)for(n=0,r=e[t].length;n<r;++n)o=e[t][n],s.push(o),o.$layout={_box:new Jo,_hidable:!1,_visible:!0,_set:t,_idx:n};return s.sort((function(e,t){var n=e.$layout,i=t.$layout;return n._idx===i._idx?i._set-n._set:i._idx-n._idx})),this.update(s),s},update:function(e){var t,n,i,r,o,s=!1;for(t=0,n=e.length;t<n;++t)r=(i=e[t]).model(),(o=i.$layout)._hidable=r&&"auto"===r.display,o._visible=i.visible(),s|=o._hidable;s&&function(e){var t,n,i,r,o,s,a;for(t=0,n=e.length;t<n;++t)(r=(i=e[t]).$layout)._visible&&(a=new Proxy(i._el,{get:(e,t)=>e.getProps([t],!0)[t]}),o=i.geometry(),s=Xo(a,i.model(),o),r._box.update(s,o,i.rotation()));!function(e,t){var n,i,r,o;for(n=e.length-1;n>=0;--n)for(r=e[n].$layout,i=n-1;i>=0&&r._visible;--i)(o=e[i].$layout)._visible&&r._box.intersects(o._box)&&t(r,o)}(e,(function(e,t){var n=e._hidable,i=t._hidable;n&&i||i?t._visible=!1:n&&(e._visible=!1)}))}(e)},lookup:function(e,t){var n,i;for(n=e.length-1;n>=0;--n)if((i=e[n].$layout)&&i._visible&&i._box.contains(t))return e[n];return null},draw:function(e,t){var n,i,r,o,s,a;for(n=0,i=t.length;n<i;++n)(o=(r=t[n]).$layout)._visible&&(s=r.geometry(),a=Xo(r._el,r.model(),s),o._box.update(a,s,r.rotation()),r.draw(e,a))}},ts="$default";function ns(e,t,n){if(t){var i,r=n.$context,o=n.$groups;t[o._set]&&(i=t[o._set][o._key])&&!0===S(i,[r])&&(e.$datalabels._dirty=!0,n.update(r))}}const is={id:"datalabels",defaults:{align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:function(e){if(y(e))return null;var t,n,i,r=e;if(w(e))if(y(e.label))if(y(e.r))for(r="",i=0,n=(t=Object.keys(e)).length;i<n;++i)r+=(0!==i?", ":"")+t[i]+": "+e[t[i]];else r=e.r;else r=e.label;return""+r},labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},beforeInit:function(e){e.$datalabels={_actives:[]}},beforeUpdate:function(e){var t=e.$datalabels;t._listened=!1,t._listeners={},t._datasets=[],t._labels=[]},afterDatasetUpdate:function(e,t,n){var i,r,o,s,a,l,c,u,d=t.index,h=e.$datalabels,p=h._datasets[d]=[],f=e.isDatasetVisible(d),m=e.data.datasets[d],g=function(e,t){var n,i,r,o=e.datalabels,s=[];return!1===o?null:(!0===o&&(o={}),t=$({},[t,o]),i=t.labels||{},r=Object.keys(i),delete t.labels,r.length?r.forEach((function(e){i[e]&&s.push($({},[t,i[e],{_key:e}]))})):s.push(t),n=s.reduce((function(e,t){return A(t.listeners||{},(function(n,i){e[i]=e[i]||{},e[i][t._key||ts]=n})),delete t.listeners,e}),{}),{labels:s,listeners:n})}(m,n),v=t.meta.data||[],y=e.ctx;for(y.save(),i=0,o=v.length;i<o;++i)if((c=v[i]).$datalabels=[],f&&c&&e.getDataVisibility(i)&&!c.skip)for(r=0,s=g.labels.length;r<s;++r)l=(a=g.labels[r])._key,(u=new Ho(a,y,c,i)).$groups={_set:d,_key:l||ts},u.$context={active:!1,chart:e,dataIndex:i,dataset:m,datasetIndex:d},u.update(u.$context),c.$datalabels.push(u),p.push(u);y.restore(),$(h._listeners,g.listeners,{merger:function(e,n,i){n[e]=n[e]||{},n[e][t.index]=i[e],h._listened=!0}})},afterUpdate:function(e,t){e.$datalabels._labels=es.prepare(e.$datalabels._datasets,t)},afterDatasetsDraw:function(e){es.draw(e,e.$datalabels._labels)},beforeEvent:function(e,t){if(e.$datalabels._listened){var n=t.event;switch(n.type){case"mousemove":case"mouseout":!function(e,t){var n,i,r=e.$datalabels,o=r._listeners;if(o.enter||o.leave){if("mousemove"===t.type)i=es.lookup(r._labels,t);else if("mouseout"!==t.type)return;n=r._hovered,r._hovered=i,function(e,t,n,i){var r,o;(n||i)&&(n?i?n!==i&&(o=r=!0):o=!0:r=!0,o&&ns(e,t.leave,n),r&&ns(e,t.enter,i))}(e,o,n,i)}}(e,n);break;case"click":!function(e,t){var n=e.$datalabels,i=n._listeners.click,r=i&&es.lookup(n._labels,t);r&&ns(e,i,r)}(e,n)}}},afterEvent:function(e){var t,n,i,r,o,s,a,l=e.$datalabels,c=function(e,t){var n,i,r,o,s=e.slice(),a=[];for(n=0,r=t.length;n<r;++n)o=t[n],-1===(i=s.indexOf(o))?a.push([o,1]):s.splice(i,1);for(n=0,r=s.length;n<r;++n)a.push([s[n],-1]);return a}(l._actives,l._actives=e.getActiveElements());for(t=0,n=c.length;t<n;++t)if((o=c[t])[1])for(i=0,r=(a=o[0].element.$datalabels||[]).length;i<r;++i)(s=a[i]).$context.active=1===o[1],s.update(s.$context);(l._dirty||c.length)&&(es.update(l._labels),e.render()),delete l._dirty}};var rs=n(1308),os=n(9996),ss=n.n(os);function as(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ls(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}cr.register(Bn,kr,Sr,fo,$r,jn,uo,zn,mr,Yr,co,is,Kr);var us=["rgb(64, 131, 207, 0.8)","rgba(255, 99, 132, 0.8)","rgba(255, 206, 86, 0.8)","rgba(54, 162, 235, 0.8)","rgba(75, 192, 192, 0.8)","rgba(153, 102, 255, 0.8)","rgba(255, 159, 64, 0.8)"],ds=["rgb(64, 131, 207, 1)","rgba(255, 99, 132, 1)","rgba(255, 206, 86, 1)","rgba(54, 162, 235, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"];const hs={name:"QueryChart",props:{data:{type:Array,required:!1,default:function(){return[]}},columns:{type:Array,required:!1,default:function(){return[]}},options:{type:Object,required:!1,default:function(){return{}}},loading:{type:Boolean,required:!1,default:!1},chartType:{type:String,required:!0}},data:function(){return{chart:null}},computed:{labelsFormat:function(){return{style:this.options.label_format||"decimal",options:this.options.label_format_options||{}}},chartTypeOption:function(){return{funnel:"line",row:"bar"}[this.chartType]||this.chartType},transposedData:function(){var e=this;return this.data[0].map((function(t,n){return e.data.map((function(e){return(t=e,function(e){if(Array.isArray(e))return e}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return cs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cs(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).slice(0)[n];var t}))}))},datasets:function(){var e=this;return this.transposedData.slice(1,this.transposedData.length).map((function(t,n){return["integer","float"].includes(e.columns[n+1].type)?{fill:"funnel"===e.chartType,label:e.columns[n+1].title,backgroundColor:"pie"===e.chartType?us:us[n],borderColor:"pie"===e.chartType?"#fff":ds[n],borderWidth:["bar","row"].includes(e.chartType)?0:2,data:t}:null})).filter(Boolean)},chartParams:function(){return{type:this.chartTypeOption,data:{labels:this.labels,datasets:this.datasets},options:this.chartOptions}},chartOptions:function(){var e=this,t={responsive:!0,maintainAspectRatio:!1,indexAxis:"row"===this.chartType?"y":"x",animation:!1,plugins:{legend:{labels:{usePointStyle:!0}},tooltip:{callbacks:{label:function(t){var n=t.dataset.label||"",i="row"===e.chartType?"x":"y";if(n&&(n+=": "),null!==t.parsed[i]){var r=e.formatValue(t.parsed[i]||t.parsed);"pie"===e.chartType?n=t.label+": "+r:n+=r}return n}}}},scales:{x:{display:"pie"!==this.chartType,stacked:this.options.chart_stacked,grid:{display:!1}},y:{stacked:this.options.chart_stacked,display:this.options.chart_values_axis||"row"===this.chartType,grid:{display:!1},ticks:{callback:function(t){return e.formatValue(t)}}}}};return"pie"!==this.chartType&&1===this.datasets.length&&(t.plugins=ss()(t.plugins,{legend:{display:!1}})),"pie"===this.chartType&&(t.radius="85%",t.plugins=ss()(t.plugins,{legend:{position:"left"}}),t.scales.y={display:!1}),"pie"!==this.chartType&&(t.scales=ss()(t.scales,{x:{grid:{display:!1}}})),"funnel"===this.chartType&&(t.scales=ss()(t.scales,{y:{beginAtZero:!0,grid:{display:!1}}})),t.plugins=ss()(t.plugins,{datalabels:{display:"auto",anchor:this.options.chart_stacked?"center":"end",align:this.options.chart_stacked?"center":["pie","row"].includes(this.chartType)?"end":"top",formatter:function(t){return e.formatValue(t)},font:{weight:"bold"}}}),"pie"===this.chartType&&(t.plugins=ss()(t.plugins,{datalabels:{display:"auto",formatter:function(e,t){var n=t.dataset.data.reduce((function(e,t){return e+parseFloat(t)}),0);return Math.round(1e4*e/n,2)/100+"%"}}})),"funnel"===this.chartType&&(t.plugins=ss()(t.plugins,{datalabels:{display:"auto",formatter:function(e,t){if(0!==t.dataIndex){var n=t.dataset.data[0];return Math.round(1e4*e/n,2)/100+"%"}return" "}}})),"pie"!==this.chartType&&1===this.datasets.length&&(t.layout={padding:{top:25}}),["line","row","funnel"].includes(this.chartType)&&(t.layout=ss()(t.layout,{padding:{right:25}})),["row"].includes(this.chartType)&&(t.layout=ss()(t.layout,{padding:{right:55}})),"row"===this.chartType&&(t.scales={x:{stacked:this.options.chart_stacked,display:this.options.chart_values_axis,grid:{display:!1},ticks:{callback:function(t){return e.formatValue(t)}}},y:{stacked:this.options.chart_stacked,grid:{display:!1}}}),t},labels:function(){var e=this.columns[0],t=this.transposedData[0];if(["date","datetime"].includes(e.type)){var n={year:"numeric",month:"short"};return t.every((function(e){return e.includes("-01T00:00:00")||e.match(/-01$/)}))||(n.day="numeric"),t.map((function(e){return(0,rs.p)(e,n)}))}return t}},watch:{chartType:function(){this.update()},options:{deep:!0,handler:function(){this.update()}},data:function(){this.update()}},mounted:function(){this.render()},methods:{update:function(){this.render()},formatValue:function(e){var t,n;return new Intl.NumberFormat(navigator.language||"en-US",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?as(Object(n),!0).forEach((function(t){ls(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):as(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({style:(null===(t=this.labelsFormat)||void 0===t?void 0:t.style)||"decimal"},(null===(n=this.labelsFormat)||void 0===n?void 0:n.options)||{})).format(e)},render:function(){var e=this;this.data.length&&this.$nextTick((function(){var t;null===(t=e.chart)||void 0===t||t.destroy(),e.chart=new cr(e.$refs.canvas.getContext("2d"),e.chartParams)}))}},render:function(e,t,n,o,s,a){return n.data.length?((0,i.wg)(),(0,i.iD)("canvas",u,null,512)):n.loading?(0,i.kq)("v-if",!0):((0,i.wg)(),(0,i.iD)("div",d,(0,r.zw)(e.i18n.no_data),1))}};var ps=n(784),fs={class:"d-flex align-items-center justify-content-center flex-column bg-white"},ms={key:1,style:{"font-size":"60px"},class:"fw-bold"},gs={key:2},vs={key:3};const ys={name:"ValueResult",props:{data:{type:Array,required:!1,default:function(){return[]}},loading:{type:Boolean,required:!1,default:!1},valueFormat:{type:Object,required:!1,default:function(){return{style:"decimal"}}}},computed:{dataRow:function(){return this.data[0]||[]},isPositiveChange:function(){return!this.change.toString().match(/^-/)},value:function(){return this.label?this.dataRow[1]:this.dataRow[0]},change:function(){return this.label?this.dataRow[2]:this.dataRow[1]},label:function(){return this.dataRow.length>=3&&"string"==typeof this.dataRow[0]?this.dataRow[0]:""}},render:function(e,t,n,o,s,a){var l=(0,i.up)("Icon");return(0,i.wg)(),(0,i.iD)("div",fs,[a.change||0===a.change?((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,r.C_)(a.isPositiveChange?"text-success":"text-danger")},[(0,i.Wm)(l,{type:a.isPositiveChange?"md-arrow-round-up":"md-arrow-round-down"},null,8,["type"]),(0,i.Uk)(" "+(0,r.zw)(a.change),1)],2)):(0,i.kq)("v-if",!0),a.value||0===a.value?((0,i.wg)(),(0,i.iD)("p",ms,(0,r.zw)(a.value),1)):n.loading?(0,i.kq)("v-if",!0):((0,i.wg)(),(0,i.iD)("p",gs,(0,r.zw)(e.i18n.no_data),1)),a.label?((0,i.wg)(),(0,i.iD)("div",vs,(0,r.zw)(a.label),1)):(0,i.kq)("v-if",!0)])}};var bs=n(48);const ws=(e,t,{separator:n,quoted:i})=>{const r=t.map((e=>i?`"${e="string"==typeof e?e.replace(/"/g,'""'):e}"`:e));e.push(r.join(n))},_s={separator:",",quoted:!1};var xs=n(5763);function ks(e,t){if(e){if("string"==typeof e)return Cs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cs(e,t):void 0}}function Cs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}const Ss={name:"QueryTable",components:{DataTable:c.Z,Chart:hs,Markdown:ps.Z,ValueResult:ys},props:{data:{type:Array,required:!1,default:function(){return[]}},columns:{type:Array,required:!1,default:function(){return[]}},errors:{type:Array,required:!1,default:function(){return[]}},title:{type:String,required:!1,default:""},preferences:{type:Object,required:!1,default:function(){return{}}},queryId:{type:[Number,String],required:!1,default:""},withTableToggle:{type:Boolean,required:!1,default:!1},withAlert:{type:Boolean,required:!1,default:!1},showMarkdownTable:{type:Boolean,required:!1,default:!1},loading:{type:Boolean,required:!1,default:!1},borderless:{type:Boolean,required:!1,default:!1},headerBorder:{type:Boolean,required:!1,default:!0},compact:{type:Boolean,required:!1,default:!1},withSettings:{type:Boolean,required:!1,default:!0},withFooter:{type:Boolean,required:!1,default:!0},withFooterButtonLabels:{type:Boolean,required:!1,default:!0},defaultPageSize:{type:Number,required:!1,default:100},minimalPagination:{type:Boolean,required:!1,default:!1}},emits:["settings"],data:function(){return{sortParams:{},hSplit:.5,isTableToggle:!1,paginationParams:{current:1,pageSize:this.defaultPageSize}}},computed:{showFooter:function(){return!!this.data.length&&(!this.isValue||this.withSettings||this.withAlert||this.showPagination)},showPagination:function(){return this.data.length&&this.isTable||(this.isMarkdown||this.isValue)&&this.data.length>1},markdownData:function(){var e=this;return this.data.length?this.columns.reduce((function(t,n,i){return["datetime","date"].includes(n.column_type)?t[n.name]=(0,rs.p)(e.paginatedData[0][i],null,"datetime"===n.column_type):"json"===n.column_type?t[n.name]=JSON.parse(e.paginatedData[0][i]):t[n.name]=e.paginatedData[0][i],t}),{}):{}},sortedData:function(){var e,t=this.sortParams,n=t.key,i=t.order,r="desc"===i?-1:1;return i?(e=this.data,function(e){if(Array.isArray(e))return Cs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ks(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort((function(e,t){return(e[n]>t[n]?1:-1)*r})):this.data},total:function(){return this.data.length},isTable:function(){return!this.preferences.visualization||"table"===this.preferences.visualization},isMarkdown:function(){return"markdown"===this.preferences.visualization},isValue:function(){return"value"===this.preferences.visualization},pageSizeOpts:function(){return[20,50,100,250,500,1e3]},chartType:function(){return this.isTable?"":this.preferences.visualization.replace(/_chart$/,"")},pageSize:function(){return this.isMarkdown||this.isValue?1:this.paginationParams.pageSize},paginatedData:function(){var e=(this.paginationParams.current-1)*this.pageSize;return this.sortedData.slice(e,e+this.pageSize)},normalizedColumns:function(){return this.columns.map((function(e,t){var n,i,r,o=(i=e.name.match(/^(\w+)_id$/)||[],r=2,function(e){if(Array.isArray(e))return e}(i)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(i,r)||ks(i,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1];return o&&bs.r3[o]&&(n={model_name:o}),{key:t,title:e.name,type:e.column_type,format:{number_format:["number","integer","float"].includes(e.column_type)&&!e.name.toString().match(/_(?:id|year)$/)&&!["id","year"].includes(e.name)},reference:n}}))}},watch:{defaultPageSize:function(e){this.paginationParams.pageSize=e},data:function(){this.paginationParams.current=1}},methods:{assignSortParams:function(e){this.sortParams=e},toggleTable:function(){this.isTableToggle=!this.isTableToggle},download:function(){var e=this.$refs.chart?"png":"csv",t=(0,rs.p)(new Date,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}).replace(",",""),n="";if(this.$refs.chart)n=this.$refs.chart.chart.toBase64Image();else{var i=function(e,t,n,i=!1){let r;n=Object.assign({},_s,n);const o=[],s=[];return e?(r=e.map((e=>"string"==typeof e?e:(i||s.push(void 0!==e.title?e.title:e.key),e.key))),s.length>0&&ws(o,s,n)):(r=[],t.forEach((e=>{Array.isArray(e)||(r=r.concat(Object.keys(e)))})),r.length>0&&(r=r.filter(((e,t,n)=>n.indexOf(e)===t)),i||ws(o,r,n))),Array.isArray(t)&&t.forEach((e=>{Array.isArray(e)||(e=r.map((t=>void 0!==e[t]?e[t]:""))),ws(o,e,n)})),o.join("\r\n")}(this.normalizedColumns,this.sortedData,{quoted:!0});n=URL.createObjectURL(new Blob([i],{type:"data:text/csv;charset=utf-8"}))}var r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download","".concat((0,xs.It)(this.title||"query"),"_").concat((0,xs.It)(t),".").concat(e)),r.click()}},render:function(e,t,n,c,u,d){var h=(0,i.up)("ValueResult"),p=(0,i.up)("Markdown"),f=(0,i.up)("DataTable"),m=(0,i.up)("Chart"),g=(0,i.up)("VButton"),v=(0,i.up)("Pagination");return(0,i.wg)(),(0,i.iD)(i.HY,null,[n.errors.length?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"d-flex justify-content-center align-items-center text-danger text-center",style:(0,r.j5)({height:"calc(100% - 34px)"})},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.errors,(function(e){return(0,i.wg)(),(0,i.iD)("p",{key:e.detail||e},(0,r.zw)(e.detail||e),1)})),128))],4)):d.isValue?((0,i.wg)(),(0,i.j4)(h,{key:1,style:(0,r.j5)({height:n.withFooter&&d.showFooter||!n.data.length?"calc(100% - 34px)":"100%"}),loading:n.loading,data:d.paginatedData},null,8,["style","loading","data"])):d.isTable||d.isMarkdown||u.isTableToggle?((0,i.wg)(),(0,i.iD)("div",{key:2,class:"d-flex",style:(0,r.j5)({height:n.withFooter?"calc(100% - 34px)":"100%"})},[d.isMarkdown?((0,i.wg)(),(0,i.iD)("div",{key:0,style:(0,r.j5)({width:n.showMarkdownTable?"50%":"100%"}),class:"bg-white"},[(0,i.Wm)(p,{style:{height:"100%",overflow:"scroll",padding:"10px 13px"},class:(0,r.C_)({"border-right":n.showMarkdownTable}),loading:n.loading,markdown:n.preferences.visualization_options.markdown,data:d.markdownData},null,8,["class","loading","markdown","data"])],4)):(0,i.kq)("v-if",!0),d.isTable||u.isTableToggle||n.showMarkdownTable?((0,i.wg)(),(0,i.iD)("div",{key:1,style:(0,r.j5)({width:d.isTable||u.isTableToggle?"100%":"50%"})},[(0,i.Wm)(f,{data:d.paginatedData,"with-select":!1,"click-rows":!1,borderless:n.borderless,"always-refer":!0,"with-html":!0,"header-border":n.headerBorder,compact:n.compact,columns:d.normalizedColumns,onSortChange:d.assignSortParams},null,8,["data","borderless","header-border","compact","columns","onSortChange"])],4)):(0,i.kq)("v-if",!0)],4)):((0,i.wg)(),(0,i.iD)("div",{key:3,style:(0,r.j5)({height:"calc(100% - 34px)"})},[(0,i.Wm)(m,{ref:"chart",data:n.data,loading:n.loading,options:n.preferences.visualization_options,columns:d.normalizedColumns,"chart-type":d.chartType},null,8,["data","loading","options","columns","chart-type"])],4)),n.withFooter&&d.showFooter?((0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",s,[n.withSettings?((0,i.wg)(),(0,i.j4)(g,{key:0,icon:"md-settings",size:"small",class:"md-icon-only",style:{height:"24px"},onClick:t[0]||(t[0]=function(t){return e.$emit("settings")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.settings),1)]})),_:1})):(0,i.kq)("v-if",!0)]),(0,i._)("div",a,[d.showPagination?((0,i.wg)(),(0,i.j4)(v,{key:0,current:u.paginationParams.current,total:d.total,"page-size":d.pageSize,"page-size-opts":d.pageSizeOpts,size:"small","show-sizer":!n.minimalPagination&&!d.isMarkdown&&!d.isValue,"show-elevator":!n.minimalPagination,"show-total":!0,"onUpdate:current":t[1]||(t[1]=function(e){return u.paginationParams.current=e}),"onUpdate:pageSize":t[2]||(t[2]=function(e){return u.paginationParams.pageSize=e})},null,8,["current","total","page-size","page-size-opts","show-sizer","show-elevator"])):(0,i.kq)("v-if",!0)]),(0,i._)("div",l,[!n.withTableToggle||d.isMarkdown||d.isTable||d.isValue?(0,i.kq)("v-if",!0):((0,i.wg)(),(0,i.j4)(g,{key:0,icon:u.isTableToggle?"md-analytics":"md-grid",type:"text",size:"small",style:{height:"24px"},onClick:d.toggleTable},null,8,["icon","onClick"])),n.withAlert?((0,i.wg)(),(0,i.j4)(g,{key:1,icon:"md-notifications",type:"text",size:"small",class:"md-icon-only",style:{height:"24px"},onClick:t[3]||(t[3]=function(t){return e.$router.push({name:"new_alert",query:{query_id:n.queryId}})})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.alert),1)]})),_:1})):(0,i.kq)("v-if",!0),n.data.length&&n.withFooterButtonLabels?((0,i.wg)(),(0,i.j4)(g,{key:2,icon:"md-download",type:"text",size:"small",style:{height:"24px"},class:"md-icon-only",onClick:d.download},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.download),1)]})),_:1},8,["onClick"])):n.data.length?((0,i.wg)(),(0,i.j4)(g,{key:3,icon:"md-download",type:"text",size:"small",style:{height:"24px"},class:"md-icon-only",onClick:d.download},null,8,["onClick"])):(0,i.kq)("v-if",!0)])])):(0,i.kq)("v-if",!0)],64)}}},480:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(6252);n(9653);var r=n(8424);const o={name:"ResourceSelect",props:{modelValue:{type:[String,Number],required:!1,default:""},size:{type:String,required:!1,default:"default"}},emits:["update:modelValue"],data:function(){return{value:""}},computed:{queries:function(){return r.db}},watch:{modelValue:function(e){this.value=e},value:function(e){this.$emit("update:modelValue",e)}},created:function(){this.value=this.modelValue,(0,r.Kp)()},methods:{},render:function(e,t,n,r,o,s){var a=(0,i.up)("MSelect");return(0,i.wg)(),(0,i.j4)(a,{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.value=e}),filterable:"",size:n.size,options:s.queries,"label-key":"name","value-key":"id",placeholder:e.i18n.select_query},null,8,["modelValue","size","options","placeholder"])}}},5893:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(6252);n(3710),n(9653),n(8309);const r={name:"VariableInput",components:{FormInput:n(1789).Z},props:{modelValue:{type:[Date,Number,String,Object],required:!1,default:""},variable:{type:Object,required:!0}},emits:["update:modelValue","select","enter"],computed:{columnProps:function(){var e,t=this.variable.variable_type||"text",n={name:this.variable.name,column_type:"text"===t?"input":t};return"reference"===t&&(n.reference={model_name:this.variable.reference_resource}),"select"===t&&(null!==(e=this.variable.select_options)&&void 0!==e&&e.length?n.format={select_options:this.variable.select_options}:n.column_type="input"),n}},watch:{"variable.variable_type":function(){this.$emit("update:modelValue","")}},render:function(e,t,n,r,o,s){var a=(0,i.up)("FormInput");return(0,i.wg)(),(0,i.j4)(a,{"model-value":n.modelValue,column:s.columnProps,onSelect:t[0]||(t[0]=function(t){return e.$emit("select")}),onEnter:t[1]||(t[1]=function(t){return e.$emit("enter")}),"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.$emit("update:modelValue",t)})},null,8,["model-value","column"])}}},5634:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l}),n(8309);var i=n(6252),r=n(9963);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(9070),n(7941),n(2526),n(7327),n(5003),n(9554),n(4747),n(9337),n(3321);const l={name:"VariablesForm",components:{VariableInput:n(5893).Z},props:{data:{type:Object,required:!1,default:function(){return{}}},variables:{type:Array,required:!0}},emits:["update:data","submit"],data:function(){return{dataValue:s({},this.data)}},watch:{data:function(e){this.dataValue=s({},e)}},render:function(e,t,n,o,s,a){var l=(0,i.up)("VariableInput"),c=(0,i.up)("FormItem"),u=(0,i.up)("VForm");return(0,i.wg)(),(0,i.j4)(u,{model:s.dataValue,class:"row",onSubmit:t[3]||(t[3]=(0,r.iM)((function(){}),["prevent"]))},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.variables,(function(n){return(0,i.wg)(),(0,i.j4)(c,{key:n.name,label:n.display_name,class:"col-6 col-lg-2 col-md-4 col-sm-4 mb-0 px-1"},{default:(0,i.w5)((function(){return[(0,i.Wm)(l,{modelValue:s.dataValue[n.name],"onUpdate:modelValue":[function(e){return s.dataValue[n.name]=e},t[2]||(t[2]=function(t){return e.$emit("update:data",s.dataValue)})],variable:n,onSelect:t[0]||(t[0]=function(t){return e.$emit("submit")}),onEnter:t[1]||(t[1]=function(t){return e.$emit("submit")})},null,8,["modelValue","onUpdate:modelValue","variable"])]})),_:2},1032,["label"])})),128))]})),_:1},8,["model"])},__scopeId:"data-v-450c1e55"}},1394:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(6252),r=n(3577),o=n(873),s=n(5763),a=n(8564);const l={name:"SettingsMask",props:{resource:{type:Object,required:!1,default:null},preferences:{type:Object,required:!1,default:null},settingsType:{type:String,required:!1,default:null},buttonOnly:{type:Boolean,required:!1,default:!1}},computed:{},methods:{titleize:s.MI,openSettings:function(){this.preferences?((0,a.js)(),this.$router.push({name:this.settingsType,params:{id:this.preferences["".concat(this.settingsType,"_id")]}})):(0,o.r)({selectedResource:this.resource,settingsType:this.settingsType})}},render:function(e,t,n,o,s,a){var l=(0,i.up)("VButton");return(0,i.wg)(),(0,i.iD)("div",{class:(0,r.C_)({"settings-mask":!n.buttonOnly})},[(0,i.Wm)(l,{ghost:"",class:"bg-white",icon:"md-create",type:"warning",onClick:a.openSettings},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(a.titleize(n.settingsType||e.i18n.resources)),1)]})),_:1},8,["onClick"])],2)}}},4487:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var i=n(6252),r=n(7757),o=n.n(r),s=(n(2222),n(1249),n(8309),n(5827),n(9554),n(4747),n(2564),n(1539),n(8674),n(3239)),a=n.n(s),l=n(2262),c=n(3577),u=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,i){return e[0]===t&&(n=i,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(t,n){var i=e(this.__entries__,t);~i?this.__entries__[i][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,i=e(n,t);~i&&n.splice(i,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,i=this.__entries__;n<i.length;n++){var r=i[n];e.call(t,r[1],r[0])}},t}()}(),d="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,h=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),p="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(h):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},f=["top","right","bottom","left","width","height","size","weight"],m="undefined"!=typeof MutationObserver,g=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,i=!1,r=0;function o(){n&&(n=!1,e()),i&&a()}function s(){p(o)}function a(){var e=Date.now();if(n){if(e-r<2)return;i=!0}else n=!0,i=!1,setTimeout(s,20);r=e}return a}(this.refresh.bind(this))}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){d&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),m?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){d&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;f.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),v=function(e,t){for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];Object.defineProperty(e,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return e},y=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||h},b=C(0,0,0,0);function w(e){return parseFloat(e)||0}function _(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+w(e["border-"+n+"-width"])}),0)}var x="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof y(e).SVGGraphicsElement}:function(e){return e instanceof y(e).SVGElement&&"function"==typeof e.getBBox};function k(e){return d?x(e)?function(e){var t=e.getBBox();return C(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return b;var i=y(e).getComputedStyle(e),r=function(e){for(var t={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var r=i[n],o=e["padding-"+r];t[r]=w(o)}return t}(i),o=r.left+r.right,s=r.top+r.bottom,a=w(i.width),l=w(i.height);if("border-box"===i.boxSizing&&(Math.round(a+o)!==t&&(a-=_(i,"left","right")+o),Math.round(l+s)!==n&&(l-=_(i,"top","bottom")+s)),!function(e){return e===y(e).document.documentElement}(e)){var c=Math.round(a+o)-t,u=Math.round(l+s)-n;1!==Math.abs(c)&&(a-=c),1!==Math.abs(u)&&(l-=u)}return C(r.left,r.top,a,l)}(e):b}function C(e,t,n,i){return{x:e,y:t,width:n,height:i}}var S=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=C(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=k(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),A=function(e,t){var n,i,r,o,s,a,l,c=(i=(n=t).x,r=n.y,o=n.width,s=n.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(a.prototype),v(l,{x:i,y:r,width:o,height:s,top:r,right:i+o,bottom:s+r,left:i}),l);v(this,{target:e,contentRect:c})},D=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new u,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof y(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new S(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof y(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new A(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),O="undefined"!=typeof WeakMap?new WeakMap:new u,T=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=g.getInstance(),i=new D(t,n,this);O.set(this,i)};["observe","unobserve","disconnect"].forEach((function(e){T.prototype[e]=function(){var t;return(t=O.get(this))[e].apply(t,arguments)}}));const E=void 0!==h.ResizeObserver?h.ResizeObserver:T,$=["blur","input","change","changeSelectionStyle","changeSession","copy","focus","paste"],M=(0,i.aZ)({props:{value:{type:String,required:!0},lang:{type:String,default:"text"},theme:{type:String,default:"chrome"},options:Object,placeholder:String,readonly:Boolean,wrap:Boolean,printMargin:{type:[Boolean,Number],default:!0}},emits:["update:value","init",...$],render:()=>(0,i.h)("div"),mounted(){const e=this._editor=(0,l.Xl)(a().edit(this.$el,{placeholder:this.placeholder,readOnly:this.readonly,value:this.value,mode:"ace/mode/"+this.lang,theme:"ace/theme/"+this.theme,wrap:this.wrap,printMargin:this.printMargin,useWorker:!1,...this.options}));this._contentBackup=this.value,e.on("change",(()=>{const t=e.getValue();this._contentBackup=t,this.$emit("update:value",t)})),$.forEach((t=>{const n="on"+(0,c.kC)(t);"function"==typeof this.$.vnode.props[n]&&e.on(t,this.$emit.bind(this,t))})),this._ro=new E((()=>e.resize())),this._ro.observe(this.$el),this.$emit("init",e)},beforeUnmount(){var e,t;null===(e=this._ro)||void 0===e||e.disconnect(),null===(t=this._editor)||void 0===t||t.destroy()},methods:{focus(){this._editor.focus()},blur(){this._editor.blur()},selectAll(){this._editor.selectAll()}},watch:{value(e){this._contentBackup!==e&&(this._editor.setValue(e,1),this._contentBackup=e)},theme(e){this._editor.setTheme("ace/theme/"+e)},options(e){this._editor.setOptions(e)},readonly(e){this._editor.setReadOnly(e)},placeholder(e){this._editor.setOption("placeholder",e)},wrap(e){this._editor.setWrapBehavioursEnabled(e)},printMargin(e){this._editor.setOption("printMargin",e)}}});n(7136),n(9411),n(2679);var R=n(48);function L(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,r)}a().define("ace/theme/motor",["require","exports","module","ace/lib/dom"],(function(e,t,n){t.isDark=!1,t.cssClass="ace-motor",t.cssText='.ace-motor .ace_gutter {\nbackground: #edf2f5;\ncolor: slategray;\noverflow : hidden;\n}\n.ace-motor .ace_print-margin {\ndisplay: none;\n}\n.ace-motor {\nbackground-color: #FFFFFF;\ncolor: #515a6e;\n}\n.ace-motor .ace_cursor {\ncolor: slategray;\n}\n.ace-motor .ace_invisible {\ncolor: rgb(191, 191, 191);\n}\n.ace-motor .ace_placeholder {\nbackground-color: #edf2f5;\nfont-family: Fira code, Fira Mono, Consolas, Menlo, Courier, monospace;\nletter-spacing: inherit;\nline-height: inherit;\nfont-size: 14px;\nopacity: 0.35;\nmargin: 0 5px;\ntransform: none;\n}\n.ace-motor .ace_constant.ace_buildin {\ncolor: rgb(88, 72, 246);\n}\n.ace-motor .ace_constant.ace_language {\ncolor: rgb(88, 92, 246);\n}\n.ace-motor .ace_constant.ace_library {\ncolor: rgb(6, 150, 14);\n}\n.ace-motor .ace_invalid {\nbackground-color: rgb(153, 0, 0);\ncolor: white;\n}\n.ace-motor .ace_support.ace_function {\ncolor: #DD4A68;\n}\n.ace-motor .ace_support.ace_constant {\ncolor: #e90;\n}\n.ace-motor .ace_support.ace_type,\n.ace-motor .ace_support.ace_class\n.ace-motor .ace_support.ace_other {\ncolor: rgb(109, 121, 222);\n}\n.ace-motor .ace_variable.ace_parameter {\nfont-style:italic;\ncolor:#FD971F;\n}\n.ace-motor .ace_keyword.ace_operator {\ncolor: #9a6e3a;\n}\n.ace-motor .ace_comment {\ncolor: #236e24;\n}\n.ace-motor .ace_comment.ace_doc {\ncolor: #236e24;\n}\n.ace-motor .ace_comment.ace_doc.ace_tag {\ncolor: #236e24;\n}\n.ace-motor .ace_constant.ace_numeric {\ncolor: #905;\n}\n.ace-motor .ace_variable {\ncolor: rgb(49, 132, 149);\n}\n.ace-motor .ace_xml-pe {\ncolor: rgb(104, 104, 91);\n}\n.ace-motor .ace_entity.ace_name.ace_function {\ncolor: #e90;\n}\n.ace-motor .ace_heading {\ncolor: #e90\n}\n.ace-motor .ace_list {\ncolor: #515a6e;\n}\n.ace-motor .ace_marker-layer .ace_selection {\nbackground: rgb(181, 213, 255);\n}\n.ace-motor .ace_marker-layer .ace_step {\nbackground: rgb(252, 255, 0);\n}\n.ace-motor .ace_marker-layer .ace_stack {\nbackground: rgb(164, 229, 101);\n}\n.ace-motor .ace_marker-layer .ace_bracket {\nmargin: -1px 0 0 -1px;\nborder: 1px solid rgb(192, 192, 192);\n}\n.ace-motor .ace_marker-layer .ace_active-line {\nbackground: rgba(0, 0, 0, 0.07);\n}\n.ace-motor .ace_gutter-active-line {\nbackground-color : #dcdcdc;\n}\n.ace-motor .ace_marker-layer .ace_selected-word {\nbackground: rgb(250, 250, 255);\nborder: 1px solid rgb(200, 200, 250);\n}\n.ace-motor .ace_storage,\n.ace-motor .ace_keyword,\n.ace-motor .ace_meta.ace_tag {\ncolor: #07a;\n}\n.ace-motor .ace_string.ace_regex {\ncolor: rgb(255, 0, 0)\n}\n.ace-motor .ace_string.ace_emphasis {\ncolor: #515a6e;\nfont-style: italic;\n}\n.ace-motor .ace_string.ace_strong {\ncolor: #515a6e;\nfont-weight: bold;\n}\n.ace-motor .ace_string {\ncolor: #690;\n}\n.ace-motor .ace_entity.ace_other.ace_attribute-name {\ncolor: #994409;\n}\n.ace-motor .ace_indent-guide {\nbackground: url("data:imagegpng;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\n}\n',e("../lib/dom").importCssString(t.cssText,t.cssClass)}));const P={name:"CodeEditor",components:{VAceEditor:M},props:{modelValue:{type:String,required:!1,default:""},placeholder:{type:String,required:!1,default:""},language:{type:String,required:!0},columns:{type:Array,required:!1,default:function(){return[]}},variables:{type:Array,required:!1,default:function(){return[]}}},emits:["update:modelValue","run"],computed:{completions:function(){return"markdown"===this.language?this.columnCompletions.concat(this.variablesCompletions):this.schemaCompletions.concat(this.variablesCompletions)},columnCompletions:function(){return this.columns.map((function(e){return{name:e.name,value:e.name,meta:"column"}}))},variablesCompletions:function(){return this.variables.map((function(e){return{name:e.name,value:e.name,meta:"variable"}}))},schemaCompletions:function(){return R.fK.reduce((function(e,t){return e.push({name:t.table_name,value:t.table_name,meta:"table"}),t.columns.forEach((function(t){var n;t.virtual||"has_one"===(null===(n=t.reference)||void 0===n?void 0:n.reference_type)||e.push({name:t.name,value:t.name,meta:"column"})})),e}),[])}},mounted:function(){this.$el.querySelector("textarea").addEventListener("keydown",this.onCmdEnter)},beforeUnmount:function(){this.$el.querySelector("textarea").removeEventListener("keydown",this.onCmdEnter)},methods:{editorInit:function(e){var t,n,i=this;e.renderer.setScrollMargin(8,8,0,0),e.setOptions({indentedSoftWrap:!1,enableLiveAutocompletion:!0,showPrintMargin:!1,highlightActiveLine:!1,highlightGutterLine:!1}),a().require("ace/ext/language_tools").addCompleter({getCompletions:(t=o().mark((function e(t,n,r,s,a){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(null,i.completions);case 1:case"end":return e.stop()}}),e)})),n=function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function s(e){L(o,i,r,s,a,"next",e)}function a(e){L(o,i,r,s,a,"throw",e)}s(void 0)}))},function(e,t,i,r,o){return n.apply(this,arguments)})}),setTimeout((function(){e.focus()}),100)},onCmdEnter:function(e){13===e.keyCode&&e.metaKey&&this.$emit("run")}},render:function(e,t,n,r,o,s){var a=(0,i.up)("v-ace-editor");return(0,i.wg)(),(0,i.j4)(a,{value:n.modelValue,placeholder:n.placeholder,lang:n.language,class:"code-editor",wrap:!0,style:{height:"100%"},theme:"motor",onInit:s.editorInit,"onUpdate:value":t[0]||(t[0]=function(t){return e.$emit("update:modelValue",t)})},null,8,["value","placeholder","lang","onInit"])}}},478:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(6252),r=["USD","EUR","GBP","JPY","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHF","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","FJD","FKP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRU","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RUB","RWF","SVC","SZL","UAH","VND","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"];const o={name:"CurrencySelect",props:{modelValue:{type:[String],required:!1,default:"USD"}},emits:["update:modelValue"],computed:{currencyOptions:function(){return r}},render:function(e,t,n,r,o,s){var a=(0,i.up)("MSelect");return(0,i.wg)(),(0,i.j4)(a,{"model-value":n.modelValue,filterable:"",options:s.currencyOptions,"with-deselect":!1,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.$emit("update:modelValue",t)})},null,8,["model-value","options"])}}},2343:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(6252),r=n(3577);(0,i.dD)("data-v-2648e953");var o=["src"];(0,i.Cn)(),n(9653);var s=n(649);const a={name:"CustomIcon",props:{type:{type:String,required:!0},size:{type:[Number,String],required:!1,default:"20"}},computed:{path:function(){return s.sb+"assets/icons/"+this.type+".svg"}},render:function(e,t,n,s,a,l){return(0,i.wg)(),(0,i.iD)("img",{src:l.path,style:(0,r.j5)({width:n.size+"px"})},null,12,o)},__scopeId:"data-v-2648e953"}},784:(e,t,n)=>{"use strict";n.d(t,{Z:()=>M});var i=n(6252),r=n(3577),o=["innerHTML"];n(7941);var s=n(7856),a=n.n(s),l=n(7084),c=n.n(l),u=Object.prototype.toString,d=Array.isArray||function(e){return"[object Array]"===u.call(e)};function h(e){return"function"==typeof e}function p(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function f(e,t){return null!=e&&"object"==typeof e&&t in e}var m=RegExp.prototype.test,g=/\S/;function v(e){return!function(e,t){return m.call(e,t)}(g,e)}var y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},b=/\s*/,w=/\s+/,_=/\s*=/,x=/\s*\}/,k=/#|\^|\/|>|\{|&|=|!/;function C(e){this.string=e,this.tail=e,this.pos=0}function S(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function A(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}C.prototype.eos=function(){return""===this.tail},C.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},C.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},S.prototype.push=function(e){return new S(e,this)},S.prototype.lookup=function(e){var t,n,i,r=this.cache;if(r.hasOwnProperty(e))t=r[e];else{for(var o,s,a,l=this,c=!1;l;){if(e.indexOf(".")>0)for(o=l.view,s=e.split("."),a=0;null!=o&&a<s.length;)a===s.length-1&&(c=f(o,s[a])||(n=o,i=s[a],null!=n&&"object"!=typeof n&&n.hasOwnProperty&&n.hasOwnProperty(i))),o=o[s[a++]];else o=l.view[e],c=f(l.view,e);if(c){t=o;break}l=l.parent}r[e]=t}return h(t)&&(t=t.call(this.view)),t},A.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},A.prototype.parse=function(e,t){var n=this.templateCache,i=e+":"+(t||D.tags).join(":"),r=void 0!==n,o=r?n.get(i):void 0;return null==o&&(o=function(e,t){if(!e)return[];var n,i,r,o=!1,s=[],a=[],l=[],c=!1,u=!1,h="",f=0;function m(){if(c&&!u)for(;l.length;)delete a[l.pop()];else l=[];c=!1,u=!1}function g(e){if("string"==typeof e&&(e=e.split(w,2)),!d(e)||2!==e.length)throw new Error("Invalid tags: "+e);n=new RegExp(p(e[0])+"\\s*"),i=new RegExp("\\s*"+p(e[1])),r=new RegExp("\\s*"+p("}"+e[1]))}g(t||D.tags);for(var y,S,A,O,T,E,$=new C(e);!$.eos();){if(y=$.pos,A=$.scanUntil(n))for(var M=0,R=A.length;M<R;++M)v(O=A.charAt(M))?(l.push(a.length),h+=O):(u=!0,o=!0,h+=" "),a.push(["text",O,y,y+1]),y+=1,"\n"===O&&(m(),h="",f=0,o=!1);if(!$.scan(n))break;if(c=!0,S=$.scan(k)||"name",$.scan(b),"="===S?(A=$.scanUntil(_),$.scan(_),$.scanUntil(i)):"{"===S?(A=$.scanUntil(r),$.scan(x),$.scanUntil(i),S="&"):A=$.scanUntil(i),!$.scan(i))throw new Error("Unclosed tag at "+$.pos);if(T=">"==S?[S,A,y,$.pos,h,f,o]:[S,A,y,$.pos],f++,a.push(T),"#"===S||"^"===S)s.push(T);else if("/"===S){if(!(E=s.pop()))throw new Error('Unopened section "'+A+'" at '+y);if(E[1]!==A)throw new Error('Unclosed section "'+E[1]+'" at '+y)}else"name"===S||"{"===S||"&"===S?u=!0:"="===S&&g(A)}if(m(),E=s.pop())throw new Error('Unclosed section "'+E[1]+'" at '+$.pos);return function(e){for(var t,n=[],i=n,r=[],o=0,s=e.length;o<s;++o)switch((t=e[o])[0]){case"#":case"^":i.push(t),r.push(t),i=t[4]=[];break;case"/":r.pop()[5]=t[2],i=r.length>0?r[r.length-1][4]:n;break;default:i.push(t)}return n}(function(e){for(var t,n,i=[],r=0,o=e.length;r<o;++r)(t=e[r])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(i.push(t),n=t));return i}(a))}(e,t),r&&n.set(i,o)),o},A.prototype.render=function(e,t,n,i){var r=this.getConfigTags(i),o=this.parse(e,r),s=t instanceof S?t:new S(t,void 0);return this.renderTokens(o,s,n,e,i)},A.prototype.renderTokens=function(e,t,n,i,r){for(var o,s,a,l="",c=0,u=e.length;c<u;++c)a=void 0,"#"===(s=(o=e[c])[0])?a=this.renderSection(o,t,n,i,r):"^"===s?a=this.renderInverted(o,t,n,i,r):">"===s?a=this.renderPartial(o,t,n,r):"&"===s?a=this.unescapedValue(o,t):"name"===s?a=this.escapedValue(o,t,r):"text"===s&&(a=this.rawValue(o)),void 0!==a&&(l+=a);return l},A.prototype.renderSection=function(e,t,n,i,r){var o=this,s="",a=t.lookup(e[1]);if(a){if(d(a))for(var l=0,c=a.length;l<c;++l)s+=this.renderTokens(e[4],t.push(a[l]),n,i,r);else if("object"==typeof a||"string"==typeof a||"number"==typeof a)s+=this.renderTokens(e[4],t.push(a),n,i,r);else if(h(a)){if("string"!=typeof i)throw new Error("Cannot use higher-order sections without the original template");null!=(a=a.call(t.view,i.slice(e[3],e[5]),(function(e){return o.render(e,t,n,r)})))&&(s+=a)}else s+=this.renderTokens(e[4],t,n,i,r);return s}},A.prototype.renderInverted=function(e,t,n,i,r){var o=t.lookup(e[1]);if(!o||d(o)&&0===o.length)return this.renderTokens(e[4],t,n,i,r)},A.prototype.indentPartial=function(e,t,n){for(var i=t.replace(/[^ \t]/g,""),r=e.split("\n"),o=0;o<r.length;o++)r[o].length&&(o>0||!n)&&(r[o]=i+r[o]);return r.join("\n")},A.prototype.renderPartial=function(e,t,n,i){if(n){var r=this.getConfigTags(i),o=h(n)?n(e[1]):n[e[1]];if(null!=o){var s=e[6],a=e[5],l=e[4],c=o;0==a&&l&&(c=this.indentPartial(o,l,s));var u=this.parse(c,r);return this.renderTokens(u,t,n,c,i)}}},A.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},A.prototype.escapedValue=function(e,t,n){var i=this.getConfigEscape(n)||D.escape,r=t.lookup(e[1]);if(null!=r)return"number"==typeof r&&i===D.escape?String(r):i(r)},A.prototype.rawValue=function(e){return e[1]},A.prototype.getConfigTags=function(e){return d(e)?e:e&&"object"==typeof e?e.tags:void 0},A.prototype.getConfigEscape=function(e){return e&&"object"==typeof e&&!d(e)?e.escape:void 0};var D={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){O.templateCache=e},get templateCache(){return O.templateCache}},O=new A;D.clearCache=function(){return O.clearCache()},D.parse=function(e,t){return O.parse(e,t)},D.render=function(e,t,n,i){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(d(r=e)?"array":typeof r)+'" was given as the first argument for mustache#render(template, view, partials)');var r;return O.render(e,t,n,i)},D.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,(function(e){return y[e]}))},D.Scanner=C,D.Context=S,D.Writer=A;const T=D;var E=n(7209),$=n(5763);const M={name:"QueryMarkdown",props:{markdown:{type:String,required:!1,default:""},loading:{type:Boolean,required:!1,default:!1},withoutData:{type:Boolean,required:!1,default:!1},renderMustache:{type:Boolean,required:!1,default:!0},data:{type:Object,required:!1,default:function(){return{}}}},data:function(){return{dataMarkdown:""}},computed:{isNoData:function(){return!Object.keys(this.data).length},mustacheRendered:function(){try{return T.render(this.dataMarkdown,this.data)}catch(e){return(0,$.rA)(this.dataMarkdown,this.data)}},sanitizedHtml:function(){return this.withoutData||!this.isNoData?a().sanitize(c()(this.renderMustache?this.mustacheRendered:this.dataMarkdown)):this.loading?"":"No data"}},watch:{markdown:(0,E.Z)((function(){this.dataMarkdown=this.markdown}),500)},created:function(){this.dataMarkdown=this.markdown},render:function(e,t,n,s,a,l){return(0,i.wg)(),(0,i.iD)("div",{class:(0,r.C_)([l.isNoData&&!n.withoutData?"d-flex align-items-center justify-content-center":"bg-white","richtext"]),innerHTML:l.sanitizedHtml},null,10,o)}}},3093:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(6252);n(6699),n(2023),n(7327),n(1249),n(4916),n(3123),n(3210),n(2772),n(4723),n(9600),n(4944);const r={name:"OptionsSelect",props:{modelValue:{type:[Array,String],required:!1,default:function(){return[]}}},emits:["update:modelValue"],data:function(){return{optionsString:""}},computed:{optionsArray:function(){if(this.optionsString){var e=this.optionsString.includes("\n")?"\n":",";return this.optionsString.split(e).map((function(e){return e.trim()})).filter((function(e,t,n){return t===n.indexOf(e)})).filter((function(e){return!e.match(/^\s*$/)}))}return[]}},watch:{modelValue:function(){this.modelValue?this.optionsString=this.modelValue.join("\n"):this.optionsString=""}},created:function(){this.optionsString=Array(this.modelValue).flat().join("\n")},render:function(e,t,n,r,o,s){var a=(0,i.up)("VInput");return(0,i.wg)(),(0,i.j4)(a,{modelValue:o.optionsString,"onUpdate:modelValue":[t[0]||(t[0]=function(e){return o.optionsString=e}),t[1]||(t[1]=function(t){return e.$emit("update:modelValue",s.optionsArray)})],type:"textarea",placeholder:e.i18n.options_separated_with_new_line_or_comma,autosize:{minRows:3,maxRows:7}},null,8,["modelValue","placeholder"])}}},4635:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(6252),r=n(3577);(0,i.dD)("data-v-2c7fccee");var o={class:"ivu-tabs"},s={class:"ivu-tabs-bar"},a={tabindex:"0",class:"ivu-tabs-nav-container"},l={class:"ivu-tabs-nav-wrap",style:{position:"relative"}},c={class:"ivu-tabs-scroll"};(0,i.Cn)(),n(2772);const u={name:"SimpleTabs",props:{tabs:{type:Array,required:!0},position:{type:String,required:!1,default:"start"},modelValue:{type:String,required:!1,default:""}},emits:["update:modelValue"],data:function(){return{currentTab:"",tabRefs:[]}},watch:{modelValue:function(e){this.currentTab=e}},mounted:function(){var e;this.currentTab=this.modelValue||(null===(e=this.tabs[0])||void 0===e?void 0:e.value)},beforeUpdate:function(){this.tabRefs=[]},methods:{setTabRef:function(e){e&&this.tabRefs.push(e)},onTabClick:function(e){e.value&&(this.currentTab=e.value,this.$emit("update:modelValue",e.value));var t=this.tabs.indexOf(e),n=this.tabRefs[t+1]||this.tabRefs[t],i=(null==n?void 0:n.$el)||n;null==i||i.scrollIntoView({inline:"end",block:"start",behavior:"smooth"})}},render:function(e,t,n,u,d,h){return(0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",s,[(0,i._)("div",a,[(0,i._)("div",l,[(0,i._)("div",c,[(0,i._)("div",{class:(0,r.C_)(["ivu-tabs-nav","text-".concat(n.position," w-100")])},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.tabs,(function(e){return(0,i.wg)(),(0,i.j4)((0,i.LL)(e.to?"RouterLink":"div"),{ref:h.setTabRef,key:e.value,class:(0,r.C_)([e.value===d.currentTab?"ivu-tabs-tab-focused ivu-tabs-tab-active":"","ivu-tabs-tab"]),to:e.to,onClick:function(t){return h.onTabClick(e)}},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.label),1)]})),_:2},1032,["class","to","onClick"])})),128))],2)])])])]),(0,i.WI)(e.$slots,"default",{},void 0,!0)])},__scopeId:"data-v-2c7fccee"}},4654:()=>{}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.amdD=function(){throw new Error("define cannot be used indirect")},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";n(9601),n(8662);var e=n(9963),t=n(6252);n(2564);var i={key:0,class:"text-center"},r=(0,t._)("p",{class:"fs-1 fw-bold mb-3 text-center"},"  Welcome to Motor Admin ",-1),o=(0,t._)("p",{class:"fs-4 mb-4"}," Motor Admin allows to create a powerful admin panel with writing less code. ",-1),s=(0,t.Uk)(" Watch Features Overview "),a=(0,t._)("br",null,null,-1),l={key:1,class:"text-center"},c=n(3577),u={class:"row"},d=(0,t._)("div",{class:"col-12 mb-3 text-center fs-3"}," Subscribe to receive developer newsletters with feature updates ",-1),h={key:1,class:"fs-3"},p=(0,t.Uk)(" You have been subscribed for newsletters ");n(1539),n(8674),n(7727);var f=n(9669),m=n.n(f),g=(n(9070),n(7941),n(2526),n(7327),n(5003),n(9554),n(4747),n(9337),n(3321),n(2262));function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w="motor:navigation:hide_help",_="motor:navigation:hide_welcome",x="motor:current_user:is_subscribed",k=document.getElementById("app"),C=JSON.parse(k.getAttribute("data-current-user")||"null")||{},S=JSON.parse(k.getAttribute("data-audits-count")),A=S<20&&!localStorage.getItem(w),D=0===S&&!localStorage.getItem(_),O=!!localStorage.getItem(x),T=(0,g.qj)(y(y({},C),{},{auditsCount:S,showWelcome:D,showHelp:A,isSubscribed:O}));(0,t.YP)((function(){return T.showHelp}),(function(e){e?localStorage.removeItem(w):localStorage.setItem(w,"true")})),(0,t.YP)((function(){return T.showWelcome}),(function(e){e?localStorage.removeItem(_):localStorage.setItem(_,"true")})),(0,t.YP)((function(){return T.isSubscribed}),(function(e){e?localStorage.setItem(x,"true"):localStorage.removeItem(x)}));const E={name:"SetupForm",props:{submitText:{type:String,required:!1,default:"Subscribe"}},emits:["error","success"],data:function(){return{isLoading:!1,isSubmitted:T.isSubscribed,value:{email:T.email}}},computed:{rules:function(){return{email:[{required:!0,type:"email"}]}}},methods:{submit:function(){var e=this;this.isLoading=!0,m().post("https://motor-admin.herokuapp.com/api/subscribe",{email:this.value.email}).then((function(t){T.isSubscribed=!0,e.$emit("success",t.data.data)})).catch((function(t){console.error(t),e.$emit("error",t)})).finally((function(){e.isSubmitted=!0,e.isLoading=!1}))},handleSubmit:function(){var e=this;this.$refs.form.validate((function(t){t&&e.submit()}))}},render:function(n,i,r,o,s,a){var l=(0,t.up)("VInput"),f=(0,t.up)("FormItem"),m=(0,t.up)("VButton"),g=(0,t.up)("Spin"),v=(0,t.up)("VForm"),y=(0,t.up)("Icon");return s.isSubmitted?((0,t.wg)(),(0,t.iD)("div",h,[(0,t.Wm)(y,{type:"md-checkmark-circle text-success"}),p])):((0,t.wg)(),(0,t.j4)(v,{key:0,ref:"form",model:s.value,rules:a.rules,onSubmit:(0,e.iM)(a.handleSubmit,["prevent"]),onKeyup:(0,e.D2)(a.handleSubmit,["enter"])},{default:(0,t.w5)((function(){return[(0,t._)("div",u,[d,(0,t.Wm)(f,{prop:"email",class:"col-12"},{default:(0,t.w5)((function(){return[(0,t.Wm)(l,{modelValue:s.value.email,"onUpdate:modelValue":i[0]||(i[0]=function(e){return s.value.email=e}),prefix:"md-mail",type:"email",name:"email",disabled:s.isSubmitted,size:"large",placeholder:"example@example.com"},null,8,["modelValue","disabled"])]})),_:1})]),(0,t.Wm)(m,{type:"primary",class:"mt-1",size:"large",long:"",onClick:a.handleSubmit},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(r.submitText),1)]})),_:1},8,["onClick"]),s.isLoading?((0,t.wg)(),(0,t.j4)(g,{key:0,size:"large",fix:""})):(0,t.kq)("v-if",!0)]})),_:1},8,["model","rules","onSubmit","onKeyup"]))}},$={name:"WelcomeModal",components:{SubscribeFrom:E},emits:["close","open-guides"],data:function(){return{step:"welcome"}},render:function(n,c,u,d,h,p){var f=(0,t.up)("VButton"),m=(0,t.up)("SubscribeFrom");return(0,t.wg)(),(0,t.iD)(t.HY,null,["welcome"===h.step?((0,t.wg)(),(0,t.iD)("div",i,[r,o,(0,t.Wm)(f,{size:"large",class:"fs-4 mb-4",type:"primary",ghost:"",onClick:c[0]||(c[0]=function(e){return n.$emit("open-guides")})},{default:(0,t.w5)((function(){return[s]})),_:1}),a,(0,t._)("a",{href:"#",onClick:c[1]||(c[1]=(0,e.iM)((function(e){return h.step="subscribe"}),["prevent"]))}," Skip ")])):(0,t.kq)("v-if",!0),"subscribe"===h.step?((0,t.wg)(),(0,t.iD)("div",l,[(0,t.Wm)(m,{class:"mb-3"}),(0,t._)("a",{href:"#",onClick:c[2]||(c[2]=(0,e.iM)((function(e){return n.$emit("close")}),["prevent"]))}," Skip ")])):(0,t.kq)("v-if",!0)],64)}};n(8309),(0,t.dD)("data-v-7bfab234");var M={class:"ivu-menu ivu-menu-primary ivu-menu-horizontal row m-0"},R={class:"col-10 d-flex align-items-center"},L=(0,t._)("div",{class:"d-flex align-items-center"},[(0,t._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-bolt",width:"26",height:"26",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[(0,t._)("path",{stroke:"none",d:"M0 0h26v26H0z",fill:"none"}),(0,t._)("polyline",{points:"13 3 13 10 19 10 11 21 11 14 5 14 13 3"})])],-1),P={class:"col-2 d-flex justify-content-end align-items-center"},F={key:0,style:{"vertical-align":"middle"}};(0,t.Cn)(),n(5827),n(9826),n(1249),n(4916),n(5306),n(4603),n(9714),n(4723),n(6699);var I=n(7248);n(9600),n(4553),n(561),n(7042),n(2222),n(3210),n(1058),n(6992),n(189),n(8783),n(3948),n(3123),n(2023),n(2707),n(4944),n(5069),n(9753),n(1817),n(2165),n(1038);var j=n(48),N=n(8424),V=n(2345),B=n(7209),q=n(8688);const z={name:"SearchOption",props:{option:{type:Object,required:!0}},computed:{iconClasses:function(){return{resource:"md-grid",query:"md-list",dashboard:"md-analytics",resource_search:"md-search",resource_id:"md-open",new_query:"md-create",new_dashboard:"md-create",new_alert:"md-create",new_form:"md-create",alert:"md-notifications",form:"md-list-box"}}},render:function(e,n,i,r,o,s){var a=(0,t.up)("Icon");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(a,{type:s.iconClasses[i.option.type]},null,8,["type"]),(0,t.Uk)(" "+(0,c.zw)(i.option.value),1)],64)},__scopeId:"data-v-2e1b125a"};var W=n(5423);const U={:"A",:"A",:"A",:"A",:"A",:"A",:"AE",:"C",:"E",:"E",:"E",:"E",:"I",:"I",:"I",:"I",:"D",:"N",:"O",:"O",:"O",:"O",:"O","":"x",:"O",:"U",:"U",:"U",:"U",:"Y",:"Th",:"ss",:"a",:"a",:"a",:"a",:"a",:"a",:"ae",:"c",:"e",:"e",:"e",:"e",:"i",:"i",:"i",:"i",:"d",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"u",:"u",:"u",:"u",:"y",:"th",:"y",:"A",:"a",:"A",:"a",:"A",:"a",:"C",:"c",:"C",:"c",:"C",:"c",:"C",:"c",:"D",:"d",:"D",:"d",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"G",:"g",:"G",:"g",:"G",:"g",:"G",:"g",:"H",:"h",:"H",:"h",:"I",:"i",:"I",:"i",:"I",:"i",:"I",:"i",:"I",:"i",:"IJ",:"ij",:"J",:"j",:"K",:"k",:"k",:"L",:"l",:"L",:"l",:"L",:"l",:"L",:"l",:"L",:"l",:"N",:"n",:"N",:"n",:"N",:"n",:"'n",:"NG",:"ng",:"O",:"o",:"O",:"o",:"O",:"o",:"OE",:"oe",:"R",:"r",:"R",:"r",:"R",:"r",:"S",:"s",:"S",:"s",:"S",:"s",:"S",:"s",:"T",:"t",:"T",:"t",:"T",:"t",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"z",:"Z",:"z",:"Z",:"z",:"A",:"B",:"V",:"G",:"D",:"E",:"E",:"ZH",:"Z",:"I",:"J",:"K",:"L",:"M",:"N",:"O",:"P",:"R",:"S",:"T",:"U",:"F",:"KH",:"C",:"CH",:"SH",:"SHCH",:"",:"Y",:"",:"E",:"YU",:"YA",:"a",:"b",:"v",:"g",:"d",:"e",:"e",:"zh",:"z",:"i",:"j",:"k",:"l",:"m",:"n",:"o",:"p",:"r",:"s",:"t",:"u",:"f",:"kh",:"c",:"ch",:"sh",:"shch",:"",:"y",:"",:"e",:"yu",:"ya"},H={};class K{static getInstance(e){return H[e]=H[e]||new K,H[e]}constructor(){this.approximations={};for(const e in U)this.approximate(e,U[e])}approximate(e,t){this.approximations[e]=t}transliterate(e,t){return e.replace(/[^\u0000-\u007f]/g,(e=>this.approximations[e]||t||"?"))}}function Z(e,t={}){const n=t.locale||"en",i=t.replacement||"?";return function(e,t){if((0,W.Z)(e)&&(t=e,e=null),e=e||"en",!t)return K.getInstance(e);t(K.getInstance(e))}(n).transliterate(e,i)}function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){Q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e){return function(e){if(Array.isArray(e))return X(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var ee={get KEY(){return"search:recentlySelected"},get DISPLAY_LIMIT(){return 6},push:function(e){var t=this.all(),n=t.findIndex((function(t){return t.value===e.value&&t.type===e.type}));-1!==n&&t.splice(n,1),localStorage.setItem(this.KEY,JSON.stringify([e].concat(J(t)).slice(0,20)))},displayOptions:function(){return this.all().slice(0,this.DISPLAY_LIMIT)},all:function(){return JSON.parse(localStorage.getItem(this.KEY)||"[]")}};const te={name:"NavigationSearch",emits:["selected"],data:function(){return{value:"",options:[],isLoaded:!1}},computed:{optionComponent:function(){return z},visibleModels:function(){return j.fK.filter((function(e){return e.visible})).map((function(e){return Y(Y({},e),{},{normalizedName:Z(e.display_name.toLowerCase())})}))},normalizedValue:function(){return Z(this.value.toLowerCase().trim())},withId:function(){return this.foundResources.length&&this.cleanedValue.match(/^\d+$/)&&parseInt(this.cleanedValue)>0},cleanedValue:function(){return this.foundResources.reduce((function(e,t){var n=new Set([].concat(J(t.display_name.toLowerCase().split(" ")),J(t.name.split("_"))));return J(n).reduce((function(e,t){return e.replace(t,"")}),e).trim()}),this.normalizedValue).replace(/[#"]/g,"")},foundResources:function(){var e=this;if(this.value){var t=this.visibleModels.filter((function(t){return t.normalizedName.match(new RegExp("\\b".concat(e.normalizedValue)))}));return t.length||(t=this.visibleModels.filter((function(t){return t.normalizedName.match(new RegExp("\\b".concat(e.normalizedValue.replace(/\s["#\w]+$/,""))))}))),t.length||(t=this.visibleModels.filter((function(t){return e.normalizedValue.includes(t.normalizedName.replace(/e?s\b/,""))}))),t.sort((function(e,t){return e.display_name.length>t.display_name.length?-1:1}))}return[]},foundAssets:function(){var e=this;return this.allAssets.filter((function(t){return t.normalizedName.includes(e.normalizedValue)})).slice(0,8)},allAssets:function(){return[].concat(J(N.ay),J(V.r.map((function(e){return Y(Y({},e),{},{type:"form"})})))).map((function(e){return Y(Y({},e),{},{normalizedName:Z((e.name||e.title).toLowerCase())})}))},pages:function(){return[{value:this.i18n.new_query,type:"new_query"},{value:this.i18n.new_dashboard,type:"new_dashboard"},{value:this.i18n.new_alert,type:"new_alert"},{value:this.i18n.new_form,type:"new_form"}]},foundPages:function(){var e=this;return this.pages.filter((function(t){return t.value.toLowerCase().includes(e.normalizedValue)}))}},mounted:function(){var e=this;this.options=ee.displayOptions(),this.$nextTick((function(){e.$el.querySelector("input").focus()})),setTimeout((function(){e.$el.querySelector("input").click()}),200)},methods:{buildItems:function(){var e=this,t=this.foundAssets.map((function(e){return{value:e.title||e.name,type:e.type,id:e.id}})),n=J(this.foundResources).reverse().map((function(t){return[e.withId&&e.buildResourceIdOptions(t),!e.withId&&e.withQuery(t)&&e.buildResourceSearchOptions(t),{type:"resource",slug:t.slug,value:t.display_name}].filter(Boolean)})).flat().slice(0,6),i=[].concat(J(n),J(t),J(this.foundPages));return 0===i.length&&(i=(i=ee.all().filter((function(e){return"resource_search"===e.type})).map((function(t){return Y(Y({},t),{},{value:t.value.replace(/".*"/,'"'.concat(e.cleanedValue,'"')),query:e.cleanedValue})}))).filter((function(e,t,n){return i.findIndex((function(t){return t.slug===e.slug}))===t}))),i.sort((function(t,n){return t.value.toLowerCase()===e.normalizedValue?-1:1}))},withQuery:function(e){return this.foundResources.length&&this.cleanedValue&&this.normalizedValue.includes(" ")&&!e.display_name.toLowerCase().match(new RegExp("\\b".concat(this.normalizedValue)))},buildResourceIdOptions:function(e){return{type:"resource_id",slug:e.slug,id:this.cleanedValue,value:"".concat((0,q.Z)(e.display_name)," #").concat(this.cleanedValue)}},buildResourceSearchOptions:function(e){return{type:"resource_search",slug:e.slug,query:this.cleanedValue,value:"".concat((0,q.Z)(e.display_name),' "').concat(this.cleanedValue,'"')}},onSelect:function(e){"query"===e.type?this.$router.push({name:"query",params:{id:e.id}}):"dashboard"===e.type?this.$router.push({name:"dashboard",params:{id:e.id}}):"alert"===e.type?this.$router.push({name:"alert",params:{id:e.id}}):"form"===e.type?this.$router.push({name:"form",params:{id:e.id}}):"resource"===e.type?this.$router.push({name:"resources",params:{fragments:[e.slug]}}):"resource_id"===e.type?this.$router.push({name:"resources",params:{fragments:[e.slug,e.id]}}):"resource_search"===e.type?this.$router.push({name:"resources",params:{fragments:[e.slug]},query:{q:e.query}}):"new_query"===e.type?this.$router.push({name:"new_query"}):"new_dashboard"===e.type?this.$router.push({name:"new_dashboard"}):"new_alert"===e.type?this.$router.push({name:"new_alert"}):"new_form"===e.type&&this.$router.push({name:"new_form"}),ee.push(e),this.$emit("selected",e)},onSearch:(0,B.Z)((function(e){return this.value=e,this.isLoaded||((0,N.XD)(),(0,V.j)()),this.value.length?this.options=this.buildItems():this.options=ee.displayOptions(),Promise.resolve()}),200)},render:function(e,n,i,r,o,s){var a=(0,t.up)("MSelect");return(0,t.wg)(),(0,t.j4)(a,{icon:"ios-search",size:"large",border:!1,options:o.options,"focus-first":!0,"value-function":function(e){return[e.value,e.type].join("::")},filterable:"","label-key":"value","with-deselect":!1,"option-component":s.optionComponent,"remote-function":s.onSearch,onSelect:s.onSelect},null,8,["options","value-function","option-component","remote-function","onSelect"])}};(0,t.dD)("data-v-1d7bb568");var ne={class:"row"},ie={class:"col-12 col-xl-2 order-1 order-xl-0"},re={class:"col-12 col-xl-10"},oe={key:0},se={class:"video-container"},ae=["src"],le={class:"mt-2 text-center"},ce=(0,t.Uk)(" Next "),ue={key:1,class:"text-center mb-2",style:{"max-width":"530px",margin:"auto"}},de=(0,t._)("p",{class:"fs-3"}," Have a problem or found a bug? ",-1),he=(0,t.Uk)(" Open Issue "),pe=(0,t._)("p",{class:"fs-3 mt-3"}," Enjoy using Motor Admin? ",-1),fe=(0,t.Uk)(" Give a Star ");(0,t.Cn)();const me={name:"Guides",components:{SubscribeFrom:E},data:function(){return{currentStep:"",autoplay:0,isSubscribed:T.isSubscribed}},computed:{currentUser:function(){return T},currentItem:function(){var e=this;return this.steps.find((function(t){return t.key===e.currentStep}))},steps:function(){return[{name:"Adjusting resources",videoId:"ngVoci8Hll4",key:"adjusting_resources"},{name:"Adding column",videoId:"6T5aNhnilI8",key:"adding_column"},{name:"Query visualization",videoId:"HSOc3iKxss4",key:"query_visualization"},{name:"Creating dashboard",videoId:"ciBGwqOUlgg",key:"creating_dashboard"},{name:"Custom form action",videoId:"ZQeR67dKiMI",key:"custom_form_action"},{name:"Other",key:"other"}]}},created:function(){this.currentStep=this.steps[0].key},methods:{changeStep:function(e){this.currentStep=e,this.autoplay=1},nextStep:function(){var e=this,t=this.steps.findIndex((function(t){return t.key===e.currentStep}));this.autoplay=1,this.currentStep=this.steps[t+1].key}},render:function(e,n,i,r,o,s){var a=(0,t.up)("VButton"),l=(0,t.up)("Icon"),u=(0,t.up)("SubscribeFrom");return(0,t.wg)(),(0,t.iD)("div",ne,[(0,t._)("div",ie,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.steps,(function(e){return(0,t.wg)(),(0,t.j4)(a,{key:e.key,class:"mb-2 d-block w-100",type:s.currentItem===e?"primary":"default",ghost:s.currentItem===e,onClick:function(t){return s.changeStep(e.key)}},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.name),1)]})),_:2},1032,["type","ghost","onClick"])})),128))]),(0,t._)("div",re,[s.currentItem.videoId?((0,t.wg)(),(0,t.iD)("div",oe,[(0,t._)("div",se,[(0,t._)("iframe",{src:"https://www.youtube.com/embed/".concat(s.currentItem.videoId,"?rel=0&autoplay=").concat(o.autoplay),frameborder:"0",allow:"fullscreen;"},null,8,ae)]),(0,t._)("div",le,[(0,t.Wm)(a,{type:"primary",size:"large",class:"d-none d-xl-inline",onClick:s.nextStep},{default:(0,t.w5)((function(){return[ce,(0,t.Wm)(l,{type:"ios-arrow-forward"})]})),_:1},8,["onClick"])])])):((0,t.wg)(),(0,t.iD)("div",ue,[o.isSubscribed?(0,t.kq)("v-if",!0):((0,t.wg)(),(0,t.j4)(u,{key:0,class:"mb-4"})),de,(0,t.Wm)(a,{to:"https://github.com/motor-admin/motor-admin-rails/issues/new",target:"_blank",icon:"ios-bug",class:"mt-3",size:"large"},{default:(0,t.w5)((function(){return[he]})),_:1},8,["to"]),pe,(0,t.Wm)(a,{to:"https://github.com/motor-admin/motor-admin-rails/stargazers",target:"_blank",class:"mt-3",icon:"md-star",size:"large"},{default:(0,t.w5)((function(){return[fe]})),_:1},8,["to"])]))])])},__scopeId:"data-v-1d7bb568"};n(2772),n(9254),(0,t.dD)("data-v-1517d4bd");var ge={class:"ivu-card ivu-card-bordered"},ve={class:"ivu-card-body py-0"},ye={class:"d-flex align-items-center"},be={class:"d-flex align-items-center"};(0,t.Cn)();var we={class:"d-flex justify-content-between"},_e=n(5487);function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){Ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Se={name:"LinkForm",props:{link:{type:Object,required:!0},submitText:{type:String,required:!1,default:_e.c.save},withRemove:{type:Boolean,required:!1,default:!1}},emits:["cancel","submit","remove"],data:function(){return{isLoading:!1,dataLink:ke({},this.link)}},computed:{linkTypeOptions:function(){return[{label:this.i18n.header,value:"header"},{label:this.i18n.user_dropdown,value:"user_dropdown"}]},rules:function(){return{name:[{required:!0,message:(0,_e.w)("name")}],path:[{required:!0,message:(0,_e.w)("path")}]}}},methods:{submit:function(){var e=this;this.$refs.form.validate((function(t){t&&e.$emit("submit",[e.link,e.dataLink])}))}},render:function(n,i,r,o,s,a){var l=(0,t.up)("VInput"),u=(0,t.up)("FormItem"),d=(0,t.up)("MSelect"),h=(0,t.up)("VForm"),p=(0,t.up)("VButton");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t.Wm)(h,{ref:"form",rules:a.rules,"label-position":"top",model:s.dataLink,onSubmit:(0,e.iM)(a.submit,["prevent"])},{default:(0,t.w5)((function(){return[(0,t.Wm)(u,{label:n.i18n.name,prop:"name"},{default:(0,t.w5)((function(){return[(0,t.Wm)(l,{modelValue:s.dataLink.name,"onUpdate:modelValue":i[0]||(i[0]=function(e){return s.dataLink.name=e}),placeholder:n.i18n.link_name,onKeydown:(0,e.D2)(a.submit,["enter"])},null,8,["modelValue","placeholder","onKeydown"])]})),_:1},8,["label"]),(0,t.Wm)(u,{label:n.i18n.path,prop:"path"},{default:(0,t.w5)((function(){return[(0,t.Wm)(l,{modelValue:s.dataLink.path,"onUpdate:modelValue":i[1]||(i[1]=function(e){return s.dataLink.path=e}),placeholder:"/path",onKeydown:(0,e.D2)(a.submit,["enter"])},null,8,["modelValue","onKeydown"])]})),_:1},8,["label"]),(0,t.Wm)(u,{label:n.i18n.type,prop:"type"},{default:(0,t.w5)((function(){return[(0,t.Wm)(d,{modelValue:s.dataLink.link_type,"onUpdate:modelValue":i[2]||(i[2]=function(e){return s.dataLink.link_type=e}),options:a.linkTypeOptions},null,8,["modelValue","options"])]})),_:1},8,["label"])]})),_:1},8,["rules","model","onSubmit"]),(0,t._)("div",we,[(0,t._)("div",null,[r.withRemove?((0,t.wg)(),(0,t.j4)(p,{key:0,type:"error",ghost:"",class:"me-2",onClick:i[3]||(i[3]=function(e){return n.$emit("remove",r.link)})},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(n.i18n.remove),1)]})),_:1})):(0,t.kq)("v-if",!0),(0,t.Wm)(p,{onClick:i[4]||(i[4]=function(e){return n.$emit("cancel")})},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(n.i18n.cancel),1)]})),_:1})]),(0,t.Wm)(p,{type:"primary",loading:s.isLoading,onClick:a.submit},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(r.submitText),1)]})),_:1},8,["loading","onClick"])])])}},Ae={name:"LinkItem",components:{LinkForm:Se},props:{link:{type:Object,required:!0}},emits:["remove","submit"],data:function(){return{isForm:!1}},methods:{toggleForm:function(){this.isForm=!this.isForm},onSubmit:function(e){this.isForm=!1,this.$emit("submit",e)},onRemove:function(e){this.isForm=!1,this.$emit("remove",e)}},render:function(n,i,r,o,s,a){var l=(0,t.up)("Icon"),u=(0,t.up)("Contenteditable"),d=(0,t.up)("LinkForm");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("div",ge,[(0,t._)("div",ve,[(0,t._)("div",{class:"cursor-pointer d-flex align-items-center justify-content-between py-2",style:(0,c.j5)({opacity:s.isForm||"hidden"!==r.link.access_type?1:.5}),onClick:i[3]||(i[3]=function(){return a.toggleForm&&a.toggleForm.apply(a,arguments)})},[(0,t._)("div",ye,[(0,t.Wm)(l,{type:"ios-menu",class:"me-3 cursor-grab handle"}),(0,t.Wm)(u,{modelValue:r.link.name,"onUpdate:modelValue":i[0]||(i[0]=function(e){return r.link.name=e}),class:"fs-5 fw-bold",onClick:i[1]||(i[1]=(0,e.iM)((function(){}),["stop"])),onChange:i[2]||(i[2]=function(e){return n.$emit("submit",[r.link,r.link])})},null,8,["modelValue"])]),(0,t._)("div",be,[(0,t.Wm)(l,{type:s.isForm?"ios-arrow-up":"ios-arrow-down"},null,8,["type"])])],4),s.isForm?((0,t.wg)(),(0,t.j4)(d,{key:0,link:r.link,class:"py-3","with-remove":!0,onCancel:a.toggleForm,onRemove:a.onRemove,onSubmit:a.onSubmit},null,8,["link","onCancel","onRemove","onSubmit"])):(0,t.kq)("v-if",!0)])])])},__scopeId:"data-v-1517d4bd"};var De=(0,g.qj)(JSON.parse(document.getElementById("app").getAttribute("data-header-links")));function Oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Te(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function $e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Me={name:"",path:"",link_type:"header"};const Re={name:"HeaderEdit",components:{LinkItem:Ae,LinkForm:Se},data:function(){return{newLink:null}},computed:{links:function(){return De}},mounted:function(){this.links.length||this.addLink()},methods:{addLink:function(){this.newLink=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){$e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Me)},removeLink:function(e){var t=this.links.indexOf(e);this.links.splice(t,1),this.persistChanges()},onSubmitNew:function(e){this.newLink=null,this.onLinkSubmit(e)},replaceLink:function(e){var t=Oe(e,2),n=t[0],i=t[1],r=this.links.indexOf(n);this.links.splice(r,1,i),this.persistChanges()},pushNewLink:function(e){var t=Oe(e,2),n=(t[0],t[1]);this.links.push(n),this.persistChanges(),this.newLink=null},persistChanges:function(){return I.Z.post("configs",{data:{key:"header.links",value:this.links}}).then((function(e){})).catch((function(e){console.error(e)}))}},render:function(e,n,i,r,o,s){var a=(0,t.up)("LinkItem"),l=(0,t.up)("VueDraggableNext"),u=(0,t.up)("LinkForm"),d=(0,t.up)("Card"),h=(0,t.up)("VButton");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(l,{list:s.links,handle:".handle",onChange:s.persistChanges},{default:(0,t.w5)((function(){return[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.links,(function(e){return(0,t.wg)(),(0,t.j4)(a,{key:e.path,link:e,class:"pb-2",onRemove:s.removeLink,onSubmit:s.replaceLink},null,8,["link","onRemove","onSubmit"])})),128))]})),_:1},8,["list","onChange"]),o.newLink?((0,t.wg)(),(0,t.j4)(d,{key:0},{default:(0,t.w5)((function(){return[(0,t.Wm)(u,{link:o.newLink,"submit-text":e.i18n.add_link,onCancel:n[0]||(n[0]=function(e){return o.newLink=null}),onSubmit:s.pushNewLink},null,8,["link","submit-text","onSubmit"])]})),_:1})):((0,t.wg)(),(0,t.iD)("div",{key:1,class:(0,c.C_)(s.links.length?"py-2 border-top":"")},[(0,t.Wm)(h,{long:"",icon:"md-add",onClick:s.addLink},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.add_link),1)]})),_:1},8,["onClick"])],2))],64)}};var Le=n(649),Pe=n(7605),Fe=n(8564),Ie=n(873),je=(n(3710),n(4800));function Ne(e){return"new_query"===e.name?je.Z.$can("create","Motor::Query"):"new_form"===e.name?je.Z.$can("create","Motor::Form"):"new_alert"===e.name?je.Z.$can("create","Motor::Alert"):"new_dashboard"===e.name?je.Z.$can("create","Motor::Dashboard"):"resources"===e.name?je.Z.$can("create","Motor::Query"):"dashboard"===e.name?N.n3.find((function(t){return t.id.toString()===e.params.id.toString()})):"form"===e.name?V.r.find((function(t){return t.id.toString()===e.params.id.toString()})):"query"===e.name?N.db.find((function(t){return t.id.toString()===e.params.id.toString()})):"alert"===e.name?N.vS.find((function(t){return t.id.toString()===e.params.id.toString()})):"resources"===e.name?!!j.ik[e.params.fragments[0]]:void 0}const Ve={name:"App",components:{AppHeader:{name:"AppHeader",computed:{isShowSettings:Fe.Qy,currentUser:function(){return T},adminSettingsPath:function(){return Le.sc},canReadReports:function(){return this.$can("read","Motor::Query")||this.$can("read","Motor::Dashboard")||this.$can("read","Motor::Alert")},isShowCreateButton:function(){return this.$can("create","Motor::Query")||this.$can("create","Motor::Dashboard")||this.$can("create","Motor::Alert")||this.$can("create","Motor::Form")},links:function(){return De},linksToRenderForUserDropdown:function(){return this.normalizeLinks(this.links.filter((function(e){return"user_dropdown"===e.link_type})))},linksToRender:function(){return this.normalizeLinks(this.links.filter((function(e){return!e.link_type||"header"===e.link_type})))},currentResource:function(){if("resources"===this.$route.name)return this.$route.params.fragments.reduce((function(e,t,n){var i,r;return n%2==0?j.r3[null===(i=e.associations)||void 0===i||null===(r=i.find((function(e){return e.slug===t})))||void 0===r?void 0:r.model_name]||j.ik[t]:e}),{})}},methods:{widthLessThan:Pe.aJ,openSettingsDrawer:Ie.r,normalizeLinks:function(e){var t=this;return e.map((function(e){var n={name:e.name},i=e.path.replace(location.origin,"").replace(new RegExp("^".concat(Le.sb)),"/");if(n.to=i,i.match(/^https?:/))return n.target="_blank",n;var r=t.$router.resolve({path:i},t.$route);return null!=r&&r.name?Ne(r)?n:null:n})).filter(Boolean)},signOut:function(){I.Z.delete("session").then((function(){document.location.href="/"}))},openSearch:function(){var e=this;this.$Modal.open(te,{placeholder:this.i18n.search_placeholder,onSelected:function(t){e.$Modal.remove()}})},openGuides:function(){this.$Modal.open(me,{},{closable:!0,className:"modal-size-large"})},openEditModal:function(){this.$Drawer.open(Re,{},{title:this.i18n.links,closable:!0})},onSettingsClick:function(){if(this.isShowSettings)return(0,Fe.js)();["resources"].includes(this.$route.name)&&!(0,Pe.aJ)("sm")?(0,Fe.js)():(0,Ie.r)({selectedResource:this.currentResource})}},render:function(e,n,i,r,o,s){var a,l=(0,t.up)("VButton"),u=(0,t.up)("DropdownItem"),d=(0,t.up)("Icon"),h=(0,t.up)("DropdownMenu"),p=(0,t.up)("Dropdown");return(0,t.wg)(),(0,t.iD)("div",M,[(0,t._)("div",R,[(0,t.Wm)(l,{to:{name:"home"},type:"primary",class:"d-flex align-items-center justify-content-center",style:{width:"44px",height:"42px"}},{default:(0,t.w5)((function(){return[L]})),_:1}),s.widthLessThan("sm")?(0,t.kq)("v-if",!0):((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[s.canReadReports?((0,t.wg)(),(0,t.j4)(l,{key:0,type:"primary",to:{name:"reports"},class:"header-btn ms-2",size:"large"},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.reports),1)]})),_:1})):(0,t.kq)("v-if",!0),e.$can("read","Motor::Form")?((0,t.wg)(),(0,t.j4)(l,{key:1,type:"primary",class:"header-btn ms-2",size:"large",to:{name:"forms"}},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.forms),1)]})),_:1})):(0,t.kq)("v-if",!0),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.linksToRender,(function(e){return(0,t.wg)(),(0,t.j4)(l,{key:e.name,type:"primary",class:"header-btn ms-2",target:e.target,size:"large",to:e.to},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.name),1)]})),_:2},1032,["target","to"])})),128)),e.$can("manage","Motor::Config")?((0,t.wg)(),(0,t.j4)(l,{key:2,type:"primary",class:"ms-2 add-item-btn",icon:"md-add",onClick:s.openEditModal},null,8,["onClick"])):(0,t.kq)("v-if",!0)],64))]),(0,t._)("div",P,[null!==(a=s.currentUser)&&void 0!==a&&a.email&&!s.widthLessThan("sm")?((0,t.wg)(),(0,t.j4)(p,{key:0,trigger:"click",placement:"bottom-end",class:"ms-2"},{list:(0,t.w5)((function(){return[(0,t.Wm)(h,null,{default:(0,t.w5)((function(){return[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.linksToRenderForUserDropdown,(function(e){return(0,t.wg)(),(0,t.j4)(u,{key:e.name},{default:(0,t.w5)((function(){return[(0,t.Wm)(l,{type:"text",target:e.target,to:e.to,class:"p-0 bg-transparent text-dark",style:{"line-height":"unset",height:"unset"}},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.name),1)]})),_:2},1032,["target","to"])]})),_:2},1024)})),128)),(0,t.Wm)(u,{divided:0!==s.linksToRenderForUserDropdown.length,onClick:s.signOut},{default:(0,t.w5)((function(){return[(0,t.Wm)(d,{type:"md-exit",size:"large"}),(0,t.Uk)(" "+(0,c.zw)(e.i18n.sign_out),1)]})),_:1},8,["divided","onClick"])]})),_:1})]})),default:(0,t.w5)((function(){return[s.currentUser?((0,t.wg)(),(0,t.j4)(l,{key:0,type:"primary",class:"header-btn ms-2",size:"large"},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(s.currentUser.email),1)]})),_:1})):(0,t.kq)("v-if",!0)]})),_:1})):(0,t.kq)("v-if",!0),!s.isShowSettings&&s.currentUser.showHelp?((0,t.wg)(),(0,t.j4)(l,{key:1,type:"primary",size:"large",class:"header-btn",onClick:s.openGuides},{default:(0,t.w5)((function(){return[(0,t.Wm)(d,{type:"md-help",size:"large"})]})),_:1},8,["onClick"])):(0,t.kq)("v-if",!0),!s.isShowSettings&&s.adminSettingsPath&&e.$can("manage","all")?((0,t.wg)(),(0,t.j4)(l,{key:2,type:"primary",size:"large",class:"header-btn",to:s.adminSettingsPath},{default:(0,t.w5)((function(){return[(0,t.Wm)(d,{type:"md-person-add",size:"large"})]})),_:1},8,["to"])):(0,t.kq)("v-if",!0),s.isShowSettings?(0,t.kq)("v-if",!0):((0,t.wg)(),(0,t.j4)(l,{key:3,type:"primary",size:"large",class:"ms-2 header-btn",onClick:s.openSearch},{default:(0,t.w5)((function(){return[(0,t.Wm)(d,{type:"md-search",size:"large"})]})),_:1},8,["onClick"])),!s.isShowSettings&&s.isShowCreateButton?((0,t.wg)(),(0,t.j4)(p,{key:4,trigger:"click",placement:e.$can("manage","all")?"bottom":"bottom-end",class:"ms-2"},{list:(0,t.w5)((function(){return[(0,t.Wm)(h,null,{default:(0,t.w5)((function(){return[e.$can("create","Motor::Query")?((0,t.wg)(),(0,t.j4)(u,{key:0,onClick:n[0]||(n[0]=function(t){return e.$router.push({name:"new_query"})})},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.add_query),1)]})),_:1})):(0,t.kq)("v-if",!0),e.$can("create","Motor::Dashboard")?((0,t.wg)(),(0,t.j4)(u,{key:1,onClick:n[1]||(n[1]=function(t){return e.$router.push({name:"new_dashboard"})})},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.add_dashboard),1)]})),_:1})):(0,t.kq)("v-if",!0),e.$can("create","Motor::Form")?((0,t.wg)(),(0,t.j4)(u,{key:2,onClick:n[2]||(n[2]=function(t){return e.$router.push({name:"new_form"})})},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.add_form),1)]})),_:1})):(0,t.kq)("v-if",!0),e.$can("create","Motor::Alert")?((0,t.wg)(),(0,t.j4)(u,{key:3,onClick:n[3]||(n[3]=function(t){return e.$router.push({name:"new_alert"})})},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.add_alert),1)]})),_:1})):(0,t.kq)("v-if",!0)]})),_:1})]})),default:(0,t.w5)((function(){return[(0,t.Wm)(l,{type:"primary",size:"large",class:"header-btn"},{default:(0,t.w5)((function(){return[(0,t.Wm)(d,{type:"md-add",size:"large"})]})),_:1})]})),_:1},8,["placement"])):(0,t.kq)("v-if",!0),e.$can("manage","all")?((0,t.wg)(),(0,t.j4)(l,{key:5,type:"primary",class:"ms-2 header-btn",size:"large",onClick:s.onSettingsClick},{default:(0,t.w5)((function(){return[(0,t.Wm)(d,{type:s.isShowSettings?"md-close":"md-settings",size:"large"},null,8,["type"]),s.isShowSettings?((0,t.wg)(),(0,t.iD)("span",F,(0,c.zw)(e.i18n.close_settings),1)):(0,t.kq)("v-if",!0)]})),_:1},8,["onClick"])):(0,t.kq)("v-if",!0)])])},__scopeId:"data-v-7bfab234"}},computed:{windowHeight:function(){return Pe.uK.value}},watch:{windowHeight:function(){this.setVh()}},mounted:function(){document.addEventListener("keydown",this.processKey),this.setVh(),this.maybeShowWelcomeModal()},methods:{setVh:function(){document.documentElement.style.setProperty("--vh","".concat(Pe.uK.value,"px"))},maybeShowWelcomeModal:function(){var e=this;T.showWelcome&&(this.$Modal.open($,{onClose:function(){e.$Modal.remove()},onOpenGuides:function(){e.$Modal.remove(),setTimeout((function(){e.$refs.header.openGuides()}),350)}}),T.showWelcome=!1)},processKey:function(e){if((e.ctrlKey||e.metaKey)&&80===e.keyCode)return e.preventDefault(),this.$refs.header.openSearch(),!1}},render:function(e,n,i,r,o,s){var a=(0,t.up)("AppHeader"),l=(0,t.up)("RouterView"),c=(0,t.up)("Layout");return(0,t.wg)(),(0,t.j4)(c,null,{default:(0,t.w5)((function(){return[(0,t.Wm)(a,{ref:"header"},null,512),(0,t.Wm)(l)]})),_:1})}};function Be(){return"undefined"!=typeof navigator?window:void 0!==n.g?n.g:{}}const qe="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,ze=e=>qe?Symbol(e):"_vr_"+e,We=ze("rvlm"),Ue=ze("rvd"),He=ze("r"),Ke=ze("rl"),Ze=ze("rvl"),Ge="undefined"!=typeof window,Ye=Object.assign;function Qe(e,t){const n={};for(const i in t){const r=t[i];n[i]=Array.isArray(r)?r.map(e):e(r)}return n}const Je=()=>{},Xe=/\/$/;function et(e,t,n="/"){let i,r={},o="",s="";const a=t.indexOf("?"),l=t.indexOf("#",a>-1?a:0);return a>-1&&(i=t.slice(0,a),o=t.slice(a+1,l>-1?l:t.length),r=e(o)),l>-1&&(i=i||t.slice(0,l),s=t.slice(l,t.length)),i=function(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/");let r,o,s=n.length-1;for(r=0;r<i.length;r++)if(o=i[r],1!==s&&"."!==o){if(".."!==o)break;s--}return n.slice(0,s).join("/")+"/"+i.slice(r-(r===i.length?1:0)).join("/")}(null!=i?i:t,n),{fullPath:i+(o&&"?")+o+s,path:i,query:r,hash:s}}function tt(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function nt(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function it(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!rt(e[n],t[n]))return!1;return!0}function rt(e,t){return Array.isArray(e)?ot(e,t):Array.isArray(t)?ot(t,e):e===t}function ot(e,t){return Array.isArray(t)?e.length===t.length&&e.every(((e,n)=>e===t[n])):1===e.length&&e[0]===t}var st,at;!function(e){e.pop="pop",e.push="push"}(st||(st={})),function(e){e.back="back",e.forward="forward",e.unknown=""}(at||(at={}));const lt=/^[^#]+#/;function ct(e,t){return e.replace(lt,"#")+t}const ut=()=>({left:window.pageXOffset,top:window.pageYOffset});function dt(e,t){return(history.state?history.state.position-t:-1)+e}const ht=new Map;let pt=()=>location.protocol+"//"+location.host;function ft(e,t){const{pathname:n,search:i,hash:r}=t,o=e.indexOf("#");if(o>-1){let t=r.includes(e.slice(o))?e.slice(o).length:1,n=r.slice(t);return"/"!==n[0]&&(n="/"+n),tt(n,"")}return tt(n,e)+i+r}function mt(e,t,n,i=!1,r=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:r?ut():null}}function gt(e){return"string"==typeof e||"symbol"==typeof e}const vt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},yt=ze("nf");var bt;function wt(e,t){return Ye(new Error,{type:e,[yt]:!0},t)}function _t(e,t){return e instanceof Error&&yt in e&&(null==t||!!(e.type&t))}!function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"}(bt||(bt={}));const xt="[^/]+?",kt={sensitive:!1,strict:!1,start:!0,end:!0},Ct=/[.+*?^${}()[\]/\\]/g;function St(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function At(e,t){let n=0;const i=e.score,r=t.score;for(;n<i.length&&n<r.length;){const e=St(i[n],r[n]);if(e)return e;n++}return r.length-i.length}const Dt={type:0,value:""},Ot=/[a-zA-Z0-9_]/;function Tt(e,t,n){const i=function(e,t){const n=Ye({},kt,t),i=[];let r=n.start?"^":"";const o=[];for(const t of e){const e=t.length?[]:[90];n.strict&&!t.length&&(r+="/");for(let i=0;i<t.length;i++){const s=t[i];let a=40+(n.sensitive?.25:0);if(0===s.type)i||(r+="/"),r+=s.value.replace(Ct,"\\$&"),a+=40;else if(1===s.type){const{value:e,repeatable:n,optional:l,regexp:c}=s;o.push({name:e,repeatable:n,optional:l});const u=c||xt;if(u!==xt){a+=10;try{new RegExp(`(${u})`)}catch(t){throw new Error(`Invalid custom RegExp for param "${e}" (${u}): `+t.message)}}let d=n?`((?:${u})(?:/(?:${u}))*)`:`(${u})`;i||(d=l&&t.length<2?`(?:/${d})`:"/"+d),l&&(d+="?"),r+=d,a+=20,l&&(a+=-8),n&&(a+=-20),".*"===u&&(a+=-50)}e.push(a)}i.push(e)}if(n.strict&&n.end){const e=i.length-1;i[e][i[e].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const s=new RegExp(r,n.sensitive?"":"i");return{re:s,score:i,keys:o,parse:function(e){const t=e.match(s),n={};if(!t)return null;for(let e=1;e<t.length;e++){const i=t[e]||"",r=o[e-1];n[r.name]=i&&r.repeatable?i.split("/"):i}return n},stringify:function(t){let n="",i=!1;for(const r of e){i&&n.endsWith("/")||(n+="/"),i=!1;for(const e of r)if(0===e.type)n+=e.value;else if(1===e.type){const{value:o,repeatable:s,optional:a}=e,l=o in t?t[o]:"";if(Array.isArray(l)&&!s)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const c=Array.isArray(l)?l.join("/"):l;if(!c){if(!a)throw new Error(`Missing required param "${o}"`);r.length<2&&(n.endsWith("/")?n=n.slice(0,-1):i=!0)}n+=c}}return n}}}(function(e){if(!e)return[[]];if("/"===e)return[[Dt]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${c}": ${e}`)}let n=0,i=n;const r=[];let o;function s(){o&&r.push(o),o=[]}let a,l=0,c="",u="";function d(){c&&(0===n?o.push({type:0,value:c}):1===n||2===n||3===n?(o.length>1&&("*"===a||"+"===a)&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:u,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):t("Invalid state to consume buffer"),c="")}function h(){c+=a}for(;l<e.length;)if(a=e[l++],"\\"!==a||2===n)switch(n){case 0:"/"===a?(c&&d(),s()):":"===a?(d(),n=1):h();break;case 4:h(),n=i;break;case 1:"("===a?n=2:Ot.test(a)?h():(d(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&l--);break;case 2:")"===a?"\\"==u[u.length-1]?u=u.slice(0,-1)+a:n=3:u+=a;break;case 3:d(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&l--,u="";break;default:t("Unknown state")}else i=n,n=4;return 2===n&&t(`Unfinished custom RegExp for param "${c}"`),d(),s(),r}(e.path),n),r=Ye(i,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function Et(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]="boolean"==typeof n?n:n[i];return t}function $t(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Mt(e){return e.reduce(((e,t)=>Ye(e,t.meta)),{})}function Rt(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}const Lt=/#/g,Pt=/&/g,Ft=/\//g,It=/=/g,jt=/\?/g,Nt=/\+/g,Vt=/%5B/g,Bt=/%5D/g,qt=/%5E/g,zt=/%60/g,Wt=/%7B/g,Ut=/%7C/g,Ht=/%7D/g,Kt=/%20/g;function Zt(e){return encodeURI(""+e).replace(Ut,"|").replace(Vt,"[").replace(Bt,"]")}function Gt(e){return Zt(e).replace(Nt,"%2B").replace(Kt,"+").replace(Lt,"%23").replace(Pt,"%26").replace(zt,"`").replace(Wt,"{").replace(Ht,"}").replace(qt,"^")}function Yt(e){return null==e?"":function(e){return Zt(e).replace(Lt,"%23").replace(jt,"%3F")}(e).replace(Ft,"%2F")}function Qt(e){try{return decodeURIComponent(""+e)}catch(e){}return""+e}function Jt(e){const t={};if(""===e||"?"===e)return t;const n=("?"===e[0]?e.slice(1):e).split("&");for(let e=0;e<n.length;++e){const i=n[e].replace(Nt," "),r=i.indexOf("="),o=Qt(r<0?i:i.slice(0,r)),s=r<0?null:Qt(i.slice(r+1));if(o in t){let e=t[o];Array.isArray(e)||(e=t[o]=[e]),e.push(s)}else t[o]=s}return t}function Xt(e){let t="";for(let n in e){const i=e[n];(n=Gt(n).replace(It,"%3D"),null!=i)?(Array.isArray(i)?i.map((e=>e&&Gt(e))):[i&&Gt(i)]).forEach((e=>{void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))})):void 0!==i&&(t+=(t.length?"&":"")+n)}return t}function en(e){const t={};for(const n in e){const i=e[n];void 0!==i&&(t[n]=Array.isArray(i)?i.map((e=>null==e?null:""+e)):null==i?i:""+i)}return t}function tn(){let e=[];return{add:function(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}},list:()=>e,reset:function(){e=[]}}}function nn(e,t,n,i,r){const o=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise(((s,a)=>{const l=e=>{var l;!1===e?a(wt(4,{from:n,to:t})):e instanceof Error?a(e):"string"==typeof(l=e)||l&&"object"==typeof l?a(wt(2,{from:t,to:e})):(o&&i.enterCallbacks[r]===o&&"function"==typeof e&&o.push(e),s())},c=e.call(i&&i.instances[r],t,n,l);let u=Promise.resolve(c);e.length<3&&(u=u.then(l)),u.catch((e=>a(e)))}))}function rn(e,t,n,i){const r=[];for(const s of e)for(const e in s.components){let a=s.components[e];if("beforeRouteEnter"===t||s.instances[e])if("object"==typeof(o=a)||"displayName"in o||"props"in o||"__vccOpts"in o){const o=(a.__vccOpts||a)[t];o&&r.push(nn(o,n,i,s,e))}else{let o=a();r.push((()=>o.then((r=>{if(!r)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${s.path}"`));const o=(a=r).__esModule||qe&&"Module"===a[Symbol.toStringTag]?r.default:r;var a;s.components[e]=o;const l=(o.__vccOpts||o)[t];return l&&nn(l,n,i,s,e)()}))))}}var o;return r}function on(e){const n=(0,t.f3)(He),i=(0,t.f3)(Ke),r=(0,g.Fl)((()=>n.resolve((0,g.SU)(e.to)))),o=(0,g.Fl)((()=>{const{matched:e}=r.value,{length:t}=e,n=e[t-1],o=i.matched;if(!n||!o.length)return-1;const s=o.findIndex(nt.bind(null,n));if(s>-1)return s;const a=an(e[t-2]);return t>1&&an(n)===a&&o[o.length-1].path!==a?o.findIndex(nt.bind(null,e[t-2])):s})),s=(0,g.Fl)((()=>o.value>-1&&function(e,t){for(const n in t){const i=t[n],r=e[n];if("string"==typeof i){if(i!==r)return!1}else if(!Array.isArray(r)||r.length!==i.length||i.some(((e,t)=>e!==r[t])))return!1}return!0}(i.params,r.value.params))),a=(0,g.Fl)((()=>o.value>-1&&o.value===i.matched.length-1&&it(i.params,r.value.params)));if(__VUE_PROD_DEVTOOLS__&&Ge){const e=(0,t.FN)();if(e){const n={route:r.value,isActive:s.value,isExactActive:a.value};e.__vrl_devtools=e.__vrl_devtools||[],e.__vrl_devtools.push(n),(0,t.m0)((()=>{n.route=r.value,n.isActive=s.value,n.isExactActive=a.value}),{flush:"post"})}}return{route:r,href:(0,g.Fl)((()=>r.value.href)),isActive:s,isExactActive:a,navigate:function(t={}){return function(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||e.defaultPrevented||void 0!==e.button&&0!==e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}(t)?n[(0,g.SU)(e.replace)?"replace":"push"]((0,g.SU)(e.to)).catch(Je):Promise.resolve()}}}const sn=(0,t.aZ)({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:on,setup(e,{slots:n}){const i=(0,g.qj)(on(e)),{options:r}=(0,t.f3)(He),o=(0,g.Fl)((()=>({[ln(e.activeClass,r.linkActiveClass,"router-link-active")]:i.isActive,[ln(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:i.isExactActive})));return()=>{const r=n.default&&n.default(i);return e.custom?r:(0,t.h)("a",{"aria-current":i.isExactActive?e.ariaCurrentValue:null,href:i.href,onClick:i.navigate,class:o.value},r)}}});function an(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const ln=(e,t,n)=>null!=e?e:null!=t?t:n;function cn(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const un=(0,t.aZ)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(e,{attrs:n,slots:i}){const r=(0,t.f3)(Ze),o=(0,g.Fl)((()=>e.route||r.value)),s=(0,t.f3)(Ue,0),a=(0,g.Fl)((()=>o.value.matched[s]));(0,t.JJ)(Ue,s+1),(0,t.JJ)(We,a),(0,t.JJ)(Ze,o);const l=(0,g.iH)();return(0,t.YP)((()=>[l.value,a.value,e.name]),(([e,t,n],[i,r,o])=>{t&&(t.instances[n]=e,r&&r!==t&&e&&e===i&&(t.leaveGuards.size||(t.leaveGuards=r.leaveGuards),t.updateGuards.size||(t.updateGuards=r.updateGuards))),!e||!t||r&&nt(t,r)&&i||(t.enterCallbacks[n]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const r=o.value,s=a.value,c=s&&s.components[e.name],u=e.name;if(!c)return cn(i.default,{Component:c,route:r});const d=s.props[e.name],h=d?!0===d?r.params:"function"==typeof d?d(r):d:null,p=(0,t.h)(c,Ye({},h,n,{onVnodeUnmounted:e=>{e.component.isUnmounted&&(s.instances[u]=null)},ref:l}));return cn(i.default,{Component:p,route:r})||p}}});function dn(e,t){const n=Ye({},e,{matched:e.matched.map((e=>function(e,t){const n={};for(const i in e)t.includes(i)||(n[i]=e[i]);return n}(e,["instances","children","aliasOf"])))});return{_custom:{type:null,readOnly:!0,display:e.fullPath,tooltip:t,value:n}}}function hn(e){return{_custom:{display:e}}}let pn=0;function fn(e,n,i){if(n.__hasDevtools)return;n.__hasDevtools=!0;const r=pn++;!function(e,t){const n=Be().__VUE_DEVTOOLS_GLOBAL_HOOK__;if(n)n.emit("devtools-plugin:setup",e,t);else{const n=Be();(n.__VUE_DEVTOOLS_PLUGINS__=n.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:e,setupFn:t})}}({id:"org.vuejs.router"+(r?"."+r:""),label:"Vue Router",packageName:"vue-router",homepage:"https://next.router.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",componentStateTypes:["Routing"],app:e},(o=>{o.on.inspectComponent(((e,t)=>{e.instanceData&&e.instanceData.state.push({type:"Routing",key:"$route",editable:!1,value:dn(n.currentRoute.value,"Current Route")})})),o.on.visitComponentTree((({treeNode:e,componentInstance:t})=>{Array.isArray(t.__vrl_devtools)&&(t.__devtoolsApi=o,t.__vrl_devtools.forEach((t=>{let n=yn,i="";t.isExactActive?(n=vn,i="This is exactly active"):t.isActive&&(n=gn,i="This link is active"),e.tags.push({label:t.route.path,textColor:0,tooltip:i,backgroundColor:n})})))})),(0,t.YP)(n.currentRoute,(()=>{c(),o.notifyComponentUpdate(),o.sendInspectorTree(l),o.sendInspectorState(l)}));const s="router:navigations:"+r;o.addTimelineLayer({id:s,label:`Router${r?" "+r:""} Navigations`,color:4237508}),n.onError(((e,t)=>{o.addTimelineEvent({layerId:s,event:{title:"Error during Navigation",subtitle:t.fullPath,logType:"error",time:Date.now(),data:{error:e},groupId:t.meta.__navigationId}})}));let a=0;n.beforeEach(((e,t)=>{const n={guard:hn("beforeEach"),from:dn(t,"Current Location during this navigation"),to:dn(e,"Target location")};Object.defineProperty(e.meta,"__navigationId",{value:a++}),o.addTimelineEvent({layerId:s,event:{time:Date.now(),title:"Start of navigation",subtitle:e.fullPath,data:n,groupId:e.meta.__navigationId}})})),n.afterEach(((e,t,n)=>{const i={guard:hn("afterEach")};n?(i.failure={_custom:{type:Error,readOnly:!0,display:n?n.message:"",tooltip:"Navigation Failure",value:n}},i.status=hn("")):i.status=hn(""),i.from=dn(t,"Current Location during this navigation"),i.to=dn(e,"Target location"),o.addTimelineEvent({layerId:s,event:{title:"End of navigation",subtitle:e.fullPath,time:Date.now(),data:i,logType:n?"warning":"default",groupId:e.meta.__navigationId}})}));const l="router-inspector:"+r;function c(){if(!u)return;const e=u;let t=i.getRoutes().filter((e=>!e.parent));t.forEach(kn),e.filter&&(t=t.filter((t=>Cn(t,e.filter.toLowerCase())))),t.forEach((e=>xn(e,n.currentRoute.value))),e.rootNodes=t.map(bn)}let u;o.addInspector({id:l,label:"Routes"+(r?" "+r:""),icon:"book",treeFilterPlaceholder:"Search routes"}),o.on.getInspectorTree((t=>{u=t,t.app===e&&t.inspectorId===l&&c()})),o.on.getInspectorState((t=>{if(t.app===e&&t.inspectorId===l){const e=i.getRoutes().find((e=>e.record.__vd_id===t.nodeId));e&&(t.state={options:mn(e)})}})),o.sendInspectorTree(l),o.sendInspectorState(l)}))}function mn(e){const{record:t}=e,n=[{editable:!1,key:"path",value:t.path}];return null!=t.name&&n.push({editable:!1,key:"name",value:t.name}),n.push({editable:!1,key:"regexp",value:e.re}),e.keys.length&&n.push({editable:!1,key:"keys",value:{_custom:{type:null,readOnly:!0,display:e.keys.map((e=>`${e.name}${function(e){return e.optional?e.repeatable?"*":"?":e.repeatable?"+":""}(e)}`)).join(" "),tooltip:"Param keys",value:e.keys}}}),null!=t.redirect&&n.push({editable:!1,key:"redirect",value:t.redirect}),e.alias.length&&n.push({editable:!1,key:"aliases",value:e.alias.map((e=>e.record.path))}),n.push({key:"score",editable:!1,value:{_custom:{type:null,readOnly:!0,display:e.score.map((e=>e.join(", "))).join(" | "),tooltip:"Score used to sort routes",value:e.score}}}),n}const gn=2450411,vn=8702998,yn=16486972;function bn(e){const t=[],{record:n}=e;null!=n.name&&t.push({label:String(n.name),textColor:0,backgroundColor:2282478}),n.aliasOf&&t.push({label:"alias",textColor:0,backgroundColor:yn}),e.__vd_match&&t.push({label:"matches",textColor:0,backgroundColor:15485081}),e.__vd_exactActive&&t.push({label:"exact",textColor:0,backgroundColor:vn}),e.__vd_active&&t.push({label:"active",textColor:0,backgroundColor:gn}),n.redirect&&t.push({label:"redirect: "+("string"==typeof n.redirect?n.redirect:"Object"),textColor:16777215,backgroundColor:6710886});let i=n.__vd_id;return null==i&&(i=String(wn++),n.__vd_id=i),{id:i,label:n.path,tags:t,children:e.children.map(bn)}}let wn=0;const _n=/^\/(.*)\/([a-z]*)$/;function xn(e,t){const n=t.matched.length&&nt(t.matched[t.matched.length-1],e.record);e.__vd_exactActive=e.__vd_active=n,n||(e.__vd_active=t.matched.some((t=>nt(t,e.record)))),e.children.forEach((e=>xn(e,t)))}function kn(e){e.__vd_match=!1,e.children.forEach(kn)}function Cn(e,t){const n=String(e.re).match(_n);if(e.__vd_match=!1,!n||n.length<3)return!1;if(new RegExp(n[1].replace(/\$$/,""),n[2]).test(t))return e.children.forEach((e=>Cn(e,t))),("/"!==e.record.path||"/"===t)&&(e.__vd_match=e.re.test(t),!0);const i=e.record.path.toLowerCase(),r=Qt(i);return!(t.startsWith("/")||!r.includes(t)&&!i.includes(t))||!(!r.startsWith(t)&&!i.startsWith(t))||!(!e.record.name||!String(e.record.name).includes(t))||e.children.some((e=>Cn(e,t)))}function Sn(e){return e.reduce(((e,t)=>e.then((()=>t()))),Promise.resolve())}var An=n(129),Dn=n.n(An);(0,t.dD)("data-v-ddc842ee");var On={key:1,class:"text-center mt-4"};function Tn(e){return function(e){if(Array.isArray(e))return En(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return En(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?En(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function En(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}(0,t.Cn)(),n(9653);var $n={class:"ivu-menu-item-text"};const Mn={name:"ResourcesNavigation",components:{ResourceMenuItem:{name:"ResourceMenuItem",components:{CustomIcon:n(2343).Z},props:{resource:{type:Object,required:!0},withScopes:{type:Boolean,required:!1,default:!0},size:{type:String,required:!1,default:"default"},fragments:{type:Array,required:!1,default:function(){return[]}}},computed:{iconSize:function(){return"small"===this.size?14:16},visibleScopes:function(){return this.resource.scopes.filter((function(e){return e.visible}))},hasScopes:function(){return!!this.visibleScopes.length}},render:function(e,n,i,r,o,s){var a=(0,t.up)("CustomIcon"),l=(0,t.up)("MenuItem"),u=(0,t.up)("Submenu");return i.withScopes&&s.hasScopes?((0,t.wg)(),(0,t.j4)(u,{key:0,name:i.resource.slug,collapse:!1,to:{name:"resources",params:{fragments:[].concat(Tn(i.fragments),[i.resource.slug])}}},{title:(0,t.w5)((function(){return[(0,t.Wm)(a,{type:i.resource.icon,size:s.iconSize},null,8,["type","size"]),(0,t.Uk)(" "+(0,c.zw)(i.resource.display_name.replace("/","/")),1)]})),default:(0,t.w5)((function(){return[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.visibleScopes,(function(e){return(0,t.wg)(),(0,t.j4)(l,{key:e.name,name:i.resource.slug+"."+e.name,to:{name:"resources",params:{fragments:[].concat(Tn(i.fragments),[i.resource.slug])},query:{scope:e.name}}},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.display_name.replace("/","/")),1)]})),_:2},1032,["name","to"])})),128))]})),_:1},8,["name","to"])):((0,t.wg)(),(0,t.j4)(l,{key:1,name:i.resource.slug,to:{name:"resources",params:{fragments:[].concat(Tn(i.fragments),[i.resource.slug])}}},{default:(0,t.w5)((function(){return[(0,t._)("div",$n,[(0,t.Wm)(a,{type:i.resource.icon,size:s.iconSize},null,8,["type","size"]),(0,t.Uk)(" "+(0,c.zw)(i.resource.display_name.replace("/","/")),1)])]})),_:1},8,["name","to"]))}}},props:{resources:{type:Array,required:!0},size:{type:String,required:!1,default:"default"},withScopes:{type:Boolean,required:!1,default:!0},pathFragments:{type:Array,required:!1,default:function(){return[]}},activeName:{type:String,required:!1,default:""}},emits:["select"],data:function(){return{openNames:[]}},computed:{itemClass:function(){return"small"===this.size?"":"fs-4"}},render:function(e,n,i,r,o,s){var a=(0,t.up)("ResourceMenuItem"),l=(0,t.up)("Menu");return(0,t.wg)(),(0,t.j4)(l,{"active-name":i.activeName,theme:"light",width:"auto","open-names":o.openNames,onOnSelect:n[0]||(n[0]=function(t){return e.$emit("select",t)})},{default:(0,t.w5)((function(){return[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(i.resources,(function(e){return(0,t.wg)(),(0,t.j4)(a,{key:e.slug,size:i.size,"with-scopes":i.withScopes,fragments:i.pathFragments,resource:e,class:(0,c.C_)(s.itemClass)},null,8,["size","with-scopes","fragments","resource","class"])})),128))]})),_:1},8,["active-name","open-names"])},__scopeId:"data-v-bdbad736"};n(4765);var Rn={class:"row",style:{margin:"10px 0"}},Ln={key:0,class:"col-6 d-flex align-items-center pe-0"},Pn={key:4,class:"fs-4 fw-bold nowrap overflow-hidden text-truncate"},Fn={key:0,class:"position-relative"},In={class:"d-flex border-top justify-content-between bg-white p-1"},jn=(0,t._)("span",null,null,-1),Nn=n(7757),Vn=n.n(Nn),Bn=(n(5212),n(285),n(6755),n(940));const qn={name:"ResourceSearch",props:{modelValue:{type:String,required:!1,default:""},placeholder:{type:String,required:!1,default:Le.cR.search_placeholder}},emits:["search","update:modelValue"],data:function(){return{value:""}},watch:{modelValue:function(e){this.value=e}},mounted:function(){this.value=this.modelValue},methods:{onSearch:function(){this.$emit("update:modelValue",this.value),this.$emit("search",this.value)}},render:function(e,n,i,r,o,s){var a=(0,t.up)("VInput");return(0,t.wg)(),(0,t.j4)(a,{modelValue:o.value,"onUpdate:modelValue":n[0]||(n[0]=function(e){return o.value=e}),search:"",placeholder:i.placeholder,onOnSearch:s.onSearch},null,8,["modelValue","placeholder","onOnSearch"])}};var zn=n(3810),Wn=n(645),Un=n(9026),Hn=n(3362),Kn=n(6126);const Zn={name:"NewResourceButton",props:{model:{type:Object,required:!0},association:{type:Object,required:!1,default:null},parentResource:{type:Object,required:!1,default:null}},emits:["success"],computed:{resourceTitle:function(){return(0,q.Z)(this.model.display_name)},createAction:function(){return this.model.actions.find((function(e){return"create"===e.name&&e.visible}))},parentModel:function(){return j.r3[this.parentResource.name]},resource:function(){var e,t=(0,Wn.JG)(this.model);return null!==(e=this.association)&&void 0!==e&&e.polymorphic?(t[this.association.foreign_key]=parseInt(this.parentResource.id),t[this.association.foreign_key.replace("_id","_type")]=this.parentModel.class_name,"active_storage/attachment"===this.association.model_name&&(t.name=this.association.name.replace(/_attachments?$/,""))):this.parentResource&&(t[this.association.foreign_key]=this.parentResource[this.association.primary_key]),t},customActionProps:function(){var e=this;return{data:this.resource,formId:this.createAction.preferences.form_id,withFooterSubmit:!0,onSuccess:function(t){e.$Message.info("".concat(e.resourceTitle," ").concat(e.i18n.has_been_created)),e.$emit("success",t)}}},defaultProps:function(){var e,t,n,i=this;return{action:"new",resource:this.resource,resourceName:this.model.name,parentResourceName:null===(e=this.parentResource)||void 0===e?void 0:e.name,parentResourceId:null===(t=this.parentResource)||void 0===t?void 0:t.id,associationName:null===(n=this.association)||void 0===n?void 0:n.name,onClose:function(){i.$Drawer.remove()},onSuccess:function(e){i.$Message.info("".concat(i.resourceTitle," ").concat(i.i18n.has_been_created)),i.$emit("success",e)}}}},methods:{openForm:function(){var e=this,n="default"===this.createAction.action_type?Un.default:Kn.default,i="default"===this.createAction.action_type?this.defaultProps:this.customActionProps;this.$Drawer.open(n,i,{slots:{header:function(){return(0,t.h)(Hn.Z,{resource:e.resource,resourceName:e.model.name,action:"create"})}},className:"drawer-no-bottom-padding",closable:!0})}},render:function(e,n,i,r,o,s){var a=(0,t.up)("VButton");return s.createAction?((0,t.wg)(),(0,t.j4)(a,{key:0,type:"primary",icon:"md-add","data-role":"new",onClick:s.openForm},null,8,["onClick"])):(0,t.kq)("v-if",!0)}};(0,t.dD)("data-v-c42b538c");var Gn={class:"sticky-footer"};function Yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}(0,t.Cn)();const Qn={name:"ResourceFiltersModal",components:{Filters:n(2883).Z},props:{model:{type:Object,required:!0},filters:{type:[Array,Object],required:!1,default:function(){return[]}}},emits:["apply","cancel"],data:function(){return{count:0,dataFilters:[]}},computed:{clearedFilters:function(){return this.dataFilters.filter((function(e){return"OR"===e||!!Object.keys(e)[0]}))}},created:function(){var e;this.dataFilters=function(e){if(Array.isArray(e))return Yn(e)}(e=this.filters)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Yn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yn(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},render:function(n,i,r,o,s,a){var l=(0,t.up)("Filters"),u=(0,t.up)("VButton");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(l,{filters:s.dataFilters,"onUpdate:filters":i[0]||(i[0]=function(e){return s.dataFilters=e}),model:r.model,class:"filters",onKeydown:i[1]||(i[1]=(0,e.D2)((function(e){return n.$emit("apply",a.clearedFilters)}),["enter"]))},null,8,["filters","model"]),(0,t._)("div",Gn,[(0,t.Wm)(u,{class:"float-start",onClick:i[2]||(i[2]=function(e){return n.$emit("cancel")})},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(n.i18n.cancel),1)]})),_:1}),(0,t.Wm)(u,{onClick:i[3]||(i[3]=function(e){return n.$emit("apply",[])})},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(n.i18n.clear_all),1)]})),_:1}),(0,t.Wm)(u,{class:"ms-2",type:"primary",onClick:i[4]||(i[4]=function(e){return n.$emit("apply",a.clearedFilters)})},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(n.i18n.apply),1)]})),_:1})])],64)},__scopeId:"data-v-c42b538c"};var Jn=n(5763),Xn=n(1308),ei=n(2734),ti=n(1394);function ni(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ii(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,r)}function ri(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){ii(o,i,r,s,a,"next",e)}function a(e){ii(o,i,r,s,a,"throw",e)}s(void 0)}))}}function oi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function si(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oi(Object(n),!0).forEach((function(t){ai(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ai(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var li={current:1,pageSize:20,total:0,pageSizeOpts:[20,50,100,250,500]},ci=(0,g.qj)({});const ui={name:"ResourceTable",components:{DataTable:Bn.Z,ResourceSearch:qn,ResourceActions:zn.Z,NewResourceButton:Zn,SettingsMask:ti.Z},props:{resourceName:{type:String,required:!0},height:{type:String,required:!1,default:"500px"},withTitle:{type:Boolean,required:!1,default:!1},withResize:{type:Boolean,required:!1,default:!1},withMenu:{type:Boolean,required:!1,default:!1},associationParams:{type:Object,require:!1,default:null}},emits:["click-resize","click-menu","action-applied"],data:function(){return{isLoading:!0,isReloading:!0,isDownloadLoading:!1,rows:[],sortParams:si({},this.defaultSortParams),filterParams:[],searchQuery:"",paginationParams:si({},li)}},computed:{isShowSettings:Fe.Qy,modelHasActions:function(){return this.model.actions.some((function(e){return"create"!==e.name&&e.visible}))},defaultSortParams:function(){var e=this;return this.model.primary_key&&!this.model.custom_sql?{order:"integer"===this.model.columns.find((function(t){return t.name===e.model.primary_key})).column_type?"desc":"asc",key:this.model.primary_key}:{}},currentScope:function(){var e=this;return this.model.scopes.find((function(t){var n;return t.name===(null===(n=e.$route.query)||void 0===n?void 0:n.scope)}))},routeQueryParams:function(){var e,t,n,i,r,o={};return Object.keys(this.filterParams).length&&(o.filter=this.filterParams),null===(e=this.sortParams)||void 0===e||!e.key||this.sortParams.key===this.defaultSortParams.key&&this.sortParams.order===this.defaultSortParams.order||(o.sort="".concat("desc"===this.sortParams.order?"-":"").concat(this.sortParams.key)),this.searchQuery&&(o.q=this.searchQuery),null!==(t=this.$route.query)&&void 0!==t&&t.scope&&(o.scope=null===(i=this.$route.query)||void 0===i?void 0:i.scope),null!==(n=this.$route.query)&&void 0!==n&&n.tab&&(o.tab=null===(r=this.$route.query)||void 0===r?void 0:r.tab),this.paginationParams.pageSize!==li.pageSize&&(o.per_page=this.paginationParams.pageSize),1!==this.paginationParams.current&&(o.page=this.paginationParams.current),o},filtersCount:function(){return this.filterParams.filter((function(e){return"OR"!==e})).length},title:function(){var e;return(0,Jn.$G)((null===(e=this.association)||void 0===e?void 0:e.display_name)||this.model.display_name,60)},itemsCountCacheKey:function(){return JSON.stringify(si(si({},this.queryParams),{},{page:{}}))},selectedRows:function(){return this.rows.filter((function(e){return e._selected}))},queryPath:function(){return this.associationParams?["data",j.r3[this.resourceName].slug,this.associationParams.id,this.associationParams.name].join("/"):"data/".concat(this.model.slug)},queryParams:function(){var e,t,n={filter:this.filterParams,fields:this.fieldsParams,page:{limit:this.paginationParams.pageSize,offset:this.paginationParams.pageSize*(this.paginationParams.current-1)}};return this.sortParams.key&&(n.sort="".concat("desc"===this.sortParams.order?"-":"").concat(this.sortParams.key)),this.includeParams&&(n.include=this.includeParams),this.searchQuery&&(n.q=this.searchQuery),null!==(e=this.$route.query)&&void 0!==e&&e.scope&&(n.scope=null===(t=this.$route.query)||void 0===t?void 0:t.scope),n},includeParams:function(){return(0,ei.p)(this.model)},fieldsParams:function(){return(0,ei.n)(this.model)},association:function(){var e,t=this;return null!==(e=this.associationParams)&&void 0!==e&&e.name?j.r3[this.resourceName].associations.find((function(e){return e.slug===t.associationParams.name})):null},model:function(){if(this.association){var e=this.association.model_name;return j.r3[e]}return j.r3[this.resourceName]},columns:function(){var e=this;return this.model.columns.map((function(t){var n;return(null===(n=t.reference)||void 0===n?void 0:n.model_name)!==j.r3[e.resourceName].name&&["read_only","read_write"].includes(t.access_type)?{key:t.name,title:t.display_name,reference:t.reference,format:t.format,sortable:!t.virtual,type:t.column_type}:null})).filter(Boolean)}},watch:{$route:function(e,t){var n=this;e.params.doNotWatch||e.name!==t.name||JSON.stringify(e.params.fragments)!==JSON.stringify(t.params.fragments)||JSON.stringify(e.query)===JSON.stringify(t.query)||(this.assignFromQueryParams(e.query),this.loadDataAndCount().then((function(){n.$refs.table.scrollToTop()})))},association:{deep:!0,handler:(0,B.Z)(function(){var e=ri(Vn().mark((function e(t){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.virtual&&this.loadDataAndCount();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),3e3)},columns:{deep:!0,handler:(0,B.Z)(ri(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loadData();case 1:case"end":return e.stop()}}),e,this)}))),3e3)}},mounted:function(){this.assignCachedItemsCount(),this.assignFromQueryParams(this.$route.query),this.loadDataAndCount()},methods:{widthLessThan:Pe.aJ,onFinishAction:function(e){this.loadDataAndCount(),this.$emit("action-applied",e)},download:function(){var e=this;return this.isDownloadLoading=!0,I.Z.get(this.queryPath+".csv",{params:this.queryParams}).then((function(t){var n=(0,Xn.p)(new Date,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}).replace(",",""),i=URL.createObjectURL(new Blob([t.data],{type:"data:text/csv;charset=utf-8"})),r=document.createElement("a");r.setAttribute("href",i),r.setAttribute("download","".concat((0,Jn.It)(e.title||"query"),"_").concat((0,Jn.It)(n),".csv")),r.click()})).catch((function(t){t.response?e.$Message.error((0,Jn.$G)(t.response.data.errors.join("\n"),70)):e.$Message.error(t.message)})).finally((function(){e.isDownloadLoading=!1}))},openFiltersModal:function(){var e=this;this.$Drawer.open(Qn,{filters:this.filterParams,model:this.model,onCancel:function(){e.$Drawer.remove()},onApply:function(t){e.filterParams=t,e.paginationParams.current=1,e.pushQueryParams(),e.loadDataAndCount().then((function(){e.$refs.table.scrollToTop()})),e.$Drawer.remove()}},{title:this.i18n.resource_filters.replace("%{resource}",this.model.display_name),className:"drawer-no-bottom-padding",closable:!0})},assignFromQueryParams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.filterParams=e.filter||[],this.searchQuery=e.q||"",e.sort?this.sortParams={order:e.sort.startsWith("-")?"desc":"asc",key:e.sort.replace(/^-/,"")}:this.sortParams=si({},this.defaultSortParams),this.paginationParams.current=parseInt(e.page)||1,this.paginationParams.pageSize=parseInt(e.per_page)||li.pageSize},loadDataAndCount:function(){return Promise.all([this.loadData(),this.loadItemsCount()])},assignCachedItemsCount:function(){var e=ci[this.itemsCountCacheKey];e&&(this.paginationParams.total=e)},onPageChange:function(){var e=this;this.pushQueryParams(),this.loadData().then((function(){e.$refs.table.scrollToTop()}))},onPageSizeChange:function(){this.pushQueryParams(),this.loadData()},applySearch:function(){var e=this;this.paginationParams.current=1,this.pushQueryParams(),this.loadDataAndCount().then((function(){e.$refs.table.scrollToTop()}))},applySort:function(e){this.sortParams=e,this.pushQueryParams(),this.loadData()},pushQueryParams:function(){this.$router.push({query:this.routeQueryParams,params:{doNotWatch:!0}})},onRowClick:function(e){var t;this.model.primary_key&&this.$router.push({name:"resources",params:{fragments:[].concat((t=this.$route.params.fragments,function(e){if(Array.isArray(e))return ni(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return ni(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ni(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[e[this.model.primary_key]])}})},loadItemsCount:function(){var e=this;return I.Z.get(this.queryPath,{params:si(si({},this.queryParams),{},{meta:"count",page:{limit:0}})}).then((function(t){e.paginationParams.total=t.data.meta.count,ci[e.itemsCountCacheKey]=t.data.meta.count})).catch((function(e){console.error(e)}))},loadData:function(){var e=this;return this.isLoading=!0,I.Z.get(this.queryPath,{params:this.queryParams}).then((function(t){e.rows=t.data.data})).catch((function(t){t.response?e.$Message.error((0,Jn.$G)(t.response.data.errors.join("\n"),70)):e.$Message.error(t.message)})).finally((function(){e.$nextTick((function(){e.isLoading=!1,e.isReloading=!1}))}))}},render:function(e,n,i,r,o,s){var a,l=(0,t.up)("VButton"),u=(0,t.up)("SettingsMask"),d=(0,t.up)("ResourceActions"),h=(0,t.up)("ResourceSearch"),p=(0,t.up)("Badge"),f=(0,t.up)("NewResourceButton"),m=(0,t.up)("Spin"),g=(0,t.up)("DataTable"),v=(0,t.up)("Pagination");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("div",Rn,[i.withTitle&&!s.widthLessThan("sm")||s.selectedRows.length?((0,t.wg)(),(0,t.iD)("div",Ln,[i.withMenu?((0,t.wg)(),(0,t.j4)(l,{key:0,icon:"md-menu",size:"small",type:"dashed",class:"me-2 bg-transparent align-bottom",onClick:n[0]||(n[0]=function(t){return e.$emit("click-menu")})})):(0,t.kq)("v-if",!0),i.withResize?((0,t.wg)(),(0,t.j4)(l,{key:1,icon:"md-resize",size:"small",type:"dashed",class:"me-2 bg-transparent d-none d-md-block",onClick:n[1]||(n[1]=function(t){return e.$emit("click-resize")})})):(0,t.kq)("v-if",!0),s.isShowSettings?((0,t.wg)(),(0,t.j4)(u,{key:2,class:"me-2","settings-type":"actions","button-only":!0,resource:s.model},null,8,["resource"])):(0,t.kq)("v-if",!0),s.isShowSettings&&!i.withResize?((0,t.wg)(),(0,t.j4)(u,{key:3,class:"me-2","settings-type":"scopes","button-only":!0,resource:s.model},null,8,["resource"])):(0,t.kq)("v-if",!0),!i.withTitle||s.widthLessThan("sm")||s.selectedRows.length&&s.modelHasActions?(0,t.kq)("v-if",!0):((0,t.wg)(),(0,t.iD)("span",Pn,[(0,t.Uk)((0,c.zw)(s.title)+" ",1),s.currentScope?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t.Uk)(" ("+(0,c.zw)(s.currentScope.display_name)+") ",1)],2112)):(0,t.kq)("v-if",!0)])),s.selectedRows.length&&!s.isShowSettings&&s.modelHasActions?((0,t.wg)(),(0,t.j4)(d,{key:5,resources:s.selectedRows,"with-deselect":!0,"resource-name":s.model.name,label:"".concat(e.i18n.actions," (").concat(s.selectedRows.length,")"),onStartAction:n[2]||(n[2]=function(e){return o.isLoading=!0}),onFinishAction:s.onFinishAction},null,8,["resources","resource-name","label","onFinishAction"])):(0,t.kq)("v-if",!0)])):(0,t.kq)("v-if",!0),(0,t._)("div",{class:(0,c.C_)(["d-flex justify-content-end",i.withTitle&&!s.widthLessThan("sm")||s.selectedRows.length?"col-6":"col-12"])},[(0,t.Wm)(h,{modelValue:o.searchQuery,"onUpdate:modelValue":n[3]||(n[3]=function(e){return o.searchQuery=e}),style:{"max-width":"470px"},class:"me-1",placeholder:"".concat(e.i18n.search," ").concat(((null===(a=s.association)||void 0===a?void 0:a.display_name)||s.model.display_name).toLowerCase(),"..."),onSearch:s.applySearch},null,8,["modelValue","placeholder","onSearch"]),(0,t.Wm)(p,{count:s.filtersCount,type:"primary"},{default:(0,t.w5)((function(){return[(0,t.Wm)(l,{icon:"ios-funnel","data-role":"filter",class:"mx-1 bg-white",onClick:s.openFiltersModal},null,8,["onClick"])]})),_:1},8,["count"]),(0,t.Wm)(f,{class:"ms-1",model:s.model,association:s.association,"parent-resource":i.associationParams?{name:i.resourceName,id:i.associationParams.id}:null,onSuccess:s.loadDataAndCount},null,8,["model","association","parent-resource","onSuccess"])],2)]),o.isReloading?((0,t.wg)(),(0,t.iD)("div",{key:1,style:(0,c.j5)({height:i.height.replace(/\)$/," + 34px)"),paddingBottom:"1px",position:"relative"})},[(0,t.Wm)(m,{fix:""})],4)):((0,t.wg)(),(0,t.iD)("div",Fn,[s.isShowSettings?((0,t.wg)(),(0,t.j4)(u,{key:0,"settings-type":"columns",resource:s.model},null,8,["resource"])):(0,t.kq)("v-if",!0),o.isLoading?((0,t.wg)(),(0,t.j4)(m,{key:1,fix:""})):(0,t.kq)("v-if",!0),(0,t.Wm)(g,{ref:"table",data:o.rows,columns:s.columns,style:(0,c.j5)({height:i.height}),"sort-params":o.sortParams,"scroll-to-top-on-data-update":!1,"with-select":s.modelHasActions,"click-rows":!!s.model.primary_key,onSortChange:s.applySort,onRowClick:s.onRowClick},null,8,["data","columns","style","sort-params","with-select","click-rows","onSortChange","onRowClick"]),(0,t._)("div",In,[jn,(0,t.Wm)(v,{current:o.paginationParams.current,total:o.paginationParams.total,"page-size":o.paginationParams.pageSize,"page-size-opts":o.paginationParams.pageSizeOpts,size:"small","show-sizer":"","show-elevator":"","show-total":"","onUpdate:current":n[4]||(n[4]=function(e){return o.paginationParams.current=e}),"onUpdate:pageSize":n[5]||(n[5]=function(e){return o.paginationParams.pageSize=e}),onOnChange:s.onPageChange,onOnPageSizeChange:s.onPageSizeChange},null,8,["current","total","page-size","page-size-opts","onOnChange","onOnPageSizeChange"]),(0,t.Wm)(l,{icon:"md-download",type:"text",size:"small",style:{height:"24px"},loading:o.isDownloadLoading,class:"float-right md-icon-only",onClick:s.download},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(o.isDownloadLoading?e.i18n.downloading:e.i18n.download),1)]})),_:1},8,["loading","onClick"])])]))])}};(0,t.dD)("data-v-39534f61");var di={class:"bg-white"};(0,t.Cn)();var hi=n(4635),pi=n(6270),fi={class:"h-100",style:{position:"relative"}},mi={class:"d-flex flex-column h-100"},gi={class:"d-flex h-100"},vi={class:"position-relative h-100",style:{"min-width":"250px",width:"calc(100% - 100px)"}},yi={key:0,class:"d-flex justify-content-end",style:{width:"100px"}},bi=n(2920),wi=n(8104);function _i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function xi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ki={name:"ResourceInfo",components:{ResourceActions:zn.Z,SettingsMask:ti.Z,QueryTab:bi.Z},props:{resourceName:{type:String,required:!0},resourceId:{type:[String,Number],required:!0}},emits:["remove"],data:function(){return{resource:{},notFound:!1}},computed:{isShowSettings:Fe.Qy,detailsTab:function(){return this.model.tabs.find((function(e){return"details"===e.name}))},queryVariables:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_i(Object(n),!0).forEach((function(t){xi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(xi({},"".concat(this.resourceName,"_id"),this.resourceId),this.resource)},model:function(){return j.r3[this.resourceName]},columns:function(){return this.model.columns.filter((function(e){return"id"!==e.name&&["read_only","read_write"].includes(e.access_type)}))},includeParams:function(){return(0,ei.p)(this.model)},fieldsParams:function(){return(0,ei.n)(this.model)},queryParams:function(){var e={fields:this.fieldsParams};return this.includeParams&&(e.include=this.includeParams),e}},watch:{columns:{deep:!0,handler:function(e,t){e.length>t.length&&this.loadData()}},"model.display_column":function(){this.assignBreadcrumbLabel()},"model.display_primary_key":function(){this.assignBreadcrumbLabel()}},mounted:function(){this.loadData()},methods:{onFinisAction:function(e){"remove"===e?this.$emit("remove",this.resource):(this.loadData(),this.$refs.query.runQuery())},assignResource:function(e){this.resource=e,this.assignBreadcrumbLabel()},assignBreadcrumbLabel:function(){var e=this.model.display_primary_key?["".concat(this.resourceId.toString().match(/^\d+$/)?"#":"").concat(this.resourceId)]:[];this.model.display_column&&this.resource[this.model.display_column]&&this.resourceId.toString()!==this.resource[this.model.display_column].toString()&&e.push("".concat(this.resource[this.model.display_column])),(0,wi.y)(this.resourceName,this.resourceId,e.join(" "))},loadData:function(){var e=this;I.Z.get("data/".concat(this.model.slug,"/").concat(this.resourceId),{params:this.queryParams}).then((function(t){e.assignResource(t.data.data)})).catch((function(t){var n,i,r;404===(null===(n=t.response)||void 0===n?void 0:n.status)?e.notFound=!0:(console.error(t),null!==(i=t.response)&&void 0!==i&&null!==(r=i.data)&&void 0!==r&&r.errors?e.$Message.error(t.response.data.errors.join("\n")):e.$Message.error(t.message))}))}},render:function(e,n,i,r,o,s){var a=(0,t.up)("QueryTab"),l=(0,t.up)("SettingsMask"),c=(0,t.up)("ResourceActions");return(0,t.wg)(),(0,t.iD)("div",fi,[(0,t._)("div",mi,[(0,t._)("div",gi,[(0,t._)("div",vi,[(0,t.Wm)(a,{ref:"query",class:"richtext-no-padding richtext-no-scroll",tab:s.detailsTab,variables:s.queryVariables},null,8,["tab","variables"]),s.isShowSettings&&"query"===s.detailsTab.tab_type?((0,t.wg)(),(0,t.j4)(l,{key:0,"settings-type":s.detailsTab.tab_type,preferences:s.detailsTab.preferences},null,8,["settings-type","preferences"])):(0,t.kq)("v-if",!0)]),o.notFound?(0,t.kq)("v-if",!0):((0,t.wg)(),(0,t.iD)("div",yi,[s.isShowSettings?((0,t.wg)(),(0,t.j4)(l,{key:0,"button-only":!0,"settings-type":"actions",resource:s.model},null,8,["resource"])):((0,t.wg)(),(0,t.j4)(c,{key:1,resources:[o.resource],"resource-name":s.model.name,"button-type":"primary","button-ghost":!1,label:e.i18n.actions,onFinishAction:s.onFinisAction},null,8,["resources","resource-name","label","onFinishAction"]))]))])])])}};var Ci={class:"p-3"};const Si={name:"ResourceFormTab",components:{CustomFormWrapper:Kn.default},props:{data:{type:Object,required:!1,default:function(){return{}}},tab:{type:Object,required:!0}},data:function(){return{isLoading:!0}},render:function(n,i,r,o,s,a){var l=(0,t.up)("Spin"),c=(0,t.up)("CustomFormWrapper"),u=(0,t.up)("Card");return(0,t.wg)(),(0,t.iD)("div",Ci,[s.isLoading?((0,t.wg)(),(0,t.j4)(l,{key:0,fix:""})):(0,t.kq)("v-if",!0),(0,t.wy)((0,t.Wm)(u,{style:{"max-width":"600px",margin:"0 auto"}},{default:(0,t.w5)((function(){return[(0,t.Wm)(c,{"form-id":r.tab.preferences.form_id,data:r.data,onLoaded:i[0]||(i[0]=function(e){return s.isLoading=!1})},null,8,["form-id","data"])]})),_:1},512),[[e.F8,!s.isLoading]])])}};n(2479);var Ai=n(5634),Di={class:"row"},Oi={class:"mb-2 mx-1 ivu-card ivu-card-bordered"},Ti={class:"ivu-card-head",style:{padding:"0px 16px"}},Ei={class:"row"},$i={key:0,class:"col-4 d-flex align-items-center"},Mi=["innerHTML"],Ri=n(9434);function Li(e,t){return m().get(e.preferences.api_path,{params:t}).then((function(e){var t,n,i,r,o,s,a;return"object"==typeof e.data?{data:(s=(null===(t=e.data)||void 0===t?void 0:t.data)||e.data,(a=Array.isArray(s)?s:s[Object.keys(s)[0]])?Array.isArray(a[0])?a:a.map((function(e){return Object.values(e)})):[]),columns:function(e,t){return t?t.map((function(e){return{name:e.name||e.title||e.label,display_name:(0,Jn.MI)(e.display_name||e.label||e.title||e.name),column_type:e.column_type||e.type,is_array:e.is_array}})):(n=Array.isArray(e)?e:e[Object.keys(e)[0]])[0]?Object.keys(n[0]).map((function(e){var t=n.find((function(t,n){return null!==n[e]||{}}))[e];return{name:e,display_name:(0,Jn.MI)(e),column_type:Pi(t),is_array:Array.isArray(t)}})):[];var n}((null===(n=e.data)||void 0===n?void 0:n.data)||e.data,(null===(i=e.data.meta)||void 0===i?void 0:i.columns)||(null===(r=e.data.data)||void 0===r?void 0:r.columns)||(null===(o=e.data)||void 0===o?void 0:o.columns))}:{dataHTML:e.data}}))}function Pi(e){return Array.isArray(e)?Pi(e[0]):e instanceof Date?"datetime":"number"==typeof e?"float":!0===e||!1===e?"boolean":"string"==typeof e?e.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)?"datetime":e.match(/^\d{4}-\d{2}-\d{2}$/)?"date":"string":void 0}const Fi={name:"DashboardLayout",components:{Board:{name:"Board",components:{QueryResult:Ri.Z},props:{variables:{type:Object,required:!1,default:function(){return{}}},item:{type:Object,required:!1,default:null},query:{type:Object,required:!0}},data:function(){return{searchQuery:"",searchInput:"",isLoading:!1,errors:[],data:[],columns:[],dataHTML:""}},computed:{heightsMap:function(){return{1:"195px",2:"387px",3:"548px",4:"710px"}},pageSizesMap:function(){return{1:4,2:10,3:15,4:20}},queryVariables:function(){var e=this;return(this.query.preferences.variables||[]).reduce((function(t,n){return t[n.name]=e.variables[n.name]||0===e.variables[n.name]?e.variables[n.name]:n.default_value,t}),{})},filteredData:function(){var e=this;return this.searchQuery?this.data.filter((function(t){return('"'+t.join('"')+'"').toLowerCase().includes(e.searchQuery.toLowerCase())})):this.data},withSearch:function(){var e=this.query.preferences.visualization;return(!e||["table","markdown","value"].includes(e))&&this.data.length>(["markdown","value"].includes(e)?1:10)}},watch:{query:function(e){e&&this.loadData()}},mounted:function(){this.query&&this.loadData()},methods:{applySearch:function(){this.searchQuery=this.searchInput},loadData:function(){var e=this;if(!this.isLoading)return this.isLoading=!0,("api"===this.query.preferences.query_type?Li(this.query,this.queryVariables).then((function(t){e.errors=[],e.data=t.data||[],e.columns=t.columns||[],e.dataHTML=t.dataHTML||""})):I.Z.get("run_queries/".concat(this.query.id),{params:{variables:this.queryVariables}}).then((function(t){e.errors=[],e.data=t.data.data,e.columns=t.data.meta.columns}))).catch((function(t){var n;t.response?e.errors=null===(n=t.response.data)||void 0===n?void 0:n.errors:e.$Message.error(t.message)})).finally((function(){e.isLoading=!1}))}},render:function(n,i,r,o,s,a){var l=(0,t.up)("RouterLink"),u=(0,t.up)("VInput"),d=(0,t.up)("Spin"),h=(0,t.up)("QueryResult");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",Ti,[(0,t._)("div",Ei,[(0,t._)("div",{class:(0,c.C_)(["d-flex align-items-center",a.withSearch?"col-8":"col-12"]),style:{padding:"10px 8px"}},[(0,t.Wm)(l,{to:{name:"query",params:{id:r.query.id}},class:"text-dark"},{default:(0,t.w5)((function(){return[(0,t._)("b",null,(0,c.zw)(r.item.title||r.query.name),1)]})),_:1},8,["to"])],2),a.withSearch?((0,t.wg)(),(0,t.iD)("div",$i,[(0,t.Wm)(u,{modelValue:s.searchInput,"onUpdate:modelValue":i[0]||(i[0]=function(e){return s.searchInput=e}),border:!1,class:"border-0",placeholder:n.i18n.search_placeholder,onKeydown:(0,e.D2)(a.applySearch,["enter"])},null,8,["modelValue","placeholder","onKeydown"])])):(0,t.kq)("v-if",!0)])]),(0,t._)("div",{class:"ivu-card-body p-0 overflow-auto",style:(0,c.j5)({height:a.heightsMap[r.item.size[2]]})},[s.isLoading?((0,t.wg)(),(0,t.j4)(d,{key:0,fix:""})):(0,t.kq)("v-if",!0),s.dataHTML?((0,t.wg)(),(0,t.iD)("div",{key:1,innerHTML:s.dataHTML},null,8,Mi)):((0,t.wg)(),(0,t.j4)(h,{key:2,data:a.filteredData,title:r.query.name,"minimal-pagination":!0,errors:s.errors,loading:s.isLoading,preferences:r.query.preferences,columns:s.columns,"with-footer-button-labels":!1,"default-page-size":a.pageSizesMap[r.item.size[2]],borderless:!0,"with-settings":!1,"with-table-toggle":!0,compact:!0},null,8,["data","title","errors","loading","preferences","columns","default-page-size"]))],4)],64)}}},props:{dashboard:{type:Object,required:!0},variables:{type:Object,required:!1,default:function(){return{}}}},data:function(){return{boards:[]}},computed:{classForSizeMap:function(){return{1:"col-12 col-lg-3",2:"col-12 col-lg-4",3:"col-12 col-lg-6",4:"col-12 col-lg-8",5:"col-12 col-lg-9",6:"col-12 col-lg-12"}}},beforeUpdate:function(){this.boards=[]},methods:{findQuery:function(e){return this.dashboard.queries.find((function(t){return t.id===e}))},scrollInto:function(e){var t=this.boards.find((function(t){return t.item===e}));t&&t.$el.parentElement.scrollIntoView({behavior:"smooth"})},pushBoardRef:function(e){e&&this.boards.push(e)},reload:function(){return Promise.all(this.boards.map((function(e){return e.loadData()})))}},render:function(e,n,i,r,o,s){var a=(0,t.up)("Board");return(0,t.wg)(),(0,t.iD)("div",Di,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(i.dashboard.preferences.layout,(function(e){return(0,t.wg)(),(0,t.iD)(t.HY,{key:e.query_id},[s.findQuery(e.query_id)?((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,c.C_)([s.classForSizeMap[e.size[0]],"p-0"])},[(0,t._)("div",Oi,[(0,t.Wm)(a,{ref:s.pushBoardRef,item:e,variables:i.variables,query:s.findQuery(e.query_id)},null,8,["item","variables","query"])])],2)):(0,t.kq)("v-if",!0)],64)})),128))])}};function Ii(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ji(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ii(Object(n),!0).forEach((function(t){Ni(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ii(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ni(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Vi={name:"DashboardTab",components:{VariablesForm:Ai.Z,DashboardLayout:Fi},props:{variables:{type:Object,required:!1,default:function(){return{}}},tab:{type:Object,required:!0}},data:function(){return{isLoading:!0,dataVariables:ji({},this.variables),dashboard:{}}},computed:{dashboardId:function(){return this.tab.preferences.dashboard_id},variablesToRender:function(){var e=this;return Object.values(this.dashboard.queries.reduce((function(e,t){var n;return null===(n=t.preferences.variables)||void 0===n||n.forEach((function(t){var n;e[n=t.name]||(e[n]=t)})),e}),{})).filter((function(t){return!e.variables[t.name]}))},style:function(){return this.isLoading||!this.showVariablesForm?"height: 100%":"height: calc(100% - 84px)"}},mounted:function(){this.loadDashboard()},methods:{assignDefaultVariables:function(){var e=this;this.variablesToRender.forEach((function(t){var n,i;(n=e.dataVariables)[i=t.name]||(n[i]=t.default_value)}))},loadDashboard:function(){var e=this;return I.Z.get("dashboards/".concat(this.dashboardId),{params:{include:"tags,queries",fields:{queries:"id,name,preferences"}}}).then((function(t){e.dashboard=t.data.data,e.assignDefaultVariables()})).catch((function(t){var n;console.error(t),null!==(n=t.response.data)&&void 0!==n&&n.errors&&e.$Message.error(t.response.data.errors.join("\n"))})).finally((function(){e.isLoading=!1}))}},render:function(e,n,i,r,o,s){var a=(0,t.up)("Spin"),l=(0,t.up)("VariablesForm"),c=(0,t.up)("DashboardLayout");return(0,t.wg)(),(0,t.iD)("div",null,[o.isLoading?((0,t.wg)(),(0,t.j4)(a,{key:0,fix:""})):o.dashboard.id?((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t.Wm)(l,{data:o.dataVariables,"onUpdate:data":n[0]||(n[0]=function(e){return o.dataVariables=e}),variables:s.variablesToRender,class:"mx-2 pb-3",onSubmit:n[1]||(n[1]=function(t){return e.$refs.layout.reload()})},null,8,["data","variables"]),(0,t.Wm)(c,{ref:"layout",variables:o.dataVariables,class:"mx-1",dashboard:o.dashboard},null,8,["variables","dashboard"])],64)):(0,t.kq)("v-if",!0)])}};var Bi={dashboard:N.n3,form:V.r,query:N.db};const qi={name:"ResourceTabs",components:{TabsComponent:hi.Z,ResourceInfo:pi.Z,QueryTab:bi.Z,FormTab:Si,DashboardTab:Vi,ResourcesMenu:Mn,SettingsMask:ti.Z,ResourceInfoQuery:ki},props:{resourceName:{type:String,required:!0},resourceId:{type:[Number,String],required:!0},minimized:{type:Boolean,required:!1,default:!1}},emits:["remove"],data:function(){return{selectedTabName:""}},computed:{isShowSettings:Fe.Qy,model:function(){return j.r3[this.resourceName]},associations:function(){return this.model.associations.filter((function(e){return e.visible}))},resourceData:function(){return e={id:this.resourceId},t="".concat(this.resourceName,"_id"),n=this.resourceId,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e;var e,t,n},withTabs:function(){return this.tabs.length>1||this.isShowSettings},isDefaultDetails:function(){return"details"===this.selectedTabName&&"default"===this.selectedTab.tab_type},isQueryDetails:function(){return"details"===this.selectedTabName&&"query"===this.selectedTab.tab_type},style:function(){var e=this.minimized?"(var(--vh) / 2)":"var(--vh)",t=this.minimized?92:113;return this.withTabs&&(t+=44),{height:"calc(".concat(e," - ").concat(t,"px)"),overflowY:this.isShowSettings?"hidden":"auto"}},tabs:function(){var e=this.model.tabs.filter((function(e){return e.visible&&("default"===e.tab_type||Bi[e.tab_type].find((function(t){return t.id.toString()===e.preferences["".concat(e.tab_type,"_id")].toString()})))}));return this.associations.length&&(0,Pe.aJ)("sm")&&e.splice(1,0,{name:"associations",display_name:this.i18n.associations}),e},selectedTab:function(){var e=this;return this.tabs.find((function(t){return t.name===e.selectedTabName}))},tabParams:function(){return this.tabs.map((function(e){return{to:{query:{tab:e.name},params:{doNotWatch:!0}},label:e.display_name,value:e.name}}))}},watch:{$route:function(e,t){var n;e.name===t.name&&JSON.stringify(e.params.fragments)===JSON.stringify(t.params.fragments)&&(this.selectedTabName=(null===(n=e.query)||void 0===n?void 0:n.tab)||this.tabs[0].name)}},created:function(){var e;this.selectedTabName=(null===(e=this.$route.query)||void 0===e?void 0:e.tab)||this.tabs[0].name},methods:{reload:function(){this.$refs.details?this.$refs.details.loadData():this.$refs.query?this.$refs.query.runQuery():this.$refs.dashboard&&this.$refs.dashboard.$refs.layout.reload()}},render:function(e,n,i,r,o,s){var a=(0,t.up)("SettingsMask"),l=(0,t.up)("TabsComponent"),u=(0,t.up)("ResourcesMenu"),d=(0,t.up)("ResourceInfo"),h=(0,t.up)("ResourceInfoQuery"),p=(0,t.up)("FormTab"),f=(0,t.up)("QueryTab"),m=(0,t.up)("DashboardTab");return(0,t.wg)(),(0,t.iD)("div",di,[s.withTabs?((0,t.wg)(),(0,t.j4)(l,{key:0,modelValue:o.selectedTabName,"onUpdate:modelValue":n[0]||(n[0]=function(e){return o.selectedTabName=e}),class:"pt-1",tabs:s.tabParams},{default:(0,t.w5)((function(){return[s.isShowSettings?((0,t.wg)(),(0,t.j4)(a,{key:0,"settings-type":"tabs",resource:s.model},null,8,["resource"])):(0,t.kq)("v-if",!0)]})),_:1},8,["modelValue","tabs"])):(0,t.kq)("v-if",!0),(0,t._)("div",{style:(0,c.j5)(s.style),class:(0,c.C_)(["position-relative",s.isDefaultDetails||s.isQueryDetails?"bg-white":"bg-body"])},[!s.isShowSettings||s.isDefaultDetails||s.isQueryDetails?(0,t.kq)("v-if",!0):((0,t.wg)(),(0,t.j4)(a,{key:0,"settings-type":s.selectedTab.tab_type,preferences:s.selectedTab.preferences},null,8,["settings-type","preferences"])),((0,t.wg)(),(0,t.j4)(t.Ob,null,["associations"===o.selectedTabName?((0,t.wg)(),(0,t.j4)(u,{key:"associations",resources:s.associations,size:"small","with-scopes":!1,"path-fragments":e.$route.params.fragments.length%2==1?e.$route.params.fragments.slice(0,-1):e.$route.params.fragments,style:{minHeight:"100%"}},null,8,["resources","path-fragments"])):s.isDefaultDetails?((0,t.wg)(),(0,t.j4)(d,{key:"details",ref:"details",class:"px-3 pb-3","resource-name":i.resourceName,"resource-id":i.resourceId,"with-actions":!0,"with-sticky-title":!0,editable:!0,"one-column":!i.minimized,onRemove:n[1]||(n[1]=function(t){return e.$emit("remove")})},null,8,["resource-name","resource-id","one-column"])):s.isQueryDetails?((0,t.wg)(),(0,t.j4)(h,{key:s.selectedTab.tab_type+s.selectedTab.preferences.query_id,ref:"query",class:"px-3 pt-3","resource-name":i.resourceName,"resource-id":i.resourceId,onRemove:n[2]||(n[2]=function(t){return e.$emit("remove")})},null,8,["resource-name","resource-id"])):"form"===s.selectedTab.tab_type?((0,t.wg)(),(0,t.j4)(p,{key:s.selectedTab.tab_type+s.selectedTab.preferences.form_id,tab:s.selectedTab,data:s.resourceData},null,8,["tab","data"])):"query"===s.selectedTab.tab_type?((0,t.wg)(),(0,t.j4)(f,{key:s.selectedTab.tab_type+s.selectedTab.preferences.query_id,ref:"query",tab:s.selectedTab,variables:s.resourceData},null,8,["tab","variables"])):"dashboard"===s.selectedTab.tab_type?((0,t.wg)(),(0,t.j4)(m,{key:s.selectedTab.tab_type+s.selectedTab.preferences.dashboard_id,ref:"dashboard",tab:s.selectedTab,variables:s.resourceData},null,8,["tab","variables"])):(0,t.kq)("v-if",!0)],1024))],6)])},__scopeId:"data-v-39534f61"};(0,t.dD)("data-v-36e837c9");var zi={class:"row",style:{margin:"10px 0"}},Wi={key:0,class:"col-6 d-flex align-items-center pe-0"},Ui={key:2,class:"fs-4 fw-bold nowrap overflow-hidden text-truncate"},Hi={class:"col-6 d-flex justify-content-end"},Ki={class:"position-relative border-top"},Zi={key:0,class:"text-center w-100"},Gi=["href"],Yi=["src"],Qi={key:1,class:"mx-2 py-2 d-block text-center"},Ji=["src"],Xi={class:"mt-1 audio-filename"},er={class:"text-break-all"},tr={key:2,class:"mx-2 video-container py-2 d-block text-center"},nr=["src"],ir=["href"],rr={style:{"min-height":"200px"},class:"file-container d-flex bg-white rounded justify-content-center align-items-center border flex-column"},or={class:"text-break-all text-center"};(0,t.Cn)();var sr=n(5776),ar=n(6255);function lr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}const cr={name:"AttachmentsList",props:{resourceName:{type:String,required:!0},height:{type:String,required:!1,default:"500px"},withTitle:{type:Boolean,required:!1,default:!1},withResize:{type:Boolean,required:!1,default:!1},withMenu:{type:Boolean,required:!1,default:!1},associationParams:{type:Object,require:!1,default:null}},emits:["click-resize","click-menu"],data:function(){return{isLoading:!0,isDownloadLoading:!1,attachments:[]}},computed:{isCanRemove:function(){return this.$can("edit",this.model.class_name,this.associationParams)&&this.$can("remove","ActiveStorage::Attachment")},isCanUpload:function(){return this.$can("edit",this.model.class_name,this.associationParams)&&this.$can("create","ActiveStorage::Attachment")},title:function(){return(0,Jn.$G)(this.association.display_name,60)},queryPath:function(){return["data",this.model.slug,this.associationParams.id,this.associationParams.name].join("/")},model:function(){return j.r3[this.resourceName]},association:function(){var e,t=this;return null!==(e=this.associationParams)&&void 0!==e&&e.name?this.model.associations.find((function(e){return e.slug===t.associationParams.name})):null}},mounted:function(){this.loadData().then((function(){var e={gallerySelector:".attachments-list",childSelector:"a.photoswipe",pswpModule:ar.Z};new sr.Z(e).init()}))},methods:{isImage:function(e){return!!e.match(/\.(jpg|png|jpeg|webp|svg|gif)$/i)},isVideo:function(e){return!!e.match(/\.(mp4|mov|flv|webm)$/i)},isAudio:function(e){return!!e.match(/\.(mp3|ogg|wav|aif)$/i)},remove:function(e,t){var n=this;e.stopPropagation(),e.preventDefault(),this.$Dialog.confirm({title:this.i18n.are_you_sure,closable:!0,onOk:function(){n.isLoading=!0,I.Z.delete("data/active_storage__attachments/".concat(t.id),{}).catch((function(e){console.error(e)})).finally((function(e){n.loadData()}))}})},uploadFiles:function(e){var t,n,i=this;return this.isLoading=!0,Promise.all((n=(null===(t=e.dataTransfer)||void 0===t?void 0:t.files)||e.target.files,function(e){if(Array.isArray(e))return lr(e)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return lr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lr(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){return new Promise((function(t,n){var i=new FileReader;i.readAsBinaryString(e),i.onerror=n,i.onload=function(){t(i.result)}})).then((function(t){return I.Z.post("data/active_storage__attachments",{name:i.associationParams.name.replace(/_attachments?$/,""),record_id:i.associationParams.id,record_type:i.model.class_name,file:{filename:e.name,io:t}})}))}))).finally((function(){i.loadData()}))},loadData:function(){var e=this;return this.isLoading=!0,I.Z.get(this.queryPath,{params:{limit:1e3,fields:{attachment:"id,path,created_at,updated_at,name"}}}).then((function(t){e.attachments=t.data.data})).catch((function(t){t.response?e.$Message.error((0,Jn.$G)(t.response.data.errors.join("\n"),70)):e.$Message.error(t.message)})).finally((function(){e.$nextTick((function(){e.isLoading=!1}))}))}},render:function(n,i,r,o,s,a){var l=(0,t.up)("VButton"),u=(0,t.up)("Spin"),d=(0,t.up)("Icon");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("div",zi,[r.withTitle?((0,t.wg)(),(0,t.iD)("div",Wi,[r.withMenu?((0,t.wg)(),(0,t.j4)(l,{key:0,icon:"md-menu",size:"small",type:"dashed",class:"me-2 bg-transparent align-bottom",onClick:i[0]||(i[0]=function(e){return n.$emit("click-menu")})})):(0,t.kq)("v-if",!0),r.withResize?((0,t.wg)(),(0,t.j4)(l,{key:1,icon:"md-resize",size:"small",type:"dashed",class:"me-2 bg-transparent d-none d-md-block",onClick:i[1]||(i[1]=function(e){return n.$emit("click-resize")})})):(0,t.kq)("v-if",!0),r.withTitle?((0,t.wg)(),(0,t.iD)("span",Ui,(0,c.zw)(a.title),1)):(0,t.kq)("v-if",!0)])):(0,t.kq)("v-if",!0),(0,t._)("div",Hi,[a.isCanUpload?((0,t.wg)(),(0,t.j4)(l,{key:0,class:"ms-1",icon:"md-add",type:"primary",onClick:i[2]||(i[2]=function(e){return n.$refs.fileInput.click()})},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(n.i18n.upload),1)]})),_:1})):(0,t.kq)("v-if",!0),(0,t.wy)((0,t._)("input",{ref:"fileInput",type:"file",multiple:"",onChange:i[3]||(i[3]=function(){return a.uploadFiles&&a.uploadFiles.apply(a,arguments)})},null,544),[[e.F8,!1]])])]),(0,t._)("div",Ki,[s.isLoading?((0,t.wg)(),(0,t.j4)(u,{key:0,fix:""})):(0,t.kq)("v-if",!0),(0,t._)("div",{class:"attachments-list d-flex py-2 overflow-auto",style:(0,c.j5)({flexWrap:"wrap",height:r.height.replace(/\)$/," + 33px)"),position:"relative"}),onDrop:i[4]||(i[4]=(0,e.iM)((function(){return a.uploadFiles&&a.uploadFiles.apply(a,arguments)}),["prevent"])),onDragover:i[5]||(i[5]=(0,e.iM)((function(){}),["prevent"]))},[s.isLoading||s.attachments.length?(0,t.kq)("v-if",!0):((0,t.wg)(),(0,t.iD)("div",Zi,(0,c.zw)(n.i18n.there_is_nothing_here_yet),1)),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.attachments,(function(e){return(0,t.wg)(),(0,t.iD)("div",{key:e.id,class:"attachment-item-container position-relative"},[a.isImage(e.path)?((0,t.wg)(),(0,t.iD)("a",{key:0,href:e.path,target:"_blank",class:"d-block image-container mx-2 py-2 cursor-zoom-in photoswipe","data-pswp-width":"3000","data-pswp-height":"3000"},[a.isCanRemove?((0,t.wg)(),(0,t.j4)(l,{key:0,type:"error",icon:"md-trash",class:"remove-btn rounded-0",size:"small",onClick:function(t){return a.remove(t,e)}},null,8,["onClick"])):(0,t.kq)("v-if",!0),(0,t._)("img",{src:e.path,style:{width:"100%"}},null,8,Yi)],8,Gi)):a.isAudio(e.path)?((0,t.wg)(),(0,t.iD)("div",Qi,[(0,t._)("audio",{controls:"",preload:"metadata",class:"align-middle w-100",src:e.path},null,8,Ji),(0,t._)("div",Xi,[(0,t._)("span",er,(0,c.zw)(e.path.split("/").pop()),1),a.isCanRemove?((0,t.wg)(),(0,t.j4)(l,{key:0,type:"text",icon:"md-trash",class:"bg-transparent",onClick:function(t){return a.remove(t,e)}},null,8,["onClick"])):(0,t.kq)("v-if",!0)])])):a.isVideo(e.path)?((0,t.wg)(),(0,t.iD)("div",tr,[a.isCanRemove?((0,t.wg)(),(0,t.j4)(l,{key:0,type:"error",icon:"md-trash",class:"remove-btn rounded-0",size:"small",onClick:function(t){return a.remove(t,e)}},null,8,["onClick"])):(0,t.kq)("v-if",!0),(0,t._)("video",{controls:"",class:"align-middle w-100",src:e.path},null,8,nr)])):((0,t.wg)(),(0,t.iD)("a",{key:3,href:e.path,class:"mx-2 py-2 d-block",target:"_blank"},[(0,t._)("div",rr,[(0,t.Wm)(d,{type:"md-download",size:"large",class:"fs-1"}),(0,t._)("span",or,(0,c.zw)(e.path.split("/").pop()),1),a.isCanRemove?((0,t.wg)(),(0,t.j4)(l,{key:0,type:"error",icon:"md-trash",class:"remove-btn rounded-0",size:"small",onClick:function(t){return a.remove(t,e)}},null,8,["onClick"])):(0,t.kq)("v-if",!0)])],8,ir))])})),128))],36)])])},__scopeId:"data-v-36e837c9"};var ur="resources:fullscreenAssociationTable";const dr={name:"ResourcesShow",components:{ResourcesMenu:Mn,ResourceTable:ui,ResourceTabs:qi,SettingsMask:ti.Z,AttachmentsList:cr},props:{resourceName:{type:String,required:!0},associationName:{type:String,required:!1,default:""},resourceId:{type:[String,Number],required:!0}},data:function(){return{isFullscreenTable:!1}},computed:{isShowSettings:Fe.Qy,showTable:function(){return!!this.associationName},pathFragments:function(){var e=this.$route.params.fragments;return this.associationName?e.slice(0,e.length-1):e},model:function(){return j.r3[this.resourceName]},association:function(){var e=this;return this.associations.find((function(t){return t.name===e.associationName}))},associations:function(){return this.model.associations.filter((function(e){return e.visible&&j.r3[e.model_name]}))}},created:function(){(0,Pe.aJ)("sm")?this.isFullscreenTable=!0:this.isFullscreenTable="true"===localStorage.getItem(ur)},methods:{widthLessThan:Pe.aJ,reloadTabs:function(){this.$refs.tabs&&this.$refs.tabs.reload()},toggleSize:function(){this.isFullscreenTable=!this.isFullscreenTable,localStorage.setItem(ur,this.isFullscreenTable.toString())},goToParent:function(){this.$router.push({name:"resources",params:{fragments:this.pathFragments.slice(0,this.pathFragments.length-1)}})}},render:function(e,n,i,r,o,s){var a=(0,t.up)("ResourcesMenu"),l=(0,t.up)("Sider"),u=(0,t.up)("SettingsMask"),d=(0,t.up)("ResourceTabs"),h=(0,t.up)("AttachmentsList"),p=(0,t.up)("ResourceTable"),f=(0,t.up)("Layout");return(0,t.wg)(),(0,t.j4)(f,{"has-sider":!!s.associations.length,class:"position-relative"},{default:(0,t.w5)((function(){return[s.associations.length&&!s.widthLessThan("sm")?((0,t.wg)(),(0,t.j4)(l,{key:0,class:"border-top",style:(0,c.j5)({background:"#fff",maxHeight:"calc(var(--vh, 100vh) - 112px)"})},{default:(0,t.w5)((function(){return[(0,t.Wm)(a,{resources:s.associations,size:"small","with-scopes":!1,"path-fragments":s.pathFragments,"active-name":i.associationName,style:{minHeight:"100%"}},null,8,["resources","path-fragments","active-name"])]})),_:1},8,["style"])):(0,t.kq)("v-if",!0),s.isShowSettings&&s.associations.length&&!s.widthLessThan("sm")?((0,t.wg)(),(0,t.j4)(u,{key:1,"settings-type":"associations",resource:s.model,style:{width:"200px"}},null,8,["resource"])):(0,t.kq)("v-if",!0),(0,t.Wm)(f,null,{default:(0,t.w5)((function(){var e;return[s.showTable&&o.isFullscreenTable?(0,t.kq)("v-if",!0):((0,t.wg)(),(0,t.j4)(d,{key:i.resourceName+i.resourceId,ref:"tabs","resource-name":i.resourceName,"resource-id":i.resourceId,minimized:s.showTable,class:"border-top",onRemove:s.goToParent},null,8,["resource-name","resource-id","minimized","onRemove"])),s.showTable&&"active_storage/attachment"===(null===(e=s.association)||void 0===e?void 0:e.model_name)?((0,t.wg)(),(0,t.j4)(h,{key:i.resourceName+i.resourceId+i.associationName,height:o.isFullscreenTable?"calc(var(--vh, 100vh) - 199px)":"calc((var(--vh) / 2) - 108px)","with-resize":!0,"resource-name":i.resourceName,"with-title":!0,class:"border-top","association-params":{name:i.associationName,id:i.resourceId},onActionApplied:s.reloadTabs,onClickResize:s.toggleSize},null,8,["height","resource-name","association-params","onActionApplied","onClickResize"])):s.showTable?((0,t.wg)(),(0,t.j4)(p,{key:i.resourceName+i.resourceId+i.associationName,height:o.isFullscreenTable?"calc(var(--vh, 100vh) - 199px)":"calc((var(--vh) / 2) - 108px)","with-resize":!0,"resource-name":i.resourceName,"with-title":!0,class:"border-top","association-params":{name:i.associationName,id:i.resourceId},onActionApplied:s.reloadTabs,onClickResize:s.toggleSize},null,8,["height","resource-name","association-params","onActionApplied","onClickResize"])):(0,t.kq)("v-if",!0)]})),_:1})]})),_:1},8,["has-sider"])}};var hr=n(7856),pr=n.n(hr);const fr={name:"AppBreadcrumbs",props:{crumbs:{type:Array,required:!0},withMenu:{type:Boolean,required:!1,default:!1}},emits:["click-menu"],methods:{truncate:Jn.$G,sanitize:function(e){return e.includes("<")?pr().sanitize(e,{ALLOWED_TAGS:[],KEEP_CONTENT:!0}).replace("&nbsp;",""):e}},render:function(e,n,i,r,o,s){var a=(0,t.up)("VButton"),l=(0,t.up)("BreadcrumbItem"),u=(0,t.up)("Breadcrumb");return(0,t.wg)(),(0,t.j4)(u,null,{default:(0,t.w5)((function(){return[i.withMenu?((0,t.wg)(),(0,t.j4)(a,{key:0,icon:"md-menu",size:"small",type:"dashed",class:"me-2 bg-transparent align-bottom",onClick:n[0]||(n[0]=function(t){return e.$emit("click-menu")})})):(0,t.kq)("v-if",!0),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(i.crumbs,(function(e,n){return(0,t.wg)(),(0,t.j4)(l,{key:n,class:(0,c.C_)([n<i.crumbs.length-(i.crumbs.length%2==0?2:3)?"d-none d-md-inline":"","fs-4"]),to:e.to},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(s.truncate(s.sanitize(e.label),22)),1)]})),_:2},1032,["class","to"])})),128))]})),_:1})}};var mr={key:0,class:"mx-2 mx-md-3"},gr={class:"d-flex justify-content-between align-items-center"},vr={class:"mt-3 mb-2"},yr={key:0,class:"row"},br={class:"mx-2 mx-md-3 position-relative"},wr={key:0,class:"mt-3 mb-2"},_r={key:1,class:"d-flex justify-content-between align-items-center"},xr={class:"mt-3 mb-2"},kr={key:3,style:{"max-width":"450px",margin:"auto"}},Cr={class:"text-center"},Sr={key:5,class:"row"},Ar={class:"ivu-card-body"},Dr={class:"fs-4 fw-bold text-dark"},Or={key:0,class:"text-center mb-4"},Tr={key:6,class:"text-center",style:{bottom:"0"}},Er=["href"],$r={class:"ivu-card-body"},Mr={class:"fs-4 fw-bold text-dark"},Rr={class:"col-12"};const Lr={name:"LinksSection",computed:{linksToRender:function(){return this.defaultLinks.concat(this.customLinks)},canReadReports:function(){return this.$can("read","Motor::Query")||this.$can("read","Motor::Dashboard")||this.$can("read","Motor::Alert")},defaultLinks:function(){return[(0,Pe.aJ)("sm")&&{is:"RouterLink",name:"Data",to:{name:"data_home"}},this.canReadReports&&{is:"RouterLink",name:"Reports",to:{name:"reports"}},this.$can("read","Motor::Form")&&{is:"RouterLink",name:"Forms",to:{name:"forms"}}].filter(Boolean)},customLinks:function(){var e=this;return De.map((function(t){var n={name:t.name},i=t.path.replace(location.origin,"").replace(new RegExp("^".concat(Le.sb)),"/");if(i.match(/^https?:/))n.target="_blank",n.is="a",n.href=i;else{var r=e.$router.resolve({path:i},e.$route);if(null!=r&&r.name){if(!Ne(r))return null;n.is="RouterLink",n.to=r}else n.is="a",n.href=i}return n})).filter(Boolean)}},methods:{openEditModal:function(){this.$Drawer.open(Re,{},{title:this.i18n.links,closable:!0})}},render:function(e,n,i,r,o,s){var a=(0,t.up)("VButton");return(0,t.wg)(),(0,t.iD)(t.HY,null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.linksToRender,(function(e){return(0,t.wg)(),(0,t.iD)("div",{key:e.name,class:"col-12 col-md-6 col-lg-4 col-xl-3"},[e.to||e.href?((0,t.wg)(),(0,t.j4)((0,t.LL)(e.is),{key:0,to:e.to,href:e.href,target:e.target,class:"ivu-card ivu-card-bordered my-2"},{default:(0,t.w5)((function(){return[(0,t._)("div",$r,[(0,t._)("p",Mr,(0,c.zw)(e.name),1)])]})),_:2},1032,["to","href","target"])):(0,t.kq)("v-if",!0)])})),128)),(0,t._)("div",Rr,[e.$can("manage","all")?((0,t.wg)(),(0,t.j4)(a,{key:0,icon:"md-add",long:"",onClick:s.openEditModal},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.add_link),1)]})),_:1},8,["onClick"])):(0,t.kq)("v-if",!0)])],64)}};var Pr=n(7272),Fr=(0,g.qj)(JSON.parse(document.getElementById("app").getAttribute("data-homepage-layout")));function Ir(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}const jr={name:"Home",components:{LinksSection:Lr,DashboardSelect:Pr.Z,DashboardLayout:Fi},data:function(){return{isEdit:!1,isLoading:!1,selectedDashboardId:null,dashboard:null}},computed:{version:function(){return Le.i8},schema:function(){return j.fK},isStandalone:function(){return Le.$W},homepageStore:function(){return Fr},dashboardId:function(){var e;return null===(e=Fr[0])||void 0===e?void 0:e.id},databaseSettingsPath:function(){return null===Le.sc||void 0===Le.sc?void 0:Le.sc.replace("general","database")},visibleResources:function(){return j.fK.filter((function(e){return e.visible}))}},watch:{dashboardId:function(){this.dashboardId?this.loadDashboard():this.dashboard=null}},created:function(){var e;this.selectedDashboardId=null===(e=Fr[0])||void 0===e?void 0:e.id,this.dashboardId&&this.loadDashboard()},methods:{widthLessThan:Pe.aJ,loadDashboard:function(){var e=this;return this.isLoading=!0,I.Z.get("dashboards/".concat(this.dashboardId),{params:{include:"tags,queries",fields:{queries:"id,name,preferences"}}}).then((function(t){e.dashboard=t.data.data})).catch((function(t){var n,i;null!==(n=t.response)&&void 0!==n&&null!==(i=n.data)&&void 0!==i&&i.errors?e.$Message.error(t.response.data.errors.join("\n")):e.$Message.error(t.message)})).finally((function(){e.isLoading=!1}))},selectDashboard:function(){var e=this;this.isLoading=!0,I.Z.post("configs",{key:"homepage.layout",value:this.selectedDashboardId?[{type:"dashboard",id:this.selectedDashboardId}]:[]}).then((function(t){var n;Fr.splice.apply(Fr,[0,Fr.length].concat(function(e){if(Array.isArray(e))return Ir(e)}(n=t.data.data.value)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return Ir(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ir(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),e.dashboardId?e.loadDashboard().finally((function(){e.isEdit=!1})):(e.isEdit=!1,e.isLoading=!1)})).catch((function(t){console.error(t),e.$Message.error(e.i18n.unable_to_submit_form),e.isLoading=!1}))}},render:function(e,n,i,r,o,s){var a,l=(0,t.up)("VButton"),u=(0,t.up)("LinksSection"),d=(0,t.up)("Spin"),h=(0,t.up)("DashboardSelect"),p=(0,t.up)("DashboardLayout"),f=(0,t.up)("RouterLink");return(0,t.wg)(),(0,t.iD)(t.HY,null,[s.widthLessThan("sm")?((0,t.wg)(),(0,t.iD)("div",mr,[(0,t._)("div",gr,[(0,t._)("h1",vr,(0,c.zw)(e.i18n.hello_admin),1),e.$can("manage","all")&&"home"===e.$route.name?((0,t.wg)(),(0,t.j4)(l,{key:0,icon:o.isEdit?"md-close":"md-create",class:"fs-1 bg-transparent",type:"text",onClick:n[0]||(n[0]=function(e){return o.isEdit=!o.isEdit})},null,8,["icon"])):(0,t.kq)("v-if",!0)]),"home"===e.$route.name?((0,t.wg)(),(0,t.iD)("div",yr,[(0,t.Wm)(u)])):(0,t.kq)("v-if",!0)])):(0,t.kq)("v-if",!0),(0,t._)("div",br,[s.widthLessThan("sm")&&"home"===e.$route.name?((0,t.wg)(),(0,t.iD)("h1",wr,(0,c.zw)(s.dashboardId?null===(a=o.dashboard)||void 0===a?void 0:a.title:e.i18n.resources),1)):s.widthLessThan("sm")?(0,t.kq)("v-if",!0):((0,t.wg)(),(0,t.iD)("div",_r,[(0,t._)("h1",xr,(0,c.zw)(e.i18n.hello_admin),1),e.$can("manage","all")&&"home"===e.$route.name?((0,t.wg)(),(0,t.j4)(l,{key:0,icon:o.isEdit?"md-close":"md-create",class:"fs-1 bg-transparent",type:"text",onClick:n[1]||(n[1]=function(e){return o.isEdit=!o.isEdit})},null,8,["icon"])):(0,t.kq)("v-if",!0)])),o.isLoading?((0,t.wg)(),(0,t.j4)(d,{key:2,fix:""})):(0,t.kq)("v-if",!0),o.isEdit?((0,t.wg)(),(0,t.iD)("div",kr,[(0,t.Wm)(h,{modelValue:o.selectedDashboardId,"onUpdate:modelValue":n[2]||(n[2]=function(e){return o.selectedDashboardId=e})},null,8,["modelValue"]),(0,t._)("div",Cr,[(0,t.Wm)(l,{icon:"md-close",type:"text",class:"bg-transparent",onClick:n[3]||(n[3]=function(e){return o.isEdit=!1})},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.cancel),1)]})),_:1}),(0,t.Wm)(l,{icon:"md-checkmark",class:"bg-transparent",type:"text",onClick:s.selectDashboard},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.submit),1)]})),_:1},8,["onClick"])])])):s.dashboardId&&o.dashboard&&"home"===e.$route.name?((0,t.wg)(),(0,t.j4)(p,{key:4,dashboard:o.dashboard},null,8,["dashboard"])):((0,t.wg)(),(0,t.iD)("div",Sr,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.visibleResources,(function(e){return(0,t.wg)(),(0,t.iD)("div",{key:e.slug,class:"col-12 col-md-6 col-lg-4 col-xl-3"},[(0,t.Wm)(f,{class:"ivu-card ivu-card-bordered my-2",to:{name:"resources",params:{fragments:[e.slug]}}},{default:(0,t.w5)((function(){return[(0,t._)("div",Ar,[(0,t._)("p",Dr,(0,c.zw)(e.display_name.replace("/","/")),1)])]})),_:2},1032,["to"])])})),128)),!s.schema.length&&s.databaseSettingsPath?((0,t.wg)(),(0,t.iD)("div",Or,[(0,t.Wm)(l,{icon:"md-add",size:"large",to:s.databaseSettingsPath},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.add_database),1)]})),_:1},8,["to"])])):(0,t.kq)("v-if",!0)])),o.isEdit?(0,t.kq)("v-if",!0):((0,t.wg)(),(0,t.iD)("div",Tr,[(0,t._)("a",{href:s.isStandalone?"https://github.com/motor-admin/motor-admin":"https://github.com/motor-admin/motor-admin-rails",target:"_blank"},"Motor Admin v"+(0,c.zw)(s.version),9,Er)]))])],64)}},Nr={name:"ResourcesBase",components:{ResourceTable:ui,Resource:dr,Breadcrumbs:fr,ResourcesMenu:Mn,Home:jr,SettingsMask:ti.Z},data:function(){return{isMenuSider:!1}},computed:{isShowSettings:Fe.Qy,model:function(){return j.r3[this.resourceName]},isShowSiderScreen:function(){return(0,Pe.aJ)("xl")},activeNavigationName:function(){var e;return null!==(e=this.$route.query)&&void 0!==e&&e.scope?this.fragments[0]+"."+this.$route.query.scope:this.fragments[0]},visibleResources:function(){return j.fK.filter((function(e){return e.visible}))},fragments:function(){return this.$route.params.fragments||[]},normalizedFragments:function(){for(var e=this,t=[],n=function(n){var i,r,o,s,a,l=(null===(i=j.ik[e.fragments[n-2]])||void 0===i||null===(r=i.associations)||void 0===r?void 0:r.find((function(t){return t.slug===e.fragments[n]})))||(null===(o=t[n-2])||void 0===o||null===(s=o.model)||void 0===s||null===(a=s.associations)||void 0===a?void 0:a.find((function(t){return t.slug===e.fragments[n]}))),c=j.ik[e.fragments[n]]||j.r3[null==l?void 0:l.model_name],u={fragment:e.fragments[n],association:l,model:c};t.push(u)},i=0;i<this.fragments.length;i++)n(i);return t},associationName:function(){var e=this.fragments[this.fragments.length-1];return this.fragments.length>2&&this.fragments.length%2==1?e:null},resourceSlug:function(){return this.associationName?this.fragments[this.fragments.length-3]:this.resourceId?this.fragments[this.fragments.length-2]:this.fragments[this.fragments.length-1]},resourceName:function(){var e=this;if(j.ik[this.resourceSlug])return j.ik[this.resourceSlug].name;var t,n=this.normalizedFragments.find((function(t){return t.fragment===e.resourceSlug}));return null==n||null===(t=n.model)||void 0===t?void 0:t.name},crumbs:function(){for(var e=this,t=this.normalizedFragments,n=[],i=0;i<t.length;i++){var r,o,s,a,l={label:(null===(r=t[i].association)||void 0===r?void 0:r.display_name)||(null===(o=t[i].model)||void 0===o?void 0:o.display_name)||(!(0,Pe.aJ)("sm")&&wi.F[null===(s=t[i-1])||void 0===s?void 0:s.model.name]||{})[this.fragments[i]]||"".concat(this.fragments[i].match(/^\d+$/)?"#":"").concat(this.fragments[i])};if(i-1!==t.length&&(l.to={name:"resources",params:{fragments:this.fragments.slice(0,i+1)}}),1===t.length&&null!==(a=this.$route.query)&&void 0!==a&&a.scope){var c,u=t[0].model.scopes.find((function(t){return t.name===e.$route.query.scope}));l.label="".concat(l.label," (").concat(u.display_name,")"),(c=l.to).query||(c.query={}),l.to.query.scope=u.name}n.push(l)}return n},resourceId:function(){var e=this.associationName?2:1,t=this.fragments[this.fragments.length-e];return t&&this.fragments.length>1?t:null}},watch:{$route:function(e,t){"home"===e.name&&(0,Fe.E3)()},isShowSiderScreen:function(){this.isMenuSider=this.isShowSiderScreen}},created:function(){this.isMenuSider=this.isShowSiderScreen},methods:{widthLessThan:Pe.aJ,onMenuSelect:function(e){var t,n;null!==(t=j.ik[e])&&void 0!==t&&null!==(n=t.scopes)&&void 0!==n&&n.find((function(e){return e.visible}))?this.fragments[0]===e&&this.toggleResourcesMenu():this.toggleResourcesMenu()},toggleResourcesMenu:function(){this.isMenuSider=!this.isMenuSider}},render:function(e,n,i,r,o,s){var a=(0,t.up)("ResourcesMenu"),l=(0,t.up)("Sider"),u=(0,t.up)("SettingsMask"),d=(0,t.up)("Breadcrumbs"),h=(0,t.up)("Resource"),p=(0,t.up)("ResourceTable"),f=(0,t.up)("Home"),m=(0,t.up)("Layout");return(0,t.wg)(),(0,t.j4)(m,{"has-sider":!0,style:(0,c.j5)({height:"calc(var(--vh, 100vh) - 60px)",position:"relative"})},{default:(0,t.w5)((function(){return[!s.isShowSiderScreen||s.fragments[0]?((0,t.wg)(),(0,t.j4)(l,{key:0,"model-value":s.isShowSiderScreen&&o.isMenuSider,collapsible:!0,"collapsed-width":0,style:(0,c.j5)({background:"#fff",maxHeight:"calc(var(--vh, 100vh) - 60px)"})},{default:(0,t.w5)((function(){return[(0,t.Wm)(a,{resources:s.visibleResources,"active-name":s.activeNavigationName,style:{minHeight:"100%"},onSelect:s.onMenuSelect},null,8,["resources","active-name","onSelect"])]})),_:1},8,["model-value","style"])):(0,t.kq)("v-if",!0),!s.isShowSiderScreen&&s.isShowSettings?((0,t.wg)(),(0,t.j4)(u,{key:1,style:{width:"200px"}})):(0,t.kq)("v-if",!0),(0,t.Wm)(m,{class:"d-block"},{default:(0,t.w5)((function(){return[s.fragments&&s.fragments.length?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[s.resourceName?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[s.fragments.length>1||s.isShowSiderScreen&&s.fragments.length>1||s.widthLessThan("sm")?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t.Wm)(d,{crumbs:s.crumbs,"with-menu":s.isShowSiderScreen,style:{padding:"14px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},onClickMenu:s.toggleResourcesMenu},null,8,["crumbs","with-menu","onClickMenu"]),s.fragments.length>1?((0,t.wg)(),(0,t.j4)(h,{key:0,"resource-name":s.resourceName,"resource-id":s.resourceId,"association-name":s.associationName},null,8,["resource-name","resource-id","association-name"])):(0,t.kq)("v-if",!0)],64)):(0,t.kq)("v-if",!0),1===s.fragments.length?((0,t.wg)(),(0,t.j4)(p,{key:s.resourceName,height:"calc(var(--vh, 100vh) - ".concat(s.widthLessThan("sm")?"200px":"148px",")"),"with-title":!s.widthLessThan("sm"),"with-menu":s.isShowSiderScreen&&!s.widthLessThan("sm"),class:"border-top border-md-0","resource-name":s.resourceName,onClickMenu:s.toggleResourcesMenu},null,8,["height","with-title","with-menu","resource-name","onClickMenu"])):(0,t.kq)("v-if",!0)],64)):((0,t.wg)(),(0,t.iD)("div",On,(0,c.zw)(e.i18n.not_found),1))],2112)):((0,t.wg)(),(0,t.j4)(f,{key:1}))]})),_:1})]})),_:1},8,["style"])},__scopeId:"data-v-ddc842ee"};var Vr={class:"row mx-0 mx-md-2",style:{"min-height":"74px"}},Br={class:"my-3 overflow-hidden text-truncate"},qr={key:0,class:"col-4 d-flex align-items-center justify-content-center"},zr={class:"col-4 d-flex align-items-center justify-content-end"},Wr={key:0,class:"p-0 col-12 col-md-6 col-lg-3 border-right"},Ur={key:0,class:"pb-3 pt-1 px-3 px-md-4 border-bottom"},Hr={key:1,style:{height:"calc(100% - 64px)"}},Kr={class:"h-100 position-relative"},Zr={key:1,class:"d-flex justify-content-center align-items-center h-100"},Gr=["innerHTML"],Yr={key:1,class:"d-flex justify-content-center align-items-center",style:{height:"100%"}},Qr=n(4487);const Jr={name:"TagsSelect",props:{size:{type:String,required:!1,default:"large"},modelValue:{type:Array,required:!1,default:function(){return[]}}},emits:["update:modelValue"],data:function(){return{dataValue:[],tags:[],isLoading:!1}},watch:{modelValue:function(e){this.dataValue=e},dataValue:function(e){this.$emit("update:modelValue",e)}},mounted:function(){this.dataValue=this.modelValue,this.loadTags()},methods:{createFunction:function(e){return Promise.resolve({name:e})},loadTags:function(){var e=this;this.isLoading=!0,I.Z.get("tags").then((function(t){e.tags=t.data.data})).catch((function(e){console.error(e)})).finally((function(){e.isLoading=!1}))}},render:function(e,n,i,r,o,s){var a=(0,t.up)("MSelect");return(0,t.wg)(),(0,t.j4)(a,{modelValue:o.dataValue,"onUpdate:modelValue":n[0]||(n[0]=function(e){return o.dataValue=e}),filterable:"","allow-create":"",multiple:"",placeholder:e.i18n.set_tags,size:i.size,options:o.tags,"create-function":s.createFunction,"label-key":"name","value-key":"name"},null,8,["modelValue","placeholder","size","options","create-function"])}};function Xr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function eo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const to={name:"QueryForm",components:{TagsSelect:Jr},props:{query:{type:Object,required:!0},action:{type:String,required:!1,default:"new",validator:function(e){return["edit","new"].includes(e)}}},emits:["success"],data:function(){return{dataQuery:{}}},computed:{rules:function(){return{name:[{required:!0,message:(0,_e.w)("name")}]}},apiRequest:function(){var e={data:this.dataQuery,include:"tags"};return"api"===this.dataQuery.preferences.query_type&&(e.data.sql_body=""),"sql"===this.dataQuery.preferences.query_type&&delete e.data.preferences.api_path,"edit"===this.action?I.Z.put("queries/".concat(this.dataQuery.id),e):I.Z.post("queries",e)}},created:function(){this.dataQuery=JSON.parse(JSON.stringify(this.query)),"new"===this.action&&delete this.dataQuery.id},methods:{submit:function(){var e=this;this.$refs.form.validate((function(t){t&&e.apiRequest.then((function(t){e.$emit("success",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xr(Object(n),!0).forEach((function(t){eo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t.data.data))})).catch((function(t){var n;null!==(n=t.response.data.errors)&&void 0!==n&&n.length&&e.$refs.form.setErrors(t.response.data.errors),console.error(t)}))}))}},render:function(e,n,i,r,o,s){var a=(0,t.up)("VInput"),l=(0,t.up)("FormItem"),u=(0,t.up)("TagsSelect"),d=(0,t.up)("VButton"),h=(0,t.up)("VForm");return(0,t.wg)(),(0,t.j4)(h,{ref:"form",model:o.dataQuery,rules:s.rules,"label-position":"top"},{default:(0,t.w5)((function(){return[(0,t.Wm)(l,{label:e.i18n.name,prop:"name"},{default:(0,t.w5)((function(){return[(0,t.Wm)(a,{modelValue:o.dataQuery.name,"onUpdate:modelValue":n[0]||(n[0]=function(e){return o.dataQuery.name=e}),size:"large",autofocus:!0,placeholder:e.i18n.query_name},null,8,["modelValue","placeholder"])]})),_:1},8,["label"]),(0,t.Wm)(l,{label:e.i18n.description,prop:"description"},{default:(0,t.w5)((function(){return[(0,t.Wm)(a,{modelValue:o.dataQuery.description,"onUpdate:modelValue":n[1]||(n[1]=function(e){return o.dataQuery.description=e}),type:"textarea",placeholder:e.i18n.describe_your_query_optional,autosize:{minRows:3,maxRows:7}},null,8,["modelValue","placeholder"])]})),_:1},8,["label"]),(0,t.Wm)(l,{label:e.i18n.tags,prop:"tags"},{default:(0,t.w5)((function(){return[(0,t.Wm)(u,{modelValue:o.dataQuery.tags,"onUpdate:modelValue":n[2]||(n[2]=function(e){return o.dataQuery.tags=e}),placeholder:e.i18n.select_query_tags},null,8,["modelValue","placeholder"])]})),_:1},8,["label"]),(0,t.Wm)(d,{size:"large",class:"mt-3",long:"",type:"primary",onClick:s.submit},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.save),1)]})),_:1},8,["onClick"])]})),_:1},8,["model","rules"])}};(0,t.dD)("data-v-8cfde25a");var no={class:"bg-white"},io={key:0,class:"fw-bold mb-3"},ro={class:"fs-4 fw-bold my-1"},oo=(0,t._)("p",{class:"fs-4 fw-bold my-1"}," Format ",-1),so={class:"fs-4 fw-bold my-1"},ao={class:"footer p-2"};(0,t.Cn)();var lo=n(478),co=n(5893),uo=n(3093);const ho={name:"VariableSettings",components:{VariableInput:co.Z,OptionsInput:uo.Z},props:{variable:{type:Object,required:!0},withName:{type:Boolean,required:!1,default:!1},withRemove:{type:Boolean,required:!1,default:!1}},emits:["update:variable","remove"],computed:{schema:function(){return j.fK},rules:function(){return{name:[{required:this.withName}]}},variableTypes:function(){return[{label:this.i18n.text,value:"text"},{label:this.i18n.number,value:"number"},{label:this.i18n.date,value:"date"},{label:this.i18n.date_and_time,value:"datetime"},{label:this.i18n.reference,value:"reference"},{label:this.i18n.select,value:"select"}]}},methods:{updateDisplayName:function(e){this.variable.display_name=(0,Jn.MI)(e.replace(/_id$/,""))},onTypeChange:function(){this.variable.default_value="",this.$emit("update:variable",this.variable)}},render:function(e,n,i,r,o,s){var a=(0,t.up)("VInput"),l=(0,t.up)("FormItem"),u=(0,t.up)("MSelect"),d=(0,t.up)("OptionsInput"),h=(0,t.up)("VariableInput"),p=(0,t.up)("VButton"),f=(0,t.up)("VForm");return(0,t.wg)(),(0,t.j4)(f,{ref:"form",rules:s.rules,"label-position":"top",model:i.variable},{default:(0,t.w5)((function(){return[i.withName?((0,t.wg)(),(0,t.j4)(l,{key:0,label:e.i18n.name,prop:"name"},{default:(0,t.w5)((function(){return[(0,t.Wm)(a,{modelValue:i.variable.name,"onUpdate:modelValue":[n[0]||(n[0]=function(e){return i.variable.name=e}),s.updateDisplayName],placeholder:e.i18n.name},null,8,["modelValue","placeholder","onUpdate:modelValue"])]})),_:1},8,["label"])):(0,t.kq)("v-if",!0),(0,t.Wm)(l,{label:e.i18n.input_type,prop:"variable_type"},{default:(0,t.w5)((function(){return[(0,t.Wm)(u,{modelValue:i.variable.variable_type,"onUpdate:modelValue":[n[1]||(n[1]=function(e){return i.variable.variable_type=e}),s.onTypeChange],options:s.variableTypes,"with-deselect":!1},null,8,["modelValue","options","onUpdate:modelValue"])]})),_:1},8,["label"]),"reference"===i.variable.variable_type?((0,t.wg)(),(0,t.j4)(l,{key:1,label:e.i18n.reference_resource,prop:"reference_resource"},{default:(0,t.w5)((function(){return[(0,t.Wm)(u,{modelValue:i.variable.reference_resource,"onUpdate:modelValue":[n[2]||(n[2]=function(e){return i.variable.reference_resource=e}),n[3]||(n[3]=function(t){return e.$emit("update:variable",i.variable)})],"with-deselect":!1,"label-key":"display_name","value-key":"name",placeholder:e.i18n.select_resource_placeholder,filterable:"",options:s.schema},null,8,["modelValue","placeholder","options"])]})),_:1},8,["label"])):(0,t.kq)("v-if",!0),"select"===i.variable.variable_type?((0,t.wg)(),(0,t.j4)(l,{key:2,label:e.i18n.select_options,prop:"select_options"},{default:(0,t.w5)((function(){return[(0,t.Wm)(d,{modelValue:i.variable.select_options,"onUpdate:modelValue":[n[4]||(n[4]=function(e){return i.variable.select_options=e}),n[5]||(n[5]=function(t){return e.$emit("update:variable",i.variable)})]},null,8,["modelValue"])]})),_:1},8,["label"])):(0,t.kq)("v-if",!0),(0,t.Wm)(l,{label:e.i18n.default_value,prop:"default_value"},{default:(0,t.w5)((function(){return[(0,t.Wm)(h,{modelValue:i.variable.default_value,"onUpdate:modelValue":[n[6]||(n[6]=function(e){return i.variable.default_value=e}),n[7]||(n[7]=function(t){return e.$emit("update:variable",i.variable)})],variable:i.variable},null,8,["modelValue","variable"])]})),_:1},8,["label"]),i.withRemove?((0,t.wg)(),(0,t.j4)(p,{key:3,long:"",type:"error",ghost:"",size:"small",onClick:n[8]||(n[8]=function(t){return e.$emit("remove",i.variable)})},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.remove),1)]})),_:1})):(0,t.kq)("v-if",!0)]})),_:1},8,["rules","model"])}};var po={class:"richtext"},fo=["innerHTML"],mo=["innerHTML"],go=["innerHTML"],vo=["innerHTML"],yo=["innerHTML"],bo=["innerHTML"];const wo={name:"VariablesHint",setup:function(){return{selectSimpleVariableSql:"SELECT * FROM users WHERE role = {{role}}",selectIfElseVariableSql:"SELECT * FROM users\n{{#role}} WHERE role = {{role}} {{/role}}\n{{^role}} WHERE role = 'admin' {{/role}}",selectUserVariableSql:"SELECT * FROM orders as od\nJOIN sales_reps as sr ON sr.id = od.rep_id\nWHERE sr.user_id = {{current_user_id}}"}},render:function(e,n,i,r,o,s){return(0,t.wg)(),(0,t.iD)("div",po,[(0,t._)("p",{innerHTML:e.i18n.queries_can_contain_variable_via_syntax_html},null,8,fo),(0,t._)("pre",{innerHTML:r.selectSimpleVariableSql},null,8,mo),(0,t._)("p",{innerHTML:e.i18n.syntax_is_used_for_if_and_if_not_conditions_html},null,8,go),(0,t._)("pre",{innerHTML:r.selectIfElseVariableSql},null,8,vo),(0,t._)("p",{innerHTML:e.i18n.current_user_variables_are_always_passed_explicitly_and_can_he_used_html},null,8,yo),(0,t._)("pre",{innerHTML:r.selectUserVariableSql},null,8,bo)])}},_o={name:"QuerySettings",components:{CurrencySelect:lo.Z,Tabs:hi.Z,VariableSettings:ho,VariablesHint:wo},props:{preferences:{type:Object,required:!0},columns:{type:Array,required:!1,default:function(){return[]}},withVariablesEditor:{type:Boolean,required:!1,default:!1}},emits:["close"],data:function(){return{selectedTab:"visualization"}},computed:{visualizationOptions:function(){return[{label:this.i18n.table,value:"table"},{label:this.i18n.value,value:"value"},{label:this.i18n.markdown,value:"markdown"},{label:this.i18n.line_chart,value:"line_chart"},{label:this.i18n.bar_chart,value:"bar_chart"},{label:this.i18n.row_chart,value:"row_chart"},{label:this.i18n.pie_chart,value:"pie_chart"},{label:this.i18n.funnel,value:"funnel"}]},formatOptions:function(){return[{label:this.i18n.decimal,value:"decimal"},{label:this.i18n.percent,value:"percent"},{label:this.i18n.currency,value:"currency"}]}},methods:{maybeSetLabelFormat:function(e){var t,n;["table","markdown"].includes(e)||((t=this.preferences.visualization_options).label_format||(t.label_format="decimal"),(n=this.preferences.visualization_options).label_format_options||(n.label_format_options={}))},addNewVariable:function(){this.preferences.variables.push({name:"",display_name:"New variable",variable_type:"text"})},maybeSetCurrency:function(e){var t,n;"currency"===e&&((t=this.preferences.visualization_options).label_format_options||(t.label_format_options={}),(n=this.preferences.visualization_options.label_format_options).currency||(n.currency="USD"))}},render:function(e,n,i,r,o,s){var a=(0,t.up)("Tabs"),l=(0,t.up)("VariableSettings"),u=(0,t.up)("Card"),d=(0,t.up)("VButton"),h=(0,t.up)("VariablesHint"),p=(0,t.up)("Radio"),f=(0,t.up)("RadioGroup"),m=(0,t.up)("Checkbox"),g=(0,t.up)("CurrencySelect");return(0,t.wg)(),(0,t.iD)("div",no,[(0,t.Wm)(a,{modelValue:o.selectedTab,"onUpdate:modelValue":n[0]||(n[0]=function(e){return o.selectedTab=e}),position:"center",tabs:[{label:e.i18n.visualization,value:"visualization"},{label:e.i18n.variables,value:"variables"}]},null,8,["modelValue","tabs"]),(0,t._)("div",{style:(0,c.j5)({height:"calc(var(--vh, 100vh) - 224px)",overflowY:"auto"}),class:"p-2"},["variables"===o.selectedTab?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[i.withVariablesEditor||i.preferences.variables.length?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(i.preferences.variables,(function(e,n){return(0,t.wg)(),(0,t.j4)(u,{key:n,class:"my-2"},{default:(0,t.w5)((function(){return[i.withVariablesEditor?(0,t.kq)("v-if",!0):((0,t.wg)(),(0,t.iD)("div",io,(0,c.zw)(e.display_name),1)),(0,t.Wm)(l,{variable:e,"with-name":i.withVariablesEditor,"with-remove":i.withVariablesEditor,onRemove:function(e){return i.preferences.variables.splice(n,1)}},null,8,["variable","with-name","with-remove","onRemove"])]})),_:2},1024)})),128)),i.withVariablesEditor?((0,t.wg)(),(0,t.j4)(d,{key:0,icon:"md-add",long:"",onClick:s.addNewVariable},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.add_variable),1)]})),_:1},8,["onClick"])):(0,t.kq)("v-if",!0)],64)):((0,t.wg)(),(0,t.j4)(h,{key:1}))],2112)):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t._)("p",ro,(0,c.zw)(e.i18n.display_as),1),(0,t.Wm)(f,{modelValue:i.preferences.visualization,"onUpdate:modelValue":n[1]||(n[1]=function(e){return i.preferences.visualization=e}),class:"d-flex flex-column"},{default:(0,t.w5)((function(){return[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.visualizationOptions,(function(e){return(0,t.wg)(),(0,t.j4)(p,{key:e.value,label:e.value,border:"",size:"large",class:"my-1 me-0","onUpdate:modelValue":s.maybeSetLabelFormat},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.label),1)]})),_:2},1032,["label","onUpdate:modelValue"])})),128))]})),_:1},8,["modelValue"]),["bar_chart","row_chart","line_chart","funnel"].includes(i.preferences.visualization)?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t.Wm)(m,{modelValue:i.preferences.visualization_options.chart_values_axis,"onUpdate:modelValue":n[2]||(n[2]=function(e){return i.preferences.visualization_options.chart_values_axis=e}),class:"d-block"},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(" ")+" "+(0,c.zw)(e.i18n.values_axis),1)]})),_:1},8,["modelValue"]),["bar_chart","row_chart"].includes(i.preferences.visualization)?((0,t.wg)(),(0,t.j4)(m,{key:0,modelValue:i.preferences.visualization_options.chart_stacked,"onUpdate:modelValue":n[3]||(n[3]=function(e){return i.preferences.visualization_options.chart_stacked=e}),class:"d-block"},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(" ")+" "+(0,c.zw)(e.i18n.stacked_bars),1)]})),_:1},8,["modelValue"])):(0,t.kq)("v-if",!0)],64)):(0,t.kq)("v-if",!0),["table","markdown","value"].includes(i.preferences.visualization)?(0,t.kq)("v-if",!0):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[oo,(0,t.Wm)(f,{modelValue:i.preferences.visualization_options.label_format,"onUpdate:modelValue":[n[4]||(n[4]=function(e){return i.preferences.visualization_options.label_format=e}),s.maybeSetCurrency],class:"d-flex flex-column"},{default:(0,t.w5)((function(){return[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.formatOptions,(function(e){return(0,t.wg)(),(0,t.j4)(p,{key:e.value,label:e.value,border:"",size:"large",class:"my-1 me-0"},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.label),1)]})),_:2},1032,["label"])})),128))]})),_:1},8,["modelValue","onUpdate:modelValue"])],64)),["table","markdown"].includes(i.preferences.visualization)||"currency"!==i.preferences.visualization_options.label_format?(0,t.kq)("v-if",!0):((0,t.wg)(),(0,t.iD)(t.HY,{key:2},[(0,t._)("p",so,(0,c.zw)(e.i18n.currency),1),(0,t.Wm)(g,{modelValue:i.preferences.visualization_options.label_format_options.currency,"onUpdate:modelValue":n[5]||(n[5]=function(e){return i.preferences.visualization_options.label_format_options.currency=e})},null,8,["modelValue"])],64))],64))],4),(0,t._)("div",ao,[(0,t.Wm)(d,{long:"",type:"default",onClick:n[6]||(n[6]=function(t){return e.$emit("close")})},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.ok),1)]})),_:1})])])},__scopeId:"data-v-8cfde25a"};var xo={class:"d-flex justify-content-between align-items-center"},ko={class:"fs-4 fw-bold"};const Co={name:"RevisionsModal",props:{auditableName:{type:String,required:!0},auditableId:{type:[String,Number],required:!0}},emits:["revert"],data:function(){return{isLoading:!1,audits:[]}},computed:{auditableClasses:function(){return{query:"Motor::Query",dashboard:"Motor::Dashboard",alert:"Motor::Alert",form:"Motor::Form"}}},mounted:function(){var e=this;this.loadAudits().then((function(){e.isLoading=!1}))},methods:{formatDate:Xn.p,loadAudits:function(){var e=this;return I.Z.get("audits",{params:{filter:{auditable_type:this.auditableClasses[this.auditableName],auditable_id:this.auditableId},sort:"-created_at",include:"revision"}}).then((function(t){e.audits=t.data.data})).catch((function(e){console.error(e)}))}},render:function(e,n,i,r,o,s){var a=(0,t.up)("Spin"),l=(0,t.up)("VButton"),u=(0,t.up)("Card");return(0,t.wg)(),(0,t.iD)("div",null,[o.isLoading?((0,t.wg)(),(0,t.j4)(a,{key:0,fix:""})):(0,t.kq)("v-if",!0),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(o.audits,(function(n){return(0,t.wg)(),(0,t.j4)(u,{key:n.id,class:"mb-2"},{default:(0,t.w5)((function(){return[(0,t._)("div",xo,[(0,t._)("p",ko,(0,c.zw)(s.formatDate(n.created_at,null,!0)),1),(0,t.Wm)(l,{type:"warning",onClick:function(t){return e.$emit("revert",n.revision)}},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.revert),1)]})),_:2},1032,["onClick"])])]})),_:2},1024)})),128))])}};function So(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,r)}function Ao(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){So(o,i,r,s,a,"next",e)}function a(e){So(o,i,r,s,a,"throw",e)}s(void 0)}))}}function Do(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Oo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Do(Object(n),!0).forEach((function(t){To(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Do(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function To(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Eo="motor:queries:vsplit",$o=["current_user","current_user_id","current_user_email"],Mo={name:"",sql_body:"",tags:[],preferences:{query_type:"sql",visualization:"table",visualization_options:{},variables:[]}};const Ro={name:"QueriesShow",components:{CodeEditor:Qr.Z,QueryResult:Ri.Z,Settings:_o,VariablesForm:Ai.Z},data:function(){return{vSplit:0,isLoading:!1,isLoadingQuery:!1,isMarkdownEditor:!1,query:Oo({},Mo),dataQuery:{sql_body:"",preferences:{}},variablesData:{},isSettingsOpened:!1,errors:[],columns:[],data:[],dataHTML:""}},computed:{queryParamsVariables:function(){return this.$route.query||{}},queryType:function(){return this.dataQuery.preferences.query_type||"sql"},isNewPage:function(){return"new_query"===this.$route.name&&!this.query.id},showApiUi:function(){return"api"===this.queryType||!this.isNewPage&&this.dataQuery.preferences.api_path},queryTypes:function(){return[{label:this.i18n.sql,value:"sql"},{label:this.i18n.api,value:"api"}]},defaultVariablesData:function(){return(this.dataQuery.preferences.variables||[]).reduce((function(e,t){var n;return e[t.name]=null!==(n=t.default_value)&&void 0!==n?n:"",e}),{})},defaultSplit:function(){return.35},cachedQueryName:function(){var e,t=this;return null===(e=N.db.find((function(e){var n;return e.id.toString()===(null===(n=t.$route.params)||void 0===n?void 0:n.id)})))||void 0===e?void 0:e.name},locationHashParams:function(){return JSON.parse(window.atob(location.hash.replace(/^#/,""))||"null")},isEdit:function(){return 0!==this.vSplit||this.isSettingsOpened||this.isEdited},isEdited:function(){return JSON.stringify(this.dataQuery.preferences)!==JSON.stringify(this.query.preferences)||this.dataQuery.sql_body!==this.query.sql_body},isExisting:function(){return this.$route.params.id},canSave:function(){return(this.dataQuery.sql_body||this.dataQuery.preferences.api_path)&&this.isEdit&&this.isCanEdit},canSaveNew:function(){return this.query.id&&this.isEdited&&this.$can("create","Motor::Query")},isCanEdit:function(){return this.query.id?this.$can("edit","Motor::Query",this.query):this.$can("create","Motor::Query")},isVariablesForm:function(){var e;return!(null===(e=this.dataQuery.preferences.variables)||void 0===e||!e.length)},queryDataLocationHashString:function(){return"#"+window.btoa(this.dataQueryString)},queryString:function(){return JSON.stringify({sql_body:this.query.sql_body,preferences:this.query.preferences})},dataQueryString:function(){return JSON.stringify({sql_body:this.dataQuery.sql_body,preferences:this.dataQuery.preferences})}},watch:{$route:function(e,t){var n,i,r=(null===(n=e.params.id)||void 0===n?void 0:n.toString())!==(null===(i=this.query.id)||void 0===i?void 0:i.toString());r||"query"!==e.name&&"new_query"!==e.name||JSON.stringify(e.query||{})===JSON.stringify(t.query||{})||(this.assignVariablesData(),this.loadQueryData()),r&&"query"===e.name&&this.onMounted(),"new_query"===e.name&&(r?(this.dataQuery=Oo({},Mo),this.query=Oo({},Mo),this.onMounted()):e.hash!==this.queryDataLocationHashString&&(this.dataQuery=JSON.parse(JSON.stringify(JSON.parse(window.atob(location.hash.replace(/^#/,""))||"null")))||Oo({},Mo),this.dataQuery.preferences=Oo(Oo({},Mo.preferences),this.dataQuery.preferences)))},"dataQuery.sql_body":(0,B.Z)(function(){var e=Ao(Vn().mark((function e(t){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.assignVariablesFromSql(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),500),"dataQuery.preferences.visualization":function(e){"markdown"===e&&(this.isMarkdownEditor=!0)},dataQuery:{deep:!0,handler:(0,B.Z)(function(){var e=Ao(Vn().mark((function e(t){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.dataQueryString!==this.queryString?location.replace(this.queryDataLocationHashString):location.hash&&(location.hash="");case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),500)}},created:function(){this.assignDataFromLocationHash(),this.onMounted()},methods:{widthLessThan:Pe.aJ,changeQueryType:function(e){this.dataQuery.preferences.query_type=e,this.data=[],this.columns=[]},openRevisionsModal:function(){var e=this;this.$Drawer.open(Co,{auditableName:"query",auditableId:this.query.id,onRevert:function(t){Object.assign(e.dataQuery,{sql_body:t.sql_body,preferences:t.preferences}),e.query.name=t.name,e.$Message.info(e.i18n.revision_has_been_applied),e.openEditor(),e.$Drawer.remove()}},{closable:!0,title:this.i18n.query_revisions})},assignDataFromLocationHash:function(){this.dataQuery=JSON.parse(JSON.stringify(this.locationHashParams))||Oo({},Mo),this.dataQuery.preferences=Oo(Oo({},Mo.preferences),this.dataQuery.preferences)},assignVariablesData:function(){this.variablesData=Oo(Oo({},this.defaultVariablesData),this.queryParamsVariables)},toggleSettings:function(){this.isSettingsOpened=!this.isSettingsOpened},onMounted:function(){this.assignVariablesData(),this.vSplit=0,this.$route.params.id?this.loadQuery():(this.query=JSON.parse(JSON.stringify(Mo)),this.data=[],this.columns=[],this.openEditor(),(this.dataQuery.sql_body||this.dataQuery.preferences.api_path)&&(this.assignVariablesData(),this.loadQueryData()))},openEditor:function(){this.vSplit=JSON.parse(localStorage.getItem(Eo))||.35},loadQuery:function(){var e=this;return this.isLoadingQuery=!0,I.Z.get("queries/".concat(this.$route.params.id),{params:{include:"tags"}}).then((function(t){return e.query=Oo(Oo({},t.data.data),{},{preferences:Oo(Oo({},Mo.preferences),t.data.data.preferences)}),e.locationHashParams||Object.assign(e.dataQuery,JSON.parse(JSON.stringify({sql_body:e.query.sql_body,preferences:Oo(Oo({},Mo.preferences),e.query.preferences)}))),e.assignVariablesData(),e.loadQueryData()})).catch((function(t){var n,i;null!==(n=t.response)&&void 0!==n&&null!==(i=n.data)&&void 0!==i&&i.errors?e.$Message.error(t.response.data.errors.join("\n")):e.$Message.error(t.message)})).finally((function(){e.isLoadingQuery=!1}))},assignVariablesFromSql:function(e){var t=this;if(e){var n=e.match(/{{[#/^]?\s*(\w+)\s*}}/g);if(n){var i=n.map((function(e){return e.replace(/\W/g,"")})).filter((function(e,t,n){return t===n.indexOf(e)}));this.dataQuery.preferences.variables.forEach((function(e,t,n){var r=i.indexOf(e.name);-1===r?n.splice(t,1):i.splice(r,1)})),i.forEach((function(e){if(!$o.includes(e)){var n={name:e,display_name:(0,Jn.MI)(e),variable_type:"text"},i=j.r3[e.replace(/_id$/,"")];i&&Object.assign(n,{display_name:(0,q.Z)(i.display_name),reference_resource:i.name,variable_type:"reference"}),t.dataQuery.preferences.variables.push(n)}}))}else this.dataQuery.preferences.variables=[]}else this.dataQuery.preferences.variables=[]},save:function(){var e=this;this.$Modal.open(to,{query:Oo(Oo({},this.query),{},{tags:this.query.tags.map((function(e){return e.name})),sql_body:this.dataQuery.sql_body,preferences:this.dataQuery.preferences}),action:this.query.id?"edit":"new",onSuccess:function(t){e.query=t,e.$Modal.remove(),e.$Message.info(e.i18n.query_has_been_saved),e.$router.push({name:"query",params:{id:t.id},query:e.$route.query})}},{title:this.i18n.save_query,closable:!0})},saveSplitPosition:function(){localStorage.setItem(Eo,JSON.stringify(this.vSplit))},saveAsNew:function(){var e=this;this.$Modal.open(to,{query:{name:this.query.name,description:this.query.description,tags:this.query.tags.map((function(e){return e.name})),preferences:this.dataQuery.preferences,sql_body:this.dataQuery.sql_body},action:"new",onSuccess:function(t){e.query=t,e.$Modal.remove(),e.$Message.info(e.i18n.query_has_been_saved),e.$router.push({name:"query",params:{id:t.id},query:e.$route.query})}},{title:this.i18n.save_query,closable:!0})},maybeUpdateVariablesQueryParams:function(){var e=this,t=this.dataQueryString!==this.queryString?this.queryDataLocationHashString:"";if(Object.keys(this.defaultVariablesData).length){var n=Object.keys(this.defaultVariablesData).reduce((function(t,n){var i,r;return(null!==(i=e.variablesData[n])&&void 0!==i?i:"").toString()!==(null!==(r=e.defaultVariablesData[n])&&void 0!==r?r:"").toString()&&(t[n]=e.variablesData[n]),t}),{});Object.keys(n).length?this.$router.replace({query:Oo({},n),hash:t}):Object.keys(this.queryParamsVariables).length&&this.$router.replace({query:null,hash:t})}},loadQueryData:function(){return this.maybeUpdateVariablesQueryParams(),"api"===this.queryType?this.runApiQuery():!this.dataQuery.sql_body||!this.isEdited&&this.query.id?this.$route.params.id?this.runExistingQuery():void 0:this.runQuery()},runExistingQuery:function(){var e=this;if(!this.isLoading)return this.isLoading=!0,I.Z.get("run_queries/".concat(this.$route.params.id),{params:{variables:this.variablesData}}).then((function(t){e.errors=[],e.data=t.data.data,e.columns=t.data.meta.columns})).catch((function(t){var n;e.errors=null===(n=t.response.data)||void 0===n?void 0:n.errors})).finally((function(){e.isLoading=!1}))},runApiQuery:function(){var e=this;if(!this.isLoading)return this.isLoading=!0,Li(this.dataQuery,this.variablesData).then((function(t){e.errors=[],e.data=t.data||[],e.columns=t.columns||[],e.dataHTML=t.dataHTML||""})).catch((function(t){var n;t.response?e.errors=null===(n=t.response.data)||void 0===n?void 0:n.errors:e.$Message.error(t.message)})).finally((function(){e.isLoading=!1}))},runQuery:function(){var e=this;if(!this.isLoading)return this.isLoading=!0,I.Z.post("run_queries",{data:this.dataQuery,variables:this.variablesData}).then((function(t){e.errors=[],e.data=t.data.data,e.columns=t.data.meta.columns})).catch((function(t){var n;t.response?e.errors=null===(n=t.response.data)||void 0===n?void 0:n.errors:e.$Message.error(t.message)})).finally((function(){e.isLoading=!1}))}},render:function(n,i,r,o,s,a){var l=(0,t.up)("VButton"),u=(0,t.up)("Settings"),d=(0,t.up)("VariablesForm"),h=(0,t.up)("VInput"),p=(0,t.up)("Spin"),f=(0,t.up)("QueryResult"),m=(0,t.up)("CodeEditor"),g=(0,t.up)("Split");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",Vr,[(0,t._)("div",{class:(0,c.C_)(["d-flex align-items-center",a.isNewPage?"col-4":"col-8"])},[(0,t._)("h1",Br,(0,c.zw)(s.query.name||a.cachedQueryName||(a.isExisting?"":n.i18n.new_query)),1)],2),a.isNewPage?((0,t.wg)(),(0,t.iD)("div",qr,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.queryTypes,(function(e){return(0,t.wg)(),(0,t.j4)(l,{key:e.value,type:a.queryType===e.value?"primary":"dashed",class:(0,c.C_)(["bg-transparent mx-1",a.queryType===e.value?"text-primary":"text-dark"]),onClick:function(t){return a.changeQueryType(e.value)}},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.label),1)]})),_:2},1032,["type","class","onClick"])})),128))])):(0,t.kq)("v-if",!0),(0,t._)("div",zr,[s.query.id&&s.query.updated_at!==s.query.created_at&&n.$can("edit","Motor::Query",s.query)?((0,t.wg)(),(0,t.j4)(l,{key:0,size:"large",class:"bg-white me-2 md-icon-only d-none d-sm-block",icon:"md-time",onClick:a.openRevisionsModal},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(n.i18n.revisions),1)]})),_:1},8,["onClick"])):(0,t.kq)("v-if",!0),0!==s.vSplit&&"markdown"===s.dataQuery.preferences.visualization?((0,t.wg)(),(0,t.j4)(l,{key:1,size:"large",class:"me-2 md-icon-only",icon:s.isMarkdownEditor?"md-code-working":"logo-markdown",onClick:i[0]||(i[0]=function(e){return s.isMarkdownEditor=!s.isMarkdownEditor})},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(s.isMarkdownEditor?n.i18n.edit_sql:n.i18n.edit_markdown),1)]})),_:1},8,["icon"])):(0,t.kq)("v-if",!0),0===s.vSplit&&n.$can("edit","Motor::Query",s.query)&&"sql"===a.queryType?((0,t.wg)(),(0,t.j4)(l,{key:2,size:"large",class:"bg-white me-2 md-icon-only",icon:"md-create",onClick:a.openEditor},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(n.i18n.edit),1)]})),_:1},8,["onClick"])):(0,t.kq)("v-if",!0),!a.canSaveNew||0===s.vSplit&&"api"!==a.queryType?(0,t.kq)("v-if",!0):((0,t.wg)(),(0,t.j4)(l,{key:3,size:"large",class:"bg-white me-2 d-none d-sm-block",onClick:a.saveAsNew},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(n.i18n.save_as_new),1)]})),_:1},8,["onClick"])),a.canSave?((0,t.wg)(),(0,t.j4)(l,{key:4,size:"large",ghost:"",type:"primary",class:"bg-white me-2",onClick:a.save},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(n.i18n.save),1)]})),_:1},8,["onClick"])):(0,t.kq)("v-if",!0),(0,t.Wm)(l,{size:"large",type:"primary",loading:s.isLoading,"data-role":"run",icon:"md-play",onClick:a.loadQueryData},null,8,["loading","onClick"])])]),(0,t._)("div",{style:(0,c.j5)({height:a.isVariablesForm?"calc(var(--vh, 100vh) - 218px)":"calc(var(--vh, 100vh) - 135px)"}),class:"row border-top m-0"},[s.isSettingsOpened?((0,t.wg)(),(0,t.iD)("div",Wr,[(0,t.Wm)(u,{preferences:s.dataQuery.preferences,columns:s.columns,"with-variables-editor":"api"===a.queryType,style:{height:"100%"},onClose:a.toggleSettings},null,8,["preferences","columns","with-variables-editor","onClose"])])):(0,t.kq)("v-if",!0),(0,t._)("div",{class:(0,c.C_)(["p-0",{"col-6 col-lg-9 d-none d-md-inline":s.isSettingsOpened,"col-12":!s.isSettingsOpened,"h-100":"api"===a.queryType}])},[a.isVariablesForm?((0,t.wg)(),(0,t.iD)("div",Ur,[(0,t.Wm)(d,{data:s.variablesData,"onUpdate:data":i[1]||(i[1]=function(e){return s.variablesData=e}),variables:s.dataQuery.preferences.variables,onSubmit:a.loadQueryData},null,8,["data","variables","onSubmit"])])):(0,t.kq)("v-if",!0),a.showApiUi?((0,t.wg)(),(0,t.iD)("div",Hr,[(0,t._)("div",{class:(0,c.C_)(["p-3 bg-white",{"border-bottom":!s.data.length&&!s.errors.length}])},[(0,t.Wm)(h,{modelValue:s.dataQuery.preferences.api_path,"onUpdate:modelValue":i[2]||(i[2]=function(e){return s.dataQuery.preferences.api_path=e}),class:"w-100",placeholder:n.i18n.api_path,onKeyup:(0,e.D2)(a.loadQueryData,["enter"])},null,8,["modelValue","placeholder","onKeyup"])],2),(0,t._)("div",Kr,[s.isLoading||s.isLoadingQuery?((0,t.wg)(),(0,t.j4)(p,{key:0,fix:""})):s.data.length||s.errors.length||s.dataHTML?(0,t.kq)("v-if",!0):((0,t.wg)(),(0,t.iD)("div",Zr,(0,c.zw)(n.i18n.no_data),1)),!s.data.length&&!s.errors.length||s.isLoadingQuery?s.dataHTML?((0,t.wg)(),(0,t.iD)("div",{key:3,class:"h-100 overflow-auto",innerHTML:s.dataHTML},null,8,Gr)):(0,t.kq)("v-if",!0):((0,t.wg)(),(0,t.j4)(f,{key:2,data:s.data,errors:s.errors,title:s.query.name,columns:s.columns,"query-id":s.query.id,"with-alert":!!s.query.id&&n.$can("create","Motor::Alert")&&"api"!==a.queryType,"with-settings":a.isCanEdit,"with-table-toggle":!0,"show-markdown-table":!a.widthLessThan("md")&&a.isEdit,preferences:s.dataQuery.preferences,onSettings:a.toggleSettings},null,8,["data","errors","title","columns","query-id","with-alert","with-settings","show-markdown-table","preferences","onSettings"]))])])):((0,t.wg)(),(0,t.j4)(g,{key:2,modelValue:s.vSplit,"onUpdate:modelValue":[i[5]||(i[5]=function(e){return s.vSplit=e}),a.saveSplitPosition],mode:"vertical",style:(0,c.j5)({height:s.isSettingsOpened&&a.isVariablesForm?"calc(100% - 82px)":"100%"})},{top:(0,t.w5)((function(){return[s.vSplit>0&&a.isCanEdit?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},["markdown"===s.dataQuery.preferences.visualization&&s.isMarkdownEditor?((0,t.wg)(),(0,t.j4)(m,{key:0,modelValue:s.dataQuery.preferences.visualization_options.markdown,"onUpdate:modelValue":i[3]||(i[3]=function(e){return s.dataQuery.preferences.visualization_options.markdown=e}),language:"markdown",columns:s.columns,placeholder:"## Heading",variables:s.dataQuery.preferences.variables,onRun:a.loadQueryData},null,8,["modelValue","columns","variables","onRun"])):((0,t.wg)(),(0,t.j4)(m,{key:1,modelValue:s.dataQuery.sql_body,"onUpdate:modelValue":i[4]||(i[4]=function(e){return s.dataQuery.sql_body=e}),language:"pgsql",placeholder:"SELECT * FROM ...",variables:s.dataQuery.preferences.variables,onRun:a.loadQueryData},null,8,["modelValue","variables","onRun"]))],2112)):(0,t.kq)("v-if",!0)]})),bottom:(0,t.w5)((function(){return[s.isLoading||s.isLoadingQuery?((0,t.wg)(),(0,t.j4)(p,{key:0,fix:""})):s.data.length||s.errors.length?(0,t.kq)("v-if",!0):((0,t.wg)(),(0,t.iD)("div",Yr,(0,c.zw)(n.i18n.no_data),1)),!s.data.length&&!s.errors.length||s.isLoadingQuery?(0,t.kq)("v-if",!0):((0,t.wg)(),(0,t.j4)(f,{key:2,data:s.data,errors:s.errors,title:s.query.name,columns:s.columns,"query-id":s.query.id,"with-alert":!!s.query.id&&n.$can("create","Motor::Alert"),"with-settings":a.isCanEdit,"with-table-toggle":!0,"show-markdown-table":!a.widthLessThan("md")&&a.isEdit,preferences:s.dataQuery.preferences,onSettings:a.toggleSettings},null,8,["data","errors","title","columns","query-id","with-alert","with-settings","show-markdown-table","preferences","onSettings"]))]})),_:1},8,["modelValue","style","onUpdate:modelValue"]))],2)],4)],64)}};var Lo={class:"row mx-0 mx-md-2 mt-3 mb-2"},Po={class:"col-2"},Fo={class:"col-10 col-lg-10 text-end d-none d-md-block"},Io={class:"row mx-0 mx-md-2"},jo={class:"d-none d-lg-block col-lg-2"},No={class:"col-12 col-lg-8"},Vo={key:1,class:"text-center mt-2"},Bo={class:"mb-3"},qo={key:2,class:"text-center mt-2"},zo={class:"text-center bg-white rounded border mb-2 p-1"};n(6541),(0,t.dD)("data-v-97e69fa4");var Wo={key:0},Uo={class:"fs-4 fw-bold",style:{margin:"25px 0 5px 0"}};function Ho(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ko(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ho(Object(n),!0).forEach((function(t){Zo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ho(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(0,t.Cn)();const Go={name:"TagsNavigation",props:{taggableItems:{type:Array,required:!0},taggableFilteredItems:{type:Array,required:!0},selectedTags:{type:Array,required:!0}},emits:["update:selectedTags"],computed:{tags:function(){var e=this;return Object.values(this.taggableItems.reduce((function(t,n){return n.tags.forEach((function(i){var r;t[r=i.name]||(t[r]=Ko(Ko({},i),{},{count:0})),e.taggableFilteredItems.includes(n)&&t[i.name].count++})),t}),this.selectedTags.reduce((function(e,t){return e[t]={name:t,count:0},e}),{}))).sort((function(e,t){return e.name>t.name?1:-1}))}},methods:{clearSelectedTags:function(){this.$emit("update:selectedTags",[])},toggleTag:function(e){if(this.selectedTags.includes(e)){var t=this.selectedTags.indexOf(e);this.selectedTags.splice(t,1)}else this.selectedTags.push(e);this.$emit("update:selectedTags",this.selectedTags)}},render:function(e,n,i,r,o,s){var a=(0,t.up)("Tag"),l=(0,t.up)("VButton");return s.tags.length?((0,t.wg)(),(0,t.iD)("div",Wo,[(0,t._)("p",Uo,(0,c.zw)(e.i18n.tags),1),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.tags,(function(e){return(0,t.wg)(),(0,t.j4)(a,{key:e,type:"dot",size:"large",color:i.selectedTags.includes(e.name)?"primary":"light",onClick:function(t){return s.toggleTag(e.name)}},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.name)+" ("+(0,c.zw)(e.count)+") ",1)]})),_:2},1032,["color","onClick"])})),128)),i.selectedTags.length?((0,t.wg)(),(0,t.j4)(l,{key:0,type:"text",icon:"md-close",class:"ms-2 mt-2 bg-transparent",size:"small",onClick:s.clearSelectedTags},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.clear_selection),1)]})),_:1},8,["onClick"])):(0,t.kq)("v-if",!0)])):(0,t.kq)("v-if",!0)},__scopeId:"data-v-97e69fa4"};var Yo={class:"ivu-card-body"},Qo={class:"fs-4 fw-bold text-dark"},Jo=(0,t._)("div",null,null,-1);const Xo={name:"ReportItem",props:{item:{type:Object,required:!0},itemType:{type:String,required:!0}},emits:["remove"],computed:{itemModelClass:function(){return"Motor::".concat((0,Jn.MI)(this.itemType))},iconClass:function(){return{query:"md-list",dashboard:"md-analytics",alert:"md-notifications",form:"md-list-box"}[this.itemType]},apiPath:function(){return"query"===this.itemType?"queries/".concat(this.item.id):"dashboard"===this.itemType?"dashboards/".concat(this.item.id):"alert"===this.itemType?"alerts/".concat(this.item.id):"form"===this.itemType?"forms/".concat(this.item.id):""}},methods:{remove:function(){var e=this;this.$Dialog.confirm({title:this.i18n.selected_item_will_be_removed_are_you_sure,closable:!0,onOk:function(){I.Z.delete(e.apiPath).then((function(t){e.$Message.info("".concat((0,Jn.MI)(e.itemType)," ").concat(e.i18n.has_been_removed_succesfully)),e.$emit("remove")})).catch((function(t){console.error(t),e.$Message.error(e.i18n.unable_to_remove_item)}))}})}},render:function(n,i,r,o,s,a){var l=(0,t.up)("Icon"),u=(0,t.up)("VButton"),d=(0,t.up)("RouterLink");return(0,t.wg)(),(0,t.j4)(d,{class:"report-item ivu-card ivu-card-bordered mb-2",to:{name:r.itemType,params:{id:r.item.id}}},{default:(0,t.w5)((function(){return[(0,t._)("div",Yo,[(0,t._)("p",Qo,[(0,t.Wm)(l,{type:a.iconClass},null,8,["type"]),(0,t.Uk)(" "+(0,c.zw)(r.item.name||r.item.title)+" ",1),n.$can("destroy",a.itemModelClass,r.item)?((0,t.wg)(),(0,t.j4)(u,{key:0,class:"text-dark float-end pb-2",type:"text",icon:"md-trash",onClick:(0,e.iM)(a.remove,["prevent"])},null,8,["onClick"])):(0,t.kq)("v-if",!0)]),Jo])]})),_:1},8,["to"])}};var es={queries:"query",dashboards:"dashboard",alerts:"alert"};const ts={name:"ReportsIndex",components:{Tabs:hi.Z,TagsNav:Go,ReportItem:Xo},data:function(){return{isLoading:!1,searchQuery:"",selectedTags:[],selectedType:this.$route.params.type||"all",pageParams:{current:1,pageSize:20,pageSizeOpts:[20,50,100]}}},computed:{normalizedQueryParams:function(){var e={};return this.selectedTags.length&&(e.tags=this.selectedTags.join(",")),this.searchQuery&&(e.q=this.searchQuery),e},tabs:function(){var e=this.normalizedQueryParams;return[{value:"all",label:this.i18n.all,to:{name:"reports",query:e}},this.$can("read","Motor::Query")&&{value:"queries",label:this.i18n.queries,to:{name:"reports",params:{type:"queries"},query:e}},this.$can("read","Motor::Dashboard")&&{value:"dashboards",label:this.i18n.dashboards,to:{name:"reports",params:{type:"dashboards"},query:e}},this.$can("read","Motor::Alert")&&{value:"alerts",label:this.i18n.alerts,to:{name:"reports",params:{type:"alerts"},query:e}}].filter(Boolean)},items:function(){var e=this;return N.ay.filter((function(t){return"all"===e.selectedType||t.type===es[e.selectedType]}))},filteredItems:function(){var e=this;return this.items.filter((function(t){return(!e.selectedTags.length||e.selectedTags.every((function(e){return t.tags.some((function(t){return t.name===e}))})))&&(!e.searchQuery||(t.name||t.title).toLowerCase().includes(e.searchQuery.toLowerCase()))}))},paginatedItems:function(){var e=this.pageParams.pageSize;return this.filteredItems.slice((this.pageParams.current-1)*e,this.pageParams.current*e)}},watch:{$route:function(e,t){var n,i,r;this.selectedType=e.params.type||"all",null!==(n=e.query)&&void 0!==n&&n.tags?this.selectedTags=e.query.tags.split(","):this.selectedTags=[],null!==(i=e.query)&&void 0!==i&&i.q&&(this.searchQuery=null===(r=e.query)||void 0===r?void 0:r.q)}},mounted:function(){var e,t,n,i=this;0===this.items.length&&(this.isLoading=!0),this.loadItems().finally((function(){i.isLoading=!1})),null!==(e=this.$route.query)&&void 0!==e&&e.tags&&(this.selectedTags=this.$route.query.tags.split(",")),null!==(t=this.$route.query)&&void 0!==t&&t.q&&(this.searchQuery=null===(n=this.$route.query)||void 0===n?void 0:n.q)},methods:{loadItems:N.XD,onTagsChange:function(e){this.selectedTags=e,this.updateQueryParams()},updateQueryParams:function(){this.$router.replace({query:this.normalizedQueryParams})},reloadItems:function(){var e=this;this.isLoading=!0,this.loadItems().finally((function(){e.isLoading=!1}))}},render:function(e,n,i,r,o,s){var a=(0,t.up)("VButton"),l=(0,t.up)("TagsNav"),u=(0,t.up)("Tabs"),d=(0,t.up)("VInput"),h=(0,t.up)("Spin"),p=(0,t.up)("ReportItem"),f=(0,t.up)("Pagination");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",Lo,[(0,t._)("div",Po,[(0,t._)("h1",null,(0,c.zw)(e.i18n.reports),1)]),(0,t._)("div",Fo,[e.$can("create","Motor::Query")?((0,t.wg)(),(0,t.j4)(a,{key:0,icon:"md-add",size:"large",type:"default",class:"me-2",to:{name:"new_query"}},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.add_query),1)]})),_:1})):(0,t.kq)("v-if",!0),e.$can("create","Motor::Dashboard")?((0,t.wg)(),(0,t.j4)(a,{key:1,icon:"md-add",size:"large",type:"default",class:"me-2",to:{name:"new_dashboard"}},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.add_dashboard),1)]})),_:1})):(0,t.kq)("v-if",!0),e.$can("create","Motor::Alert")?((0,t.wg)(),(0,t.j4)(a,{key:2,icon:"md-add",size:"large",type:"default",to:{name:"new_alert"}},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.add_alert),1)]})),_:1})):(0,t.kq)("v-if",!0)])]),(0,t._)("div",Io,[(0,t._)("div",jo,[(0,t.Wm)(l,{"selected-tags":o.selectedTags,"onUpdate:selected-tags":n[0]||(n[0]=function(e){return o.selectedTags=e}),"taggable-items":s.items,"taggable-filtered-items":s.filteredItems,"onUpdate:selectedTags":s.onTagsChange},null,8,["selected-tags","taggable-items","taggable-filtered-items","onUpdate:selectedTags"])]),(0,t._)("div",No,[(0,t.Wm)(u,{modelValue:o.selectedType,"onUpdate:modelValue":n[1]||(n[1]=function(e){return o.selectedType=e}),tabs:s.tabs},null,8,["modelValue","tabs"]),(0,t.Wm)(d,{modelValue:o.searchQuery,"onUpdate:modelValue":[n[2]||(n[2]=function(e){return o.searchQuery=e}),s.updateQueryParams],search:"",placeholder:e.i18n.search,size:"large",class:"mb-2"},null,8,["modelValue","placeholder","onUpdate:modelValue"]),(0,t._)("div",{style:(0,c.j5)({height:"calc(var(--vh, 100vh) - 274px)",overflowY:"auto",position:"relative"})},[o.isLoading?((0,t.wg)(),(0,t.j4)(h,{key:0,fix:""})):o.searchQuery||o.selectedTags.length||s.paginatedItems.length?(0,t.kq)("v-if",!0):((0,t.wg)(),(0,t.iD)("div",Vo,[(0,t._)("div",Bo,(0,c.zw)(e.i18n.looks_like_you_are_new_here),1),"dashboards"===o.selectedType&&e.$can("create","Motor::Dashboard")?((0,t.wg)(),(0,t.j4)(a,{key:0,icon:"md-add",size:"large",type:"default",class:"me-2",to:{name:"new_dashboard"}},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.add_dashboard),1)]})),_:1})):"alerts"===o.selectedType&&e.$can("create","Motor::Alert")?((0,t.wg)(),(0,t.j4)(a,{key:1,icon:"md-add",size:"large",type:"default",to:{name:"new_alert"}},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.add_alert),1)]})),_:1})):((0,t.wg)(),(0,t.j4)(a,{key:2,icon:"md-add",size:"large",type:"default",class:"me-2",to:{name:"new_query"}},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.add_query),1)]})),_:1}))])),o.searchQuery&&!s.paginatedItems.length?((0,t.wg)(),(0,t.iD)("p",qo,(0,c.zw)(e.i18n.not_found),1)):(0,t.kq)("v-if",!0),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.paginatedItems,(function(e){return(0,t.wg)(),(0,t.iD)("div",{key:e.type+e.id,class:"col-12"},[(0,t.Wm)(p,{item:e,"item-type":e.type,onRemove:s.reloadItems},null,8,["item","item-type","onRemove"])])})),128))],4),(0,t._)("div",zo,[(0,t.Wm)(f,{current:o.pageParams.current,total:s.filteredItems.length,"page-size":o.pageParams.pageSize,"page-size-opts":o.pageParams.pageSizeOpts,size:"small","show-sizer":"","show-elevator":"","show-total":"","onUpdate:current":n[3]||(n[3]=function(e){return o.pageParams.current=e}),"onUpdate:pageSize":n[4]||(n[4]=function(e){return o.pageParams.pageSize=e})},null,8,["current","total","page-size","page-size-opts"])])])])],64)}};(0,t.dD)("data-v-2ed0bfd8");var ns={class:"row mx-0 mx-md-2 mt-3 mb-2"},is={class:"col-2"},rs={class:""},os={class:"col-10 col-lg-10 text-end"},ss={class:"row mx-0 mx-md-2"},as={class:"d-none d-lg-block col-lg-2"},ls={class:"col-12 col-lg-8"},cs={key:1,class:"text-center mt-2"},us={class:"mb-3"},ds={key:2,class:"text-center mt-2"},hs={class:"text-center bg-white rounded border mb-2 p-1"};(0,t.Cn)();const ps={name:"FormsIndex",components:{ReportItem:Xo,TagsNav:Go},data:function(){return{isLoading:!1,searchQuery:"",selectedTags:[],pageParams:{current:1,pageSize:20,pageSizeOpts:[20,50,100]}}},computed:{items:function(){return V.r},filteredItems:function(){var e=this;return this.items.filter((function(t){return(!e.selectedTags.length||e.selectedTags.every((function(e){return t.tags.some((function(t){return t.name===e}))})))&&(!e.searchQuery||(t.name||t.title).toLowerCase().includes(e.searchQuery.toLowerCase()))}))},paginatedItems:function(){var e=this.pageParams.pageSize;return this.filteredItems.slice((this.pageParams.current-1)*e,this.pageParams.current*e)}},watch:{$route:function(e,t){var n,i,r;null!==(n=e.query)&&void 0!==n&&n.tags?this.selectedTags=e.query.tags.split(","):this.selectedTags=[],null!==(i=e.query)&&void 0!==i&&i.q&&(this.searchQuery=null===(r=e.query)||void 0===r?void 0:r.q)}},mounted:function(){var e,t,n;(0,V.j)(),null!==(e=this.$route.query)&&void 0!==e&&e.tags&&(this.selectedTags=this.$route.query.tags.split(",")),null!==(t=this.$route.query)&&void 0!==t&&t.q&&(this.searchQuery=null===(n=this.$route.query)||void 0===n?void 0:n.q)},methods:{updateQueryParams:function(){var e={};this.selectedTags.length&&(e.tags=this.selectedTags.join(",")),this.searchQuery&&(e.q=this.searchQuery),this.$router.replace({query:e})},onTagsChange:function(e){this.selectedTags=e,this.updateQueryParams()},reloadItems:function(){var e=this;this.isLoading=!0,(0,V.j)().finally((function(){e.isLoading=!1}))}},render:function(e,n,i,r,o,s){var a=(0,t.up)("VButton"),l=(0,t.up)("TagsNav"),u=(0,t.up)("VInput"),d=(0,t.up)("Spin"),h=(0,t.up)("ReportItem"),p=(0,t.up)("Pagination");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",ns,[(0,t._)("div",is,[(0,t._)("h1",rs,(0,c.zw)(e.i18n.forms),1)]),(0,t._)("div",os,[e.$can("create","Motor::Form")?((0,t.wg)(),(0,t.j4)(a,{key:0,icon:"md-add",size:"large",type:"default",to:{name:"new_form"}},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.add_form),1)]})),_:1})):(0,t.kq)("v-if",!0)])]),(0,t._)("div",ss,[(0,t._)("div",as,[(0,t.Wm)(l,{"selected-tags":o.selectedTags,"onUpdate:selected-tags":n[0]||(n[0]=function(e){return o.selectedTags=e}),"taggable-items":s.items,"taggable-filtered-items":s.filteredItems,"onUpdate:selectedTags":s.onTagsChange},null,8,["selected-tags","taggable-items","taggable-filtered-items","onUpdate:selectedTags"])]),(0,t._)("div",ls,[(0,t.Wm)(u,{modelValue:o.searchQuery,"onUpdate:modelValue":[n[1]||(n[1]=function(e){return o.searchQuery=e}),s.updateQueryParams],search:"",placeholder:e.i18n.search,size:"large",class:"mb-2"},null,8,["modelValue","placeholder","onUpdate:modelValue"]),(0,t._)("div",{style:(0,c.j5)({height:"calc(var(--vh, 100vh) - 219px)",overflowY:"auto",position:"relative"})},[o.isLoading?((0,t.wg)(),(0,t.j4)(d,{key:0,fix:""})):o.searchQuery||o.selectedTags.length||s.paginatedItems.length?(0,t.kq)("v-if",!0):((0,t.wg)(),(0,t.iD)("div",cs,[(0,t._)("div",us,(0,c.zw)(e.i18n.looks_like_you_are_new_here),1),e.$can("create","Motor::Form")?((0,t.wg)(),(0,t.j4)(a,{key:0,icon:"md-add",size:"large",type:"default",to:{name:"new_form"}},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.add_form),1)]})),_:1})):(0,t.kq)("v-if",!0)])),o.searchQuery&&!s.paginatedItems.length?((0,t.wg)(),(0,t.iD)("p",ds,(0,c.zw)(e.i18n.not_found),1)):(0,t.kq)("v-if",!0),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.paginatedItems,(function(e){return(0,t.wg)(),(0,t.iD)("div",{key:e.id,class:"col-12"},[(0,t.Wm)(h,{item:e,"item-type":"form",onRemove:s.reloadItems},null,8,["item","onRemove"])])})),128))],4),(0,t._)("div",hs,[(0,t.Wm)(p,{current:o.pageParams.current,total:s.filteredItems.length,"page-size":o.pageParams.pageSize,"page-size-opts":o.pageParams.pageSizeOpts,size:"small","show-sizer":"","show-elevator":"","show-total":"","onUpdate:current":n[2]||(n[2]=function(e){return o.pageParams.current=e}),"onUpdate:pageSize":n[3]||(n[3]=function(e){return o.pageParams.pageSize=e})},null,8,["current","total","page-size","page-size-opts"])])])])],64)},__scopeId:"data-v-2ed0bfd8"};var fs={class:"row mx-0 mx-md-2",style:{"min-height":"74px"}},ms={class:"col-8"},gs={class:"row"},vs={class:"col d-flex align-items-center"},ys={class:"my-3 overflow-hidden text-truncate"},bs={class:"col-4 d-flex align-items-center justify-content-end"},ws={class:"row border-top m-0"},_s={key:1,class:"text-center mt-3"},xs={key:0,class:"col-12 col-md-6 col-lg-3 border-left bg-white p-0",style:{height:"100%",overflowY:"auto"}},ks={class:"bg-white p-2","data-role":"editor",style:{height:"calc(var(--vh, 100vh) - 135px)"}},Cs={key:0,class:"sticky-footer d-flex"};const Ss={name:"FormEditor",components:{ItemsList:n(8218).default},props:{fields:{type:Array,required:!0}},data:function(){return{showFooter:!0}},mounted:function(){var e=this;(0,t.YP)((function(){return!e.$refs.itemsList.newField&&!e.$refs.itemsList.newGroup&&!e.$refs.itemsList.newTextItem}),(function(t){e.showFooter=t}))},methods:{toggleNewTextItem:function(){this.$refs.itemsList.toggleNewTextItem()},toggleNewField:function(){this.$refs.itemsList.toggleNewField()},toggleNewGroup:function(){this.$refs.itemsList.toggleNewGroup()}},render:function(e,n,i,r,o,s){var a=(0,t.up)("ItemsList"),l=(0,t.up)("VButton"),u=(0,t.up)("DropdownItem"),d=(0,t.up)("DropdownMenu"),h=(0,t.up)("Dropdown");return(0,t.wg)(),(0,t.iD)("div",ks,[(0,t._)("div",null,[(0,t.Wm)(a,{ref:"itemsList",items:i.fields,"with-buttons":!1},null,8,["items"])]),o.showFooter?((0,t.wg)(),(0,t.iD)("div",Cs,[(0,t.Wm)(l,{long:"",type:"default",icon:"md-add",class:"me-1",onClick:s.toggleNewField},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.add_field),1)]})),_:1},8,["onClick"]),(0,t.Wm)(l,{long:"",type:"default",icon:"md-add",class:"ms-1",onClick:s.toggleNewGroup},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.add_group),1)]})),_:1},8,["onClick"]),(0,t.Wm)(h,{trigger:"click",class:"ms-1 text-start"},{list:(0,t.w5)((function(){return[(0,t.Wm)(d,null,{default:(0,t.w5)((function(){return[(0,t.Wm)(u,{onClick:s.toggleNewTextItem},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.add_text),1)]})),_:1},8,["onClick"])]})),_:1})]})),default:(0,t.w5)((function(){return[(0,t.Wm)(l,{long:"",type:"default",icon:"md-more"})]})),_:1})])):(0,t.kq)("v-if",!0)])}};var As={class:"row"},Ds={class:"row"};const Os={name:"SaveCustomForm",components:{TagsSelect:Jr},props:{form:{type:Object,required:!0}},emits:["success"],data:function(){return{loadDefault:!1,dataForm:{}}},computed:{rules:function(){return{name:[{required:!0,message:(0,_e.w)("name")}],api_path:[{required:!0,message:(0,_e.w)("path")}],http_method:[{required:!0,message:(0,_e.w)("method")}]}},apiRequest:function(){var e={data:this.dataForm,include:"tags"};return this.form.id?I.Z.put("forms/".concat(this.dataForm.id),e):I.Z.post("forms",e)}},created:function(){this.dataForm=JSON.parse(JSON.stringify(this.form)),this.loadDefault=!!this.dataForm.preferences.default_values_api_path},methods:{submit:function(){var e=this;this.$refs.form.validate((function(t){t&&e.apiRequest.then((function(t){e.$emit("success",t.data.data)})).catch((function(t){var n,i;null!==(n=t.response.data)&&void 0!==n&&null!==(i=n.errors)&&void 0!==i&&i.length&&e.$refs.form.setErrors(t.response.data.errors)}))}))}},render:function(e,n,i,r,o,s){var a=(0,t.up)("VInput"),l=(0,t.up)("FormItem"),u=(0,t.up)("MSelect"),d=(0,t.up)("Checkbox"),h=(0,t.up)("TagsSelect"),p=(0,t.up)("VButton"),f=(0,t.up)("VForm");return(0,t.wg)(),(0,t.j4)(f,{ref:"form",model:o.dataForm,rules:s.rules,"label-position":"top"},{default:(0,t.w5)((function(){return[(0,t.Wm)(l,{label:e.i18n.name,prop:"name"},{default:(0,t.w5)((function(){return[(0,t.Wm)(a,{modelValue:o.dataForm.name,"onUpdate:modelValue":n[0]||(n[0]=function(e){return o.dataForm.name=e}),size:"large",autofocus:!0,placeholder:e.i18n.form_name},null,8,["modelValue","placeholder"])]})),_:1},8,["label"]),(0,t._)("div",As,[(0,t.Wm)(l,{label:e.i18n.method,prop:"http_method",class:"col-3 pe-0"},{default:(0,t.w5)((function(){return[(0,t.Wm)(u,{modelValue:o.dataForm.http_method,"onUpdate:modelValue":n[1]||(n[1]=function(e){return o.dataForm.http_method=e}),"with-deselect":!1,options:["POST","PUT"]},null,8,["modelValue"])]})),_:1},8,["label"]),(0,t.Wm)(l,{label:e.i18n.path,prop:"api_path",class:"col-9"},{default:(0,t.w5)((function(){return[(0,t.Wm)(a,{modelValue:o.dataForm.api_path,"onUpdate:modelValue":n[2]||(n[2]=function(e){return o.dataForm.api_path=e}),placeholder:"/api/path/{id}..."},null,8,["modelValue","placeholder"])]})),_:1},8,["label"])]),(0,t._)("div",Ds,[(0,t.Wm)(l,{label:e.i18n.load_initial_data,class:"col-3 pe-0"},{default:(0,t.w5)((function(){return[(0,t.Wm)(d,{modelValue:o.loadDefault,"onUpdate:modelValue":n[3]||(n[3]=function(e){return o.loadDefault=e})},null,8,["modelValue"])]})),_:1},8,["label"]),o.loadDefault?((0,t.wg)(),(0,t.j4)(l,{key:0,label:e.i18n.api_path,prop:"default_values_api_path",class:"col-9"},{default:(0,t.w5)((function(){return[(0,t.Wm)(a,{modelValue:o.dataForm.preferences.default_values_api_path,"onUpdate:modelValue":n[4]||(n[4]=function(e){return o.dataForm.preferences.default_values_api_path=e}),placeholder:"/api/path/{id}..."},null,8,["modelValue","placeholder"])]})),_:1},8,["label"])):(0,t.kq)("v-if",!0)]),(0,t.Wm)(l,{label:e.i18n.description,prop:"description"},{default:(0,t.w5)((function(){return[(0,t.Wm)(a,{modelValue:o.dataForm.description,"onUpdate:modelValue":n[5]||(n[5]=function(e){return o.dataForm.description=e}),type:"textarea",placeholder:e.i18n.describe_your_form_optional,autosize:{minRows:3,maxRows:7}},null,8,["modelValue","placeholder"])]})),_:1},8,["label"]),(0,t.Wm)(l,{label:e.i18n.tags,prop:"tags"},{default:(0,t.w5)((function(){return[(0,t.Wm)(h,{modelValue:o.dataForm.tags,"onUpdate:modelValue":n[6]||(n[6]=function(e){return o.dataForm.tags=e}),placeholder:e.i18n.select_form_tags},null,8,["modelValue","placeholder"])]})),_:1},8,["label"]),(0,t.Wm)(p,{size:"large",class:"mt-3",long:"",type:"primary",onClick:s.submit},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.save),1)]})),_:1},8,["onClick"])]})),_:1},8,["model","rules"])}};var Ts={key:0,class:"d-flex align-items-center justify-content-center flex-column"};const Es={name:"UnsavedChanges",props:{modelValue:{type:Object,required:!0},storageKey:{type:String,required:!0}},emits:["update:modelValue"],data:function(){return{isUnsavedResolved:!1,defaultValue:JSON.parse(JSON.stringify(this.modelValue))}},computed:{isUnsavedChanges:function(){return!!this.storageString},isValueChanged:function(){return JSON.stringify(this.defaultValue)!==JSON.stringify(this.modelValue)},storageString:function(){return localStorage.getItem(this.storageKey)},storageObject:function(){return JSON.parse(this.storageString)},storageValue:function(){return this.storageObject.value},storageTimestamp:function(){return this.storageObject.timestamp}},watch:{modelValue:{deep:!0,handler:(0,B.Z)((function(){this.handleModelValueChange()}),2e3)}},methods:{formatDate:Xn.p,handleModelValueChange:function(){this.isValueChanged?this.saveInLocalStorage():this.clearStorage()},clearStorage:function(){localStorage.removeItem(this.storageKey),this.isUnsavedResolved=!0},resetWithDefaultValue:function(e){this.defaultValue=JSON.parse(JSON.stringify(e)),this.clearStorage()},restoreFromStorage:function(){this.$emit("update:modelValue",this.storageValue),this.isUnsavedResolved=!0},saveInLocalStorage:function(){localStorage.setItem(this.storageKey,JSON.stringify({timestamp:new Date,value:this.modelValue}))}},render:function(e,n,i,r,o,s){var a=(0,t.up)("VButton");return s.isUnsavedChanges&&!o.isUnsavedResolved?((0,t.wg)(),(0,t.iD)("div",Ts,[(0,t._)("div",null,(0,c.zw)(e.i18n.there_are_unsaved_changes_from.replace("%{timestamp}",s.formatDate(s.storageTimestamp,null,!0))),1),(0,t._)("div",null,[(0,t.Wm)(a,{type:"text",icon:"md-close",class:"bg-transparent",onClick:s.clearStorage},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.clear),1)]})),_:1},8,["onClick"]),(0,t.Wm)(a,{type:"text",icon:"md-refresh",class:"bg-transparent",onClick:s.restoreFromStorage},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.restore),1)]})),_:1},8,["onClick"])])])):(0,t.kq)("v-if",!0)}};function $s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ms(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$s(Object(n),!0).forEach((function(t){Rs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ls={string:"input",integer:"number",float:"number",boolean:"checkbox",image:"file",tag:"input",currency:"number",percentage:"number",change:"number",chart:"number",link:"input"},Ps={tags:[],http_method:"POST",api_path:"",preferences:{fields:[]}};const Fs={name:"FromShow",components:{Editor:Ss,CustomFormWrapper:Kn.default,UnsavedChanges:Es},data:function(){return{isLoading:!1,isFormDataLoaded:!1,isEditorOpened:!1,form:JSON.parse(JSON.stringify(Ps))}},computed:{isExisting:function(){return this.$route.params.id},resourceName:function(){var e;return null===(e=this.$route.query)||void 0===e?void 0:e.resource},resourceAction:function(){var e;return null===(e=this.$route.query)||void 0===e?void 0:e.action},resourceModel:function(){return j.r3[this.resourceName]},resourceDefaultFormParams:function(){var e=this.resourceModel.columns.map((function(e){if(["read_write","write_only"].includes(e.access_type)){var t={name:e.name,display_name:e.display_name,default_value:e.default_value,field_type:Ls[e.column_type]||e.column_type,is_array:e.is_array,validators:e.validators.filter((function(e){return e.required}))};return e.reference&&(t.reference={model_name:e.reference.model_name}),t}return null})).filter(Boolean);return"edit"===this.resourceAction&&e.unshift({name:"id",display_name:(0,q.Z)(this.resourceModel.display_name),default_value:"",field_type:"reference",reference:{model_name:this.resourceModel.name},validators:[]}),Ms(Ms({},Ps),{},{name:"".concat(this.i18n[this.resourceAction]," ").concat(this.resourceModel.display_name),preferences:{fields:e}})},canEdit:function(){return this.isExisting?this.$can("update","Motor::Form",this.form):this.$can("create","Motor::Form")},cachedFormName:function(){var e,t=this;return null===(e=V.r.find((function(e){var n;return e.id.toString()===(null===(n=t.$route.params)||void 0===n?void 0:n.id)})))||void 0===e?void 0:e.name}},watch:{$route:function(e,t){var n;["form","new_form"].includes(e.name)&&e.params.id!==(null===(n=this.form.id)||void 0===n?void 0:n.toString())&&this.onMounted()}},created:function(){this.onMounted()},methods:{onMounted:function(){this.$route.params.id?this.loadForm():(this.isEditorOpened=!0,this.resourceModel?this.form=JSON.parse(JSON.stringify(this.resourceDefaultFormParams)):this.form=JSON.parse(JSON.stringify(Ps)))},toggleEditor:function(){this.isEditorOpened=!this.isEditorOpened},loadForm:function(){var e=this;return this.isLoading=!0,I.Z.get("forms/".concat(this.$route.params.id),{params:{include:"tags"}}).then((function(t){e.form=t.data.data})).catch((function(t){var n,i;null!==(n=t.response)&&void 0!==n&&null!==(i=n.data)&&void 0!==i&&i.errors?e.$Message.error(t.response.data.errors.join("\n")):e.$Message.error(t.message)})).finally((function(){e.isLoading=!1}))},submit:function(){this.$refs.customFormWrapper.submit()},onSuccess:function(e){var t=this;if(this.$refs.unsavedChanges.resetWithDefaultValue(e),this.form=e,this.$Modal.remove(),this.$Message.info(this.i18n.form_has_been_saved),this.resourceModel&&this.resourceAction){var n=this.resourceModel.actions.find((function(e){return e.name===t.resourceAction}));Object.assign(n,{action_type:"form",preferences:{form_id:this.form.id}}),this.updateResourceAction(n)}(0,V.j)(),this.$router.push({name:"form",params:{id:e.id}}),this.isEditorOpened=!1},updateResourceAction:function(e){return I.Z.post("resources",{data:{name:this.resourceModel.name,preferences:{actions:[{name:e.name,action_type:"form",preferences:{form_id:this.form.id}}]}}}).then((function(e){})).catch((function(e){console.error(e)}))},saveAsNew:function(){var e=this;this.$Modal.open(Os,{form:Ms(Ms({},this.form),{},{id:null,tags:this.form.tags.map((function(e){return e.name}))}),action:"new",onSuccess:function(t){e.onSuccess(t)}},{title:this.i18n.save_form,closable:!0})},save:function(){var e=this;this.$Modal.open(Os,{form:Ms(Ms({},this.form),{},{tags:this.form.tags.map((function(e){return e.name}))}),onSuccess:function(t){e.onSuccess(t)}},{title:this.i18n.save_form,closable:!0})},toggleNewField:function(){this.$refs.editor.toggleNewField()}},render:function(n,i,r,o,s,a){var l,u=(0,t.up)("UnsavedChanges"),d=(0,t.up)("VButton"),h=(0,t.up)("Spin"),p=(0,t.up)("CustomFormWrapper"),f=(0,t.up)("Card"),m=(0,t.up)("Editor");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",fs,[(0,t._)("div",ms,[(0,t._)("div",gs,[(0,t._)("div",vs,[(0,t._)("h1",ys,(0,c.zw)(s.form.name||a.cachedFormName||(a.isExisting?"":n.i18n.new_form)),1)]),(0,t.Wm)(u,{ref:"unsavedChanges",key:s.form.id||"new",modelValue:s.form,"onUpdate:modelValue":i[0]||(i[0]=function(e){return s.form=e}),"storage-key":"form:".concat(n.$route.params.id||"new"),class:"col d-none d-xl-flex"},null,8,["modelValue","storage-key"])])]),(0,t._)("div",bs,[a.canEdit?((0,t.wg)(),(0,t.j4)(d,{key:0,size:"large",class:"bg-white md-icon-only",icon:s.isEditorOpened?"md-close":"md-create",onClick:a.toggleEditor},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(s.isEditorOpened?n.i18n.close_editor:n.i18n.edit),1)]})),_:1},8,["icon","onClick"])):(0,t.kq)("v-if",!0),s.form.id&&n.$can("create","Motor::Form")?((0,t.wg)(),(0,t.j4)(d,{key:1,size:"large",class:"bg-white ms-2 d-none d-sm-block",onClick:a.saveAsNew},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(n.i18n.save_as_new),1)]})),_:1},8,["onClick"])):(0,t.kq)("v-if",!0),s.form.preferences.fields.length&&a.canEdit?((0,t.wg)(),(0,t.j4)(d,{key:2,size:"large",class:"bg-white ms-2",ghost:"",type:"primary",onClick:a.save},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(n.i18n.save),1)]})),_:1},8,["onClick"])):(0,t.kq)("v-if",!0),s.form.api_path?((0,t.wg)(),(0,t.j4)(d,{key:3,size:"large",type:"primary",class:"ms-2 d-none d-md-block",onClick:a.submit},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(n.i18n.submit),1)]})),_:1},8,["onClick"])):(0,t.kq)("v-if",!0)])]),(0,t._)("div",ws,[(0,t._)("div",{style:(0,c.j5)({height:"calc(var(--vh, 100vh) - 138px)",overflowY:"auto"}),class:(0,c.C_)([s.isEditorOpened?"col-6 col-lg-9 d-none d-md-block":"col-12","pt-4 position-relative"])},[s.isLoading||!s.isFormDataLoaded?((0,t.wg)(),(0,t.j4)(h,{key:0,fix:""})):(0,t.kq)("v-if",!0),!s.isEditorOpened||s.form.id||s.form.preferences.fields.length||null!==(l=n.$refs.editor)&&void 0!==l&&l.$refs.itemsList.newField?(0,t.kq)("v-if",!0):((0,t.wg)(),(0,t.iD)("div",_s,[(0,t.Wm)(d,{size:"large",icon:"md-add",onClick:a.toggleNewField},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(n.i18n.add_field),1)]})),_:1},8,["onClick"])])),(0,t.wy)((0,t.Wm)(f,{style:{"max-width":"640px",margin:"0 auto"},class:"mb-3"},{default:(0,t.w5)((function(){return[(0,t.Wm)(p,{ref:"customFormWrapper",form:s.form,onLoaded:i[1]||(i[1]=function(e){return s.isFormDataLoaded=!0})},null,8,["form"])]})),_:1},512),[[e.F8,s.isFormDataLoaded&&s.form.preferences.fields.length]])],6),s.isEditorOpened?((0,t.wg)(),(0,t.iD)("div",xs,[(0,t.Wm)(m,{ref:"editor",fields:s.form.preferences.fields},null,8,["fields"])])):(0,t.kq)("v-if",!0)])],64)}};(0,t.dD)("data-v-b998f24e");var Is={class:"row mx-0 mx-md-2",style:{"min-height":"74px"}},js={class:"col-8"},Ns={class:"row"},Vs={class:"col d-flex align-items-center"},Bs={class:"my-3 overflow-hidden text-truncate"},qs={class:"col-4 d-flex align-items-center justify-content-end"},zs={key:0,class:"pb-2 px-2"},Ws={key:0,class:"col-12 col-md-6 col-lg-3 border-left bg-white p-0",style:{height:"100%",overflowY:"auto"}},Us={key:1},Hs={class:"fw-bold mb-3"},Ks={class:"footer p-2"};(0,t.Cn)(),(0,t.dD)("data-v-a4fc2b14");var Zs={class:"bg-white p-2",style:{height:"calc(100% - 46px)"}},Gs=["onClick"],Ys={class:"ivu-card-body d-flex align-items-center justify-content-between py-2"},Qs={class:"d-flex align-items-center"},Js={class:"d-flex flex-column me-2"},Xs={class:"d-flex align-items-center"};(0,t.Cn)(),(0,t.dD)("data-v-a74953fe");var ea={style:{position:"relative"}},ta={key:0,class:"text-center mt-2"},na=["onClick"],ia={class:"ivu-card-body py-2"},ra={class:"fs-4 fw-bold"};(0,t.Cn)();const oa={name:"ReportsIndex",props:{excludeIds:{type:Array,required:!1,default:function(){return[]}}},emits:["select"],data:function(){return{isLoading:!1,searchQuery:""}},computed:{items:function(){return N.db},searchPlaceholder:function(){return this.i18n.search_query},filteredItems:function(){var e=this;return this.items.filter((function(t){return!e.excludeIds.includes(t.id)&&(!e.searchQuery||t.name.toLowerCase().includes(e.searchQuery.toLowerCase()))}))}},mounted:function(){var e=this;0===this.items.length&&(this.isLoading=!0),this.loadQueries().finally((function(){e.isLoading=!1}))},methods:{loadQueries:N.Kp},render:function(e,n,i,r,o,s){var a=(0,t.up)("Spin"),l=(0,t.up)("VInput");return(0,t.wg)(),(0,t.iD)("div",ea,[o.isLoading?((0,t.wg)(),(0,t.j4)(a,{key:0,fix:""})):(0,t.kq)("v-if",!0),(0,t.Wm)(l,{modelValue:o.searchQuery,"onUpdate:modelValue":n[0]||(n[0]=function(e){return o.searchQuery=e}),search:"",placeholder:s.searchPlaceholder,size:"large",class:"mb-2"},null,8,["modelValue","placeholder"]),(0,t._)("div",{style:(0,c.j5)({height:"calc(var(--vh, 100vh) - 245px)",overflowY:"auto"})},[o.searchQuery&&!s.filteredItems.length?((0,t.wg)(),(0,t.iD)("p",ta,(0,c.zw)(e.i18n.not_found),1)):(0,t.kq)("v-if",!0),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.filteredItems,(function(n){return(0,t.wg)(),(0,t.iD)("div",{key:n.id,class:"col-12"},[(0,t._)("div",{class:"ivu-card ivu-card-bordered mb-2",onClick:function(t){return e.$emit("select",n)}},[(0,t._)("div",ia,[(0,t._)("p",ra,(0,c.zw)(n.name),1)])],8,na)])})),128))],4)])},__scopeId:"data-v-a74953fe"};(0,t.dD)("data-v-6f75a054");var sa={class:"d-flex align-items-center controls"},aa={class:"d-flex flex-column align-items-center"},la=(0,t._)("span",{class:"divider"}," x ",-1),ca={class:"d-flex flex-column align-items-center"};(0,t.Cn)();const ua={name:"DashboardEditor",components:{QueriesList:oa,SizeControl:{name:"DashboardSizeControl",props:{modelValue:{type:String,required:!1,default:function(){return"3x2"}},maxValues:{type:Array,required:!1,default:function(){return[6,4]}}},emits:["update:modelValue"],data:function(){return{dataValue:this.modelValue.split("x").map((function(e){return parseInt(e)}))}},watch:{modelValue:function(e){this.dataValue=e.split("x").map((function(e){return parseInt(e)}))}},methods:{toggle:function(e,t){var n="width"===e?0:1,i=this.dataValue[n]+t;i>this.maxValues[n]?i=1:i<1&&(i=this.maxValues[n]),this.dataValue[n]=i,this.$emit("update:modelValue",this.dataValue.join("x"))}},render:function(n,i,r,o,s,a){var l=(0,t.up)("VButton");return(0,t.wg)(),(0,t.iD)("div",sa,[(0,t._)("div",aa,[(0,t._)("i",{class:"ion ion-md-arrow-dropup",onClick:i[0]||(i[0]=(0,e.iM)((function(e){return a.toggle("width",-1)}),["prevent"]))}),(0,t.Wm)(l,{class:"width",type:"dashed",onClick:i[1]||(i[1]=function(e){return a.toggle("width",1)})},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(s.dataValue[0]),1)]})),_:1}),(0,t._)("i",{class:"ion ion-md-arrow-dropdown",onClick:i[2]||(i[2]=(0,e.iM)((function(e){return a.toggle("width",1)}),["prevent"]))})]),la,(0,t._)("div",ca,[(0,t._)("i",{class:"ion ion-md-arrow-dropup",onClick:i[3]||(i[3]=(0,e.iM)((function(e){return a.toggle("height",-1)}),["prevent"]))}),(0,t.Wm)(l,{class:"height",type:"dashed",onClick:i[4]||(i[4]=function(e){return a.toggle("height",1)})},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(s.dataValue[1]),1)]})),_:1}),(0,t._)("i",{class:"ion ion-md-arrow-dropdown",onClick:i[5]||(i[5]=(0,e.iM)((function(e){return a.toggle("height",1)}),["prevent"]))})])])},__scopeId:"data-v-6f75a054"}},props:{dashboard:{type:Object,required:!0}},emits:["add-query","remove-query","click-item","move"],data:function(){return{isQueriesListOpened:!1}},computed:{layout:function(){return this.dashboard.preferences.layout},sizeOptions:function(){return[{label:"25%",value:25},{label:"33%",value:33},{label:"50%",value:50},{label:"66%",value:66},{label:"100%",value:100}]}},mounted:function(){this.isQueriesListOpened=!this.layout.length},methods:{findQueryName:function(e){var t;return null===(t=this.dashboard.queries.find((function(t){return t.id===e}))||N.db.find((function(t){return t.id===e})))||void 0===t?void 0:t.name},onEnd:function(e){var t=e.newIndex;this.$emit("move",this.layout[t])},removeItem:function(e){var t=this.layout.indexOf(e);this.layout.splice(t,1),this.$emit("remove-query",e.query_id)},onSelectQuery:function(e){this.isQueriesListOpened=!1,this.layout.push({title:e.name,query_id:e.id,size:"3x2"}),this.$emit("add-query",e.id)},toggleQueriesList:function(){this.isQueriesListOpened=!this.isQueriesListOpened}},render:function(e,n,i,r,o,s){var a=(0,t.up)("QueriesList"),l=(0,t.up)("Icon"),u=(0,t.up)("Contenteditable"),d=(0,t.up)("SizeControl"),h=(0,t.up)("VButton"),p=(0,t.up)("VueDraggableNext");return(0,t.wg)(),(0,t.iD)("div",Zs,[(0,t._)("div",null,[o.isQueriesListOpened?((0,t.wg)(),(0,t.j4)(a,{key:0,"exclude-ids":s.layout.map((function(e){return e.query_id})),onSelect:s.onSelectQuery},null,8,["exclude-ids","onSelect"])):((0,t.wg)(),(0,t.j4)(p,{key:1,list:s.layout,handle:".handle",onEnd:s.onEnd},{default:(0,t.w5)((function(){return[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.layout,(function(n){return(0,t.wg)(),(0,t.iD)("div",{key:n.query_id,class:"ivu-card ivu-card-bordered cursor-default mb-2",onClick:function(t){return e.$emit("click-item",n)}},[(0,t._)("div",Ys,[(0,t._)("div",Qs,[(0,t._)("div",Js,[(0,t.Wm)(l,{type:"ios-menu",class:"cursor-grab handle"})]),(0,t.Wm)(u,{modelValue:n.title,"onUpdate:modelValue":function(e){return n.title=e},"with-edit-button":!1,class:"fs-4 fw-bold"},null,8,["modelValue","onUpdate:modelValue"])]),(0,t._)("div",Xs,[(0,t.Wm)(d,{modelValue:n.size,"onUpdate:modelValue":function(e){return n.size=e},class:"me-1"},null,8,["modelValue","onUpdate:modelValue"]),(0,t.Wm)(h,{size:"small",type:"text",icon:"md-trash",onClick:function(e){return s.removeItem(n)}},null,8,["onClick"])])])],8,Gs)})),128))]})),_:1},8,["list","onEnd"]))]),(0,t._)("div",{class:(0,c.C_)(["sticky-footer",s.layout.length||o.isQueriesListOpened?"":"p-0 border-0"])},[(0,t.Wm)(h,{long:"",type:"default",icon:o.isQueriesListOpened?"md-close":"md-add",onClick:s.toggleQueriesList},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(o.isQueriesListOpened?e.i18n.cancel:e.i18n.add_query),1)]})),_:1},8,["icon","onClick"])],2)])},__scopeId:"data-v-a4fc2b14"};var da=(0,t.Uk)(" Save ");function ha(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function pa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const fa={name:"DashboardForm",components:{TagsSelect:Jr},props:{board:{type:Object,required:!0}},emits:["success"],data:function(){return{dataBoard:{}}},computed:{rules:function(){return{title:[{required:!0,message:(0,_e.w)("title")}]}},apiRequest:function(){var e={data:this.dataBoard,include:"tags,queries",fields:{queries:"id,name,preferences"}};return this.board.id?I.Z.put("dashboards/".concat(this.dataBoard.id),e):I.Z.post("dashboards",e)}},created:function(){this.dataBoard=JSON.parse(JSON.stringify(this.board))},methods:{submit:function(){var e=this;this.$refs.form.validate((function(t){t&&e.apiRequest.then((function(t){e.$emit("success",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ha(Object(n),!0).forEach((function(t){pa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ha(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t.data.data))})).catch((function(t){var n;null!==(n=t.response.data.errors)&&void 0!==n&&n.length&&e.$refs.form.setErrors(t.response.data.errors)}))}))}},render:function(e,n,i,r,o,s){var a=(0,t.up)("VInput"),l=(0,t.up)("FormItem"),c=(0,t.up)("TagsSelect"),u=(0,t.up)("VButton"),d=(0,t.up)("VForm");return(0,t.wg)(),(0,t.j4)(d,{ref:"form",model:o.dataBoard,rules:s.rules,"label-position":"top"},{default:(0,t.w5)((function(){return[(0,t.Wm)(l,{label:e.i18n.title,prop:"title"},{default:(0,t.w5)((function(){return[(0,t.Wm)(a,{modelValue:o.dataBoard.title,"onUpdate:modelValue":n[0]||(n[0]=function(e){return o.dataBoard.title=e}),size:"large",autofocus:!0,placeholder:e.i18n.dashboard_title},null,8,["modelValue","placeholder"])]})),_:1},8,["label"]),(0,t.Wm)(l,{label:e.i18n.description,prop:"description"},{default:(0,t.w5)((function(){return[(0,t.Wm)(a,{modelValue:o.dataBoard.description,"onUpdate:modelValue":n[1]||(n[1]=function(e){return o.dataBoard.description=e}),type:"textarea",placeholder:e.i18n.describe_your_dashboard_optional,autosize:{minRows:3,maxRows:7}},null,8,["modelValue","placeholder"])]})),_:1},8,["label"]),(0,t.Wm)(l,{label:e.i18n.tags,prop:"tags"},{default:(0,t.w5)((function(){return[(0,t.Wm)(c,{modelValue:o.dataBoard.tags,"onUpdate:modelValue":n[2]||(n[2]=function(e){return o.dataBoard.tags=e}),placeholder:e.i18n.select_dashboard_tags},null,8,["modelValue","placeholder"])]})),_:1},8,["label"]),(0,t.Wm)(u,{size:"large",class:"mt-3",long:"",type:"primary",onClick:s.submit},{default:(0,t.w5)((function(){return[da]})),_:1},8,["onClick"])]})),_:1},8,["model","rules"])}};function ma(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ga(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ma(Object(n),!0).forEach((function(t){va(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ma(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function va(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ya={name:"DashboardsNew",components:{Editor:ua,DashboardLayout:Fi,VariablesForm:Ai.Z,VariableSettings:ho,UnsavedChanges:Es},data:function(){return{isLoading:!1,isDashboardLoading:!1,isVariableSettingsOpened:!1,isEditorOpened:!1,variablesData:{},dashboard:{tags:[],preferences:{layout:[],variables:[]},queries:[]}}},computed:{isExisting:function(){return this.$route.params.id},isCanEdit:function(){return this.dashboard.id?this.$can("edit","Motor::Dashboard",this.dashboard):this.$can("create","Motor::Dashboard")},isSettingsOpened:function(){return this.isEditorOpened||this.isVariableSettingsOpened},cachedDashboardTitle:function(){var e,t=this;return null===(e=N.n3.find((function(e){var n;return e.id.toString()===(null===(n=t.$route.params)||void 0===n?void 0:n.id)})))||void 0===e?void 0:e.title},variables:function(){var e=this;return Object.values(this.dashboard.queries.reduce((function(t,n){var i;return null===(i=n.preferences.variables)||void 0===i||i.forEach((function(n){var i,r;t[i=n.name]||(t[i]=(null===(r=e.dashboard.preferences.variables)||void 0===r?void 0:r.find((function(e){return e.name===n.name})))||n)})),t}),{}))},queryParamsVariables:function(){return this.$route.query||{}},defaultVariablesData:function(){return this.variables.reduce((function(e,t){var n;return e[t.name]=null!==(n=t.default_value)&&void 0!==n?n:"",e}),{})}},watch:{$route:function(e,t){var n;"dashboard"!==e.name&&"new_dashboard"!==e.name||(e.params.id!==(null===(n=this.dashboard.id)||void 0===n?void 0:n.toString())?(this.dashboard={tags:[],preferences:{layout:[],variables:[]},queries:[]},e.params.id?(this.loadDashboard(),this.isEditorOpened=!1):this.isEditorOpened=!0):JSON.stringify(e.query)!==JSON.stringify(t.query)&&(this.assignVariablesData(),this.refresh()))}},mounted:function(){this.$route.params.id?this.loadDashboard():this.isEditorOpened=!0},methods:{maybeUpdateVariablesQueryParams:function(){var e=this;if(Object.keys(this.defaultVariablesData).length){var t=Object.keys(this.defaultVariablesData).reduce((function(t,n){var i,r;return(null!==(i=e.variablesData[n])&&void 0!==i?i:"").toString()!==(null!==(r=e.defaultVariablesData[n])&&void 0!==r?r:"").toString()&&(t[n]=e.variablesData[n]),t}),{});Object.keys(t).length?this.$router.replace({query:ga({},t)}):Object.keys(this.queryParamsVariables).length&&this.$router.replace({query:null})}},toggleEditor:function(){this.isVariableSettingsOpened=!1,this.isEditorOpened=!this.isEditorOpened},toggleVariablesSettings:function(){this.isEditorOpened=!1,this.isVariableSettingsOpened=!this.isVariableSettingsOpened},assignVariablePreferences:function(e){var t,n;null!==(t=this.dashboard.preferences.variables)&&void 0!==t&&t.find((function(t){return t.name===e.name}))||((n=this.dashboard.preferences).variables||(n.variables=[]),this.dashboard.preferences.variables.push(e))},removeQuery:function(e){var t=this.dashboard.queries.findIndex((function(t){return t.id===e}));this.dashboard.queries.splice(t,1)},assignVariablesData:function(){this.variablesData=ga(ga({},this.defaultVariablesData),this.queryParamsVariables)},addQuery:function(e){var t=this;I.Z.get("queries/".concat(e),{params:{fields:{query:"id,name,preferences"}}}).then((function(e){t.dashboard.queries.push(e.data.data)})).catch((function(e){console.error(e)}))},refresh:function(){var e=this;this.maybeUpdateVariablesQueryParams(),this.$nextTick((function(){e.isLoading=!0,e.$refs.layout.reload().then((function(){e.isLoading=!1}))}))},loadDashboard:function(){var e=this;return this.isDashboardLoading=!0,I.Z.get("dashboards/".concat(this.$route.params.id),{params:{include:"tags,queries",fields:{queries:"id,name,preferences"}}}).then((function(t){e.dashboard=t.data.data,e.assignVariablesData()})).catch((function(t){var n,i;null!==(n=t.response)&&void 0!==n&&null!==(i=n.data)&&void 0!==i&&i.errors?e.$Message.error(t.response.data.errors.join("\n")):e.$Message.error(t.message)})).finally((function(){e.isDashboardLoading=!1}))},onSuccess:function(e){this.$refs.unsavedChanges.resetWithDefaultValue(e),this.dashboard=e,this.$Modal.remove(),this.$Message.info(this.i18n.dashboard_has_been_saved),this.$router.push({name:"dashboard",params:{id:e.id}}),this.isEditorOpened=!1},saveAsNew:function(){var e=this;this.$Modal.open(fa,{board:{title:this.dashboard.title,description:this.dashboard.description,tags:this.dashboard.tags.map((function(e){return e.name})),preferences:this.dashboard.preferences},onSuccess:function(t){e.onSuccess(t)}},{title:this.i18n.save_dashboard,closable:!0})},save:function(){var e=this;this.$Modal.open(fa,{board:{id:this.dashboard.id,title:this.dashboard.title,description:this.dashboard.description,tags:this.dashboard.tags.map((function(e){return e.name})),preferences:this.dashboard.preferences},onSuccess:function(t){e.onSuccess(t)}},{title:this.i18n.save_dashboard,closable:!0})}},render:function(e,n,i,r,o,s){var a=(0,t.up)("UnsavedChanges"),l=(0,t.up)("VButton"),u=(0,t.up)("VariablesForm"),d=(0,t.up)("Spin"),h=(0,t.up)("DashboardLayout"),p=(0,t.up)("Editor"),f=(0,t.up)("VariableSettings"),m=(0,t.up)("Card");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",Is,[(0,t._)("div",js,[(0,t._)("div",Ns,[(0,t._)("div",Vs,[(0,t._)("h1",Bs,(0,c.zw)(o.dashboard.title||s.cachedDashboardTitle||(s.isExisting?"":e.i18n.new_dashboard)),1)]),(0,t.Wm)(a,{ref:"unsavedChanges",key:o.dashboard.id||"new",modelValue:o.dashboard,"onUpdate:modelValue":n[0]||(n[0]=function(e){return o.dashboard=e}),"storage-key":"dashboard:".concat(e.$route.params.id||"new"),class:"col d-none d-xl-flex"},null,8,["modelValue","storage-key"])])]),(0,t._)("div",qs,[s.variables.length&&s.isCanEdit?((0,t.wg)(),(0,t.j4)(l,{key:0,size:"large",class:"me-2 md-icon-only d-none d-sm-block",icon:o.isVariableSettingsOpened?"md-close":"md-flask",onClick:s.toggleVariablesSettings},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(o.isVariableSettingsOpened?e.i18n.close_variables:e.i18n.variables),1)]})),_:1},8,["icon","onClick"])):(0,t.kq)("v-if",!0),s.isCanEdit?((0,t.wg)(),(0,t.j4)(l,{key:1,size:"large",class:"bg-white me-2 md-icon-only",icon:o.isEditorOpened?"md-close":"md-create",onClick:s.toggleEditor},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(o.isEditorOpened?e.i18n.close_editor:e.i18n.edit),1)]})),_:1},8,["icon","onClick"])):(0,t.kq)("v-if",!0),o.dashboard.id&&e.$can("create","Motor::Dashboard")?((0,t.wg)(),(0,t.j4)(l,{key:2,size:"large",class:"bg-white me-2 d-none d-sm-block",onClick:s.saveAsNew},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.save_as_new),1)]})),_:1},8,["onClick"])):(0,t.kq)("v-if",!0),s.isCanEdit?((0,t.wg)(),(0,t.j4)(l,{key:3,size:"large",class:"bg-white me-2",ghost:"",type:"primary",onClick:s.save},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.save),1)]})),_:1},8,["onClick"])):(0,t.kq)("v-if",!0),(0,t.Wm)(l,{size:"large",type:"primary",loading:o.isLoading,class:"d-none d-sm-block",icon:"md-refresh",onClick:s.refresh},null,8,["loading","onClick"])])]),(0,t._)("div",{style:(0,c.j5)({height:s.isSettingsOpened?"calc(var(--vh, 100vh) - 134px)":"100%"}),class:"row border-top m-0"},[(0,t._)("div",{class:(0,c.C_)([s.isSettingsOpened?"col-6 col-lg-9 d-none d-md-block":"col-12","position-relative"]),style:(0,c.j5)({height:"100%",overflowY:s.isSettingsOpened?"auto":"unset"})},[s.variables.length?((0,t.wg)(),(0,t.iD)("div",zs,[(0,t.Wm)(u,{data:o.variablesData,"onUpdate:data":n[1]||(n[1]=function(e){return o.variablesData=e}),variables:s.variables,onSubmit:s.refresh},null,8,["data","variables","onSubmit"])])):(0,t.kq)("v-if",!0),o.isDashboardLoading?((0,t.wg)(),(0,t.j4)(d,{key:1,fix:"",style:{height:"calc(var(--vh, 100vh) - 134px)"}})):(0,t.kq)("v-if",!0),(0,t.Wm)(h,{ref:"layout",class:"pt-1",variables:o.variablesData,dashboard:o.dashboard},null,8,["variables","dashboard"])],6),s.isSettingsOpened?((0,t.wg)(),(0,t.iD)("div",Ws,[o.isEditorOpened?((0,t.wg)(),(0,t.j4)(p,{key:0,dashboard:o.dashboard,onRemoveQuery:s.removeQuery,onClickItem:e.$refs.layout.scrollInto,onMove:e.$refs.layout.scrollInto,onAddQuery:s.addQuery},null,8,["dashboard","onRemoveQuery","onClickItem","onMove","onAddQuery"])):(0,t.kq)("v-if",!0),o.isVariableSettingsOpened?((0,t.wg)(),(0,t.iD)("div",Us,[(0,t._)("div",{style:(0,c.j5)({minHeight:"calc(var(--vh, 100vh) - 203px)"})},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.variables,(function(e){return(0,t.wg)(),(0,t.j4)(m,{key:e.name,class:"m-2"},{default:(0,t.w5)((function(){return[(0,t._)("div",Hs,(0,c.zw)(e.display_name),1),(0,t.Wm)(f,{variable:e,"onUpdate:variable":s.assignVariablePreferences},null,8,["variable","onUpdate:variable"])]})),_:2},1024)})),128))],4),(0,t._)("div",Ks,[(0,t.Wm)(l,{long:"",type:"default",icon:"md-close",onClick:s.toggleVariablesSettings},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.close),1)]})),_:1},8,["onClick"])])])):(0,t.kq)("v-if",!0)])):(0,t.kq)("v-if",!0)],4)],64)},__scopeId:"data-v-b998f24e"};var ba={class:"row mx-0 mx-md-2",style:{"min-height":"74px"}},wa={class:"col-7 col-md-8 d-flex align-items-center"},_a={class:"my-3 overflow-hidden text-truncate"},xa={class:"col-5 col-md-4 d-flex align-items-center justify-content-end"},ka={class:"col-6 col-lg-7 d-none d-md-block p-0 text-center",style:{height:"100%",position:"relative"}},Ca={key:1,class:"d-flex justify-content-center align-items-center",style:{height:"100%"}},Sa={key:3,class:"mt-5"},Aa={class:"col-12 col-md-6 col-lg-5 border-left bg-white p-3",style:{height:"100%",overflowY:"auto",position:"relative"}},Da={class:"row"},Oa={class:"col-7"},Ta={class:"col-5 ps-0"},Ea=n(480);const $a={name:"IntervalInput",props:{modelValue:{type:String,required:!1,default:""}},emits:["update:modelValue"],computed:{quickSelectOptions:function(){return["every day","every Monday","every month"]}},render:function(e,n,i,r,o,s){var a=(0,t.up)("VInput"),l=(0,t.up)("VButton");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(a,{"model-value":i.modelValue,size:"large",placeholder:e.i18n.every_day_at_hh_mm,"onUpdate:modelValue":n[0]||(n[0]=function(t){return e.$emit("update:modelValue",t)})},null,8,["model-value","placeholder"]),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.quickSelectOptions,(function(n){return(0,t.wg)(),(0,t.j4)(l,{key:n,size:"small",class:"me-1",onClick:function(t){return e.$emit("update:modelValue",n)}},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(n),1)]})),_:2},1032,["onClick"])})),128))],64)}},Ma={name:"TimezoneSelect",props:{modelValue:{type:String,required:!1,default:function(){return localStorage.getItem("timezone")||""}},size:{type:String,required:!1,default:"default"}},emits:["update:modelValue"],computed:{options:function(){return["UTC","Eastern Time (US & Canada)","Central Time (US & Canada)","Mountain Time (US & Canada)","Pacific Time (US & Canada)","Atlantic Time (Canada)","Abu Dhabi","Adelaide","Alaska","Almaty","American Samoa","Amsterdam","Arizona","Astana","Athens","Auckland","Azores","Baghdad","Baku","Bangkok","Beijing","Belgrade","Berlin","Bern","Bogota","Brasilia","Bratislava","Brisbane","Brussels","Bucharest","Budapest","Buenos Aires","Cairo","Canberra","Cape Verde Is.","Caracas","Casablanca","Central America","Chatham Is.","Chennai","Chihuahua","Chongqing","Copenhagen","Darwin","Dhaka","Dublin","Edinburgh","Ekaterinburg","Fiji","Georgetown","Greenland","Guadalajara","Guam","Hanoi","Harare","Hawaii","Helsinki","Hobart","Hong Kong","Indiana (East)","International Date Line West","Irkutsk","Islamabad","Istanbul","Jakarta","Jerusalem","Kabul","Kaliningrad","Kamchatka","Karachi","Kathmandu","Kolkata","Krasnoyarsk","Kuala Lumpur","Kuwait","Kyiv","La Paz","Lima","Lisbon","Ljubljana","London","Madrid","Magadan","Marshall Is.","Mazatlan","Melbourne","Mexico City","Mid-Atlantic","Midway Island","Minsk","Monrovia","Monterrey","Montevideo","Moscow","Mumbai","Muscat","Nairobi","New Caledonia","New Delhi","Newfoundland","Novosibirsk","Nuku'alofa","Osaka","Paris","Perth","Port Moresby","Prague","Pretoria","Puerto Rico","Quito","Rangoon","Riga","Riyadh","Rome","Samara","Samoa","Santiago","Sapporo","Sarajevo","Saskatchewan","Seoul","Singapore","Skopje","Sofia","Solomon Is.","Srednekolymsk","Sri Jayawardenepura","St. Petersburg","Stockholm","Sydney","Taipei","Tallinn","Tashkent","Tbilisi","Tehran","Tijuana","Tokelau Is.","Tokyo","Ulaanbaatar","Urumqi","Vienna","Vilnius","Vladivostok","Volgograd","Warsaw","Wellington","West Central Africa","Yakutsk","Yerevan","Zagreb","Zurich"]}},mounted:function(){this.$emit("update:modelValue",this.modelValue)},methods:{updateValue:function(e){localStorage.setItem("timezone",e),this.$emit("update:modelValue",e)}},render:function(e,n,i,r,o,s){var a=(0,t.up)("MSelect");return(0,t.wg)(),(0,t.j4)(a,{"model-value":i.modelValue,filterable:"",size:i.size,placeholder:e.i18n.timezone,options:s.options,"with-deselect":!1,"onUpdate:modelValue":s.updateValue},null,8,["model-value","size","placeholder","options","onUpdate:modelValue"])}};function Ra(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function La(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ra(Object(n),!0).forEach((function(t){Pa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ra(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Fa={name:"AlertForm",components:{SelectQuery:Ea.Z,TagsSelect:Jr,IntervalInput:$a,TimezoneSelect:Ma},props:{alert:{type:Object,required:!0},withSubmit:{type:Boolean,required:!1,default:!0},loading:{type:Boolean,required:!1,default:!1}},emits:["submit","select-query","change-emails"],data:function(){return{dataAlert:{}}},computed:{rules:function(){return{name:[{required:!0,message:(0,_e.w)("name")}],query_id:[{required:!0,message:(0,_e.w)("query")}],to_emails:[{required:!0,message:this.i18n.field_list_cant_be_empty.replace("%{field}",this.i18n.emails)}],"preferences.interval":[{required:!0,message:(0,_e.w)("interval")}],"preferences.timezone":[{required:!0,message:(0,_e.w)("timezone")}]}}},watch:{alert:function(){this.dataAlert=JSON.parse(JSON.stringify(this.normalizeAlert(this.alert)))}},created:function(){this.dataAlert=JSON.parse(JSON.stringify(this.normalizeAlert(this.alert)))},methods:{normalizeAlert:function(e){return La(La({},e),{},{to_emails:e.to_emails.split(",").filter(Boolean),tags:e.tags.map((function(e){return e.name}))})},submit:function(){var e=this;this.$refs.form.validate((function(t){t&&e.$emit("submit",e.dataAlert)}))}},render:function(e,n,i,r,o,s){var a=(0,t.up)("VInput"),l=(0,t.up)("FormItem"),u=(0,t.up)("SelectQuery"),d=(0,t.up)("MSelect"),h=(0,t.up)("IntervalInput"),p=(0,t.up)("TimezoneSelect"),f=(0,t.up)("Checkbox"),m=(0,t.up)("TagsSelect"),g=(0,t.up)("VButton"),v=(0,t.up)("VForm");return(0,t.wg)(),(0,t.j4)(v,{ref:"form",model:o.dataAlert,rules:s.rules,"label-position":"top"},{default:(0,t.w5)((function(){return[(0,t.Wm)(l,{label:e.i18n.name,prop:"name"},{default:(0,t.w5)((function(){return[(0,t.Wm)(a,{modelValue:o.dataAlert.name,"onUpdate:modelValue":n[0]||(n[0]=function(e){return o.dataAlert.name=e}),size:"large",autofocus:!o.dataAlert.id,placeholder:e.i18n.alert_name},null,8,["modelValue","autofocus","placeholder"])]})),_:1},8,["label"]),(0,t.Wm)(l,{label:e.i18n.query,prop:"query_id"},{default:(0,t.w5)((function(){return[(0,t.Wm)(u,{modelValue:o.dataAlert.query_id,"onUpdate:modelValue":[n[1]||(n[1]=function(e){return o.dataAlert.query_id=e}),n[2]||(n[2]=function(t){return e.$emit("select-query",o.dataAlert.query_id)})],size:"large"},null,8,["modelValue"])]})),_:1},8,["label"]),(0,t.Wm)(l,{label:e.i18n.send_to,prop:"to_emails"},{default:(0,t.w5)((function(){return[(0,t.Wm)(d,{modelValue:o.dataAlert.to_emails,"onUpdate:modelValue":n[3]||(n[3]=function(e){return o.dataAlert.to_emails=e}),filterable:"","allow-create":"",multiple:"",options:o.dataAlert.to_emails,placeholder:e.i18n.emails,size:"large"},null,8,["modelValue","options","placeholder"])]})),_:1},8,["label"]),(0,t._)("div",Da,[(0,t._)("div",Oa,[(0,t.Wm)(l,{label:e.i18n.interval,prop:"preferences.interval"},{default:(0,t.w5)((function(){return[(0,t.Wm)(h,{modelValue:o.dataAlert.preferences.interval,"onUpdate:modelValue":n[4]||(n[4]=function(e){return o.dataAlert.preferences.interval=e})},null,8,["modelValue"])]})),_:1},8,["label"])]),(0,t._)("div",Ta,[(0,t.Wm)(l,{label:e.i18n.timezone,prop:"preferences.timezone"},{default:(0,t.w5)((function(){return[(0,t.Wm)(p,{modelValue:o.dataAlert.preferences.timezone,"onUpdate:modelValue":n[5]||(n[5]=function(e){return o.dataAlert.preferences.timezone=e}),size:"large"},null,8,["modelValue"])]})),_:1},8,["label"])])]),(0,t.Wm)(l,{label:e.i18n.send_empty,prop:"preferences.send_empty"},{default:(0,t.w5)((function(){return[(0,t.Wm)(f,{modelValue:o.dataAlert.preferences.send_empty,"onUpdate:modelValue":n[6]||(n[6]=function(e){return o.dataAlert.preferences.send_empty=e})},null,8,["modelValue"])]})),_:1},8,["label"]),(0,t.Wm)(l,{label:e.i18n.description,prop:"description"},{default:(0,t.w5)((function(){return[(0,t.Wm)(a,{modelValue:o.dataAlert.description,"onUpdate:modelValue":n[7]||(n[7]=function(e){return o.dataAlert.description=e}),type:"textarea",placeholder:e.i18n.describe_this_alert_optional,autosize:{minRows:3,maxRows:7}},null,8,["modelValue","placeholder"])]})),_:1},8,["label"]),(0,t.Wm)(l,{label:e.i18n.tags,prop:"tags"},{default:(0,t.w5)((function(){return[(0,t.Wm)(m,{modelValue:o.dataAlert.tags,"onUpdate:modelValue":n[8]||(n[8]=function(e){return o.dataAlert.tags=e}),placeholder:e.i18n.select_alert_tags},null,8,["modelValue","placeholder"])]})),_:1},8,["label"]),i.withSubmit?((0,t.wg)(),(0,t.j4)(g,{key:0,size:"large",class:"mt-3",long:"",type:"primary",loading:i.loading,onClick:s.submit},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.save),1)]})),_:1},8,["loading","onClick"])):(0,t.kq)("v-if",!0)]})),_:1},8,["model","rules"])}};function Ia(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ja(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ia(Object(n),!0).forEach((function(t){Na(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ia(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Na(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Va={name:"",description:"",to_emails:"",query_id:null,tags:[],preferences:{}};const Ba={name:"NewAlert",components:{AlertForm:Fa,QueryResult:Ri.Z},data:function(){return{isSendingLoading:!1,isEnabledToggleLoading:!1,isSubmitting:!1,isLoadingQuery:!1,isLoadingAlert:!1,data:[],columns:[],errors:[],alert:{}}},computed:{cachedAlertName:function(){var e,t=this;return null===(e=N.vS.find((function(e){var n;return e.id.toString()===(null===(n=t.$route.params)||void 0===n?void 0:n.id)})))||void 0===e?void 0:e.name},isCanEdit:function(){return this.alert.id?this.$can("edit","Motor::Alert",this.alert):this.$can("create","Motor::Alert")}},watch:{$route:function(e,t){var n;["alert","new_alert"].includes(e.name)&&e.params.id!==(null===(n=this.alert.id)||void 0===n?void 0:n.toString())&&this.onMounted()}},created:function(){this.onMounted()},methods:{onSelectQuery:function(e){this.alert.query_id=e,e&&this.loadQuery()},sendNow:function(){var e=this;this.isSendingLoading=!0,I.Z.post("send_alerts",{data:{query_id:this.alert.query_id,to_emails:this.alert.to_emails,name:this.alert.name}}).then((function(t){e.$Message.info(e.i18n.alert_email_has_been_sent)})).catch((function(t){var n,i;null!==(n=t.response.data)&&void 0!==n&&null!==(i=n.errors)&&void 0!==i&&i.length?e.$Message.error(t.response.data.errors.join("\n")):e.$Message.error(e.i18n.unable_to_send_email)})).finally((function(){e.isSendingLoading=!1}))},toggleEnabled:function(){var e=this;this.isEnabledToggleLoading=!0,I.Z.put("alerts/".concat(this.alert.id),{data:{is_enabled:!this.alert.is_enabled}}).then((function(t){e.alert.is_enabled=t.data.data.is_enabled,e.$Message.info(e.alert.is_enabled?e.i18n.alert_has_been_activated:e.i18n.alert_has_been_disabled)})).catch((function(t){var n,i;null!==(n=t.response.data)&&void 0!==n&&null!==(i=n.errors)&&void 0!==i&&i.length&&e.$Message.error(t.response.data.errors.join("\n"))})).finally((function(){e.isEnabledToggleLoading=!1}))},submitRequest:function(e){var t=ja(ja({},e),{},{to_emails:e.to_emails.join(",")});return e.id?I.Z.put("alerts/".concat(e.id),{data:t,include:"tags"}):I.Z.post("alerts",{data:t,include:"tags"})},onMounted:function(){var e,t=this;this.$route.params.id?this.loadAlert().then((function(){t.loadQuery()})):(this.alert=ja({},Va),this.alert.query_id=null===(e=this.$route.query)||void 0===e?void 0:e.query_id)},onSubmit:function(e){var t=this;this.isSubmitting=!0,this.submitRequest(e).then((function(e){t.alert=e.data.data,t.$router.push({name:"alert",params:{id:t.alert.id}}),t.$Message.info(t.i18n.alert_has_been_saved)})).catch((function(e){var n,i,r;null!==(n=e.response)&&void 0!==n&&null!==(i=n.data)&&void 0!==i&&null!==(r=i.errors)&&void 0!==r&&r.length?t.$refs.form.$refs.form.setErrors(e.response.data.errors):console.error(e)})).finally((function(){t.isSubmitting=!1}))},onSaveClick:function(){this.$refs.form.submit()},loadAlert:function(){var e=this;return this.isLoadingAlert=!0,I.Z.get("alerts/".concat(this.$route.params.id),{params:{include:"tags"}}).then((function(t){e.alert=t.data.data})).catch((function(t){var n,i;console.error(t),null!==(n=t.response)&&void 0!==n&&null!==(i=n.data)&&void 0!==i&&i.errors?e.$Message.error(t.response.data.errors.join("\n")):e.$Message.error(t.message)})).finally((function(){e.isLoadingAlert=!1}))},loadQuery:function(){var e=this;return this.isLoadingQuery=!0,I.Z.get("run_queries/".concat(this.alert.query_id),{}).then((function(t){e.data=t.data.data,e.columns=t.data.meta.columns})).catch((function(e){console.error(e)})).finally((function(){e.isLoadingQuery=!1}))}},render:function(e,n,i,r,o,s){var a=(0,t.up)("VButton"),l=(0,t.up)("Spin"),u=(0,t.up)("QueryResult"),d=(0,t.up)("AlertForm");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",ba,[(0,t._)("div",wa,[(0,t._)("h1",_a,(0,c.zw)(o.alert.name||s.cachedAlertName||e.i18n.new_alert),1)]),(0,t._)("div",xa,[o.alert.id&&e.$can("update","Motor::Alert")?((0,t.wg)(),(0,t.j4)(a,{key:0,size:"large",class:"bg-white ms-2 md-icon-only",loading:o.isEnabledToggleLoading,icon:o.alert.is_enabled?"md-close":"md-checkmark",onClick:s.toggleEnabled},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(o.alert.is_enabled?e.i18n.disable:e.i18n.activate),1)]})),_:1},8,["loading","icon","onClick"])):(0,t.kq)("v-if",!0),o.alert.query_id&&o.alert.to_emails.length&&e.$can("manage","Motor::Alert")?((0,t.wg)(),(0,t.j4)(a,{key:1,size:"large",icon:"md-send",loading:o.isSendingLoading,class:"bg-white ms-2 md-icon-only",onClick:s.sendNow},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.send_now),1)]})),_:1},8,["loading","onClick"])):(0,t.kq)("v-if",!0),s.isCanEdit?((0,t.wg)(),(0,t.j4)(a,{key:2,size:"large",ghost:"",type:"primary",class:"bg-white ms-2",onClick:s.onSaveClick},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.save),1)]})),_:1},8,["onClick"])):(0,t.kq)("v-if",!0)])]),(0,t._)("div",{class:"row border-top m-0",style:(0,c.j5)({height:"calc(var(--vh, 100vh) - 134px)"})},[(0,t._)("div",ka,[o.isLoadingQuery||o.isLoadingAlert?((0,t.wg)(),(0,t.j4)(l,{key:0,fix:""})):o.data.length?o.alert.query_id?((0,t.wg)(),(0,t.j4)(u,{key:2,data:o.data,errors:o.errors,borderless:!0,"with-settings":!1,columns:o.columns},null,8,["data","errors","columns"])):o.isLoadingQuery||o.isLoadingAlert?(0,t.kq)("v-if",!0):((0,t.wg)(),(0,t.iD)("p",Sa,(0,c.zw)(e.i18n.query_not_selected),1)):((0,t.wg)(),(0,t.iD)("div",Ca,(0,c.zw)(e.i18n.no_data),1))]),(0,t._)("div",Aa,[o.isLoadingAlert?((0,t.wg)(),(0,t.j4)(l,{key:0,fix:""})):((0,t.wg)(),(0,t.j4)(d,{key:1,ref:"form",alert:o.alert,"with-submit":s.isCanEdit,loading:o.isSubmitting,onSubmit:s.onSubmit,onSelectQuery:s.onSelectQuery,onChangeEmails:n[0]||(n[0]=function(e){return o.alert.to_emails=e})},null,8,["alert","with-submit","loading","onSubmit","onSelectQuery"]))])],4)],64)}};var qa=[{path:"/",component:Nr,name:"home"},{path:"/data",component:Nr,name:"data_home"},{path:"/data/:fragments+",component:Nr,name:"resources"},{path:"/queries/new",component:Ro,name:"new_query"},{path:"/dashboards/:id",component:ya,name:"dashboard"},{path:"/dashboards/new",component:ya,name:"new_dashboard"},{path:"/queries/:id",component:Ro,name:"query"},{path:"/alerts/new",component:Ba,name:"new_alert"},{path:"/alerts/:id",component:Ba,name:"alert"},{path:"/forms/new",component:Fs,name:"new_form"},{path:"/forms/:id",component:Fs,name:"form"},{path:"/forms",component:ps,name:"forms"},{path:"/reports/:type?",component:ts,name:"reports"}];const za=function(e){const n=function(e,t){const n=[],i=new Map;function r(e,n,i){const a=!i,l=function(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Et(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}(e);l.aliasOf=i&&i.record;const c=Rt(t,e),u=[l];if("alias"in e){const t="string"==typeof e.alias?[e.alias]:e.alias;for(const e of t)u.push(Ye({},l,{components:i?i.record.components:l.components,path:e,aliasOf:i?i.record:l}))}let d,h;for(const t of u){const{path:u}=t;if(n&&"/"!==u[0]){const e=n.record.path,i="/"===e[e.length-1]?"":"/";t.path=n.record.path+(u&&i+u)}if(d=Tt(t,n,c),i?i.alias.push(d):(h=h||d,h!==d&&h.alias.push(d),a&&e.name&&!$t(d)&&o(e.name)),"children"in l){const e=l.children;for(let t=0;t<e.length;t++)r(e[t],d,i&&i.children[t])}i=i||d,s(d)}return h?()=>{o(h)}:Je}function o(e){if(gt(e)){const t=i.get(e);t&&(i.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(o),t.alias.forEach(o))}else{const t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&i.delete(e.record.name),e.children.forEach(o),e.alias.forEach(o))}}function s(e){let t=0;for(;t<n.length&&At(e,n[t])>=0;)t++;n.splice(t,0,e),e.record.name&&!$t(e)&&i.set(e.record.name,e)}return t=Rt({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>r(e))),{addRoute:r,resolve:function(e,t){let r,o,s,a={};if("name"in e&&e.name){if(r=i.get(e.name),!r)throw wt(1,{location:e});s=r.record.name,a=Ye(function(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}(t.params,r.keys.filter((e=>!e.optional)).map((e=>e.name))),e.params),o=r.stringify(a)}else if("path"in e)o=e.path,r=n.find((e=>e.re.test(o))),r&&(a=r.parse(o),s=r.record.name);else{if(r=t.name?i.get(t.name):n.find((e=>e.re.test(t.path))),!r)throw wt(1,{location:e,currentLocation:t});s=r.record.name,a=Ye({},t.params,e.params),o=r.stringify(a)}const l=[];let c=r;for(;c;)l.unshift(c.record),c=c.parent;return{name:s,path:o,params:a,matched:l,meta:Mt(l)}},removeRoute:o,getRoutes:function(){return n},getRecordMatcher:function(e){return i.get(e)}}}(e.routes,e),i=e.parseQuery||Jt,r=e.stringifyQuery||Xt,o=e.history,s=tn(),a=tn(),l=tn(),c=(0,g.XI)(vt);let u=vt;Ge&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Qe.bind(null,(e=>""+e)),h=Qe.bind(null,Yt),p=Qe.bind(null,Qt);function f(e,t){if(t=Ye({},t||c.value),"string"==typeof e){const r=et(i,e,t.path),s=n.resolve({path:r.path},t),a=o.createHref(r.fullPath);return Ye(r,s,{params:p(s.params),hash:Qt(r.hash),redirectedFrom:void 0,href:a})}let s;if("path"in e)s=Ye({},e,{path:et(i,e.path,t.path).path});else{const n=Ye({},e.params);for(const e in n)null==n[e]&&delete n[e];s=Ye({},e,{params:h(e.params)}),t.params=h(t.params)}const a=n.resolve(s,t),l=e.hash||"";a.params=d(p(a.params));const u=function(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}(r,Ye({},e,{hash:(f=l,Zt(f).replace(Wt,"{").replace(Ht,"}").replace(qt,"^")),path:a.path}));var f;const m=o.createHref(u);return Ye({fullPath:u,hash:l,query:r===Xt?en(e.query):e.query||{}},a,{redirectedFrom:void 0,href:m})}function m(e){return"string"==typeof e?et(i,e,c.value.path):Ye({},e)}function v(e,t){if(u!==e)return wt(8,{from:t,to:e})}function y(e){return w(e)}function b(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:n}=t;let i="function"==typeof n?n(e):n;return"string"==typeof i&&(i=i.includes("?")||i.includes("#")?i=m(i):{path:i},i.params={}),Ye({query:e.query,hash:e.hash,params:e.params},i)}}function w(e,t){const n=u=f(e),i=c.value,o=e.state,s=e.force,a=!0===e.replace,l=b(n);if(l)return w(Ye(m(l),{state:o,force:s,replace:a}),t||n);const d=n;let h;return d.redirectedFrom=t,!s&&function(e,t,n){const i=t.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&nt(t.matched[i],n.matched[r])&&it(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}(r,i,n)&&(h=wt(16,{to:d,from:i}),$(i,i,!0,!1)),(h?Promise.resolve(h):x(d,i)).catch((e=>_t(e)?e:T(e,d,i))).then((e=>{if(e){if(_t(e,2))return w(Ye(m(e.to),{state:o,force:s,replace:a}),t||d)}else e=C(d,i,!0,a,o);return k(d,i,e),e}))}function _(e,t){const n=v(e,t);return n?Promise.reject(n):Promise.resolve()}function x(e,t){let n;const[i,r,o]=function(e,t){const n=[],i=[],r=[],o=Math.max(t.matched.length,e.matched.length);for(let s=0;s<o;s++){const o=t.matched[s];o&&(e.matched.find((e=>nt(e,o)))?i.push(o):n.push(o));const a=e.matched[s];a&&(t.matched.find((e=>nt(e,a)))||r.push(a))}return[n,i,r]}(e,t);n=rn(i.reverse(),"beforeRouteLeave",e,t);for(const r of i)r.leaveGuards.forEach((i=>{n.push(nn(i,e,t))}));const l=_.bind(null,e,t);return n.push(l),Sn(n).then((()=>{n=[];for(const i of s.list())n.push(nn(i,e,t));return n.push(l),Sn(n)})).then((()=>{n=rn(r,"beforeRouteUpdate",e,t);for(const i of r)i.updateGuards.forEach((i=>{n.push(nn(i,e,t))}));return n.push(l),Sn(n)})).then((()=>{n=[];for(const i of e.matched)if(i.beforeEnter&&!t.matched.includes(i))if(Array.isArray(i.beforeEnter))for(const r of i.beforeEnter)n.push(nn(r,e,t));else n.push(nn(i.beforeEnter,e,t));return n.push(l),Sn(n)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),n=rn(o,"beforeRouteEnter",e,t),n.push(l),Sn(n)))).then((()=>{n=[];for(const i of a.list())n.push(nn(i,e,t));return n.push(l),Sn(n)})).catch((e=>_t(e,8)?e:Promise.reject(e)))}function k(e,t,n){for(const i of l.list())i(e,t,n)}function C(e,t,n,i,r){const s=v(e,t);if(s)return s;const a=t===vt,l=Ge?history.state:{};n&&(i||a?o.replace(e.fullPath,Ye({scroll:a&&l&&l.scroll},r)):o.push(e.fullPath,r)),c.value=e,$(e,t,n,a),E()}let S;let A,D=tn(),O=tn();function T(e,t,n){E(e);const i=O.list();return i.length?i.forEach((i=>i(e,t,n))):console.error(e),Promise.reject(e)}function E(e){A||(A=!0,S=o.listen(((e,t,n)=>{const i=f(e),r=b(i);if(r)return void w(Ye(r,{replace:!0}),i).catch(Je);u=i;const s=c.value;var a,l;Ge&&(a=dt(s.fullPath,n.delta),l=ut(),ht.set(a,l)),x(i,s).catch((e=>_t(e,12)?e:_t(e,2)?(w(e.to,i).then((e=>{_t(e,20)&&!n.delta&&n.type===st.pop&&o.go(-1,!1)})).catch(Je),Promise.reject()):(n.delta&&o.go(-n.delta,!1),T(e,i,s)))).then((e=>{(e=e||C(i,s,!1))&&(n.delta?o.go(-n.delta,!1):n.type===st.pop&&_t(e,20)&&o.go(-1,!1)),k(i,s,e)})).catch(Je)})),D.list().forEach((([t,n])=>e?n(e):t())),D.reset())}function $(n,i,r,o){const{scrollBehavior:s}=e;if(!Ge||!s)return Promise.resolve();const a=!r&&function(e){const t=ht.get(e);return ht.delete(e),t}(dt(n.fullPath,0))||(o||!r)&&history.state&&history.state.scroll||null;return(0,t.Y3)().then((()=>s(n,i,a))).then((e=>e&&function(e){let t;if("el"in e){const n=e.el,i="string"==typeof n&&n.startsWith("#"),r="string"==typeof n?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=function(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}(e))).catch((e=>T(e,n,i)))}const M=e=>o.go(e);let R;const L=new Set;return{currentRoute:c,addRoute:function(e,t){let i,r;return gt(e)?(i=n.getRecordMatcher(e),r=t):r=e,n.addRoute(r,i)},removeRoute:function(e){const t=n.getRecordMatcher(e);t&&n.removeRoute(t)},hasRoute:function(e){return!!n.getRecordMatcher(e)},getRoutes:function(){return n.getRoutes().map((e=>e.record))},resolve:f,options:e,push:y,replace:function(e){return y(Ye(m(e),{replace:!0}))},go:M,back:()=>M(-1),forward:()=>M(1),beforeEach:s.add,beforeResolve:a.add,afterEach:l.add,onError:O.add,isReady:function(){return A&&c.value!==vt?Promise.resolve():new Promise(((e,t)=>{D.add([e,t])}))},install(e){const t=this;e.component("RouterLink",sn),e.component("RouterView",un),e.config.globalProperties.$router=t,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>(0,g.SU)(c)}),Ge&&!R&&c.value===vt&&(R=!0,y(o.location).catch((e=>{})));const i={};for(const e in vt)i[e]=(0,g.Fl)((()=>c.value[e]));e.provide(He,t),e.provide(Ke,(0,g.qj)(i)),e.provide(Ze,c);const r=e.unmount;L.add(e),e.unmount=function(){L.delete(e),L.size<1&&(u=vt,S&&S(),c.value=vt,R=!1,A=!1),r()},__VUE_PROD_DEVTOOLS__&&Ge&&fn(e,t,n)}}}({history:function(e){const t=function(e){const{history:t,location:n}=window,i={value:ft(e,n)},r={value:t.state};function o(i,o,s){const a=e.indexOf("#"),l=a>-1?(n.host&&document.querySelector("base")?e:e.slice(a))+i:pt()+e+i;try{t[s?"replaceState":"pushState"](o,"",l),r.value=o}catch(e){console.error(e),n[s?"replace":"assign"](l)}}return r.value||o(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:i,state:r,push:function(e,n){const s=Ye({},r.value,t.state,{forward:e,scroll:ut()});o(s.current,s,!0),o(e,Ye({},mt(i.value,e,null),{position:s.position+1},n),!1),i.value=e},replace:function(e,n){o(e,Ye({},t.state,mt(r.value.back,e,r.value.forward,!0),n,{position:r.value.position}),!0),i.value=e}}}(e=function(e){if(!e)if(Ge){const t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),e.replace(Xe,"")}(e)),n=function(e,t,n,i){let r=[],o=[],s=null;const a=({state:o})=>{const a=ft(e,location),l=n.value,c=t.value;let u=0;if(o){if(n.value=a,t.value=o,s&&s===l)return void(s=null);u=c?o.position-c.position:0}else i(a);r.forEach((e=>{e(n.value,l,{delta:u,type:st.pop,direction:u?u>0?at.forward:at.back:at.unknown})}))};function l(){const{history:e}=window;e.state&&e.replaceState(Ye({},e.state,{scroll:ut()}),"")}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",l),{pauseListeners:function(){s=n.value},listen:function(e){r.push(e);const t=()=>{const t=r.indexOf(e);t>-1&&r.splice(t,1)};return o.push(t),t},destroy:function(){for(const e of o)e();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",l)}}}(e,t.state,t.location,t.replace),i=Ye({location:"",base:e,go:function(e,t=!0){t||n.pauseListeners(),history.go(e)},createHref:ct.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}(Le.sb),parseQuery:Dn().parse,stringifyQuery:Dn().stringify,routes:qa});var Wa=n(7074),Ua=n(2975),Ha=n.n(Ua);const Ka={class:"ivu-poptip-content"},Za=(0,t._)("div",{class:"ivu-poptip-arrow"},null,-1),Ga={class:"ivu-poptip-inner"},Ya={key:0,class:"ion ion-ios-help-circle"},Qa={key:1,class:"ivu-poptip-body-message"},Ja={key:0,class:"ivu-poptip-footer"},Xa=[(0,t._)("span",null,"Cancel",-1)],el=[(0,t._)("span",null,"OK",-1)],tl={name:"RenderCell",functional:!0,props:{render:Function},render:({$props:e})=>e.render(t.h)},nl={name:"Popover",components:{RenderCell:tl},props:{content:{type:String,required:!1,default:""},title:{type:String,required:!1,default:""},confirm:{type:Boolean,required:!1,default:!1},bodyStyle:{type:[String,Object],required:!1,default:""},render:{type:Function,required:!1,default:null}},render:function(n,i,r,o,s,a){const l=(0,t.up)("RenderCell");return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(["ivu-poptip-popper ivu-poptip",{"ivu-poptip-confirm":r.confirm}])},[(0,t._)("div",Ka,[Za,(0,t._)("div",Ga,[(0,t._)("div",{class:"ivu-poptip-body",style:(0,c.j5)(r.bodyStyle)},[r.confirm?((0,t.wg)(),(0,t.iD)("i",Ya)):(0,t.kq)("v-if",!0),r.title?((0,t.wg)(),(0,t.iD)("div",Qa,(0,c.zw)(r.title),1)):(0,t.kq)("v-if",!0),r.render?((0,t.wg)(),(0,t.j4)(l,{key:2,render:r.render},null,8,["render"])):(0,t.kq)("v-if",!0),r.content?((0,t.wg)(),(0,t.iD)(t.HY,{key:3},[(0,t.Uk)((0,c.zw)(r.content),1)],2112)):(0,t.kq)("v-if",!0),(0,t.WI)(n.$slots,"default")],4),r.confirm?((0,t.wg)(),(0,t.iD)("div",Ja,[(0,t._)("button",{type:"button",class:"ivu-btn ivu-btn-text ivu-btn-small",onClick:i[0]||(i[0]=(0,e.iM)((e=>n.$emit("on-cancel")),["prevent"]))},Xa),(0,t._)("button",{type:"button",class:"ivu-btn ivu-btn-primary ivu-btn-small",onClick:i[1]||(i[1]=(0,e.iM)((e=>n.$emit("on-ok")),["prevent"]))},el)])):(0,t.kq)("v-if",!0)])])],2)}};function il(){rl.currentPopover&&(rl.currentPopover.remove(),rl.currentPopover.popper.remove(),rl.currentPopover=null)}document.addEventListener("click",(e=>{!rl.currentPopover||rl.currentPopover.popper.contains(event.target)||rl.currentPopover.reference.contains(event.target)||il()}));const rl={currentPopover:null,show(n,i,r,o={}){il();const s=(0,e.ri)({render:()=>(0,t.h)(nl,{bodyStyle:"padding: 0"},(()=>[(0,t.h)(i,r)]))}),a=(0,Wa.Z)(s,this.app);this.currentPopover=new(Ha())(n,a,{placement:o.placement||"bottom",modifiers:{computeStyle:{gpuAcceleration:!1},preventOverflow:{boundariesElement:"window"}}}),this.currentPopover.remove=()=>{o.onRemove&&o.onRemove(),this.currentPopover.destroy()}},remove(){il()},install(e,t){this.app=e,e.config.globalProperties.$Popover=this,e.config.globalProperties.$router&&e.config.globalProperties.$router.afterEach((()=>{this.remove()}))}},ol=rl;let sl;function al(){sl&&(sl.destroy(),sl.popper.remove())}document.addEventListener("click",(e=>{sl&&!sl.popper.contains(event.target)&&al()})),document.addEventListener("DOMContentLoaded",(()=>{ol.app.config.globalProperties.$router&&ol.app.config.globalProperties.$router.afterEach((()=>{al()}))}));const ll={mounted(n,i){i.value.disabled||(n.addEventListener(i.value.trigger||"click",(()=>{al();const r=(0,e.ri)({render:()=>(0,t.h)(nl,i.value)}),o=(0,Wa.Z)(r,ol.app);"mouseenter"===i.value.trigger&&o.addEventListener("mouseleave",(e=>{o.contains(e.toElement)||al()})),document.body.appendChild(o),sl=new(Ha())(n,o,{placement:i.value.placement||"top"}),sl.trigger=i.value.trigger})),"mouseenter"===i.value.trigger&&n.addEventListener("mouseleave",(e=>{sl.popper.contains(e.toElement)||al()})))}};var cl=n(9585);const ul=["data-transfer"];var dl=n(4379),hl=n(3430),pl=n(3456),fl=n(3996),ml=n(7390),gl=n(2075),vl=n(1980),yl=n(6378),bl=n(3760);const wl={name:"Modal",components:{Icon:dl.Z,VButton:hl.Z},directives:{TransferDom:pl.Z},mixins:[fl.Z,ml.Z,gl.Z],props:{modelValue:{type:Boolean,default:!1},closable:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:()=>!0},title:{type:String},width:{type:[Number,String],default:520},okText:{type:String},cancelText:{type:String},loading:{type:Boolean,default:!1},styles:{type:Object,default:()=>({})},className:{type:String},footerHide:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!1},transitionNames:{type:Array,default:()=>["ease","fade"]},transfer:{type:Boolean,default:()=>!0},fullscreen:{type:Boolean,default:!1},mask:{type:Boolean,default:!0},draggable:{type:Boolean,default:!1},zIndex:{type:Number,default:1e3}},emits:["visible-change","update:modelValue","on-cancel","on-hidden"],data(){return{prefixCls:"ivu-modal",wrapShow:!1,showHead:!0,buttonLoading:!1,visible:this.modelValue,dragData:{x:null,y:null,dragX:null,dragY:null,dragging:!1},modalIndex:this.handleGetModalIndex(),isMouseTriggerIn:!1}},computed:{wrapClasses(){return["ivu-modal-wrap",{"ivu-modal-hidden":!this.wrapShow,[`${this.className}`]:!!this.className,"ivu-modal-no-mask":!this.showMask}]},wrapStyles(){return{zIndex:this.modalIndex+this.zIndex}},maskClasses:()=>"ivu-modal-mask",classes(){return["ivu-modal",{"ivu-modal-fullscreen":this.fullscreen,"ivu-modal-fullscreen-no-header":this.fullscreen&&!this.showHead,"ivu-modal-fullscreen-no-footer":this.fullscreen&&this.footerHide}]},contentClasses(){return["ivu-modal-content",{"ivu-modal-content-no-mask":!this.showMask,"ivu-modal-content-drag":this.draggable,"ivu-modal-content-dragging":this.draggable&&this.dragData.dragging}]},mainStyles(){const e={},t=parseInt(this.width),n=null!==this.dragData.x?{top:0}:{width:t<=100?`${t}%`:`${t}px`},i=this.styles?this.styles:{};return Object.assign(e,n,i),e},contentStyles(){const e={};if(this.draggable){const t=this.styles.top?parseFloat(this.styles.top):0,n=this.styles.left?parseFloat(this.styles.left):0;null!==this.dragData.x&&(e.left=this.dragData.x-n+"px"),null!==this.dragData.y&&(e.top=`${this.dragData.y}px`),null!==this.dragData.y&&(e.top=this.dragData.y-t+"px");const i=parseInt(this.width),r={width:i<=100?`${i}%`:`${i}px`};Object.assign(e,r)}return e},localeOkText(){return void 0===this.okText?this.t("i.modal.okText"):this.okText},localeCancelText(){return void 0===this.cancelText?this.t("i.modal.cancelText"):this.cancelText},showMask(){return!this.draggable&&this.mask}},watch:{modelValue(e){this.visible=e},visible(e){!1===e?(this.buttonLoading=!1,this.timer=setTimeout((()=>{this.wrapShow=!1,this.removeScrollEffect()}),300)):(this.lastVisible!==e&&(this.modalIndex=this.handleGetModalIndex(),(0,bl.qZ)()),this.timer&&clearTimeout(this.timer),this.wrapShow=!0,this.scrollable||this.addScrollEffect()),this.broadcast("Table","on-visible-change",e),this.broadcast("Slider","on-visible-change",e),this.$emit("visible-change",e),this.lastVisible=e,this.lastVisibleIndex=bl.Yg},loading(e){e||(this.buttonLoading=!1)},scrollable(e){e?this.removeScrollEffect():this.addScrollEffect()},title(e){void 0===this.$slots.header&&(this.showHead=!!e)}},mounted(){this.visible&&(this.wrapShow=!0);let e=!0;void 0!==this.$slots.header||this.title||(e=!1),this.showHead=e,document.addEventListener("keydown",this.EscClose)},methods:{close(){this.visible=!1,this.$emit("update:modelValue",!1),this.$emit("on-cancel")},handleMask(){this.maskClosable&&this.showMask&&!window.getSelection().toString()&&this.close()},handleWrapClick(e){if(this.isMouseTriggerIn)return void(this.isMouseTriggerIn=!1);const t=e.target.getAttribute("class");t&&t.indexOf("ivu-modal-wrap")>-1&&this.handleMask()},handleMousedown(){this.isMouseTriggerIn=!0},cancel(){this.close()},ok(){this.loading?this.buttonLoading=!0:(this.visible=!1,this.$emit("update:modelValue",!1)),this.$emit("on-ok")},EscClose(e){this.visible&&27===e.keyCode&&this.close()},animationFinish(){this.$emit("on-hidden")},handleMoveStart(e){if(!this.draggable)return!1;const t=this.$refs.content.getBoundingClientRect();this.dragData.x=t.x||t.left,this.dragData.y=t.y||t.top;const n={x:e.clientX,y:e.clientY};this.dragData.dragX=n.x,this.dragData.dragY=n.y,this.dragData.dragging=!0,(0,vl.on)(window,"mousemove",this.handleMoveMove),(0,vl.on)(window,"mouseup",this.handleMoveEnd)},handleMoveMove(e){if(!this.dragData.dragging)return!1;const t={x:e.clientX,y:e.clientY},n=t.x-this.dragData.dragX,i=t.y-this.dragData.dragY;this.dragData.x+=n,this.dragData.y+=i,this.dragData.dragX=t.x,this.dragData.dragY=t.y},handleMoveEnd(){this.dragData.dragging=!1,(0,vl.S)(window,"mousemove",this.handleMoveMove),(0,vl.S)(window,"mouseup",this.handleMoveEnd)},handleGetModalIndex:()=>((0,bl.kC)(),bl.Iy),handleClickModal(){if(this.draggable){if(bl.Yg!==this.lastVisibleIndex)return void(this.lastVisibleIndex=bl.Yg);this.modalIndex=this.handleGetModalIndex()}}},beforeUnmont(){document.removeEventListener("keydown",this.EscClose),this.removeScrollEffect()},render:function(n,i,r,o,s,a){const l=(0,t.up)("Icon"),u=(0,t.up)("VButton"),d=(0,t.Q2)("transfer-dom");return(0,t.wy)(((0,t.wg)(),(0,t.iD)("div",{"data-transfer":r.transfer},[(0,t.Wm)(e.uT,{name:r.transitionNames[1]},{default:(0,t.w5)((()=>[a.showMask?(0,t.wy)(((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,c.C_)(a.maskClasses),style:(0,c.j5)(a.wrapStyles),onClick:i[0]||(i[0]=(...e)=>a.handleMask&&a.handleMask(...e))},null,6)),[[e.F8,s.visible]]):(0,t.kq)("v-if",!0)])),_:1},8,["name"]),(0,t._)("div",{class:(0,c.C_)(a.wrapClasses),style:(0,c.j5)(a.wrapStyles),onClick:i[5]||(i[5]=(...e)=>a.handleWrapClick&&a.handleWrapClick(...e))},[(0,t.Wm)(e.uT,{name:r.transitionNames[0],onAfterLeave:a.animationFinish},{default:(0,t.w5)((()=>[(0,t.wy)((0,t._)("div",{class:(0,c.C_)(a.classes),style:(0,c.j5)(a.mainStyles),onMousedown:i[4]||(i[4]=(...e)=>a.handleMousedown&&a.handleMousedown(...e))},[(0,t._)("div",{ref:"content",class:(0,c.C_)(a.contentClasses),style:(0,c.j5)(a.contentStyles),onClick:i[3]||(i[3]=(...e)=>a.handleClickModal&&a.handleClickModal(...e))},[r.closable?((0,t.wg)(),(0,t.iD)("a",{key:0,class:(0,c.C_)([s.prefixCls+"-close"]),onClick:i[1]||(i[1]=(...e)=>a.close&&a.close(...e))},[(0,t.WI)(n.$slots,"close",{},(()=>[(0,t.Wm)(l,{type:"ios-close"})]))],2)):(0,t.kq)("v-if",!0),s.showHead?((0,t.wg)(),(0,t.iD)("div",{key:1,class:(0,c.C_)([s.prefixCls+"-header"]),onMousedown:i[2]||(i[2]=(...e)=>a.handleMoveStart&&a.handleMoveStart(...e))},[(0,t.WI)(n.$slots,"header",{},(()=>[(0,t._)("div",{class:(0,c.C_)([s.prefixCls+"-header-inner"])},(0,c.zw)(r.title),3)]))],34)):(0,t.kq)("v-if",!0),(0,t._)("div",{class:(0,c.C_)([s.prefixCls+"-body"])},[(0,t.WI)(n.$slots,"default")],2),r.footerHide?(0,t.kq)("v-if",!0):((0,t.wg)(),(0,t.iD)("div",{key:2,class:(0,c.C_)([s.prefixCls+"-footer"])},[(0,t.WI)(n.$slots,"footer",{},(()=>[(0,t.Wm)(u,{type:"text",onClick:a.cancel},{default:(0,t.w5)((()=>[(0,t.Uk)((0,c.zw)(a.localeCancelText),1)])),_:1},8,["onClick"]),(0,t.Wm)(u,{type:"primary",loading:s.buttonLoading,onClick:a.ok},{default:(0,t.w5)((()=>[(0,t.Uk)((0,c.zw)(a.localeOkText),1)])),_:1},8,["loading","onClick"])]))],2))],6)],38),[[e.F8,s.visible]])])),_:3},8,["name","onAfterLeave"])],6)],8,ul)),[[d]])}},_l={width:620,closable:!1,footerHide:!0},xl={open(e,t,n){const i={..._l,...n};this.getModalInstance(e,t,i).show(i)},remove(){this.modalInstance&&(this.getModalInstance().remove(),this.modalInstance=null)},getModalInstance(e,t,n){return this.modalInstance=this.modalInstance||(0,cl.Z)(this.app,wl,n,(n=>n(e,{...t})),(()=>{n.onClose&&n.onClose(),this.modalInstance=null})),this.modalInstance},install(e,t){this.app=e,e.config.globalProperties.$Modal=this,e.config.globalProperties.$router&&e.config.globalProperties.$router.afterEach((()=>{this.remove()}))}};var kl=n(6112);let Cl;const Sl={show(n){const i=function(n,i=!0){return Cl=Cl||function(n){let i,r;const o=n||{},s=(0,e.ri)({mixins:[fl.Z],data:()=>Object.assign({},o,{visible:!1,width:416,title:"",body:"",iconType:"",iconName:"",okText:void 0,cancelText:void 0,showCancel:!1,loading:!1,buttonLoading:!1,scrollable:!1,closable:!1,closing:!1}),computed:{iconTypeCls(){return["ivu-modal-confirm-head-icon",`ivu-modal-confirm-head-icon-${this.iconType}`]},iconNameCls(){return["ion",`ion-${this.iconName}`]},localeOkText(){return this.okText?this.okText:this.t("i.modal.okText")},localeCancelText(){return this.cancelText?this.cancelText:this.t("i.modal.cancelText")}},methods:{cancel(){this.closing||(i.visible=!1,this.buttonLoading=!1,this.onCancel(),this.remove())},ok(){this.closing||(this.loading?this.buttonLoading=!0:(i.visible=!1,this.remove()),this.onOk())},remove(){this.closing=!0,setTimeout((()=>{this.closing=!1,this.destroy()}),300)},destroy(){this.$el&&document.body.removeChild(this.$el),this.onRemove()},onOk(){},onCancel(){},onRemove(){}},render(){const e=[];let n,i;return this.showCancel&&e.push((0,t.h)(hl.Z,{type:"text",onClick:this.cancel},{default:()=>this.localeCancelText})),e.push((0,t.h)(hl.Z,{type:"primary",loading:this.buttonLoading,onClick:this.ok},{default:()=>this.localeOkText})),n=this.render?(0,t.h)("div",{class:"ivu-modal-confirm-body ivu-modal-confirm-body-render"},[this.render(t.h)]):(0,t.h)("div",{class:"ivu-modal-confirm-body"},[(0,t.h)("div",{innerHTML:this.body})]),this.title&&(i=(0,t.h)("div",{class:"ivu-modal-confirm-head"},[(0,t.h)("div",{class:this.iconTypeCls},[(0,t.h)("i",{class:this.iconNameCls})]),(0,t.h)("div",{class:"ivu-modal-confirm-head-title",innerHTML:this.title})])),r=(0,t.h)(wl,Object.assign({},o,{width:this.width,scrollable:this.scrollable,closable:this.closable,modelValue:this.visible,onInput:e=>{this.visible=e},onOnCancel:this.cancel}),(()=>[(0,t.h)("div",{class:"ivu-modal-confirm"},[i,n,(0,t.h)("div",{class:"ivu-modal-confirm-footer"},e)])])),r}}),a=document.createElement("div");return document.body.appendChild(s.mount(a).$el),i=r.component.proxy,{show(e){switch(i.$parent.showCancel=e.showCancel,i.$parent.iconType=e.icon,e.icon){case"info":i.$parent.iconName="ios-information-circle";break;case"success":i.$parent.iconName="ios-checkmark-circle";break;case"warning":i.$parent.iconName="ios-alert";break;case"error":i.$parent.iconName="ios-close-circle";break;case"confirm":i.$parent.iconName="ios-help-circle"}"width"in e&&(i.$parent.width=e.width),"closable"in e&&(i.$parent.closable=e.closable),"title"in e&&(i.$parent.title=e.title),"content"in e&&(i.$parent.body=e.content),"okText"in e&&(i.$parent.okText=e.okText),"cancelText"in e&&(i.$parent.cancelText=e.cancelText),"onCancel"in e&&(i.$parent.onCancel=e.onCancel),"onOk"in e&&(i.$parent.onOk=e.onOk),"loading"in e&&(i.$parent.loading=e.loading),"scrollable"in e&&(i.$parent.scrollable=e.scrollable),i.$parent.onRemove=e.onRemove,i.visible=!0},remove(){i.visible=!1,i.$parent.buttonLoading=!1,i.$parent.remove()},component:i}}({closable:!1,maskClosable:!1,footerHide:!0,render:n,lockScroll:i}),Cl}("render"in n?n.render:void 0,!("lockScroll"in n)||n.lockScroll);n.onRemove=function(){Cl=null},i.show(n)},info(e={}){return"object"==typeof e&&(e.icon="info",e.showCancel=!1),this.show(e)},success(e={}){return e.icon="success",e.showCancel=!1,this.show(e)},warning(e={}){return e.icon="warning",e.showCancel=!1,this.show(e)},error(e={}){return e.icon="error",e.showCancel=!1,this.show(e)},confirm(e={}){return e.icon="confirm",e.showCancel=!0,this.show(e)},remove(){if(!Cl)return!1;getModalInstance().remove()},install(e,t){e.config.globalProperties.$Dialog=this}},Al=["innerHTML"],Dl=[(0,t._)("i",{class:"ivu-icon ivu-icon-ios-close"},null,-1)],Ol=["innerHTML"],Tl=[(0,t._)("i",{class:"ivu-icon ivu-icon-ios-close"},null,-1)],El={components:{RenderCell:tl},props:{prefixCls:{type:String,default:""},duration:{type:Number,default:1.5},type:{type:String},content:{type:String,default:""},withIcon:Boolean,render:{type:Function},hasTitle:Boolean,styles:{type:Object,default:function(){return{right:"50%"}}},closable:{type:Boolean,default:!1},className:{type:String},name:{type:String,required:!0},onClose:{type:Function},transitionName:{type:String},background:{type:Boolean,default:!1},msgType:{type:String}},data:()=>({withDesc:!1}),computed:{baseClass(){return`${this.prefixCls}-notice`},renderFunc(){return this.render||function(){}},classes(){return[this.baseClass,{[`${this.className}`]:!!this.className,[`${this.baseClass}-closable`]:this.closable,[`${this.baseClass}-with-desc`]:this.withDesc,[`${this.baseClass}-with-background`]:this.background}]},contentClasses(){return[`${this.baseClass}-content`,void 0!==this.render?`${this.baseClass}-content-with-render`:""]},messageContentClasses(){return[`${this.baseClass}-content`,{[`${this.baseClass}-content-${this.msgType}`]:this.msgType,[`${this.baseClass}-content-background`]:this.background}]},contentWithIcon(){return[this.withIcon?`${this.prefixCls}-content-with-icon`:"",!this.hasTitle&&this.withIcon?`${this.prefixCls}-content-with-render-notitle`:""]},messageClasses(){return[`${this.baseClass}-content`,void 0!==this.render?`${this.baseClass}-content-with-render`:""]}},mounted(){if(this.clearCloseTimer(),0!==this.duration&&(this.closeTimer=setTimeout((()=>{this.close()}),1e3*this.duration)),"ivu-notice"===this.prefixCls){const e=this.$refs.content.querySelectorAll(`.${this.prefixCls}-desc`)[0];this.withDesc=!!this.render||!!e&&""!==e.innerHTML}},methods:{clearCloseTimer(){this.closeTimer&&(clearTimeout(this.closeTimer),this.closeTimer=null)},close(){this.clearCloseTimer(),this.onClose(),this.$parent.close(this.name)},handleEnter(e){"message"===this.type&&(e.style.height=e.scrollHeight+"px")},handleLeave(e){"message"===this.type&&1!==document.getElementsByClassName("ivu-message-notice").length&&(e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0)}},beforeUnmont(){this.clearCloseTimer()},render:function(n,i,r,o,s,a){const l=(0,t.up)("render-cell");return(0,t.wg)(),(0,t.j4)(e.uT,{name:r.transitionName,appear:"",onEnter:a.handleEnter,onLeave:a.handleLeave},{default:(0,t.w5)((()=>[(0,t._)("div",{class:(0,c.C_)(a.classes),style:(0,c.j5)(r.styles)},["notice"===r.type?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t._)("div",{ref:"content",class:(0,c.C_)(a.contentClasses),innerHTML:r.content},null,10,Al),(0,t._)("div",{class:(0,c.C_)(a.contentWithIcon)},[(0,t.Wm)(l,{render:a.renderFunc},null,8,["render"])],2),r.closable?((0,t.wg)(),(0,t.iD)("a",{key:0,class:(0,c.C_)([a.baseClass+"-close"]),onClick:i[0]||(i[0]=(...e)=>a.close&&a.close(...e))},Dl,2)):(0,t.kq)("v-if",!0)],64)):(0,t.kq)("v-if",!0),"message"===r.type?((0,t.wg)(),(0,t.iD)("div",{key:1,ref:"content",class:(0,c.C_)(a.messageContentClasses)},[(0,t._)("div",{class:(0,c.C_)([a.baseClass+"-content-text"]),innerHTML:r.content},null,10,Ol),(0,t._)("div",{class:(0,c.C_)([a.baseClass+"-content-text"])},[(0,t.Wm)(l,{render:a.renderFunc},null,8,["render"])],2),r.closable?((0,t.wg)(),(0,t.iD)("a",{key:0,class:(0,c.C_)([a.baseClass+"-close"]),onClick:i[1]||(i[1]=(...e)=>a.close&&a.close(...e))},Tl,2)):(0,t.kq)("v-if",!0)],2)):(0,t.kq)("v-if",!0)],6)])),_:1},8,["name","onEnter","onLeave"])}};let $l=0;const Ml=Date.now(),Rl={components:{Notice:El},props:{prefixCls:{type:String,default:"ivu-notification"},styles:{type:Object,default:function(){return{top:"65px",left:"50%"}}},content:{type:String},className:{type:String}},data(){return{notices:[],tIndex:this.handleGetIndex()}},computed:{classes(){return[`${this.prefixCls}`,{[`${this.className}`]:!!this.className}]},wrapStyles(){const e=Object.assign({},this.styles);return e["z-index"]=1010+this.tIndex,e}},methods:{add(e){const t=e.name||"ivuNotification_"+Ml+"_"+$l++,n=Object.assign({styles:{right:"50%"},content:"",duration:1.5,closable:!1,name:t},e);this.notices.push(n),this.tIndex=this.handleGetIndex()},close(e){const t=this.notices;for(let n=0;n<t.length;n++)if(t[n].name===e){this.notices.splice(n,1);break}},closeAll(){this.notices=[]},handleGetIndex:()=>((0,bl.kC)(),bl.Iy)},render:function(e,n,i,r,o,s){const a=(0,t.up)("Notice");return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(s.classes),style:(0,c.j5)(s.wrapStyles)},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(o.notices,(e=>((0,t.wg)(),(0,t.j4)(a,{key:e.name,"prefix-cls":i.prefixCls,styles:e.styles,type:e.type,content:e.content,duration:e.duration,render:e.render,"has-title":e.hasTitle,"with-icon":e.withIcon,closable:e.closable,name:e.name,"transition-name":e.transitionName,background:e.background,"msg-type":e.msgType,"on-close":e.onClose},null,8,["prefix-cls","styles","type","content","duration","render","has-title","with-icon","closable","name","transition-name","background","msg-type","on-close"])))),128))],6)}},Ll="ivu_message_key_",Pl={top:24,duration:1.5};let Fl,Il=1;const jl={info:"ios-information-circle",success:"ios-checkmark-circle",warning:"ios-alert",error:"ios-close-circle",loading:"ios-loading"};function Nl(){return Fl=Fl||function(n){let i,r;const o=n||{},s=(0,e.ri)({render:()=>(i=(0,t.h)(Rl,o),i)}),a=document.createElement("div");return document.body.appendChild(s.mount(a).$el),r=i.component.proxy,{notice(e){r.add(e)},remove(e){r.close(e)},component:r,destroy(e){r.closeAll(),setTimeout((()=>{document.body.removeChild(document.getElementsByClassName(e)[0])}),500)}}}({prefixCls:"ivu-message",styles:{top:`${Pl.top}px`}}),Fl}const Vl={info(e){return this.message("info",e)},success(e){return this.message("success",e)},warning(e){return this.message("warning",e)},error(e){return this.message("error",e)},loading(e){return this.message("loading",e)},message:(e,t)=>("string"==typeof t&&(t={content:t}),function(e="",t=Pl.duration,n,i=function(){},r=!1,o=function(){},s=!1){const a=jl[n],l="loading"===n?" ivu-load-loop":"",c=Nl();return c.notice({name:`${Ll}${Il}`,duration:t,styles:{},transitionName:"move-up",content:`\n            <div class="ivu-message-custom-content ivu-message-${n}">\n                <i class="ion ion-${a} ${l}"></i>\n                <span>${e}</span>\n            </div>\n        `,render:o,onClose:i,closable:r,type:"message",msgType:n,background:s}),function(){const e=Il++;return function(){c.remove(`${Ll}${e}`)}}()}(t.content,t.duration,e,t.onClose,t.closable,t.render,t.background)),config(e){(e.top||0===e.top)&&(Pl.top=e.top),(e.duration||0===e.duration)&&(Pl.duration=e.duration)},destroy(){const e=Nl();Fl=null,e.destroy("ivu-message")},install(e,t){e.config.globalProperties.$Message=this}};var Bl=n(2565);const ql={name:"CollapseTransition",props:{appear:{type:Boolean,default:!1}},methods:{beforeEnter(e){(0,yl.cn)(e,"collapse-transition"),e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height="0",e.style.paddingTop=0,e.style.paddingBottom=0},enter(e){e.dataset.oldOverflow=e.style.overflow,0!==e.scrollHeight?(e.style.height=e.scrollHeight+"px",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom):(e.style.height="",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom),e.style.overflow="hidden"},afterEnter(e){(0,yl.IV)(e,"collapse-transition"),e.style.height="",e.style.overflow=e.dataset.oldOverflow},beforeLeave(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.height=e.scrollHeight+"px",e.style.overflow="hidden"},leave(e){0!==e.scrollHeight&&((0,yl.cn)(e,"collapse-transition"),e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave(e){(0,yl.IV)(e,"collapse-transition"),e.style.height="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom}},render:function(n,i,r,o,s,a){return(0,t.wg)(),(0,t.j4)(e.uT,{onBeforeEnter:a.beforeEnter,onEnter:a.enter,onAfterEnter:a.afterEnter,onBeforeLeave:a.beforeLeave,onLeave:a.leave,onAfterLeave:a.afterLeave},{default:(0,t.w5)((()=>[(0,t.WI)(n.$slots,"default")])),_:3},8,["onBeforeEnter","onEnter","onAfterEnter","onBeforeLeave","onLeave","onAfterLeave"])}},zl={data(){return{menu:(0,yl.ah)(this,"Menu")}},computed:{hasParentSubmenu(){return!!(0,yl.ah)(this,"Submenu")},parentSubmenuNum(){return(0,yl.VC)(this,"Submenu").length},mode(){return this.menu.mode}}};var Wl=n(9560);const Ul={name:"Submenu",components:{Icon:dl.Z,SelectDropdown:Bl.Z,CollapseTransition:ql},mixins:[ml.Z,zl,Wl.Z],props:{name:{type:[String,Number],required:!0},collapse:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},data(){return{prefixCls:"ivu-menu",active:!1,opened:!this.collapse,dropWidth:parseFloat((0,yl.C2)(this.$el,"width"))}},computed:{classes(){return["ivu-menu-submenu",{"ivu-menu-item-active":this.active&&!this.hasParentSubmenu,"ivu-menu-opened":this.opened,"ivu-menu-submenu-disabled":this.disabled,"ivu-menu-submenu-has-parent-submenu":this.hasParentSubmenu,"ivu-menu-child-item-active":this.active}]},accordion(){return this.menu.accordion},dropStyle(){const e={};return this.dropWidth&&(e.minWidth=`${this.dropWidth}px`),e},titleStyle:()=>({}),arrowType:()=>"ios-arrow-down",customArrowType:()=>"",arrowSize:()=>""},watch:{mode(e){"horizontal"===e&&this.$refs.drop.update()},opened(e){"vertical"!==this.mode&&(e?(this.dropWidth=parseFloat((0,yl.C2)(this.$el,"width")),this.$refs.drop.update()):this.$refs.drop.destroy())}},mounted(){this.mitt.on("on-menu-item-select",this.onMenuItemSelect),this.mitt.on("on-update-active-name",this.onUpdateActiveName)},methods:{onMenuItemSelect(e){return"horizontal"===this.mode&&(this.opened=!1),this.dispatch("Menu","on-menu-item-select",e),!0},onUpdateActiveName(e){(0,yl.ah)(this,"Submenu")&&this.dispatch("Submenu","on-update-active-name",e),(0,yl.Hj)(this,"Submenu")&&(0,yl.Hj)(this,"Submenu").forEach((e=>{e.active=!1})),this.active=this.name===e.split(".")[0]},handleMouseenter(){this.disabled||"vertical"!==this.mode&&(clearTimeout(this.timeout),this.timeout=setTimeout((()=>{this.menu.updateOpenKeys(this.name),this.opened=!0}),250))},handleMouseleave(){this.disabled||"vertical"!==this.mode&&(clearTimeout(this.timeout),this.timeout=setTimeout((()=>{this.menu.updateOpenKeys(this.name),this.opened=!1}),150))},handleItemClick(e){if(this.disabled)return;if("horizontal"===this.mode)return;const t=this.opened;this.accordion&&this.$parent.$children.forEach((e=>{"Submenu"===e.$options.name&&(e.opened=!1)})),this.collapse&&(this.opened=!t,this.menu.updateOpenKeys(this.name));const n=(0,yl.ah)(this,"Menu");n&&n.handleEmitSelectEvent(this.name),this.onUpdateActiveName(this.name),this.handleCheckClick(e,!1)}},render:function(n,i,r,o,s,a){const l=(0,t.up)("Icon"),u=(0,t.up)("CollapseTransition"),d=(0,t.up)("SelectDropdown");return(0,t.wg)(),(0,t.iD)("li",{class:(0,c.C_)(a.classes),onMouseenter:i[0]||(i[0]=(...e)=>a.handleMouseenter&&a.handleMouseenter(...e)),onMouseleave:i[1]||(i[1]=(...e)=>a.handleMouseleave&&a.handleMouseleave(...e))},[((0,t.wg)(),(0,t.j4)((0,t.LL)(n.to?"a":"li"),{ref:"reference",class:(0,c.C_)([s.prefixCls+"-submenu-title"]),style:(0,c.j5)(a.titleStyle),href:n.linkUrl,onClick:(0,e.iM)(a.handleItemClick,["prevent"])},{default:(0,t.w5)((()=>[(0,t.WI)(n.$slots,"title"),r.collapse?((0,t.wg)(),(0,t.j4)(l,{key:0,type:a.arrowType,custom:a.customArrowType,size:a.arrowSize,class:(0,c.C_)([s.prefixCls+"-submenu-title-icon"])},null,8,["type","custom","size","class"])):(0,t.kq)("v-if",!0)])),_:3},8,["class","style","href","onClick"])),"vertical"===n.mode?((0,t.wg)(),(0,t.j4)(u,{key:0},{default:(0,t.w5)((()=>[(0,t.wy)((0,t._)("ul",{class:(0,c.C_)([s.prefixCls])},[(0,t.WI)(n.$slots,"default")],2),[[e.F8,s.active]])])),_:3})):((0,t.wg)(),(0,t.j4)(e.uT,{key:1,name:"slide-up"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(d,{ref:"drop",placement:"bottom",style:(0,c.j5)(a.dropStyle)},{default:(0,t.w5)((()=>[(0,t._)("ul",{class:(0,c.C_)([s.prefixCls+"-drop-list"])},[(0,t.WI)(n.$slots,"default")],2)])),_:3},8,["style"]),[[e.F8,s.opened]])])),_:3}))],34)}},Hl={name:"Menu",mixins:[ml.Z],props:{mode:{validator:e=>(0,yl.kw)(e,["horizontal","vertical"]),default:"vertical"},theme:{validator:e=>(0,yl.kw)(e,["light","dark","primary"]),default:"light"},activeName:{type:[String,Number]},openNames:{type:Array,default:()=>[]},accordion:{type:Boolean,default:!1},width:{type:String,default:"240px"}},emits:["on-select","on-open-change"],data(){return{currentActiveName:this.activeName,openedNames:[],children:[]}},computed:{classes(){let e=this.theme;return"vertical"===this.mode&&"primary"===this.theme&&(e="light"),["ivu-menu",`ivu-menu-${e}`,{[`ivu-menu-${this.mode}`]:this.mode}]},styles(){const e={};return"vertical"===this.mode&&(e.width=this.width),e}},watch:{openNames(e){this.openedNames=e},activeName(e){this.currentActiveName=e},currentActiveName(){this.updateActiveName()}},mounted(){this.openedNames=[...this.openNames],this.updateOpened(),this.$nextTick((()=>this.updateActiveName())),this.mitt.on("on-menu-item-select",(e=>{this.currentActiveName=e,this.$emit("on-select",e)}))},methods:{updateActiveName(){void 0===this.currentActiveName&&(this.currentActiveName=-1),this.broadcast("Submenu","on-update-active-name",this.currentActiveName),this.broadcast("MenuItem","on-update-active-name",this.currentActiveName)},updateOpenKeys(e){const t=[...this.openedNames].indexOf(e);if(this.accordion&&(0,yl.Hj)(this,"Submenu").forEach((e=>{e.opened=!1})),t>=0){let t=null;(0,yl.Hj)(this,"Submenu").forEach((n=>{n.name===e&&(t=n,n.opened=!1)})),(0,yl.VC)(t,"Submenu").forEach((e=>{e.opened=!0})),(0,yl.Hj)(t,"Submenu").forEach((e=>{e.opened=!1}))}else if(this.accordion){let t=null;(0,yl.Hj)(this,"Submenu").forEach((n=>{n.name===e&&(t=n,n.opened=!0)})),(0,yl.VC)(t,"Submenu").forEach((e=>{e.opened=!0}))}else(0,yl.Hj)(this,"Submenu").forEach((t=>{t.name===e&&(t.opened=!0)}));const n=(0,yl.Hj)(this,"Submenu").filter((e=>e.opened)).map((e=>e.name));this.openedNames=[...n],this.$emit("on-open-change",n)},updateOpened(){},handleEmitSelectEvent(e){this.$emit("on-select",e)}},render:function(e,n,i,r,o,s){return(0,t.wg)(),(0,t.iD)("ul",{class:(0,c.C_)(s.classes),style:(0,c.j5)(s.styles)},[(0,t.WI)(e.$slots,"default")],6)}},Kl=["href","target"],Zl={name:"MenuItem",mixins:[ml.Z,zl,Wl.Z],props:{name:{type:[String,Number],required:!0},disabled:{type:Boolean,default:!1}},data:()=>({active:!1}),computed:{classes(){return["ivu-menu-item",{"ivu-menu-item-active":this.active,"ivu-menu-item-selected":this.active,"ivu-menu-item-disabled":this.disabled}]},itemStyle:()=>({})},mounted(){this.mitt.on("on-update-active-name",this.updateActiveName)},methods:{updateActiveName(e){this.name===e?(this.active=!0,this.dispatch("Submenu","on-update-active-name",e)):this.active=!1},handleClickItem(e,t=!1){if(!this.disabled)if(t||"_blank"===this.target){this.handleCheckClick(e,t);const n=(0,yl.ah)(this,"Menu");n&&n.handleEmitSelectEvent(this.name)}else(0,yl.ah)(this,"Submenu")?this.dispatch("Submenu","on-menu-item-select",this.name):this.dispatch("Menu","on-menu-item-select",this.name),this.handleCheckClick(e,t)}},render:function(n,i,r,o,s,a){return n.to?((0,t.wg)(),(0,t.iD)("a",{key:0,href:n.linkUrl,target:n.target,class:(0,c.C_)(a.classes),style:(0,c.j5)(a.itemStyle),onClick:[i[0]||(i[0]=(0,e.iM)((e=>a.handleClickItem(e,!1)),["exact"])),i[1]||(i[1]=(0,e.iM)((e=>a.handleClickItem(e,!0)),["ctrl"])),i[2]||(i[2]=(0,e.iM)((e=>a.handleClickItem(e,!0)),["meta"]))]},[(0,t.WI)(n.$slots,"default")],14,Kl)):((0,t.wg)(),(0,t.iD)("li",{key:1,class:(0,c.C_)(a.classes),style:(0,c.j5)(a.itemStyle),onClick:i[3]||(i[3]=(0,e.iM)(((...e)=>a.handleClickItem&&a.handleClickItem(...e)),["stop"]))},[(0,t.WI)(n.$slots,"default")],6))}},Gl={name:"Dropdown",directives:{clickOutside:{mounted(e,{value:t},n){function i(n){if(e.contains(n.target))return!1;"function"==typeof t&&t(n)}e.__vueClickOutside__=i,document.addEventListener("click",i)},update(){},unmount(e,t){document.removeEventListener("click",e.__vueClickOutside__),delete e.__vueClickOutside__}},TransferDom:pl.Z},components:{Drop:Bl.Z},mixins:[ml.Z],props:{trigger:{validator:e=>(0,yl.kw)(e,["click","hover","custom","contextMenu"]),default:"hover"},placement:{validator:e=>(0,yl.kw)(e,["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end"]),default:"bottom"},visible:{type:Boolean,default:!1},transfer:{type:Boolean,default:()=>!1},transferClassName:{type:String},stopPropagation:{type:Boolean,default:!1},capture:{type:Boolean,default:()=>!0}},emits:["on-clickoutside","on-visible-change"],data(){return{prefixCls:"ivu-dropdown",currentVisible:this.visible}},computed:{transition(){return["bottom-start","bottom","bottom-end"].indexOf(this.placement)>-1?"slide-up":"fade"},dropdownCls(){return{"ivu-dropdown-transfer":this.transfer,[this.transferClassName]:this.transferClassName}},relClasses(){return["ivu-dropdown-rel",{"ivu-dropdown-rel-user-select-none":"contextMenu"===this.trigger}]}},watch:{visible(e){this.currentVisible=e},currentVisible(e){e?this.$refs.drop.update():this.$refs.drop.destroy(),this.$emit("on-visible-change",e)}},mounted(){this.mitt.on("on-click",(e=>{if(this.stopPropagation)return;const t=this.hasParent();t&&t.$emit("on-click",e)})),this.mitt.on("on-hover-click",(()=>{const e=this.hasParent();e?(this.$nextTick((()=>{if("custom"===this.trigger)return!1;this.currentVisible=!1})),e.$emit("on-hover-click")):this.$nextTick((()=>{if("custom"===this.trigger)return!1;this.currentVisible=!1}))})),this.mitt.on("on-haschild-click",(()=>{this.$nextTick((()=>{if("custom"===this.trigger)return!1;this.currentVisible=!0}));const e=this.hasParent();e&&e.$emit("on-haschild-click")}))},methods:{handleClick(){return"custom"!==this.trigger&&("click"===this.trigger&&void(this.hasParent()||(this.currentVisible=!this.currentVisible)))},handleRightClick(){return"custom"!==this.trigger&&"contextMenu"===this.trigger&&void(this.currentVisible=!this.currentVisible)},handleMouseenter(){return"custom"!==this.trigger&&"hover"===this.trigger&&(this.timeout&&clearTimeout(this.timeout),void(this.timeout=setTimeout((()=>{this.currentVisible=!0}),250)))},handleMouseleave(){return"custom"!==this.trigger&&"hover"===this.trigger&&void(this.timeout&&(clearTimeout(this.timeout),this.timeout=setTimeout((()=>{this.currentVisible=!1}),150)))},onClickoutside(e){this.handleClose(),this.handleRightClose(),this.currentVisible&&this.$emit("on-clickoutside",e)},handleClose(){return"custom"!==this.trigger&&"click"===this.trigger&&void(this.currentVisible=!1)},handleRightClose(){return"custom"!==this.trigger&&"contextMenu"===this.trigger&&void(this.currentVisible=!1)},hasParent(){return(0,yl.ah)(this,"Dropdown")||!1}},render:function(n,i,r,o,s,a){const l=(0,t.up)("Drop"),u=(0,t.Q2)("transfer-dom"),d=(0,t.Q2)("click-outside");return(0,t.wy)(((0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)([s.prefixCls]),onMouseenter:i[2]||(i[2]=(...e)=>a.handleMouseenter&&a.handleMouseenter(...e)),onMouseleave:i[3]||(i[3]=(...e)=>a.handleMouseleave&&a.handleMouseleave(...e))},[(0,t._)("div",{ref:"reference",class:(0,c.C_)(a.relClasses),onClick:i[0]||(i[0]=(...e)=>a.handleClick&&a.handleClick(...e)),onContextmenu:i[1]||(i[1]=(0,e.iM)(((...e)=>a.handleRightClick&&a.handleRightClick(...e)),["prevent"]))},[(0,t.WI)(n.$slots,"default")],34),(0,t.Wm)(e.uT,{name:"transition-drop"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(l,{ref:"drop",class:(0,c.C_)(a.dropdownCls),placement:r.placement,"data-transfer":r.transfer,transfer:r.transfer,onMouseenter:a.handleMouseenter,onMouseleave:a.handleMouseleave},{default:(0,t.w5)((()=>[(0,t.WI)(n.$slots,"list")])),_:3},8,["class","placement","data-transfer","transfer","onMouseenter","onMouseleave"]),[[e.F8,s.currentVisible],[u]])])),_:3})],34)),[[d,a.onClickoutside]])}},Yl={class:"ivu-dropdown-menu"},Ql={name:"DropdownMenu",render:function(e,n,i,r,o,s){return(0,t.wg)(),(0,t.iD)("ul",Yl,[(0,t.WI)(e.$slots,"default")])}},Jl={name:"DropdownItem",props:{name:{type:[String,Number]},disabled:{type:Boolean,default:!1},selected:{type:Boolean,default:!1},divided:{type:Boolean,default:!1}},computed:{classes(){return["ivu-dropdown-item",{"ivu-dropdown-item-disabled":this.disabled,"ivu-dropdown-item-selected":this.selected,"ivu-dropdown-item-divided":this.divided}]}},methods:{handleClick(){if(this.disabled)return;const e=(0,yl.ah)(this,"Dropdown");this.$parent&&"Dropdown"===this.$parent.$options.name?this.$parent.mitt.emit("on-haschild-click"):e&&"Dropdown"===e.$options.name&&e.mitt.emit("on-hover-click"),e.mitt.emit("on-click",this.name)}},render:function(e,n,i,r,o,s){return(0,t.wg)(),(0,t.iD)("li",{class:(0,c.C_)(s.classes),onClick:n[0]||(n[0]=(...e)=>s.handleClick&&s.handleClick(...e))},[(0,t.WI)(e.$slots,"default")],2)}},Xl={name:"Header",computed:{wrapClasses:()=>"ivu-layout-header"},render:function(e,n,i,r,o,s){return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(s.wrapClasses)},[(0,t.WI)(e.$slots,"default")],2)}},ec={key:0},tc={name:"Card",components:{Icon:dl.Z},mixins:[Wl.Z],props:{bordered:{type:Boolean,default:!0},disHover:{type:Boolean,default:!1},shadow:{type:Boolean,default:!1},padding:{type:Number,default:16},title:{type:String,required:!1,default:""},icon:{type:String,required:!1,default:""}},data:()=>({showHead:!0,showExtra:!0}),computed:{classes(){return["ivu-card",{"ivu-card-bordered":this.bordered&&!this.shadow,"ivu-card-dis-hover":this.disHover||this.shadow,"ivu-card-shadow":this.shadow}]},headClasses:()=>"ivu-card-head",extraClasses:()=>"ivu-card-extra",bodyClasses:()=>"ivu-card-body",bodyStyles(){return 16!==this.padding?{padding:`${this.padding}px`}:""},isHrefPattern(){const{to:e}=this;return!!e},tagName(){const{isHrefPattern:e}=this;return e?"a":"div"},tagProps(){const{isHrefPattern:e}=this;if(e){const{linkUrl:e,target:t}=this;return{href:e,target:t}}return{}}},mounted(){this.showHead=this.title||void 0!==this.$slots.title,this.showExtra=void 0!==this.$slots.extra},methods:{handleClickLink(e){if(!this.isHrefPattern)return;const t=e.ctrlKey||e.metaKey;this.handleCheckClick(e,t)}},render:function(e,n,i,r,o,s){const a=(0,t.up)("Icon");return(0,t.wg)(),(0,t.j4)((0,t.LL)(s.tagName),(0,t.dG)({class:s.classes},s.tagProps,{onClick:s.handleClickLink}),{default:(0,t.w5)((()=>[o.showHead?((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,c.C_)(s.headClasses)},[(0,t.WI)(e.$slots,"title",{},(()=>[i.title?((0,t.wg)(),(0,t.iD)("p",ec,[i.icon?((0,t.wg)(),(0,t.j4)(a,{key:0,type:i.icon},null,8,["type"])):(0,t.kq)("v-if",!0),(0,t._)("span",null,(0,c.zw)(i.title),1)])):(0,t.kq)("v-if",!0)]))],2)):(0,t.kq)("v-if",!0),o.showExtra?((0,t.wg)(),(0,t.iD)("div",{key:1,class:(0,c.C_)(s.extraClasses)},[(0,t.WI)(e.$slots,"extra")],2)):(0,t.kq)("v-if",!0),(0,t._)("div",{class:(0,c.C_)(s.bodyClasses),style:(0,c.j5)(s.bodyStyles)},[(0,t.WI)(e.$slots,"default")],6)])),_:3},16,["class","onClick"])}},nc={name:"Layout",props:{hasSider:{type:Boolean,required:!1,default:!1}},computed:{wrapClasses(){return["ivu-layout",{"ivu-layout-has-sider":this.hasSider}]}},render:function(e,n,i,r,o,s){return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(s.wrapClasses)},[(0,t.WI)(e.$slots,"default")],2)}};var ic=n(8450);const rc=[(0,t._)("i",{class:"ion ion-ios-remove"},null,-1)],oc=[(0,t._)("i",{class:"ion ion-ios-add"},null,-1)],sc=["id","disabled","autofocus","readonly","name","value","placeholder"];var ac=n(8251);function lc(e,t){let n,i,r;try{n=e.toString().split(".")[1].length}catch(e){n=0}try{i=t.toString().split(".")[1].length}catch(e){i=0}return r=Math.pow(10,Math.max(n,i)),(Math.round(e*r)+Math.round(t*r))/r}const cc={name:"InputNumber",mixins:[ml.Z,ac.Z],props:{max:{type:Number,default:1/0},min:{type:Number,default:-1/0},step:{type:Number,default:1},activeChange:{type:Boolean,default:!0},modelValue:{type:[Number,String],default:1},size:{validator:e=>(0,yl.kw)(e,["small","large","default"]),default:()=>"default"},disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},editable:{type:Boolean,default:!0},name:{type:String},precision:{type:Number},elementId:{type:String},formatter:{type:Function},parser:{type:Function},placeholder:{type:String,default:""},controlsOutside:{type:Boolean,default:!1}},emits:["on-change","update:modelValue","on-focus","on-blur"],data(){return{focused:!1,upDisabled:!1,downDisabled:!1,currentValue:this.modelValue}},computed:{wrapClasses(){return["ivu-input-number",{[`ivu-input-number-${this.size}`]:!!this.size,"ivu-input-number-disabled":this.itemDisabled,"ivu-input-number-focused":this.focused,"ivu-input-number-controls-outside":this.controlsOutside}]},handlerClasses:()=>"ivu-input-number-handler-wrap",upClasses(){return["ivu-input-number-handler","ivu-input-number-handler-up",{"ivu-input-number-handler-up-disabled":this.upDisabled}]},innerUpClasses:()=>"ivu-input-number-handler-up-inner ion ion-ios-arrow-up",downClasses(){return["ivu-input-number-handler","ivu-input-number-handler-down",{"ivu-input-number-handler-down-disabled":this.downDisabled}]},innerDownClasses:()=>"ivu-input-number-handler-down-inner ion ion-ios-arrow-down",inputWrapClasses:()=>"ivu-input-number-input-wrap",inputClasses:()=>"ivu-input-number-input",precisionValue(){return this.currentValue&&this.precision?this.currentValue.toFixed(this.precision):this.currentValue},formatterValue(){return this.formatter&&null!==this.precisionValue?this.formatter(this.precisionValue):this.precisionValue}},watch:{modelValue(e){this.currentValue=e},currentValue(e){this.changeVal(e)},min(){this.changeVal(this.currentValue)},max(){this.changeVal(this.currentValue)}},mounted(){this.changeVal(this.currentValue)},methods:{preventDefault(e){e.preventDefault()},up(e){const t=Number(e.target.value);if(this.upDisabled&&isNaN(t))return!1;this.changeStep("up",e)},down(e){const t=Number(e.target.value);if(this.downDisabled&&isNaN(t))return!1;this.changeStep("down",e)},changeStep(e,t){if(this.itemDisabled||this.readonly)return!1;const n=Number(t.target.value);let i=Number(this.currentValue);const r=Number(this.step);if(isNaN(i))return!1;if(!isNaN(n))if("up"===e){if(!(lc(n,r)<=this.max))return!1;i=n}else if("down"===e){if(!(lc(n,-r)>=this.min))return!1;i=n}"up"===e?i=lc(i,r):"down"===e&&(i=lc(i,-r)),this.setValue(i)},setValue(e){e&&!isNaN(this.precision)&&(e=Number(Number(e).toFixed(this.precision)));const{min:t,max:n}=this;null!==e&&(e>n?e=n:e<t&&(e=t)),this.$nextTick((()=>{this.currentValue=e,this.$emit("update:modelValue",e),this.$emit("on-change",e),this.dispatch("FormItem","on-form-change",e)}))},focus(e){this.focused=!0,this.$emit("on-focus",e)},blur(){this.focused=!1,this.$emit("on-blur"),(0,yl.ah)(this,["DatePicker","TimePicker","Cascader","Search"])||this.dispatch("FormItem","on-form-blur",this.currentValue)},keyDown(e){38===e.keyCode?(e.preventDefault(),this.up(e)):40===e.keyCode&&(e.preventDefault(),this.down(e))},change(e){if("change"==e.type&&this.activeChange)return;if("input"==e.type&&!this.activeChange)return;let t=e.target.value.trim();this.parser&&(t=this.parser(t)),0===t.length?this.setValue(null):"input"==e.type&&t.match(/^\-?\.?$|\.$/)||(t=Number(t),isNaN(t)?e.target.value=this.currentValue:(this.currentValue=t,this.setValue(t)))},changeVal(e){if(e=Number(e),isNaN(e))this.upDisabled=!0,this.downDisabled=!0;else{const t=this.step;this.upDisabled=e+t>this.max,this.downDisabled=e-t<this.min}}},render:function(e,n,i,r,o,s){return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(s.wrapClasses)},[i.controlsOutside?(0,t.kq)("v-if",!0):((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,c.C_)(s.handlerClasses)},[(0,t._)("a",{class:(0,c.C_)(s.upClasses),onClick:n[1]||(n[1]=(...e)=>s.up&&s.up(...e))},[(0,t._)("span",{class:(0,c.C_)(s.innerUpClasses),onClick:n[0]||(n[0]=(...e)=>s.preventDefault&&s.preventDefault(...e))},null,2)],2),(0,t._)("a",{class:(0,c.C_)(s.downClasses),onClick:n[3]||(n[3]=(...e)=>s.down&&s.down(...e))},[(0,t._)("span",{class:(0,c.C_)(s.innerDownClasses),onClick:n[2]||(n[2]=(...e)=>s.preventDefault&&s.preventDefault(...e))},null,2)],2)],2)),i.controlsOutside?((0,t.wg)(),(0,t.iD)("div",{key:1,class:(0,c.C_)(["ivu-input-number-controls-outside-btn ivu-input-number-controls-outside-down",{"ivu-input-number-controls-outside-btn-disabled":o.downDisabled}]),onClick:n[4]||(n[4]=(...e)=>s.down&&s.down(...e))},rc,2)):(0,t.kq)("v-if",!0),i.controlsOutside?((0,t.wg)(),(0,t.iD)("div",{key:2,class:(0,c.C_)(["ivu-input-number-controls-outside-btn ivu-input-number-controls-outside-up",{"ivu-input-number-controls-outside-btn-disabled":o.upDisabled}]),onClick:n[5]||(n[5]=(...e)=>s.up&&s.up(...e))},oc,2)):(0,t.kq)("v-if",!0),(0,t._)("div",{class:(0,c.C_)(s.inputWrapClasses)},[(0,t._)("input",{id:i.elementId,class:(0,c.C_)(s.inputClasses),disabled:e.itemDisabled,autocomplete:"off",spellcheck:"false",autofocus:i.autofocus,readonly:i.readonly||!i.editable,name:i.name,value:s.formatterValue,placeholder:i.placeholder,onFocus:n[6]||(n[6]=(...e)=>s.focus&&s.focus(...e)),onBlur:n[7]||(n[7]=(...e)=>s.blur&&s.blur(...e)),onKeydown:n[8]||(n[8]=(...e)=>s.keyDown&&s.keyDown(...e)),onInput:n[9]||(n[9]=(...e)=>s.change&&s.change(...e)),onMouseup:n[10]||(n[10]=(...e)=>s.preventDefault&&s.preventDefault(...e)),onChange:n[11]||(n[11]=(...e)=>s.change&&s.change(...e))},null,42,sc)],2)],2)}},uc=["autocomplete"],dc={name:"VForm",components:{Alert:{name:"Alert",components:{Icon:dl.Z},props:{type:{validator:e=>(0,yl.kw)(e,["success","info","warning","error"]),default:"info"},closable:{type:Boolean,default:!1},showIcon:{type:Boolean,default:!1},banner:{type:Boolean,default:!1}},data:()=>({closed:!1,desc:!1}),computed:{wrapClasses(){return["ivu-alert",`ivu-alert-${this.type}`,{"ivu-alert-with-icon":this.showIcon,"ivu-alert-with-desc":this.desc,"ivu-alert-with-banner":this.banner}]},messageClasses:()=>"ivu-alert-message",descClasses:()=>"ivu-alert-desc",closeClasses:()=>"ivu-alert-close",iconClasses:()=>"ivu-alert-icon",iconType(){let e="";switch(this.type){case"success":e="ios-checkmark-circle";break;case"info":e="ios-information-circle";break;case"warning":e="ios-alert";break;case"error":e="ios-close-circle"}return this.desc&&(e+="-outline"),e}},mounted(){this.desc=void 0!==this.$slots.desc},methods:{close(e){this.closed=!0,this.$emit("on-close",e)}},render:function(n,i,r,o,s,a){const l=(0,t.up)("Icon");return(0,t.wg)(),(0,t.j4)(e.uT,{name:"fade"},{default:(0,t.w5)((()=>[s.closed?(0,t.kq)("v-if",!0):((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,c.C_)(a.wrapClasses)},[r.showIcon?((0,t.wg)(),(0,t.iD)("span",{key:0,class:(0,c.C_)(a.iconClasses)},[(0,t.WI)(n.$slots,"icon",{},(()=>[(0,t.Wm)(l,{type:a.iconType},null,8,["type"])]))],2)):(0,t.kq)("v-if",!0),(0,t._)("span",{class:(0,c.C_)(a.messageClasses)},[(0,t.WI)(n.$slots,"default")],2),(0,t._)("span",{class:(0,c.C_)(a.descClasses)},[(0,t.WI)(n.$slots,"desc")],2),r.closable?((0,t.wg)(),(0,t.iD)("a",{key:1,class:(0,c.C_)(a.closeClasses),onClick:i[0]||(i[0]=(...e)=>a.close&&a.close(...e))},[(0,t.WI)(n.$slots,"close",{},(()=>[(0,t.Wm)(l,{type:"ios-close"})]))],2)):(0,t.kq)("v-if",!0)],2))])),_:3})}}},mixins:[ml.Z],provide(){return{FormInstance:this}},props:{model:{type:Object},rules:{type:Object},labelWidth:{type:Number},labelPosition:{validator:e=>(0,yl.kw)(e,["left","right","top"]),default:"right"},inline:{type:Boolean,default:!1},showMessage:{type:Boolean,default:!0},autocomplete:{validator:e=>(0,yl.kw)(e,["on","off"]),default:"off"},hideRequiredMark:{type:Boolean,default:!1},labelColon:{type:[Boolean,String],default:!1},disabled:{type:Boolean,default:!1}},emits:["on-validate"],data:()=>({fields:[],genericErrors:[]}),computed:{classes(){return["ivu-form",`ivu-form-label-${this.labelPosition}`,{"ivu-form-inline":this.inline,"ivu-form-hide-required-mark":this.hideRequiredMark}]},colon(){let e="";return this.labelColon&&(e="boolean"==typeof this.labelColon?":":this.labelColon),e}},watch:{rules(){this.mitt.emit("rules-update")}},created(){this.mitt.on("on-form-item-add",(e=>(e&&this.fields.push(e),!1))),this.mitt.on("on-form-item-remove",(e=>(e.prop&&this.fields.splice(this.fields.indexOf(e),1),!1)))},methods:{resetFields(){this.fields.forEach((e=>{e.resetField()}))},validate(e){return this.genericErrors=[],new Promise((t=>{let n=!0,i=0;0===this.fields.length&&(t(n),"function"==typeof e&&e(n)),this.fields.forEach((r=>{r.validate("",(r=>{r&&(n=!1),++i===this.fields.length&&(t(n),"function"==typeof e&&e(n))}))}))}))},setErrors(e){(e&&"object"==typeof e&&!Array.isArray(e)?Object.entries(e).map((([e,t])=>({key:e,message:t.join(", ")}))):e).forEach((e=>{const t=this.fields.find((t=>t.prop===(e.source||e.key||e.field)));t?t.setError(e.detail||e.message):this.genericErrors.push([e.key||e.field,e.detail||e.message||e].filter(Boolean).join(" "))}))},validateField(e,t){const n=this.fields.filter((t=>t.prop===e))[0];if(!n)throw new Error("[iView warn]: must call validateField with valid prop string!");n.validate("",t)}},render:function(e,n,i,r,o,s){const a=(0,t.up)("Alert");return(0,t.wg)(),(0,t.iD)("form",{class:(0,c.C_)(s.classes),autocomplete:i.autocomplete},[o.genericErrors.length?((0,t.wg)(),(0,t.j4)(a,{key:0,type:"error"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,c.zw)(o.genericErrors.join("\n")),1)])),_:1})):(0,t.kq)("v-if",!0),(0,t.WI)(e.$slots,"default")],10,uc)}},hc=["for"];function pc(){return(pc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function fc(e){return(fc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mc(e,t){return(mc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gc(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function vc(e,t,n){return(vc=gc()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&mc(r,n.prototype),r}).apply(null,arguments)}function yc(e){var t="function"==typeof Map?new Map:void 0;return(yc=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return vc(e,arguments,fc(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),mc(i,e)})(e)}var bc=/%[sdj%]/g;function wc(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function _c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=1,r=t[0],o=t.length;if("function"==typeof r)return r.apply(null,t.slice(1));if("string"==typeof r){var s=String(r).replace(bc,(function(e){if("%%"===e)return"%";if(i>=o)return e;switch(e){case"%s":return String(t[i++]);case"%d":return Number(t[i++]);case"%j":try{return JSON.stringify(t[i++])}catch(e){return"[Circular]"}break;default:return e}}));return s}return r}function xc(e,t){return null==e||!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!=typeof e||e)}function kc(e,t,n){var i=0,r=e.length;!function o(s){if(s&&s.length)n(s);else{var a=i;i+=1,a<r?t(e[a],o):n([])}}([])}"undefined"!=typeof process&&process.env;var Cc=function(e){var t,n;function i(t,n){var i;return(i=e.call(this,"Async Validation Error")||this).errors=t,i.fields=n,i}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,mc(t,n),i}(yc(Error));function Sc(e){return function(t){return t&&t.message?(t.field=t.field||e.fullField,t):{message:"function"==typeof t?t():t,field:t.field||e.fullField}}}function Ac(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];"object"==typeof i&&"object"==typeof e[n]?e[n]=pc({},e[n],i):e[n]=i}return e}function Dc(e,t,n,i,r,o){!e.required||n.hasOwnProperty(e.field)&&!xc(t,o||e.type)||i.push(_c(r.messages.required,e.fullField))}var Oc={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Tc={integer:function(e){return Tc.number(e)&&parseInt(e,10)===e},float:function(e){return Tc.number(e)&&!Tc.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(e){return!1}},date:function(e){return"function"==typeof e.getTime&&"function"==typeof e.getMonth&&"function"==typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"==typeof e},object:function(e){return"object"==typeof e&&!Tc.array(e)},method:function(e){return"function"==typeof e},email:function(e){return"string"==typeof e&&!!e.match(Oc.email)&&e.length<255},url:function(e){return"string"==typeof e&&!!e.match(Oc.url)},hex:function(e){return"string"==typeof e&&!!e.match(Oc.hex)}},Ec={required:Dc,whitespace:function(e,t,n,i,r){(/^\s+$/.test(t)||""===t)&&i.push(_c(r.messages.whitespace,e.fullField))},type:function(e,t,n,i,r){if(e.required&&void 0===t)Dc(e,t,n,i,r);else{var o=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(o)>-1?Tc[o](t)||i.push(_c(r.messages.types[o],e.fullField,e.type)):o&&typeof t!==e.type&&i.push(_c(r.messages.types[o],e.fullField,e.type))}},range:function(e,t,n,i,r){var o="number"==typeof e.len,s="number"==typeof e.min,a="number"==typeof e.max,l=t,c=null,u="number"==typeof t,d="string"==typeof t,h=Array.isArray(t);if(u?c="number":d?c="string":h&&(c="array"),!c)return!1;h&&(l=t.length),d&&(l=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),o?l!==e.len&&i.push(_c(r.messages[c].len,e.fullField,e.len)):s&&!a&&l<e.min?i.push(_c(r.messages[c].min,e.fullField,e.min)):a&&!s&&l>e.max?i.push(_c(r.messages[c].max,e.fullField,e.max)):s&&a&&(l<e.min||l>e.max)&&i.push(_c(r.messages[c].range,e.fullField,e.min,e.max))},enum:function(e,t,n,i,r){e.enum=Array.isArray(e.enum)?e.enum:[],-1===e.enum.indexOf(t)&&i.push(_c(r.messages.enum,e.fullField,e.enum.join(", ")))},pattern:function(e,t,n,i,r){e.pattern&&(e.pattern instanceof RegExp?(e.pattern.lastIndex=0,e.pattern.test(t)||i.push(_c(r.messages.pattern.mismatch,e.fullField,t,e.pattern))):"string"==typeof e.pattern&&(new RegExp(e.pattern).test(t)||i.push(_c(r.messages.pattern.mismatch,e.fullField,t,e.pattern))))}};function $c(e,t,n,i,r){var o=e.type,s=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(xc(t,o)&&!e.required)return n();Ec.required(e,t,i,s,r,o),xc(t,o)||Ec.type(e,t,i,s,r)}n(s)}var Mc={string:function(e,t,n,i,r){var o=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(xc(t,"string")&&!e.required)return n();Ec.required(e,t,i,o,r,"string"),xc(t,"string")||(Ec.type(e,t,i,o,r),Ec.range(e,t,i,o,r),Ec.pattern(e,t,i,o,r),!0===e.whitespace&&Ec.whitespace(e,t,i,o,r))}n(o)},method:function(e,t,n,i,r){var o=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(xc(t)&&!e.required)return n();Ec.required(e,t,i,o,r),void 0!==t&&Ec.type(e,t,i,o,r)}n(o)},number:function(e,t,n,i,r){var o=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(""===t&&(t=void 0),xc(t)&&!e.required)return n();Ec.required(e,t,i,o,r),void 0!==t&&(Ec.type(e,t,i,o,r),Ec.range(e,t,i,o,r))}n(o)},boolean:function(e,t,n,i,r){var o=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(xc(t)&&!e.required)return n();Ec.required(e,t,i,o,r),void 0!==t&&Ec.type(e,t,i,o,r)}n(o)},regexp:function(e,t,n,i,r){var o=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(xc(t)&&!e.required)return n();Ec.required(e,t,i,o,r),xc(t)||Ec.type(e,t,i,o,r)}n(o)},integer:function(e,t,n,i,r){var o=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(xc(t)&&!e.required)return n();Ec.required(e,t,i,o,r),void 0!==t&&(Ec.type(e,t,i,o,r),Ec.range(e,t,i,o,r))}n(o)},float:function(e,t,n,i,r){var o=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(xc(t)&&!e.required)return n();Ec.required(e,t,i,o,r),void 0!==t&&(Ec.type(e,t,i,o,r),Ec.range(e,t,i,o,r))}n(o)},array:function(e,t,n,i,r){var o=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(null==t&&!e.required)return n();Ec.required(e,t,i,o,r,"array"),null!=t&&(Ec.type(e,t,i,o,r),Ec.range(e,t,i,o,r))}n(o)},object:function(e,t,n,i,r){var o=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(xc(t)&&!e.required)return n();Ec.required(e,t,i,o,r),void 0!==t&&Ec.type(e,t,i,o,r)}n(o)},enum:function(e,t,n,i,r){var o=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(xc(t)&&!e.required)return n();Ec.required(e,t,i,o,r),void 0!==t&&Ec.enum(e,t,i,o,r)}n(o)},pattern:function(e,t,n,i,r){var o=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(xc(t,"string")&&!e.required)return n();Ec.required(e,t,i,o,r),xc(t,"string")||Ec.pattern(e,t,i,o,r)}n(o)},date:function(e,t,n,i,r){var o=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(xc(t,"date")&&!e.required)return n();var s;Ec.required(e,t,i,o,r),xc(t,"date")||(s=t instanceof Date?t:new Date(t),Ec.type(e,s,i,o,r),s&&Ec.range(e,s.getTime(),i,o,r))}n(o)},url:$c,hex:$c,email:$c,required:function(e,t,n,i,r){var o=[],s=Array.isArray(t)?"array":typeof t;Ec.required(e,t,i,o,r,s),n(o)},any:function(e,t,n,i,r){var o=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(xc(t)&&!e.required)return n();Ec.required(e,t,i,o,r)}n(o)}};function Rc(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Lc=Rc();function Pc(e){this.rules=null,this._messages=Lc,this.define(e)}Pc.prototype={messages:function(e){return e&&(this._messages=Ac(Rc(),e)),this._messages},define:function(e){if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!=typeof e||Array.isArray(e))throw new Error("Rules must be an object");var t,n;for(t in this.rules={},e)e.hasOwnProperty(t)&&(n=e[t],this.rules[t]=Array.isArray(n)?n:[n])},validate:function(e,t,n){var i=this;void 0===t&&(t={}),void 0===n&&(n=function(){});var r,o,s=e,a=t,l=n;if("function"==typeof a&&(l=a,a={}),!this.rules||0===Object.keys(this.rules).length)return l&&l(),Promise.resolve();if(a.messages){var c=this.messages();c===Lc&&(c=Rc()),Ac(c,a.messages),a.messages=c}else a.messages=this.messages();var u={};(a.keys||Object.keys(this.rules)).forEach((function(t){r=i.rules[t],o=s[t],r.forEach((function(n){var r=n;"function"==typeof r.transform&&(s===e&&(s=pc({},s)),o=s[t]=r.transform(o)),(r="function"==typeof r?{validator:r}:pc({},r)).validator=i.getValidationMethod(r),r.field=t,r.fullField=r.fullField||t,r.type=i.getType(r),r.validator&&(u[t]=u[t]||[],u[t].push({rule:r,value:o,source:s,field:t}))}))}));var d={};return function(e,t,n,i){if(t.first){var r=new Promise((function(t,r){kc(function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n])})),t}(e),n,(function(e){return i(e),e.length?r(new Cc(e,wc(e))):t()}))}));return r.catch((function(e){return e})),r}var o=t.firstFields||[];!0===o&&(o=Object.keys(e));var s=Object.keys(e),a=s.length,l=0,c=[],u=new Promise((function(t,r){var u=function(e){if(c.push.apply(c,e),++l===a)return i(c),c.length?r(new Cc(c,wc(c))):t()};s.length||(i(c),t()),s.forEach((function(t){var i=e[t];-1!==o.indexOf(t)?kc(i,n,u):function(e,t,n){var i=[],r=0,o=e.length;function s(e){i.push.apply(i,e),++r===o&&n(i)}e.forEach((function(e){t(e,s)}))}(i,n,u)}))}));return u.catch((function(e){return e})),u}(u,a,(function(e,t){var n,i=e.rule,r=!("object"!==i.type&&"array"!==i.type||"object"!=typeof i.fields&&"object"!=typeof i.defaultField);function o(e,t){return pc({},t,{fullField:i.fullField+"."+e})}function s(n){void 0===n&&(n=[]);var s=n;if(Array.isArray(s)||(s=[s]),!a.suppressWarning&&s.length&&Pc.warning("async-validator:",s),s.length&&void 0!==i.message&&(s=[].concat(i.message)),s=s.map(Sc(i)),a.first&&s.length)return d[i.field]=1,t(s);if(r){if(i.required&&!e.value)return void 0!==i.message?s=[].concat(i.message).map(Sc(i)):a.error&&(s=[a.error(i,_c(a.messages.required,i.field))]),t(s);var l={};if(i.defaultField)for(var c in e.value)e.value.hasOwnProperty(c)&&(l[c]=i.defaultField);for(var u in l=pc({},l,e.rule.fields))if(l.hasOwnProperty(u)){var h=Array.isArray(l[u])?l[u]:[l[u]];l[u]=h.map(o.bind(null,u))}var p=new Pc(l);p.messages(a.messages),e.rule.options&&(e.rule.options.messages=a.messages,e.rule.options.error=a.error),p.validate(e.value,e.rule.options||a,(function(e){var n=[];s&&s.length&&n.push.apply(n,s),e&&e.length&&n.push.apply(n,e),t(n.length?n:null)}))}else t(s)}r=r&&(i.required||!i.required&&e.value),i.field=e.field,i.asyncValidator?n=i.asyncValidator(i,e.value,s,e.source,a):i.validator&&(!0===(n=i.validator(i,e.value,s,e.source,a))?s():!1===n?s(i.message||i.field+" fails"):n instanceof Array?s(n):n instanceof Error&&s(n.message)),n&&n.then&&n.then((function(){return s()}),(function(e){return s(e)}))}),(function(e){!function(e){var t,n,i,r=[],o={};for(t=0;t<e.length;t++)n=e[t],i=void 0,Array.isArray(n)?r=(i=r).concat.apply(i,n):r.push(n);r.length?o=wc(r):(r=null,o=null),l(r,o)}(e)}))},getType:function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!=typeof e.validator&&e.type&&!Mc.hasOwnProperty(e.type))throw new Error(_c("Unknown rule type %s",e.type));return e.type||"string"},getValidationMethod:function(e){if("function"==typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?Mc.required:Mc[this.getType(e)]||!1}},Pc.register=function(e,t){if("function"!=typeof t)throw new Error("Cannot register a validator by type, validator is not a function");Mc[e]=t},Pc.warning=function(){},Pc.messages=Lc,Pc.validators=Mc;const Fc=Pc;function Ic(e,t){let n=e;const i=(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split(".");let r=0;for(let e=i.length;r<e-1;++r){const e=i[r];if(!(e in n))throw new Error("[iView warn]: please transfer a valid prop path to form item!");n=n[e]}return{o:n,k:i[r],v:n[i[r]]}}const jc={name:"FormItem",mixins:[ml.Z],inject:["FormInstance"],props:{label:{type:String,default:""},labelWidth:{type:Number},prop:{type:String},required:{type:Boolean,default:!1},rules:{type:[Object,Array]},error:{type:String},validateStatus:{type:Boolean},showMessage:{type:Boolean,default:!0},labelFor:{type:String}},data:()=>({prefixCls:"ivu-form-item",isRequired:!1,validateState:"",validateMessage:"",validateDisabled:!1,validator:{}}),computed:{classes(){return["ivu-form-item",{"ivu-form-item-required":this.required||this.isRequired,"ivu-form-item-error":"error"===this.validateState,"ivu-form-item-validating":"validating"===this.validateState}]},fieldValue(){const e=this.FormInstance.model;if(!e||!this.prop)return;let t=this.prop;return-1!==t.indexOf(":")&&(t=t.replace(/:/,".")),Ic(e,t).v},labelStyles(){const e={},t=0===this.labelWidth||this.labelWidth?this.labelWidth:this.FormInstance.labelWidth;return(t||0===t)&&(e.width=`${t}px`),e},contentStyles(){const e={},t=0===this.labelWidth||this.labelWidth?this.labelWidth:this.FormInstance.labelWidth;return(t||0===t)&&(e.marginLeft=`${t}px`),e}},watch:{error:{handler(e){this.validateMessage=e,this.validateState=e?"error":""},immediate:!0},validateStatus(e){this.validateState=e},rules(){this.setRules()},required(e,t){this.isRequired=e,t&&!e&&this.resetField()}},mounted(){this.prop&&(this.dispatch("VForm","on-form-item-add",this),Object.defineProperty(this,"initialValue",{value:this.fieldValue}),this.setRules()),this.FormInstance.mitt.on("rules-update",this.setRules)},beforeUnmount(){this.dispatch("VForm","on-form-item-remove",this)},methods:{setRules(){const e=this.getRules();e.length&&this.required||(e.length?e.every((e=>{this.isRequired=e.required})):this.required?this.isRequired=this.required:e.length||(this.isRequired=!1),this.mitt.off("on-form-blur",this.onFieldBlur),this.mitt.off("on-form-change",this.onFieldChange),this.mitt.on("on-form-blur",this.onFieldBlur),this.mitt.on("on-form-change",this.onFieldChange))},getRules(){let e=this.FormInstance.rules;const t=this.rules;return e=e?e[this.prop]:[],[].concat(t||e||[])},getFilteredRule(e){return this.getRules().filter((t=>!t.trigger||-1!==t.trigger.indexOf(e)))},validate(e,t=function(){}){let n=this.getFilteredRule(e);if(!n||0===n.length){if(!this.required)return t(),!0;n=[{required:!0}]}this.validateState="validating";const i={};i[this.prop]=n;const r=new Fc(i),o={};o[this.prop]=this.fieldValue,r.validate(o,{firstFields:!0},(e=>{this.validateState=e?"error":"success",this.validateMessage=e?e[0].message:"",t(this.validateMessage),this.FormInstance&&this.FormInstance.$emit("on-validate",this.prop,!e,this.validateMessage||null)})),this.validateDisabled=!1},setError(e){this.validateState="error",this.validateMessage=e},resetField(){this.validateState="",this.validateMessage="";const e=this.FormInstance.model,t=this.fieldValue;let n=this.prop;-1!==n.indexOf(":")&&(n=n.replace(/:/,"."));const i=Ic(e,n);Array.isArray(t)?(this.validateDisabled=!0,i.o[i.k]=[].concat(this.initialValue)):(this.validateDisabled=!0,i.o[i.k]=this.initialValue)},onFieldBlur(){this.validate("blur")},onFieldChange(){this.validateDisabled?this.validateDisabled=!1:this.validate("change")}},render:function(n,i,r,o,s,a){return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(a.classes)},[r.label||n.$slots.label?((0,t.wg)(),(0,t.iD)("label",{key:0,class:(0,c.C_)([s.prefixCls+"-label"]),for:r.labelFor,style:(0,c.j5)(a.labelStyles)},[(0,t.WI)(n.$slots,"label",{},(()=>[(0,t.Uk)((0,c.zw)(r.label)+(0,c.zw)(a.FormInstance.colon),1)]))],14,hc)):(0,t.kq)("v-if",!0),(0,t._)("div",{class:(0,c.C_)([s.prefixCls+"-content"]),style:(0,c.j5)(a.contentStyles)},[(0,t.WI)(n.$slots,"default"),(0,t.Wm)(e.uT,{name:"fade"},{default:(0,t.w5)((()=>["error"===s.validateState&&r.showMessage&&a.FormInstance.showMessage?((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,c.C_)([s.prefixCls+"-error-tip"])},(0,c.zw)(s.validateMessage),3)):(0,t.kq)("v-if",!0)])),_:1})],6)],2)}},Nc=["disabled","checked","name"],Vc={name:"Radio",mixins:[ml.Z,ac.Z],props:{modelValue:{type:[String,Number,Boolean],default:!1},trueValue:{type:[String,Number,Boolean],default:!0},falseValue:{type:[String,Number,Boolean],default:!1},label:{type:[String,Number]},disabled:{type:Boolean,default:!1},size:{validator:e=>(0,yl.kw)(e,["small","large","default"]),default:()=>"default"},name:{type:String},border:{type:Boolean,default:!1}},emits:["update:modelValue","on-chage"],data(){return{currentValue:this.modelValue,group:!1,groupName:this.name,parent:(0,yl.ah)(this,"RadioGroup"),focusWrapper:!1,focusInner:!1}},computed:{wrapClasses(){return["ivu-radio-wrapper",{"ivu-radio-group-item":this.group,"ivu-radio-wrapper-checked":this.currentValue,"ivu-radio-wrapper-disabled":this.itemDisabled,[`ivu-radio-${this.size}`]:!!this.size,"ivu-radio-focus":this.focusWrapper,"ivu-radio-border":this.border}]},radioClasses(){return["ivu-radio",{"ivu-radio-checked":this.currentValue,"ivu-radio-disabled":this.itemDisabled}]},innerClasses(){return["ivu-radio-inner",{"ivu-radio-focus":this.focusInner}]},inputClasses:()=>"ivu-radio-input"},watch:{modelValue(e){if(e!==this.trueValue&&e!==this.falseValue)throw"Value should be trueValue or falseValue.";this.updateValue()}},mounted(){this.parent&&(this.group=!0,this.name&&this.name!==this.parent.name?console.warn&&console.warn("[iview] Name does not match Radio Group name."):this.groupName=this.parent.name),this.group?this.parent.updateValue():this.updateValue()},methods:{change(e){if(this.itemDisabled)return!1;const t=e.target.checked;this.currentValue=t;const n=t?this.trueValue:this.falseValue;this.$emit("update:modelValue",n),this.group?void 0!==this.label&&this.parent.change({value:this.label,checked:this.modelValue}):(this.$emit("on-change",n),this.dispatch("FormItem","on-form-change",n))},updateValue(){this.currentValue=this.modelValue===this.trueValue},onBlur(){this.focusWrapper=!1,this.focusInner=!1},onFocus(){this.group&&"button"===this.parent.type?this.focusWrapper=!0:this.focusInner=!0}},render:function(e,n,i,r,o,s){return(0,t.wg)(),(0,t.iD)("label",{class:(0,c.C_)(s.wrapClasses)},[(0,t._)("span",{class:(0,c.C_)(s.radioClasses)},[(0,t._)("span",{class:(0,c.C_)(s.innerClasses)},null,2),(0,t._)("input",{type:"radio",class:(0,c.C_)(s.inputClasses),disabled:e.itemDisabled,checked:o.currentValue,name:o.groupName,onChange:n[0]||(n[0]=(...e)=>s.change&&s.change(...e)),onFocus:n[1]||(n[1]=(...e)=>s.onFocus&&s.onFocus(...e)),onBlur:n[2]||(n[2]=(...e)=>s.onBlur&&s.onBlur(...e))},null,42,Nc)],2),(0,t.WI)(e.$slots,"default",{},(()=>[(0,t.Uk)((0,c.zw)(i.label),1)]))],2)}},Bc=["name"];let qc=0;const zc=Date.now(),Wc={name:"RadioGroup",mixins:[ml.Z],props:{modelValue:{type:[String,Number],default:""},size:{validator:e=>(0,yl.kw)(e,["small","large","default"]),default:()=>"default"},type:{validator:e=>(0,yl.kw)(e,["button"])},vertical:{type:Boolean,default:!1},name:{type:String,default:()=>`ivuRadioGroup_${zc}_${qc++}`},buttonStyle:{validator:e=>(0,yl.kw)(e,["default","solid"]),default:"default"}},emits:["update:modelValue","on-change"],data(){return{currentValue:this.modelValue,childrens:[]}},computed:{classes(){return["ivu-radio-group",{[`ivu-radio-group-${this.size}`]:!!this.size,[`ivu-radio-${this.size}`]:!!this.size,[`ivu-radio-group-${this.type}`]:!!this.type,[`ivu-radio-group-button-${this.buttonStyle}`]:"button"===this.type&&"default"!==this.buttonStyle,"ivu-radio-group-vertical":this.vertical}]}},watch:{modelValue(){this.currentValue!==this.modelValue&&(this.currentValue=this.modelValue,this.$nextTick((()=>{this.updateValue()})))}},mounted(){this.updateValue()},methods:{updateValue(){this.childrens=(0,yl.Hj)(this,"Radio"),this.childrens&&this.childrens.forEach((e=>{e.currentValue=this.currentValue===e.label,e.group=!0}))},change(e){this.currentValue=e.value,this.updateValue(),this.$emit("update:modelValue",e.value),this.$emit("on-change",e.value),this.dispatch("FormItem","on-form-change",e.value)}},render:function(e,n,i,r,o,s){return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(s.classes),name:i.name},[(0,t.WI)(e.$slots,"default")],10,Bc)}},Uc={name:"Spin",mixins:[gl.Z],props:{size:{validator:e=>(0,yl.kw)(e,["small","large","default"]),default:()=>"default"},fix:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1}},data:()=>({showText:!1,visible:!1}),computed:{classes(){return["ivu-spin",{[`ivu-spin-${this.size}`]:!!this.size,"ivu-spin-fix":this.fix,"ivu-spin-show-text":this.showText,"ivu-spin-fullscreen":this.fullscreen}]},mainClasses:()=>"ivu-spin-main",dotClasses:()=>"ivu-spin-dot",textClasses:()=>"ivu-spin-text",fullscreenVisible(){return!this.fullscreen||this.visible}},watch:{visible(e){e?this.addScrollEffect():this.removeScrollEffect()}},mounted(){this.showText=void 0!==this.$slots.default},render:function(n,i,r,o,s,a){return(0,t.wg)(),(0,t.j4)(e.uT,{name:"fade"},{default:(0,t.w5)((()=>[a.fullscreenVisible?((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,c.C_)(a.classes)},[(0,t._)("div",{class:(0,c.C_)(a.mainClasses)},[(0,t._)("span",{class:(0,c.C_)(a.dotClasses)},null,2),(0,t._)("div",{class:(0,c.C_)(a.textClasses)},[(0,t.WI)(n.$slots,"default")],2)],2)],2)):(0,t.kq)("v-if",!0)])),_:3})}},Hc=["disabled","value","name"],Kc=["disabled","checked","name"],Zc={key:0},Gc={name:"Checkbox",mixins:[ml.Z,ac.Z],props:{disabled:{type:Boolean,default:!1},modelValue:{type:[String,Number,Boolean],default:!1},trueValue:{type:[String,Number,Boolean],default:!0},falseValue:{type:[String,Number,Boolean],default:!1},label:{type:[String,Number,Boolean]},indeterminate:{type:Boolean,default:!1},size:{validator:e=>(0,yl.kw)(e,["small","large","default"]),default:()=>"default"},name:{type:String},border:{type:Boolean,default:!1}},emits:["on-change","update:modelValue"],data(){return{model:[],currentValue:this.modelValue,group:!1,showSlot:!0,parent:(0,yl.ah)(this,"CheckboxGroup"),focusInner:!1}},computed:{wrapClasses(){return["ivu-checkbox-wrapper",{"ivu-checkbox-group-item":this.group,"ivu-checkbox-wrapper-checked":this.currentValue,"ivu-checkbox-wrapper-disabled":this.itemDisabled,[`ivu-checkbox-${this.size}`]:!!this.size,"ivu-checkbox-border":this.border}]},checkboxClasses(){return["ivu-checkbox",{"ivu-checkbox-checked":this.currentValue,"ivu-checkbox-disabled":this.itemDisabled,"ivu-checkbox-indeterminate":this.indeterminate}]},innerClasses(){return["ivu-checkbox-inner",{"ivu-checkbox-focus":this.focusInner}]},inputClasses:()=>"ivu-checkbox-input"},watch:{modelValue(e){if(e===this.trueValue||e===this.falseValue)this.updateModel();else{if(![null,void 0,""].includes(e))throw"Value should be trueValue or falseValue.";this.updateModel()}}},mounted(){this.parent=(0,yl.ah)(this,"CheckboxGroup"),this.parent&&(this.group=!0),this.group?this.parent.updateModel(!0):(this.updateModel(),this.showSlot=void 0!==this.$slots.default)},methods:{change(e){if(this.itemDisabled)return!1;const t=e.target.checked;this.currentValue=t;const n=t?this.trueValue:this.falseValue;this.$emit("update:modelValue",n),this.group?this.parent.change(this.model):(this.$emit("on-change",n),this.dispatch("FormItem","on-form-change",n))},updateModel(){this.currentValue=this.modelValue===this.trueValue},onBlur(){this.focusInner=!1},onFocus(){this.focusInner=!0}},render:function(n,i,r,o,s,a){return(0,t.wg)(),(0,t.iD)("label",{class:(0,c.C_)(a.wrapClasses)},[(0,t._)("span",{class:(0,c.C_)(a.checkboxClasses)},[(0,t._)("span",{class:(0,c.C_)(a.innerClasses)},null,2),s.group?(0,t.wy)(((0,t.wg)(),(0,t.iD)("input",{key:0,"onUpdate:modelValue":i[0]||(i[0]=e=>s.model=e),type:"checkbox",class:(0,c.C_)(a.inputClasses),disabled:n.itemDisabled,value:r.label,name:r.name,onChange:i[1]||(i[1]=(...e)=>a.change&&a.change(...e)),onFocus:i[2]||(i[2]=(...e)=>a.onFocus&&a.onFocus(...e)),onBlur:i[3]||(i[3]=(...e)=>a.onBlur&&a.onBlur(...e))},null,42,Hc)),[[e.e8,s.model]]):((0,t.wg)(),(0,t.iD)("input",{key:1,type:"checkbox",class:(0,c.C_)(a.inputClasses),disabled:n.itemDisabled,checked:s.currentValue,name:r.name,onChange:i[4]||(i[4]=(...e)=>a.change&&a.change(...e)),onFocus:i[5]||(i[5]=(...e)=>a.onFocus&&a.onFocus(...e)),onBlur:i[6]||(i[6]=(...e)=>a.onBlur&&a.onBlur(...e))},null,42,Kc))],2),(0,t.WI)(n.$slots,"default",{},(()=>[s.showSlot?((0,t.wg)(),(0,t.iD)("span",Zc,(0,c.zw)(r.label),1)):(0,t.kq)("v-if",!0)]))],2)}},Yc=["default","primary","success","warning","error","blue","green","red","yellow","pink","magenta","volcano","orange","gold","lime","cyan","geekblue","purple"],Qc=["pink","magenta","volcano","orange","gold","lime","cyan","geekblue","purple"],Jc={name:"Tag",components:{Icon:dl.Z},props:{closable:{type:Boolean,default:!1},checkable:{type:Boolean,default:!1},checked:{type:Boolean,default:!0},color:{type:String,default:"default"},type:{validator:e=>(0,yl.kw)(e,["border","dot"])},name:{type:[String,Number]},fade:{type:Boolean,default:!0},size:{validator:e=>(0,yl.kw)(e,["default","medium","large"]),default:"default"}},data(){return{isChecked:this.checked}},computed:{classes(){return["ivu-tag",`ivu-tag-size-${this.size}`,{[`ivu-tag-${this.color}`]:!!this.color&&(0,yl.kw)(this.color,Yc),[`ivu-tag-${this.type}`]:!!this.type,"ivu-tag-closable":this.closable,"ivu-tag-checked":this.isChecked}]},wraperStyles(){return(0,yl.kw)(this.color,Yc)?{}:{background:this.isChecked?this.defaultTypeColor:"transparent",borderWidth:"1px",borderStyle:"solid",borderColor:"dot"!==this.type&&"border"!==this.type&&this.isChecked?this.borderColor:this.lineColor,color:this.lineColor}},textClasses(){return["ivu-tag-text","border"===this.type&&(0,yl.kw)(this.color,Yc)?`ivu-tag-color-${this.color}`:"","dot"!==this.type&&"border"!==this.type&&"default"!==this.color&&this.isChecked&&Qc.indexOf(this.color)<0?"ivu-tag-color-white":""]},dotClasses:()=>"ivu-tag-dot-inner",iconClass(){return"dot"===this.type?"":"border"===this.type?(0,yl.kw)(this.color,Yc)?`ivu-tag-color-${this.color}`:"":void 0!==this.color?"default"===this.color?"":"rgb(255, 255, 255)":""},showDot(){return!!this.type&&"dot"===this.type},lineColor(){return"dot"===this.type?"":"border"===this.type?void 0!==this.color?(0,yl.kw)(this.color,Yc)?"":this.color:"":void 0!==this.color?"default"===this.color?"":"rgb(255, 255, 255)":""},borderColor(){return void 0!==this.color?"default"===this.color?"":this.color:""},dotColor(){return void 0!==this.color?(0,yl.kw)(this.color,Yc)?"":this.color:""},textColorStyle(){return(0,yl.kw)(this.color,Yc)?{}:"dot"!==this.type&&"border"!==this.type?this.isChecked?{color:this.lineColor}:{}:{color:this.lineColor}},bgColorStyle(){return(0,yl.kw)(this.color,Yc)?{}:{background:this.dotColor}},defaultTypeColor(){return"dot"!==this.type&&"border"!==this.type&&void 0!==this.color?(0,yl.kw)(this.color,Yc)?"":this.color:""}},watch:{checked(e){this.isChecked=e}},methods:{close(e){void 0===this.name?this.$emit("on-close",e):this.$emit("on-close",e,this.name)},check(){if(!this.checkable)return;const e=!this.isChecked;this.isChecked=e,void 0===this.name?this.$emit("on-change",e):this.$emit("on-change",e,this.name)}},render:function(n,i,r,o,s,a){const l=(0,t.up)("Icon");return r.fade?((0,t.wg)(),(0,t.j4)(e.uT,{key:0,name:"fade"},{default:(0,t.w5)((()=>[(0,t._)("div",{class:(0,c.C_)(a.classes),style:(0,c.j5)(a.wraperStyles),onClick:i[0]||(i[0]=(...e)=>a.check&&a.check(...e))},[a.showDot?((0,t.wg)(),(0,t.iD)("span",{key:0,class:(0,c.C_)(a.dotClasses),style:(0,c.j5)(a.bgColorStyle)},null,6)):(0,t.kq)("v-if",!0),(0,t._)("span",{class:(0,c.C_)(a.textClasses),style:(0,c.j5)(a.textColorStyle)},[(0,t.WI)(n.$slots,"default")],6),r.closable?((0,t.wg)(),(0,t.j4)(l,{key:1,class:(0,c.C_)(a.iconClass),color:a.lineColor,type:"ios-close",onClick:(0,e.iM)(a.close,["stop"])},null,8,["class","color","onClick"])):(0,t.kq)("v-if",!0)],6)])),_:3})):((0,t.wg)(),(0,t.iD)("div",{key:1,class:(0,c.C_)(a.classes),style:(0,c.j5)(a.wraperStyles),onClick:i[1]||(i[1]=(...e)=>a.check&&a.check(...e))},[a.showDot?((0,t.wg)(),(0,t.iD)("span",{key:0,class:(0,c.C_)(a.dotClasses),style:(0,c.j5)(a.bgColorStyle)},null,6)):(0,t.kq)("v-if",!0),(0,t._)("span",{class:(0,c.C_)(a.textClasses),style:(0,c.j5)(a.textColorStyle)},[(0,t.WI)(n.$slots,"default")],6),r.closable?((0,t.wg)(),(0,t.j4)(l,{key:1,class:(0,c.C_)(a.iconClass),color:a.lineColor,type:"ios-close",onClick:(0,e.iM)(a.close,["stop"])},null,8,["class","color","onClick"])):(0,t.kq)("v-if",!0)],6))}},Xc=(0,t.Uk)(" "+(0,c.zw)(" ")+" "),eu={name:"Panel",components:{Icon:dl.Z,CollapseTransition:ql},props:{name:{type:String,default:""},hideArrow:{type:Boolean,default:!1}},data:()=>({index:0,isActive:!1,mounted:!1}),computed:{itemClasses(){return["ivu-collapse-item",{"ivu-collapse-item-active":this.isActive}]},headerClasses:()=>"ivu-collapse-header",contentClasses:()=>"ivu-collapse-content",boxClasses:()=>"ivu-collapse-content-box"},mounted(){this.mounted=!0,this.$parent.setActive()},methods:{toggle(){this.$parent.toggle({name:this.name||this.index,isActive:this.isActive})}},render:function(n,i,r,o,s,a){const l=(0,t.up)("Icon"),u=(0,t.up)("collapse-transition");return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(a.itemClasses)},[(0,t._)("div",{class:(0,c.C_)(a.headerClasses),onClick:i[0]||(i[0]=(...e)=>a.toggle&&a.toggle(...e))},[r.hideArrow?(0,t.kq)("v-if",!0):((0,t.wg)(),(0,t.j4)(l,{key:0,type:"ios-arrow-forward"})),Xc,(0,t.WI)(n.$slots,"default")],2),s.mounted?((0,t.wg)(),(0,t.j4)(u,{key:0},{default:(0,t.w5)((()=>[(0,t.wy)((0,t._)("div",{class:(0,c.C_)(a.contentClasses)},[(0,t._)("div",{class:(0,c.C_)(a.boxClasses)},[(0,t.WI)(n.$slots,"content")],2)],2),[[e.F8,s.isActive]])])),_:3})):(0,t.kq)("v-if",!0)],2)}},tu=["tabindex"],nu=["name","value"];var iu=n(9338);const ru={class:"ivu-tag ivu-tag-checked"},ou={key:1,class:"ivu-tag ivu-tag-checked"},su={class:"ivu-tag-text ivu-select-max-tag"},au=["id","disabled","placeholder"],lu={name:"SelectHead",components:{Icon:dl.Z},mixins:[fl.Z],inject:["selectComponent"],props:{disabled:{type:Boolean,default:!1},filterable:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},remote:{type:Boolean,default:!1},initialLabel:{type:[String,Number,Array]},values:{type:Array,default:()=>[]},clearable:{type:[Function,Boolean],default:!1},inputElementId:{type:String},placeholder:{type:String},queryProp:{type:String,default:""},prefix:{type:String},maxTagCount:{type:Number},maxTagPlaceholder:{type:Function},allowCreate:{type:Boolean},showCreateItem:{type:Boolean}},emits:["on-input-blur","on-query-change","on-input-focus","on-keydown"],data(){return{prefixCls:"ivu-select",query:"",inputLength:20,remoteInitialLabel:this.initialLabel,preventRemoteCall:!1}},computed:{singleDisplayClasses(){const{filterable:e,multiple:t,showPlaceholder:n}=this;return[{"ivu-select-head-with-prefix":this.$slots.prefix||this.prefix,"ivu-select-placeholder":n&&!e,"ivu-select-selected-value":!n&&!t&&!e}]},singleDisplayValue(){return this.multiple&&this.values.length>0||this.filterable?"":`${this.selectedSingle}`||this.localePlaceholder},showPlaceholder(){let e=!1;if(this.multiple)!this.values.length>0&&(e=!0);else{const t=this.values[0];void 0!==t&&""!==String(t).trim()||(e=!this.remoteInitialLabel)}return e},resetSelect(){return!this.showPlaceholder&&this.clearable},inputStyle(){const e={};return this.multiple&&(this.showPlaceholder?e.width="100%":e.width=`${this.inputLength}px`),e},localePlaceholder(){return void 0===this.placeholder?this.t("i.select.placeholder"):this.placeholder},selectedSingle(){const e=this.values[0];return e?e.label:this.remoteInitialLabel||""},selectedMultiple(){return this.multiple?this.values:[]},headCls(){return{"ivu-select-head-flex":this.filterable&&(this.$slots.prefix||this.prefix)}},arrowType:()=>"ios-arrow-down",customArrowType:()=>"",arrowSize:()=>""},watch:{values([e]){if(this.filterable){if(this.preventRemoteCall=!0,this.multiple)return this.query="",void(this.preventRemoteCall=!1);this.query=void 0===e||""===e||null===e?"":e.label,this.$nextTick((()=>this.preventRemoteCall=!1))}},query(e){this.preventRemoteCall?this.preventRemoteCall=!1:this.$emit("on-query-change",e)},queryProp(e){e!==this.query&&(this.query=e)}},methods:{onInputFocus(){this.$emit("on-input-focus")},onInputBlur(){this.showCreateItem||(this.values.length||(this.query=""),this.$emit("on-input-blur"))},removeTag(e){if(this.disabled)return!1;this.selectComponent.onOptionClick(e)},resetInputState(){this.inputLength=12*this.$refs.input.value.length+20,this.$emit("on-keydown")},handleInputDelete(e){const t=e.target.value;this.multiple&&this.selectedMultiple.length&&""===this.query&&""===t&&this.removeTag(this.selectedMultiple[this.selectedMultiple.length-1])},handleInputEnter(){this.$emit("on-enter")},onHeaderClick(e){this.filterable&&e.target===this.$el&&this.$refs.input.focus()},onClear(){this.$emit("on-clear")}},render:function(n,i,r,o,s,a){const l=(0,t.up)("Icon");return(0,t.wg)(),(0,t.iD)("div",null,[n.$slots.prefix||r.prefix?((0,t.wg)(),(0,t.iD)("span",{key:0,class:(0,c.C_)([s.prefixCls+"-prefix"])},[(0,t.WI)(n.$slots,"prefix",{},(()=>[r.prefix?((0,t.wg)(),(0,t.j4)(l,{key:0,type:r.prefix},null,8,["type"])):(0,t.kq)("v-if",!0)]))],2)):(0,t.kq)("v-if",!0),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.selectedMultiple,((n,i)=>((0,t.wg)(),(0,t.iD)("div",ru,[void 0===r.maxTagCount||i<r.maxTagCount?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t._)("span",{class:(0,c.C_)(["ivu-tag-text",{"ivu-select-multiple-tag-hidden":n.disabled}])},(0,c.zw)(void 0!==n.tag?n.tag:n.label),3),n.disabled?(0,t.kq)("v-if",!0):((0,t.wg)(),(0,t.j4)(l,{key:0,type:"ios-close",size:"large",onClickCapture:(0,e.iM)((e=>a.removeTag(n)),["stop"])},null,8,["onClickCapture"]))],64)):(0,t.kq)("v-if",!0)])))),256)),void 0!==r.maxTagCount&&a.selectedMultiple.length>r.maxTagCount?((0,t.wg)(),(0,t.iD)("div",ou,[(0,t._)("span",su,[r.maxTagPlaceholder?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t.Uk)((0,c.zw)(r.maxTagPlaceholder(a.selectedMultiple.length-r.maxTagCount)),1)],2112)):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t.Uk)("+ "+(0,c.zw)(a.selectedMultiple.length-r.maxTagCount)+"...",1)],2112))])])):(0,t.kq)("v-if",!0),(0,t.wy)((0,t._)("span",{class:(0,c.C_)(a.singleDisplayClasses)},(0,c.zw)(a.singleDisplayValue),3),[[e.F8,a.singleDisplayValue]]),r.filterable?(0,t.wy)(((0,t.wg)(),(0,t.iD)("input",{key:2,id:r.inputElementId,ref:"input","onUpdate:modelValue":i[0]||(i[0]=e=>s.query=e),type:"text",disabled:r.disabled,class:(0,c.C_)([s.prefixCls+"-input"]),placeholder:a.showPlaceholder?a.localePlaceholder:"",style:(0,c.j5)(a.inputStyle),autocomplete:"off",spellcheck:"false",onKeydown:[i[1]||(i[1]=(...e)=>a.resetInputState&&a.resetInputState(...e)),i[2]||(i[2]=(0,e.D2)(((...e)=>a.handleInputDelete&&a.handleInputDelete(...e)),["delete"])),i[3]||(i[3]=(0,e.D2)(((...e)=>a.handleInputEnter&&a.handleInputEnter(...e)),["enter"]))],onFocus:i[4]||(i[4]=(...e)=>a.onInputFocus&&a.onInputFocus(...e)),onBlur:i[5]||(i[5]=(...e)=>a.onInputBlur&&a.onInputBlur(...e))},null,46,au)),[[e.nr,s.query]]):(0,t.kq)("v-if",!0),a.resetSelect?((0,t.wg)(),(0,t.j4)(l,{key:3,type:"ios-close-circle",class:(0,c.C_)([s.prefixCls+"-arrow"]),onClick:(0,e.iM)(a.onClear,["stop"])},null,8,["class","onClick"])):(0,t.kq)("v-if",!0),a.resetSelect||r.remote?(0,t.kq)("v-if",!0):((0,t.wg)(),(0,t.j4)(l,{key:4,type:a.arrowType,custom:a.customArrowType,size:a.arrowSize,class:(0,c.C_)([s.prefixCls+"-arrow"])},null,8,["type","custom","size","class"]))])}},cu=/^voption$|^option$/i,uu=/option-?group/i,du=e=>{if(e.type&&e.type.name&&e.type.name.match(cu))return[e];if(!e.children)return[];const t=(Array.isArray(e.children)?e.children:"function"==typeof e.children?e.children():[]).reduce(((e,t)=>[...e,...du(t)]),[]).filter(Boolean);return t.length>0?t:[]},hu=e=>e.reduce(((e,t)=>e.concat(du(t))),[]),pu=(e,t,n)=>({...e,props:{...e.props,[t]:n}}),fu={name:"VSelect",components:{FunctionalOptions:{props:{options:{type:Array,default:[]},slotOptions:{type:Array,default:[]},slotUpdateHook:{type:Function,default:()=>{}}},render(){if(this.$parent.$parent.$parent.$slots.default){const e=this.slotOptions[0]?.children?.map&&this.slotOptions[0]?.children?.map((e=>e.props))||[],t=this.$parent.$parent.$parent.$slots.default()[0].children[0]?.children?.map&&this.$parent.$parent.$parent.$slots.default()[0].children[0]?.children.map((e=>e.props))||[];JSON.stringify(e)!==JSON.stringify(t)&&this.slotUpdateHook()}return(0,t.h)("ul",{},[this.$slots.default(),this.options])}},SelectDropdown:Bl.Z,SelectHead:lu,Icon:dl.Z},directives:{clickOutside:iu.X,TransferDom:pl.Z},mixins:[ml.Z,fl.Z,ac.Z],provide(){return{selectComponent:this}},props:{modelValue:{type:[String,Number,Array],default:""},label:{type:[String,Number,Array],default:""},defaultLabel:{type:[String,Number,Array],default:""},multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},placeholder:{type:String},filterable:{type:Boolean,default:!1},filterMethod:{type:Function},remoteMethod:{type:Function},loading:{type:Boolean,default:!1},loadingText:{type:String},size:{validator:e=>(0,yl.kw)(e,["small","large","default"]),default:()=>"default"},labelInValue:{type:Boolean,default:!1},notFoundText:{type:String},placement:{validator:e=>(0,yl.kw)(e,["top","bottom","top-start","bottom-start","top-end","bottom-end"]),default:"bottom-start"},transfer:{type:Boolean,default:()=>!1},autoComplete:{type:Boolean,default:!1},name:{type:String},elementId:{type:String},transferClassName:{type:String},prefix:{type:String},maxTagCount:{type:Number},maxTagPlaceholder:{type:Function},allowCreate:{type:Boolean,default:!1},capture:{type:Boolean,default:()=>!0},filterByLabel:{type:Boolean,default:!1}},emits:["update:modelValue","on-change","on-open-change","on-query-change","on-select"],data(){return{prefixCls:"ivu-select",values:[],dropDownWidth:0,visible:!1,focusIndex:-1,isFocused:!1,query:"",initialLabel:this.label,hasMouseHoverHead:!1,slotOptions:[],optionComponents:[],caretPosition:-1,lastRemoteQuery:"",unchangedQuery:!0,hasExpectedValue:!1,isTyping:!1,preventRemoteCall:!1,filterQueryChange:!1}},computed:{classes(){return["ivu-select",{"ivu-select-visible":this.visible,"ivu-select-disabled":this.itemDisabled,"ivu-select-multiple":this.multiple,"ivu-select-single":!this.multiple,[`ivu-select-${this.size}`]:!!this.size}]},dropdownCls(){return{"ivu-select-dropdown-transfer":this.transfer,"ivu-select-multiple":this.multiple&&this.transfer,"ivu-auto-complete":this.autoComplete,[this.transferClassName]:this.transferClassName}},selectionCls(){return{"ivu-select-selection":!this.autoComplete,"ivu-select-selection-focused":this.isFocused}},localeNotFoundText(){return void 0===this.notFoundText?this.t("i.select.noMatch"):this.notFoundText},localeLoadingText(){return void 0===this.loadingText?this.t("i.select.loading"):this.loadingText},showCreateItem(){let e=!1;if(this.allowCreate&&""!==this.query){e=!0;const t=(0,yl.Hj)(this,"VOption");t&&t.length&&t.find((e=>e.optionLabel===this.query))&&(e=!1)}return e},transitionName(){return"bottom"===this.placement?"slide-up":"slide-down"},dropVisible(){let e=!0;const t=!this.selectOptions||0===this.selectOptions.length;return!this.loading&&""===this.query&&t&&(e=!1),this.autoComplete&&t&&(e=!1),this.visible&&e},showNotFoundLabel(){const{loading:e,remote:t,selectOptions:n}=this;return n&&0===n.length&&(!t||t&&!e)},publicValue(){return this.labelInValue?this.multiple?this.values:this.values[0]:this.multiple?this.values.map((e=>e.value)):(this.values[0]||{}).value},canBeCleared(){const e=this.hasMouseHoverHead,t=!this.multiple&&!this.itemDisabled&&this.clearable;return e&&t&&this.reset},selectOptions(){const e=[],t=this.slotOptions||[];let n=-1;const i=this.focusIndex,r=this.values.filter(Boolean).map((({value:e})=>e));if(this.autoComplete){const e=(t,n)=>({...t,children:Array.isArray(t.children)?t.children.map(n).map((t=>e(t,n))):t.children}),n=hu(t)[i];return t.map((t=>{return t===n||(i=t,"props.value".split(".").reduce(((e,t)=>e&&e[t]||null),i)==this.modelValue)?pu(t,"isFocused",!0):e(t,(e=>n&&e.props.value===n.props.value?(this.optionComponents.forEach((e=>{e.dataIsFocused=e.$.vnode.key===n.props.key})),pu(e,"isFocused",!0)):e));var i}))}for(const o of t)if(o.type.name.match(uu)){let t=o.children;this.filterable&&this.isTyping&&(t=t.filter((e=>this.validateOption(e)))),t=t.map((e=>(n+=1,this.processOption(e,r,n==i)))),t.length>0&&e.push({...o,componentOptions:{...cOptions,children:t}})}else{if(this.filterQueryChange&&!(this.filterable?this.validateOption(o):o))continue;n+=1,e.push(this.processOption(o,r,n==i))}return e},flatOptions(){return hu(this.selectOptions)},selectTabindex(){return this.itemDisabled||this.filterable?-1:0},remote(){return"function"==typeof this.remoteMethod}},watch:{modelValue(e){const{getInitialValue:t,getOptionData:n,publicValue:i,values:r}=this;this.checkUpdateStatus(),""===e?this.values=[]:((e,t,n)=>{const i=JSON.stringify(e),r=JSON.stringify(t),o=JSON.stringify(n.map((e=>e.value)));return i!==r||i!==o||o!==r})(e,i,r)&&(this.$nextTick((()=>{this.values=t().map(n).filter(Boolean)})),this.multiple||this.dispatch("FormItem","on-form-change",this.publicValue))},values(e,t){const n=JSON.stringify(e),i=JSON.stringify(t),r=e.map((e=>e.value));this.autoComplete?this.focusIndex=0:this.optionComponents.forEach(((e,t)=>{e.dataSelected=r.includes(e.value),e.dataIsFocused=r.includes(e.value),r.includes(e.value)&&(this.focusIndex=t)}));const o=this.publicValue&&this.labelInValue?this.multiple?this.publicValue.map((({value:e})=>e)):this.publicValue.value:this.publicValue;n!==i&&o!==this.value&&(this.$emit("update:modelValue",o),this.$emit("on-change",this.publicValue),this.dispatch("FormItem","on-form-change",this.publicValue))},query(e){this.$emit("on-query-change",e);const{remoteMethod:t,lastRemoteQuery:n}=this,i=t&&(e!==n||!n)&&!this.preventRemoteCall;if(this.preventRemoteCall=!1,i){this.focusIndex=-1;const t=this.remoteMethod(e);this.initialLabel="",t&&t.then&&t.then((e=>{e&&(this.options=e)}))}""!==e&&this.remote&&(this.lastRemoteQuery=e)},loading(e){!1===e&&this.updateSlotOptions()},isFocused(e){(this.filterable?this.$el.querySelector('input[type="text"]'):this.$el)[this.isFocused?"focus":"blur"]();const[t]=this.values;if(t&&this.filterable&&!this.multiple&&!e){const e=String(t.label||t.value).trim();e&&this.query!==e&&(this.preventRemoteCall=!0,this.query=e.trim())}},focusIndex(e){if(e<0||this.autoComplete)return;const t=this.flatOptions[e].props.value,n=(this,i=e=>e.value==t,(0,yl.Hj)(this,"VOption").find(i));var i;const r=n.$el.getBoundingClientRect().bottom-this.$refs.dropdown.$el.getBoundingClientRect().bottom,o=n.$el.getBoundingClientRect().top-this.$refs.dropdown.$el.getBoundingClientRect().top;r>0&&(this.$refs.dropdown.$el.scrollTop+=r),o<0&&(this.$refs.dropdown.$el.scrollTop+=o)},dropVisible(e){this.broadcast("SelectDropdown",e?"on-update-popper":"on-destroy-popper")},selectOptions(){this.hasExpectedValue&&this.selectOptions.length>0&&(0===this.values.length&&(this.values=this.getInitialValue()),this.values=this.values.map(this.getOptionData).filter(Boolean),this.hasExpectedValue=!1),this.broadcast("SelectDropdown","on-update-popper")},visible(e){this.$emit("on-open-change",e)},slotOptions(e,t){if(!this.remote){const e=this.getInitialValue();this.flatOptions&&this.flatOptions.length&&e.length&&!this.multiple&&(this.values=e.map(this.getOptionData).filter(Boolean))}e&&t&&e.length!==t.length&&this.broadcast("SelectDropdown","on-update-popper")}},mounted(){if(this.updateSlotOptions(),this.mitt.on("on-select-selected",this.onOptionClick),!this.remote&&this.selectOptions.length>0&&(this.values=this.getInitialValue().map((e=>"number"==typeof e||e?this.getOptionData(e):null)).filter(Boolean)),this.checkUpdateStatus(),this.remote&&this.modelValue&&this.defaultLabel)if(this.multiple){if(this.multiple&&this.defaultLabel instanceof Array&&this.value.length===this.defaultLabel.length){const e=this.value.map(((e,t)=>({value:e,label:this.defaultLabel[t]})));this.$emit("on-set-default-options",JSON.parse(JSON.stringify(e))),setTimeout((()=>{this.values=e}))}}else this.query=this.defaultLabel},beforeUnmont(){this.mitt.off("on-select-selected")},methods:{setQuery(e){e?this.onQueryChange(e):null===e&&(this.onQueryChange(""),this.values=[],this.lastRemoteQuery="")},clearSingleSelect(){this.multiple||this.$emit("update:modelValue",""),this.$emit("on-clear"),this.hideMenu(),this.clearable&&this.reset()},getOptionData(e){const t=this.flatOptions.find((({props:t})=>t.value==e));if(!t)return null;const n=(e=>e.props.label?e.props.label:e.component?e.component.proxy.$el.innerHTML.trim():e.children.default().map((e=>e.children)).join().trim())(t),i=t.props.disabled;return{value:e,label:n,disabled:i}},getInitialValue(){const{multiple:e,remote:t,modelValue:n}=this;let i=Array.isArray(n)?n:[n];if(e||void 0!==i[0]&&(""!==String(i[0]).trim()||Number.isFinite(i[0]))||(i=[]),t&&!e&&n){const e=this.getOptionData(n);this.query=e?e.label:String(n)}return i.filter((e=>Boolean(e)||0===e))},processOption(e,t,n){if(!e.props)return e;const i=e.props.value,r=e.props.disabled,o=t.includes(i),s={...e.props,selected:o,isFocused:n,disabled:void 0!==r&&!1!==r};return e.component&&(e.component.selected=o,e.component.isFocused=n),{...e,props:s}},validateOption({children:e,el:t,props:n}){const i=n.value,r=n.label||"",o=t&&t.textContent||(e&&e.default()||[]).reduce(((e,t)=>`${e} ${t.elm?t.elm.textContent:t.text||t.children}`),"")||"",s=this.filterByLabel?[r].toString():[i,r,o].toString(),a=this.query.toLowerCase().trim();return s.toLowerCase().includes(a)},toggleMenu(e,t){if(this.itemDisabled)return!1;this.visible=void 0!==t?t:!this.visible,this.visible&&(this.dropDownWidth=this.$el.getBoundingClientRect().width,this.broadcast("SelectDropdown","on-update-popper"))},hideMenu(){this.toggleMenu(null,!1),this.isTyping=!1,setTimeout((()=>this.unchangedQuery=!0),300)},onClickOutside(e){if(this.visible){if("mousedown"===e.type)return void e.preventDefault();if(this.transfer){const{$el:t}=this.$refs.dropdown;if(t===e.target||t.contains(e.target))return}if(this.filterable){const e=this.$el.querySelector('input[type="text"]');this.caretPosition=e.selectionStart,this.$nextTick((()=>{const t=-1===this.caretPosition?e.value.length:this.caretPosition;e.setSelectionRange(t,t)}))}this.autoComplete||e.stopPropagation(),e.preventDefault(),this.hideMenu(),this.isFocused=!0,this.$emit("on-clickoutside",e)}else this.caretPosition=-1,this.isFocused=!1},reset(){this.query="",this.focusIndex=-1,this.unchangedQuery=!0,this.values=[],this.filterQueryChange=!1},handleKeydown(e){const t=e.key||e.code,n=e.keyCode||e.which;if("Backspace"!==t&&8!==n)if(this.visible){if(e.preventDefault(),"Tab"===t&&e.stopPropagation(),"Escape"===t&&(e.stopPropagation(),this.hideMenu()),"ArrowUp"===t&&this.navigateOptions(-1),"ArrowDown"===t&&this.navigateOptions(1),"Enter"===t){if(-1===this.focusIndex)return this.hideMenu();const e=this.flatOptions[this.focusIndex];if(e){const t=this.getOptionData(e.props.value);this.onOptionClick(t)}else this.hideMenu()}}else["ArrowUp","ArrowDown"].includes(e.key)&&this.toggleMenu(null,!0)},navigateOptions(e){const t=this.flatOptions.length-1;let n=this.focusIndex+e;if(n<0&&(n=t),n>t&&(n=0),e>0){let e=-1;for(let t=0;t<this.flatOptions.length&&(!this.flatOptions[t].props.disabled&&(e=t),!(e>=n));t++);n=e}else{let e=this.flatOptions.length;for(let i=t;i>=0&&(!this.flatOptions[i].props.disabled&&(e=i),!(e<=n));i--);n=e}this.focusIndex=n},onOptionClick(e){if(this.multiple){this.remote?this.lastRemoteQuery=this.lastRemoteQuery||this.query:this.lastRemoteQuery="";const t=this.values.find((({value:t})=>t==e.value));this.values=t?this.values.filter((({value:t})=>t!==e.value)):this.values.concat(e),this.isFocused=!0}else this.query=String(e.label).trim(),this.values=[e],this.lastRemoteQuery="",this.hideMenu();if(this.focusIndex=this.flatOptions.findIndex((t=>!(!t||!t.props)&&t.props.value==e.value)),this.filterable){const e=this.$el.querySelector('input[type="text"]');this.autoComplete||this.$nextTick((()=>e.focus()))}this.$emit("on-select",e),this.broadcast("SelectDropdown","on-update-popper"),setTimeout((()=>{this.filterQueryChange=!1}),300)},onQueryChange(e){if(this.isTyping=!0,e.length>0&&e!==this.query)if(this.autoComplete){const e=document.hasFocus&&document.hasFocus()&&document.activeElement===this.$el.querySelector("input");this.visible=e}else this.visible=!0;this.query=e,this.unchangedQuery=this.visible,this.filterQueryChange=!0},toggleHeaderFocus({type:e}){this.itemDisabled||(this.isFocused="focus"===e)},updateSlotOptions(){this.$slots.default&&this.$slots.default()[0].children&&(this.slotOptions=this.$slots.default()[0].children)},checkUpdateStatus(){this.getInitialValue().length>0&&0===this.selectOptions.length&&(this.hasExpectedValue=!0)},handleCreateItem(){if(this.allowCreate&&""!==this.query&&this.showCreateItem){const e=this.query;this.$emit("on-create",e),this.query="";const t={value:e,label:e,tag:void 0};this.multiple?this.onOptionClick(t):this.$nextTick((()=>this.onOptionClick(t)))}}},render:function(n,i,r,o,s,a){const l=(0,t.up)("SelectHead"),u=(0,t.up)("Icon"),d=(0,t.up)("FunctionalOptions"),h=(0,t.up)("SelectDropdown"),p=(0,t.Q2)("transfer-dom"),f=(0,t.Q2)("click-outside");return(0,t.wy)(((0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(a.classes)},[(0,t._)("div",{ref:"reference",class:(0,c.C_)(a.selectionCls),tabindex:a.selectTabindex,onBlur:i[2]||(i[2]=(...e)=>a.toggleHeaderFocus&&a.toggleHeaderFocus(...e)),onFocus:i[3]||(i[3]=(...e)=>a.toggleHeaderFocus&&a.toggleHeaderFocus(...e)),onClick:i[4]||(i[4]=(...e)=>a.toggleMenu&&a.toggleMenu(...e)),onKeydown:[i[5]||(i[5]=(0,e.D2)(((...e)=>a.handleKeydown&&a.handleKeydown(...e)),["esc"])),i[6]||(i[6]=(0,e.D2)(((...e)=>a.handleKeydown&&a.handleKeydown(...e)),["enter"])),i[7]||(i[7]=(0,e.D2)((0,e.iM)(((...e)=>a.handleKeydown&&a.handleKeydown(...e)),["prevent"]),["up"])),i[8]||(i[8]=(0,e.D2)((0,e.iM)(((...e)=>a.handleKeydown&&a.handleKeydown(...e)),["prevent"]),["down"])),i[9]||(i[9]=(0,e.D2)(((...e)=>a.handleKeydown&&a.handleKeydown(...e)),["tab"])),i[10]||(i[10]=(0,e.D2)(((...e)=>a.handleKeydown&&a.handleKeydown(...e)),["delete"]))],onMouseenter:i[11]||(i[11]=e=>s.hasMouseHoverHead=!0),onMouseleave:i[12]||(i[12]=e=>s.hasMouseHoverHead=!1)},[(0,t.WI)(n.$slots,"input",{},(()=>[(0,t._)("input",{type:"hidden",name:r.name,value:a.publicValue},null,8,nu),(0,t.Wm)(l,{filterable:r.filterable,multiple:r.multiple,values:s.values,clearable:a.canBeCleared,prefix:r.prefix,disabled:n.itemDisabled,remote:a.remote,"input-element-id":r.elementId,"initial-label":s.initialLabel,placeholder:r.placeholder,"query-prop":s.query,"max-tag-count":r.maxTagCount,"max-tag-placeholder":r.maxTagPlaceholder,"allow-create":r.allowCreate,"show-create-item":a.showCreateItem,onOnQueryChange:a.onQueryChange,onOnInputFocus:i[0]||(i[0]=e=>s.isFocused=!0),onOnInputBlur:i[1]||(i[1]=e=>s.isFocused=!1),onOnClear:a.clearSingleSelect,onOnEnter:a.handleCreateItem},{default:(0,t.w5)((()=>[(0,t.WI)(n.$slots,"prefix",{slot:"prefix"})])),_:3},8,["filterable","multiple","values","clearable","prefix","disabled","remote","input-element-id","initial-label","placeholder","query-prop","max-tag-count","max-tag-placeholder","allow-create","show-create-item","onOnQueryChange","onOnClear","onOnEnter"])]))],42,tu),(0,t.Wm)(e.uT,{name:"transition-drop"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(h,{ref:"dropdown",class:(0,c.C_)(a.dropdownCls),placement:r.placement,"data-transfer":r.transfer,transfer:r.transfer},{default:(0,t.w5)((()=>[(0,t.wy)((0,t._)("ul",{class:(0,c.C_)([s.prefixCls+"-not-found"])},[(0,t._)("li",null,(0,c.zw)(a.localeNotFoundText),1)],2),[[e.F8,a.showNotFoundLabel&&!r.allowCreate]]),!a.remote||a.remote&&!r.loading?((0,t.wg)(),(0,t.j4)(d,{key:0,options:a.selectOptions,"slot-update-hook":a.updateSlotOptions,"slot-options":s.slotOptions,class:(0,c.C_)(s.prefixCls+"-dropdown-list")},{default:(0,t.w5)((()=>[a.showCreateItem?((0,t.wg)(),(0,t.iD)("li",{key:0,class:(0,c.C_)(s.prefixCls+"-item"),onClick:i[13]||(i[13]=(...e)=>a.handleCreateItem&&a.handleCreateItem(...e))},[(0,t.Uk)((0,c.zw)(s.query)+" ",1),(0,t.Wm)(u,{type:"md-return-left",class:(0,c.C_)(s.prefixCls+"-item-enter")},null,8,["class"])],2)):(0,t.kq)("v-if",!0)])),_:1},8,["options","slot-update-hook","slot-options","class"])):((0,t.wg)(),(0,t.iD)("ul",{key:1,class:(0,c.C_)(s.prefixCls+"-dropdown-list")},[a.showCreateItem?((0,t.wg)(),(0,t.iD)("li",{key:0,class:(0,c.C_)(s.prefixCls+"-item"),onClick:i[14]||(i[14]=(...e)=>a.handleCreateItem&&a.handleCreateItem(...e))},[(0,t.Uk)((0,c.zw)(s.query)+" ",1),(0,t.Wm)(u,{type:"md-return-left",class:(0,c.C_)(s.prefixCls+"-item-enter")},null,8,["class"])],2)):(0,t.kq)("v-if",!0)],2)),(0,t.wy)((0,t._)("ul",{class:(0,c.C_)([s.prefixCls+"-loading"])},(0,c.zw)(a.localeLoadingText),3),[[e.F8,r.loading]])])),_:1},8,["class","placement","data-transfer","transfer"]),[[e.F8,a.dropVisible],[p]])])),_:1})],2)),[[f,a.onClickOutside,r.capture],[f,a.onClickOutside,r.capture,{mousedown:!0}],[f,a.onClickOutside,r.capture,{touchstart:!0}]])}},mu={name:"VOption",componentName:"select-item",mixins:[ml.Z,ac.Z],inject:["selectComponent"],props:{value:{type:[String,Number],required:!0},label:{type:[String,Number]},disabled:{type:Boolean,default:!1},selected:{type:Boolean,default:!1},isFocused:{type:Boolean,default:!1},tag:{type:[String,Number]}},emits:["on-select-selected","on-clickoutside"],data:()=>({searchLabel:"",autoComplete:!1,dataSelected:!1,dataIsFocused:!1}),computed:{classes(){return["ivu-select-item",{"ivu-select-item-disabled":this.itemDisabled,"ivu-select-item-selected":this.dataSelected&&!this.autoComplete,"ivu-select-item-focus":this.dataIsFocused}]},showLabel(){return this.label?this.label:this.value},optionLabel(){return this.label||this.$el&&this.$el.textContent}},watch:{selected(e){this.dataSelected=e},isFocused(e){this.dataIsFocused=e}},mounted(){const e=this.selectComponent;e&&(this.autoComplete=e.autoComplete),this.selectComponent.optionComponents.push(this)},beforeUnmount(){const e=this.selectComponent.optionComponents.indexOf(this);this.selectComponent.optionComponents.splice(e,1)},methods:{select(){if(this.itemDisabled)return!1;this.selectComponent.mitt.emit("on-select-selected",{value:this.value,label:this.optionLabel,tag:this.tag}),this.$emit("on-select-selected",{value:this.value,label:this.optionLabel,tag:this.tag})}},render:function(n,i,r,o,s,a){return(0,t.wg)(),(0,t.iD)("li",{class:(0,c.C_)(a.classes),onClick:i[0]||(i[0]=(0,e.iM)(((...e)=>a.select&&a.select(...e)),["stop"])),onMousedown:i[1]||(i[1]=(0,e.iM)((()=>{}),["prevent"]))},[(0,t.WI)(n.$slots,"default",{},(()=>[(0,t.Uk)((0,c.zw)(a.showLabel),1)]))],34)}},gu=[(0,t._)("i",{class:"ivu-icon ivu-icon-ios-menu"},null,-1)];(0,yl.Ae)();const vu={name:"Sider",props:{modelValue:{type:Boolean,default:!1},width:{type:[Number,String],default:200},collapsedWidth:{type:[Number,String],default:64},hideTrigger:{type:Boolean,default:!1},breakpoint:{type:String,validator:e=>(0,yl.kw)(e,["xs","sm","md","lg","xl","xxl"])},collapsible:{type:Boolean,default:!1},defaultCollapsed:{type:Boolean,default:!1},reverseArrow:{type:Boolean,default:!1}},data:()=>({prefixCls:"ivu-layout-sider",mediaMatched:!1}),computed:{wrapClasses(){return["ivu-layout-sider",this.siderWidth?"":"ivu-layout-sider-zero-width",this.modelValue?"ivu-layout-sider-collapsed":""]},wrapStyles(){return{width:`${this.siderWidth}px`,minWidth:`${this.siderWidth}px`,maxWidth:`${this.siderWidth}px`,flex:`0 0 ${this.siderWidth}px`}},triggerClasses(){return["ivu-layout-sider-trigger",this.modelValue?"ivu-layout-sider-trigger-collapsed":""]},childClasses(){return`${this.prefixCls}-children`},zeroWidthTriggerClasses(){return["ivu-layout-sider-zero-width-trigger",this.reverseArrow?"ivu-layout-sider-zero-width-trigger-left":""]},triggerIconClasses(){return["ivu-icon","ivu-icon-ios-arrow-"+(this.reverseArrow?"forward":"back"),"ivu-layout-sider-trigger-icon"]},siderWidth(){return this.collapsible?this.modelValue?this.mediaMatched?0:parseInt(this.collapsedWidth):parseInt(this.width):this.width},showZeroTrigger(){return!!this.collapsible&&(this.mediaMatched&&!this.hideTrigger||0===parseInt(this.collapsedWidth)&&this.modelValue&&!this.hideTrigger)},showBottomTrigger(){return!!this.collapsible&&!this.mediaMatched&&!this.hideTrigger}},watch:{modelValue(e){this.$emit("on-collapse",e)}},mounted(){this.defaultCollapsed&&this.$emit("input",this.defaultCollapsed),void 0!==this.breakpoint&&((0,vl.on)(window,"resize",this.onWindowResize),this.matchMedia())},beforeUnmount(){void 0!==this.breakpoint&&(0,vl.S)(window,"resize",this.onWindowResize)},methods:{toggleCollapse(){const e=!!this.collapsible&&!this.modelValue;this.$emit("update:modelValue",e)},matchMedia(){let e;window.matchMedia&&(e=window.matchMedia);const t=this.mediaMatched;this.mediaMatched=e(`(max-width: ${yl.pp[this.breakpoint]})`).matches,this.mediaMatched!==t&&this.$emit("input",this.mediaMatched)},onWindowResize(){this.matchMedia()}},render:function(n,i,r,o,s,a){return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(a.wrapClasses),style:(0,c.j5)(a.wrapStyles)},[(0,t.wy)((0,t._)("span",{class:(0,c.C_)(a.zeroWidthTriggerClasses),onClick:i[0]||(i[0]=(...e)=>a.toggleCollapse&&a.toggleCollapse(...e))},gu,2),[[e.F8,a.showZeroTrigger]]),(0,t._)("div",{class:(0,c.C_)(a.childClasses)},[(0,t.WI)(n.$slots,"default")],2),(0,t.WI)(n.$slots,"trigger",{},(()=>[(0,t.wy)((0,t._)("div",{class:(0,c.C_)(a.triggerClasses),style:(0,c.j5)({width:a.siderWidth+"px"}),onClick:i[1]||(i[1]=(...e)=>a.toggleCollapse&&a.toggleCollapse(...e))},[(0,t._)("i",{class:(0,c.C_)(a.triggerIconClasses)},null,2)],6),[[e.F8,a.showBottomTrigger]])]))],6)}},yu={name:"Breadcrumb",props:{separator:{type:String,default:"/"}},computed:{classes:()=>"ivu-breadcrumb"},watch:{separator(){this.updateChildren()}},mounted(){this.updateChildren()},updated(){this.$nextTick((()=>{this.updateChildren()}))},methods:{updateChildren(){(0,yl.Hj)(this,"BreadcrumbItem").forEach((e=>{e.separator=this.separator}))}},render:function(e,n,i,r,o,s){return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(s.classes)},[(0,t.WI)(e.$slots,"default")],2)}},bu=["href","target"],wu=["innerHTML"],_u={name:"BreadcrumbItem",mixins:[Wl.Z],props:{},data:()=>({separator:"",showSeparator:!1}),computed:{linkClasses:()=>"ivu-breadcrumb-item-link",separatorClasses:()=>"ivu-breadcrumb-item-separator"},mounted(){this.showSeparator=void 0!==this.$slots.separator},render:function(n,i,r,o,s,a){return(0,t.wg)(),(0,t.iD)("span",null,[n.to?((0,t.wg)(),(0,t.iD)("a",{key:0,href:n.linkUrl,target:n.target,class:(0,c.C_)(a.linkClasses),onClick:[i[0]||(i[0]=(0,e.iM)((e=>n.handleCheckClick(e,!1)),["exact"])),i[1]||(i[1]=(0,e.iM)((e=>n.handleCheckClick(e,!0)),["ctrl"])),i[2]||(i[2]=(0,e.iM)((e=>n.handleCheckClick(e,!0)),["meta"]))]},[(0,t.WI)(n.$slots,"default")],10,bu)):((0,t.wg)(),(0,t.iD)("span",{key:1,class:(0,c.C_)(a.linkClasses)},[(0,t.WI)(n.$slots,"default")],2)),s.showSeparator?((0,t.wg)(),(0,t.iD)("span",{key:3,class:(0,c.C_)(a.separatorClasses)},[(0,t.WI)(n.$slots,"separator")],2)):((0,t.wg)(),(0,t.iD)("span",{key:2,class:(0,c.C_)(a.separatorClasses),innerHTML:s.separator},null,10,wu))])}},xu=["title"],ku=[(0,t._)("a",null,[(0,t._)("i",{class:"ion ion--ios-arrow-back"})],-1)],Cu=["title"],Su=["value","disabled"],Au=(0,t._)("span",null,"/",-1),Du=["title"],Ou=[(0,t._)("a",null,[(0,t._)("i",{class:"ion ion-ios-arrow-forward"})],-1)],Tu=["title"],Eu={key:1,class:"ion ion-ios-arrow-back"},$u=[(0,t._)("a",null,"1",-1)],Mu=["title"],Ru=[(0,t._)("a",null,[(0,t._)("i",{class:"ion ion-ios-arrow-back"}),(0,t._)("i",{class:"ion ion-ios-more"})],-1)],Lu=["title"],Pu=["title"],Fu=["title"],Iu=["title"],ju=["title"],Nu=["title"],Vu=["title"],Bu=["title"],qu=[(0,t._)("a",null,[(0,t._)("i",{class:"ion ion-ios-arrow-forward"}),(0,t._)("i",{class:"ion ion-ios-more"})],-1)],zu=["title"],Wu=["title"],Uu={key:1,class:"ion ion-ios-arrow-forward"},Hu=["value","disabled"],Ku={name:"PageOption",components:{VSelect:fu,VOption:mu},mixins:[fl.Z],props:{pageSizeOpts:Array,showSizer:Boolean,showElevator:Boolean,current:Number,_current:Number,pageSize:Number,allPages:Number,isSmall:Boolean,placement:String,transfer:Boolean,disabled:Boolean},emits:["on-size"],data(){return{currentPageSize:this.pageSize}},computed:{size(){return this.isSmall?"small":"default"},optsClasses:()=>["ivu-page-options"],sizerClasses:()=>["ivu-page-options-sizer"],ElevatorClasses:()=>["ivu-page-options-elevator"]},watch:{pageSize(e){this.currentPageSize=e}},methods:{changeSize(){this.$emit("on-size",this.currentPageSize)},changePage(e){let t=e.target.value.trim(),n=0;if(/^[1-9][0-9]*$/.test(t+"")){if(t=Number(t),t!=this.current){const e=this.allPages;n=t>e?e:t}}else n=1;n&&(this.$emit("on-page",n),e.target.value=n)}},render:function(n,i,r,o,s,a){const l=(0,t.up)("VOption"),u=(0,t.up)("VSelect");return r.showSizer||r.showElevator?((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,c.C_)(a.optsClasses)},[r.showSizer?((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,c.C_)(a.sizerClasses)},[(0,t.Wm)(u,{modelValue:s.currentPageSize,"onUpdate:modelValue":i[0]||(i[0]=e=>s.currentPageSize=e),size:a.size,placement:r.placement,transfer:r.transfer,disabled:r.disabled,onOnChange:a.changeSize},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(r.pageSizeOpts,(e=>((0,t.wg)(),(0,t.j4)(l,{key:e,value:e,style:{"text-align":"center"}},{default:(0,t.w5)((()=>[(0,t.Uk)((0,c.zw)(e)+(0,c.zw)(n.t("i.page.page")),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue","size","placement","transfer","disabled","onOnChange"])],2)):(0,t.kq)("v-if",!0),r.showElevator?((0,t.wg)(),(0,t.iD)("div",{key:1,class:(0,c.C_)(a.ElevatorClasses)},[(0,t.Uk)((0,c.zw)(n.t("i.page.goto"))+" ",1),(0,t._)("input",{type:"text",value:r._current,autocomplete:"off",spellcheck:"false",disabled:r.disabled,onKeyup:i[1]||(i[1]=(0,e.D2)(((...e)=>a.changePage&&a.changePage(...e)),["enter"]))},null,40,Hu),(0,t.Uk)(" "+(0,c.zw)(n.t("i.page.p")),1)],2)):(0,t.kq)("v-if",!0)],2)):(0,t.kq)("v-if",!0)}},Zu={name:"Page",components:{PageOptions:Ku},mixins:[fl.Z],props:{current:{type:Number,default:1},total:{type:Number,default:0},pageSize:{type:Number,default:10},pageSizeOpts:{type:Array,default:()=>[10,20,30,40]},placement:{validator:e=>(0,yl.kw)(e,["top","bottom"]),default:"bottom"},transfer:{type:Boolean,default:()=>!1},size:{validator:e=>(0,yl.kw)(e,["small"])},simple:{type:Boolean,default:!1},showTotal:{type:Boolean,default:!1},showElevator:{type:Boolean,default:!1},showSizer:{type:Boolean,default:!1},className:{type:String},styles:{type:Object},prevText:{type:String,default:""},nextText:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["update:current","on-change"],data(){return{prefixCls:"ivu-page",currentPage:this.current,currentPageSize:this.pageSize}},computed:{isSmall(){return!!this.size},allPages(){const e=Math.ceil(this.total/this.currentPageSize);return 0===e?1:e},simpleWrapClasses(){return["ivu-page","ivu-page-simple",{[`${this.className}`]:!!this.className}]},simplePagerClasses:()=>"ivu-page-simple-pager",wrapClasses(){return["ivu-page",{[`${this.className}`]:!!this.className,"ivu-page-with-disabled":this.disabled,mini:!!this.size}]},prevClasses(){return["ivu-page-prev",{"ivu-page-disabled":1===this.currentPage||this.disabled,"ivu-page-custom-text":""!==this.prevText}]},nextClasses(){return["ivu-page-next",{"ivu-page-disabled":this.currentPage===this.allPages||this.disabled,"ivu-page-custom-text":""!==this.nextText}]},firstPageClasses(){return["ivu-page-item",{"ivu-page-item-active":1===this.currentPage}]},lastPageClasses(){return["ivu-page-item",{"ivu-page-item-active":this.currentPage===this.allPages}]}},watch:{total(e){const t=Math.ceil(e/this.currentPageSize);t<this.currentPage&&(this.currentPage=0===t?1:t)},current(e){this.currentPage=e},pageSize(e){this.currentPageSize=e}},methods:{changePage(e){this.disabled||this.currentPage!=e&&(this.currentPage=e,this.$emit("update:current",e),this.$emit("on-change",e))},prev(){if(this.disabled)return;const e=this.currentPage;if(e<=1)return!1;this.changePage(e-1)},next(){if(this.disabled)return;const e=this.currentPage;if(e>=this.allPages)return!1;this.changePage(e+1)},fastPrev(){if(this.disabled)return;const e=this.currentPage-5;e>0?this.changePage(e):this.changePage(1)},fastNext(){if(this.disabled)return;const e=this.currentPage+5;e>this.allPages?this.changePage(this.allPages):this.changePage(e)},onSize(e){this.disabled||this.currentPageSize!=e&&(this.currentPageSize=e,this.$emit("update:page-size",e),this.$emit("on-page-size-change",e),this.changePage(1))},onPage(e){this.disabled||this.changePage(e)},keyDown(e){const t=e.keyCode;t>=48&&t<=57||t>=96&&t<=105||8===t||37===t||39===t||e.preventDefault()},keyUp(e){const t=e.keyCode,n=parseInt(e.target.value);if(38===t)this.prev();else if(40===t)this.next();else if(13===t){let t=1;t=n>this.allPages?this.allPages:n<=0||!n?1:n,e.target.value=t,this.changePage(t)}}},render:function(e,n,i,r,o,s){const a=(0,t.up)("PageOptions");return i.simple?((0,t.wg)(),(0,t.iD)("ul",{key:0,class:(0,c.C_)(s.simpleWrapClasses),style:(0,c.j5)(i.styles)},[(0,t._)("li",{title:e.t("i.page.prev"),class:(0,c.C_)(s.prevClasses),onClick:n[0]||(n[0]=(...e)=>s.prev&&s.prev(...e))},ku,10,xu),(0,t._)("div",{class:(0,c.C_)(s.simplePagerClasses),title:o.currentPage+"/"+s.allPages},[(0,t._)("input",{type:"text",value:o.currentPage,autocomplete:"off",spellcheck:"false",disabled:i.disabled,onKeydown:n[1]||(n[1]=(...e)=>s.keyDown&&s.keyDown(...e)),onKeyup:n[2]||(n[2]=(...e)=>s.keyUp&&s.keyUp(...e)),onChange:n[3]||(n[3]=(...e)=>s.keyUp&&s.keyUp(...e))},null,40,Su),Au,(0,t.Uk)(" "+(0,c.zw)(s.allPages),1)],10,Cu),(0,t._)("li",{title:e.t("i.page.next"),class:(0,c.C_)(s.nextClasses),onClick:n[4]||(n[4]=(...e)=>s.next&&s.next(...e))},Ou,10,Du)],6)):((0,t.wg)(),(0,t.iD)("ul",{key:1,class:(0,c.C_)(s.wrapClasses),style:(0,c.j5)(i.styles)},[i.showTotal?((0,t.wg)(),(0,t.iD)("span",{key:0,class:(0,c.C_)([o.prefixCls+"-total"])},[(0,t.WI)(e.$slots,"default",{},(()=>[(0,t.Uk)((0,c.zw)(i.total)+" ",1),i.total<=1?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t.Uk)((0,c.zw)(e.t("i.page.item")),1)],2112)):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t.Uk)((0,c.zw)(e.t("i.page.items")),1)],2112))]))],2)):(0,t.kq)("v-if",!0),(0,t._)("li",{title:e.t("i.page.prev"),class:(0,c.C_)(s.prevClasses),onClick:n[5]||(n[5]=(...e)=>s.prev&&s.prev(...e))},[(0,t._)("a",null,[""!==i.prevText?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t.Uk)((0,c.zw)(i.prevText),1)],2112)):((0,t.wg)(),(0,t.iD)("i",Eu))])],10,Tu),(0,t._)("li",{title:"1",class:(0,c.C_)(s.firstPageClasses),onClick:n[6]||(n[6]=e=>s.changePage(1))},$u,2),o.currentPage>5?((0,t.wg)(),(0,t.iD)("li",{key:1,title:e.t("i.page.prev5"),class:(0,c.C_)([o.prefixCls+"-item-jump-prev"]),onClick:n[7]||(n[7]=(...e)=>s.fastPrev&&s.fastPrev(...e))},Ru,10,Mu)):(0,t.kq)("v-if",!0),5===o.currentPage?((0,t.wg)(),(0,t.iD)("li",{key:2,title:o.currentPage-3,class:(0,c.C_)([o.prefixCls+"-item"]),onClick:n[8]||(n[8]=e=>s.changePage(o.currentPage-3))},[(0,t._)("a",null,(0,c.zw)(o.currentPage-3),1)],10,Lu)):(0,t.kq)("v-if",!0),o.currentPage-2>1?((0,t.wg)(),(0,t.iD)("li",{key:3,title:o.currentPage-2,class:(0,c.C_)([o.prefixCls+"-item"]),onClick:n[9]||(n[9]=e=>s.changePage(o.currentPage-2))},[(0,t._)("a",null,(0,c.zw)(o.currentPage-2),1)],10,Pu)):(0,t.kq)("v-if",!0),o.currentPage-1>1?((0,t.wg)(),(0,t.iD)("li",{key:4,title:o.currentPage-1,class:(0,c.C_)([o.prefixCls+"-item"]),onClick:n[10]||(n[10]=e=>s.changePage(o.currentPage-1))},[(0,t._)("a",null,(0,c.zw)(o.currentPage-1),1)],10,Fu)):(0,t.kq)("v-if",!0),1!=o.currentPage&&o.currentPage!=s.allPages?((0,t.wg)(),(0,t.iD)("li",{key:5,title:o.currentPage,class:(0,c.C_)([o.prefixCls+"-item",o.prefixCls+"-item-active"])},[(0,t._)("a",null,(0,c.zw)(o.currentPage),1)],10,Iu)):(0,t.kq)("v-if",!0),o.currentPage+1<s.allPages?((0,t.wg)(),(0,t.iD)("li",{key:6,title:o.currentPage+1,class:(0,c.C_)([o.prefixCls+"-item"]),onClick:n[11]||(n[11]=e=>s.changePage(o.currentPage+1))},[(0,t._)("a",null,(0,c.zw)(o.currentPage+1),1)],10,ju)):(0,t.kq)("v-if",!0),o.currentPage+2<s.allPages?((0,t.wg)(),(0,t.iD)("li",{key:7,title:o.currentPage+2,class:(0,c.C_)([o.prefixCls+"-item"]),onClick:n[12]||(n[12]=e=>s.changePage(o.currentPage+2))},[(0,t._)("a",null,(0,c.zw)(o.currentPage+2),1)],10,Nu)):(0,t.kq)("v-if",!0),s.allPages-o.currentPage==4?((0,t.wg)(),(0,t.iD)("li",{key:8,title:o.currentPage+3,class:(0,c.C_)([o.prefixCls+"-item"]),onClick:n[13]||(n[13]=e=>s.changePage(o.currentPage+3))},[(0,t._)("a",null,(0,c.zw)(o.currentPage+3),1)],10,Vu)):(0,t.kq)("v-if",!0),s.allPages-o.currentPage>=5?((0,t.wg)(),(0,t.iD)("li",{key:9,title:e.t("i.page.next5"),class:(0,c.C_)([o.prefixCls+"-item-jump-next"]),onClick:n[14]||(n[14]=(...e)=>s.fastNext&&s.fastNext(...e))},qu,10,Bu)):(0,t.kq)("v-if",!0),s.allPages>1?((0,t.wg)(),(0,t.iD)("li",{key:10,title:s.allPages,class:(0,c.C_)(s.lastPageClasses),onClick:n[15]||(n[15]=e=>s.changePage(s.allPages))},[(0,t._)("a",null,(0,c.zw)(s.allPages),1)],10,zu)):(0,t.kq)("v-if",!0),(0,t._)("li",{title:e.t("i.page.next"),class:(0,c.C_)(s.nextClasses),onClick:n[16]||(n[16]=(...e)=>s.next&&s.next(...e))},[(0,t._)("a",null,[""!==i.nextText?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t.Uk)((0,c.zw)(i.nextText),1)],2112)):((0,t.wg)(),(0,t.iD)("i",Uu))])],10,Wu),(0,t.Wm)(a,{"show-sizer":i.showSizer,"page-size":o.currentPageSize,"page-size-opts":i.pageSizeOpts,placement:i.placement,transfer:i.transfer,"show-elevator":i.showElevator,_current:o.currentPage,current:o.currentPage,disabled:i.disabled,"all-pages":s.allPages,"is-small":s.isSmall,onOnSize:s.onSize,onOnPage:s.onPage},null,8,["show-sizer","page-size","page-size-opts","placement","transfer","show-elevator","_current","current","disabled","all-pages","is-small","onOnSize","onOnPage"])],6))}},Gu={name:"Split",components:{Trigger:{name:"Trigger",props:{mode:{type:String,default:""}},data:()=>({prefix:"ivu-split-trigger",initOffset:0}),computed:{isVertical(){return"vertical"===this.mode},classes(){return[this.prefix,this.isVertical?`${this.prefix}-vertical`:`${this.prefix}-horizontal`]},barConClasses(){return[`${this.prefix}-bar-con`,this.isVertical?"vertical":"horizontal"]}},render:function(e,n,i,r,o,s){return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(s.classes)},[(0,t._)("div",{class:(0,c.C_)(s.barConClasses)},[n[0]||((0,t.qZ)(-1),n[0]=((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)(8,(e=>(0,t._)("i",{key:`trigger-${e}`,class:(0,c.C_)(`${o.prefix}-bar`)},null,2))),64)),(0,t.qZ)(1),n[0])],2)],2)}}},props:{modelValue:{type:[Number,String],default:.5},mode:{validator:e=>(0,yl.kw)(e,["horizontal","vertical"]),default:"horizontal"},min:{type:[Number,String],default:"40px"},max:{type:[Number,String],default:"40px"}},emits:["update:modelValue","on-moving","on-move-end","on-move-start"],data:()=>({prefix:"ivu-split",offset:0,oldOffset:0,isMoving:!1,computedMin:0,computedMax:0,currentValue:.5}),computed:{wrapperClasses(){return[`${this.prefix}-wrapper`,this.isMoving?"no-select":""]},paneClasses(){return[`${this.prefix}-pane`,{[`${this.prefix}-pane-moving`]:this.isMoving}]},isHorizontal(){return"horizontal"===this.mode},anotherOffset(){return 100-this.offset},valueIsPx(){return"string"==typeof this.modelValue},offsetSize(){return this.isHorizontal?"offsetWidth":"offsetHeight"}},watch:{modelValue(e){e!==this.currentValue&&(this.currentValue=e,this.computeOffset())}},mounted(){this.$nextTick((()=>{this.computeOffset()})),(0,vl.on)(window,"resize",this.computeOffset)},beforeUnmount(){(0,vl.S)(window,"resize",this.computeOffset)},methods:{px2percent:(e,t)=>parseFloat(e)/parseFloat(t),getComputedThresholdValue(e){const t=this.$refs.outerWrapper[this.offsetSize];return this.valueIsPx?"string"==typeof this[e]?this[e]:t*this[e]:"string"==typeof this[e]?this.px2percent(this[e],t):this[e]},getMin(e,t){return this.valueIsPx?`${Math.min(parseFloat(e),parseFloat(t))}px`:Math.min(e,t)},getMax(e,t){return this.valueIsPx?`${Math.max(parseFloat(e),parseFloat(t))}px`:Math.max(e,t)},getAnotherOffset(e){let t=0;return t=this.valueIsPx?this.$refs.outerWrapper[this.offsetSize]-parseFloat(e)+"px":1-e,t},handleMove(e){const t=(this.isHorizontal?e.pageX:e.pageY)-this.initOffset,n=this.$refs.outerWrapper[this.offsetSize];let i=this.valueIsPx?`${parseFloat(this.oldOffset)+t}px`:this.px2percent(n*this.oldOffset+t,n);const r=this.getAnotherOffset(i);parseFloat(i)<=parseFloat(this.computedMin)&&(i=this.getMax(i,this.computedMin)),parseFloat(r)<=parseFloat(this.computedMax)&&(i=this.getAnotherOffset(this.getMax(r,this.computedMax))),e.atMin=this.modelValue===this.computedMin,e.atMax=this.valueIsPx?this.getAnotherOffset(this.modelValue)===this.computedMax:this.getAnotherOffset(this.modelValue).toFixed(5)===this.computedMax.toFixed(5),this.$emit("update:modelValue",i),this.$emit("on-moving",e)},handleUp(){this.isMoving=!1,(0,vl.S)(document,"mousemove",this.handleMove),(0,vl.S)(document,"mouseup",this.handleUp),this.$emit("on-move-end")},handleMousedown(e){this.initOffset=this.isHorizontal?e.pageX:e.pageY,this.oldOffset=this.modelValue,this.isMoving=!0,(0,vl.on)(document,"mousemove",this.handleMove),(0,vl.on)(document,"mouseup",this.handleUp),this.$emit("on-move-start")},computeOffset(){this.$nextTick((()=>{this.computedMin=this.getComputedThresholdValue("min"),this.computedMax=this.getComputedThresholdValue("max"),this.offset=1e4*(this.valueIsPx?this.px2percent(this.modelValue,this.$refs.outerWrapper[this.offsetSize]):this.modelValue)/100}))}},render:function(e,n,i,r,o,s){const a=(0,t.up)("trigger");return(0,t.wg)(),(0,t.iD)("div",{ref:"outerWrapper",class:(0,c.C_)(s.wrapperClasses)},[s.isHorizontal?((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,c.C_)(`${o.prefix}-horizontal`)},[(0,t._)("div",{style:(0,c.j5)({right:`${s.anotherOffset}%`}),class:(0,c.C_)(["left-pane",s.paneClasses])},[(0,t.WI)(e.$slots,"left")],6),(0,t._)("div",{class:(0,c.C_)(`${o.prefix}-trigger-con`),style:(0,c.j5)({left:`${o.offset}%`}),onMousedown:n[0]||(n[0]=(...e)=>s.handleMousedown&&s.handleMousedown(...e))},[(0,t.WI)(e.$slots,"trigger",{},(()=>[(0,t.Wm)(a,{mode:"vertical"})]))],38),(0,t._)("div",{style:(0,c.j5)({left:`${o.offset}%`}),class:(0,c.C_)(["right-pane",s.paneClasses])},[(0,t.WI)(e.$slots,"right")],6)],2)):((0,t.wg)(),(0,t.iD)("div",{key:1,class:(0,c.C_)(`${o.prefix}-vertical`)},[(0,t._)("div",{style:(0,c.j5)({bottom:`${s.anotherOffset}%`}),class:(0,c.C_)(["top-pane",s.paneClasses])},[(0,t.WI)(e.$slots,"top")],6),(0,t._)("div",{class:(0,c.C_)(`${o.prefix}-trigger-con`),style:(0,c.j5)({top:`${o.offset}%`}),onMousedown:n[1]||(n[1]=(...e)=>s.handleMousedown&&s.handleMousedown(...e))},[(0,t.WI)(e.$slots,"trigger",{},(()=>[(0,t.Wm)(a,{mode:"horizontal"})]))],38),(0,t._)("div",{style:(0,c.j5)({top:`${o.offset}%`}),class:(0,c.C_)(["bottom-pane",s.paneClasses])},[(0,t.WI)(e.$slots,"bottom")],6)],2))],2)}};var Yu={},Qu=/d{1,4}|M{1,4}|yy(?:yy)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,Ju=/\d\d?/,Xu=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ed=function(){};function td(e,t){for(var n=[],i=0,r=e.length;i<r;i++)n.push(e[i].substr(0,t));return n}function nd(e){return function(t,n,i){var r=i[e].indexOf(n.charAt(0).toUpperCase()+n.substr(1).toLowerCase());~r&&(t.month=r)}}function id(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}var rd=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],od=["January","February","March","April","May","June","July","August","September","October","November","December"],sd=td(od,3),ad=td(rd,3);Yu.i18n={dayNamesShort:ad,dayNames:rd,monthNamesShort:sd,monthNames:od,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!=10)*e%10]}};var ld={D:function(e){return e.getDay()},DD:function(e){return id(e.getDay())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return e.getDate()},dd:function(e){return id(e.getDate())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return e.getMonth()+1},MM:function(e){return id(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},yy:function(e){return String(e.getFullYear()).substr(2)},yyyy:function(e){return e.getFullYear()},h:function(e){return e.getHours()%12||12},hh:function(e){return id(e.getHours()%12||12)},H:function(e){return e.getHours()},HH:function(e){return id(e.getHours())},m:function(e){return e.getMinutes()},mm:function(e){return id(e.getMinutes())},s:function(e){return e.getSeconds()},ss:function(e){return id(e.getSeconds())},S:function(e){return Math.round(e.getMilliseconds()/100)},SS:function(e){return id(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return id(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return e.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},ZZ:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+id(100*Math.floor(Math.abs(t)/60)+Math.abs(t)%60,4)}},cd={d:[Ju,function(e,t){e.day=t}],M:[Ju,function(e,t){e.month=t-1}],yy:[Ju,function(e,t){var n=+(""+(new Date).getFullYear()).substr(0,2);e.year=""+(t>68?n-1:n)+t}],h:[Ju,function(e,t){e.hour=t}],m:[Ju,function(e,t){e.minute=t}],s:[Ju,function(e,t){e.second=t}],yyyy:[/\d{4}/,function(e,t){e.year=t}],S:[/\d/,function(e,t){e.millisecond=100*t}],SS:[/\d{2}/,function(e,t){e.millisecond=10*t}],SSS:[/\d{3}/,function(e,t){e.millisecond=t}],D:[Ju,ed],ddd:[Xu,ed],MMM:[Xu,nd("monthNamesShort")],MMMM:[Xu,nd("monthNames")],a:[Xu,function(e,t,n){var i=t.toLowerCase();i===n.amPm[0]?e.isPm=!1:i===n.amPm[1]&&(e.isPm=!0)}],ZZ:[/[\+\-]\d\d:?\d\d/,function(e,t){var n,i=(t+"").match(/([\+\-]|\d\d)/gi);i&&(n=60*i[1]+parseInt(i[2],10),e.timezoneOffset="+"===i[0]?n:-n)}]};cd.DD=cd.DD,cd.dddd=cd.ddd,cd.Do=cd.dd=cd.d,cd.mm=cd.m,cd.hh=cd.H=cd.HH=cd.h,cd.MM=cd.M,cd.ss=cd.s,cd.A=cd.a,Yu.masks={default:"ddd MMM dd yyyy HH:mm:ss",shortDate:"M/D/yy",mediumDate:"MMM d, yyyy",longDate:"MMMM d, yyyy",fullDate:"dddd, MMMM d, yyyy",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Yu.format=function(e,t,n){var i=n||Yu.i18n;if("number"==typeof e&&(e=new Date(e)),"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))throw new Error("Invalid Date in fecha.format");return(t=Yu.masks[t]||t||Yu.masks.default).replace(Qu,(function(t){return t in ld?ld[t](e,i):t.slice(1,t.length-1)}))},Yu.parse=function(e,t,n){var i=n||Yu.i18n;if("string"!=typeof t)throw new Error("Invalid format in fecha.parse");if(t=Yu.masks[t]||t,e.length>1e3)return!1;var r=!0,o={};if(t.replace(Qu,(function(t){if(cd[t]){var n=cd[t],s=e.search(n[0]);~s?e.replace(n[0],(function(t){return n[1](o,t,i),e=e.substr(s+t.length),t})):r=!1}return cd[t]?"":t.slice(1,t.length-1)})),!r)return!1;var s,a=new Date;return!0===o.isPm&&null!=o.hour&&12!=+o.hour?o.hour=+o.hour+12:!1===o.isPm&&12==+o.hour&&(o.hour=0),null!=o.timezoneOffset?(o.minute=+(o.minute||0)-+o.timezoneOffset,s=new Date(Date.UTC(o.year||a.getFullYear(),o.month||0,o.day||1,o.hour||0,o.minute||0,o.second||0,o.millisecond||0))):s=new Date(o.year||a.getFullYear(),o.month||0,o.day||1,o.hour||0,o.minute||0,o.second||0,o.millisecond||0),s};const ud=Yu,dd=function(e){let t=new Date(e);return isNaN(t.getTime())&&"string"==typeof e&&(t=e.split("-").map(Number),t[1]+=1,t=new Date(...t)),isNaN(t.getTime())?null:t},hd=function(e){const t=new Date(e);return t.setHours(0,0,0,0),t.getTime()},pd=(e,t,n)=>{if(!t||!n)return!1;const[i,r]=[t,n].sort();return e>=i&&e<=r},fd=function(e,t){return(e=dd(e))?ud.format(e,t||"yyyy-MM-dd"):""},md=function(e,t){return ud.parse(e,t||"yyyy-MM-dd")},gd=function(e,t){return new Date(e,t+1,0).getDate()},vd=function(e,t){const n=new Date(e),i=n.getMonth()+t,r=gd(n.getFullYear(),i);return r<n.getDate()&&n.setDate(r),n.setMonth(i),n},yd=function(){const e=new Date;return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e},bd=function(){const e={yyyy:e=>e.getFullYear(),m:e=>e.getMonth()+1,mm:e=>("0"+(e.getMonth()+1)).slice(-2),mmm:(e,t)=>e.toLocaleDateString(t,{month:"long"}).slice(0,3),Mmm:(e,t)=>{const n=e.toLocaleDateString(t,{month:"long"});return(n[0].toUpperCase()+n.slice(1).toLowerCase()).slice(0,3)},mmmm:(e,t)=>e.toLocaleDateString(t,{month:"long"}),Mmmm:(e,t)=>{const n=e.toLocaleDateString(t,{month:"long"});return n[0].toUpperCase()+n.slice(1).toLowerCase()}},t=new RegExp(["yyyy","Mmmm","mmmm","Mmm","mmm","mm","m"].join("|"),"g");return function(n,i,r){const o=i.match(/(\[[^\]]+\])([^\[\]]+)(\[[^\]]+\])/).slice(1);return{separator:o[1],labels:[o[0],o[2]].map((i=>({label:i.replace(/\[[^\]]+\]/,(i=>i.slice(1,-1).replace(t,(t=>e[t](r,n))))),type:-1!=i.indexOf("yy")?"year":"month"})))}}}(),wd={date:"yyyy-MM-dd",month:"yyyy-MM",year:"yyyy",datetime:"yyyy-MM-dd HH:mm:ss",time:"HH:mm:ss",timerange:"HH:mm:ss",daterange:"yyyy-MM-dd",datetimerange:"yyyy-MM-dd HH:mm:ss"},_d=function(e,t){return fd(e,t)},xd=function(e,t){return md(e,t)},kd=function(e,t,n){if(Array.isArray(e)&&2===e.length){const i=e[0],r=e[1];if(i&&r)return fd(i,t)+n+fd(r,t)}else if(!Array.isArray(e)&&e instanceof Date)return fd(e,t);return""},Cd=function(e,t,n){const i=Array.isArray(e)?e:e.split(n);if(2===i.length){const e=i[0],n=i[1];return[e instanceof Date?e:md(e,t),n instanceof Date?n:md(n,t)]}return[]},Sd={default:{formatter:e=>e?""+e:"",parser:e=>void 0===e||""===e?null:e},date:{formatter:_d,parser:xd},datetime:{formatter:_d,parser:xd},daterange:{formatter:kd,parser:Cd},datetimerange:{formatter:kd,parser:Cd},timerange:{formatter:kd,parser:Cd},time:{formatter:_d,parser:xd},month:{formatter:_d,parser:xd},year:{formatter:_d,parser:xd},multiple:{formatter:(e,t)=>e.filter(Boolean).map((e=>fd(e,t))).join(","),parser:(e,t)=>("string"==typeof e?e.split(","):e).map((e=>e instanceof Date?e:("string"==typeof e?e=e.trim():"number"==typeof e||e||(e=""),md(e,t))))},number:{formatter:e=>e?""+e:"",parser(e){const t=Number(e);return isNaN(e)?null:t}}},Ad="ivu-date-picker",Dd={40:"up",39:"right",38:"down",37:"left"},Od=(e,t,n)=>"left"===e?-1*t:"right"===e?1*t:"up"===e?1*n:"down"===e?-1*n:void 0,Td=e=>e?[e.getHours(),e.getMinutes(),e.getSeconds()]:[0,0,0],Ed={components:{iInput:ic.Z,Drop:Bl.Z,Icon:dl.Z},directives:{clickOutside:iu.X,TransferDom:pl.Z},mixins:[ml.Z,ac.Z],props:{format:{type:String},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},editable:{type:Boolean,default:!0},clearable:{type:Boolean,default:!0},confirm:{type:Boolean,default:!1},open:{type:Boolean,default:null},multiple:{type:Boolean,default:!1},timePickerOptions:{default:()=>({}),type:Object},splitPanels:{type:Boolean,default:!1},showWeekNumbers:{type:Boolean,default:!1},startDate:{type:Date},size:{validator:e=>(0,yl.kw)(e,["small","large","default"]),default:()=>"default"},placeholder:{type:String,default:""},placement:{validator:e=>(0,yl.kw)(e,["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end"]),default:"bottom-start"},transfer:{type:Boolean,default:()=>!1},name:{type:String},elementId:{type:String},steps:{type:Array,default:()=>[]},modelValue:{type:[Date,String,Array]},options:{type:Object,default:()=>({})},separator:{type:String,default:" - "},capture:{type:Boolean,default:()=>!0},transferClassName:{type:String}},emits:["update:modelValue","on-open-change","on-change","on-open-change","on-ok","on-clickoutside"],data(){const e=this.type.includes("range"),t=e?[null,null]:[null],n=((e?this.modelValue:[this.modelValue])||[]).reduce(((e,t)=>e&&!t||"string"==typeof t&&""===t.trim()),!0)?t:this.parseDate(this.modelValue),i=n.map(Td);return{prefixCls:Ad,showClose:!1,visible:!1,internalValue:n,disableClickOutSide:!1,disableCloseUnderTransfer:!1,selectionMode:this.onSelectionModeChange(this.type),forceInputRerender:1,isFocused:!1,focusedDate:n[0]||this.startDate||new Date,focusedTime:{column:0,picker:0,time:i,active:!1},internalFocus:!1}},computed:{wrapperClasses(){return[Ad,{"ivu-date-picker-focused":this.isFocused}]},publicVModelValue(){if(this.multiple)return this.internalValue.slice();{const e=this.type.includes("range");let t=this.internalValue.map((e=>e instanceof Date?new Date(e):e||""));return this.type.match(/^time/)&&(t=t.map(this.formatDate)),e||this.multiple?t:t[0]}},publicStringValue(){const{formatDate:e,publicVModelValue:t,type:n}=this;return n.match(/^time/)?t:this.multiple?e(t):Array.isArray(t)?t.map(e):e(t)},opened(){return null===this.open?this.visible:this.open},transition(){return this.placement.match(/^bottom/)?"slide-up":"slide-down"},visualValue(){return this.formatDate(this.internalValue)},isConfirm(){return this.confirm||"datetime"===this.type||"datetimerange"===this.type||this.multiple},arrowType(){let e="";return e="time"===this.type||"timerange"===this.type?"ios-time-outline":"ios-calendar-outline",this.showClose&&(e="ios-close-circle"),e},customArrowType:()=>"",arrowSize:()=>"",dropdownCls(){return{"ivu-date-picker-transfer":this.transfer,[this.transferClassName]:this.transferClassName}}},watch:{visible(e){!1===e&&this.$refs.drop.destroy(),e&&this.$refs.drop.update(),this.$emit("on-open-change",e)},modelValue(e){this.internalValue=this.parseDate(e)},open(e){this.visible=!0===e},type(e){this.onSelectionModeChange(e)},publicVModelValue(e,t){(JSON.stringify(e)!==JSON.stringify(t)||typeof e!=typeof t)&&this.$emit("update:modelValue",e)}},mounted(){const e=this.modelValue,t=this.publicVModelValue;typeof e==typeof t&&JSON.stringify(e)===JSON.stringify(t)||this.$emit("update:modelValue",this.publicVModelValue),null!==this.open&&(this.visible=this.open),this.mitt.on("focus-input",(()=>this.focus())),this.mitt.on("update-popper",(()=>this.updatePopper()))},beforeUnmount(){this.mitt.off("focus-input"),this.mitt.off("update-popper")},methods:{onSelectionModeChange(e){return e.match(/^date/)&&(e="date"),this.selectionMode=(0,yl.kw)(e,["year","month","date","time"])&&e,this.selectionMode},handleTransferClick(){this.transfer&&(this.disableCloseUnderTransfer=!0)},handleClose(e){if(this.disableCloseUnderTransfer)return this.disableCloseUnderTransfer=!1,!1;if(e&&"mousedown"===e.type&&this.visible)return e.preventDefault(),void e.stopPropagation();if(this.visible){const t=this.$refs.pickerPanel&&this.$refs.pickerPanel.$el;if(e&&t&&t.contains(e.target))return;return this.visible=!1,e&&e.preventDefault(),e&&e.stopPropagation(),void this.$emit("on-clickoutside",e)}this.isFocused=!1,this.disableClickOutSide=!1},handleFocus(e){this.readonly||(this.isFocused=!0,e&&"focus"===e.type||this.itemDisabled||(this.visible=!0))},handleBlur(e){this.internalFocus?this.internalFocus=!1:this.visible?e.preventDefault():(this.isFocused=!1,this.onSelectionModeChange(this.type),this.internalValue=this.internalValue.slice(),this.reset(),this.$refs.pickerPanel.onToggleVisibility(!1))},handleKeydown(e){const t=e.keyCode;if(9===t)if(this.visible)if(e.stopPropagation(),e.preventDefault(),this.isConfirm){const t=".ivu-picker-confirm > *",n=this.$refs.drop.$el.querySelectorAll(t);this.internalFocus=!0,[...n][e.shiftKey?"pop":"shift"]().focus()}else this.handleClose();else this.focused=!1;const n=[37,38,39,40];if(this.visible||!n.includes(t)){if(27===t&&this.visible&&(e.stopPropagation(),this.handleClose()),13===t){const e=(0,yl.Hj)(this,"TimeSpinner");if(e.length>0){const t=e[0].showSeconds?3:2,n=Math.floor(this.focusedTime.column/t),i=this.focusedTime.time[n];return void e[n].chooseValue(i)}if(this.type.match(/range/))this.$refs.pickerPanel.handleRangePick(this.focusedDate,"date");else{const e=(0,yl.Hj)(this,"PanelTable"),t=e=>{const t=["year","month","date"].indexOf(this.type)+1;return[e.getFullYear(),e.getMonth(),e.getDate()].slice(0,t).join("-")};e.find((({cells:e})=>e.find((({date:e,disabled:n})=>t(e)===t(this.focusedDate)&&!n))))&&this.onPick(this.focusedDate,!1,"date")}}n.includes(t)&&(this.focusedTime.active&&e.preventDefault(),this.navigateDatePanel(Dd[t],e.shiftKey))}else this.visible=!0},reset(){this.$refs.pickerPanel.reset&&this.$refs.pickerPanel.reset()},navigateTimePanel(e){this.focusedTime.active=!0;const t=e.match(/left|right/),n=e.match(/up|down/),i=(0,yl.Hj)(this,"TimeSpinner"),r=(i[0].showSeconds?3:2)*i.length,o=(n=>(this.focusedTime.column+(t?"left"===e?-1:1:0)+r)%r)(),s=r/i.length,a=Math.floor(o/s),l=o%s;if(t){const e=this.internalValue.map(Td);this.focusedTime={...this.focusedTime,column:o,time:e},i.forEach(((t,n)=>{n===a?t.updateFocusedTime(l,e[a]):t.updateFocusedTime(-1,t.focusedTime)}))}if(n){const t="up"===e?1:-1,n=["hours","minutes","seconds"],r=i[a][`${n[l]}List`],o=r.findIndex((({text:e})=>this.focusedTime.time[a][l]===e)),s=r[(o+t+r.length)%r.length].text,c=this.focusedTime.time.map(((e,t)=>(t!==a||(e[l]=s),e)));this.focusedTime={...this.focusedTime,time:c},i.forEach(((e,t)=>{t===a?e.updateFocusedTime(l,c[t]):e.updateFocusedTime(-1,e.focusedTime)}))}},navigateDatePanel(e,t){const n=(0,yl.Hj)(this,"TimeSpinner");if(n.length>0)return void this.navigateTimePanel(e,t,n);if(t){"year"===this.type?this.focusedDate=new Date(this.focusedDate.getFullYear()+Od(e,0,10),this.focusedDate.getMonth(),this.focusedDate.getDate()):this.focusedDate=new Date(this.focusedDate.getFullYear()+Od(e,0,1),this.focusedDate.getMonth()+Od(e,1,0),this.focusedDate.getDate());const t=e.match(/left|down/)?"prev":"next",n=e.match(/up|down/)?"-double":"",i=this.$refs.drop.$el.querySelector(`.ivu-date-picker-${t}-btn-arrow${n}`);return void(i&&(e=>{const t="ivu-date-picker-btn-pulse";e.classList.add(t),setTimeout((()=>e.classList.remove(t)),200)})(i))}const i=this.focusedDate||this.internalValue&&this.internalValue[0]||new Date,r=new Date(i);if(this.type.match(/^date/)){const t=gd(i.getFullYear(),i.getMonth()),n=i.getDate(),o=r.getDate()+Od(e,1,7);o<1?e.match(/left|right/)?(r.setMonth(r.getMonth()+1),r.setDate(o)):r.setDate(n+7*Math.floor((t-n)/7)):o>t?e.match(/left|right/)?(r.setMonth(r.getMonth()-1),r.setDate(o)):r.setDate(n%7):r.setDate(o)}this.type.match(/^month/)&&r.setMonth(r.getMonth()+Od(e,1,3)),this.type.match(/^year/)&&r.setFullYear(r.getFullYear()+Od(e,1,3)),this.focusedDate=r},handleInputChange(e){const t=this.type.includes("range")||this.multiple,n=this.visualValue,i=e.target.value,r=this.parseDate(i),o=this.options&&"function"==typeof this.options.disabledDate&&this.options.disabledDate,s=t?r:r[0],a=o&&o(s),l=r.reduce(((e,t)=>e&&t instanceof Date),!0);i!==n&&!a&&l?(this.emitChange(this.type),this.internalValue=r):this.forceInputRerender++},handleInputMouseenter(){this.readonly||this.itemDisabled||this.visualValue&&this.clearable&&(this.showClose=!0)},handleInputMouseleave(){this.showClose=!1},handleIconClick(e){this.showClose?(e&&e.stopPropagation(),this.handleClear()):this.itemDisabled||this.handleFocus()},handleClear(){this.visible=!1,this.internalValue=this.internalValue.map((()=>null)),this.$emit("on-clear"),this.dispatch("FormItem","on-form-change",""),this.emitChange(this.type),this.reset(),setTimeout((()=>this.onSelectionModeChange(this.type)),500)},emitChange(e){this.$nextTick((()=>{this.$emit("on-change",this.publicStringValue,e),this.dispatch("FormItem","on-form-change",this.publicStringValue)}))},parseDate(e){const t=this.type.includes("range"),n=this.type,i=(Sd[n]||Sd.default).parser,r=this.format||wd[n],o=Sd.multiple.parser;if(!e||"time"!==n||e instanceof Date)if(this.multiple&&e)e=o(e,r,this.separator);else if(t)if(e)if("string"==typeof e)e=i(e,r,this.separator);else if("timerange"===n)e=i(e,r,this.separator).map((e=>e||""));else{const[t,n]=e;t instanceof Date&&n instanceof Date?e=e.map((e=>new Date(e))):"string"==typeof t&&"string"==typeof n?e=i(e.join(this.separator),r,this.separator):t&&n||(e=[null,null])}else e=[null,null];else"string"==typeof e&&0!==n.indexOf("time")&&(e=i(e,r)||null);else e=i(e,r,this.separator);return t||this.multiple?e||[]:[e]},formatDate(e){const t=wd[this.type];if(this.multiple)return(0,Sd.multiple.formatter)(e,this.format||t,this.separator);{const{formatter:n}=Sd[this.type]||Sd.default;return n(e,this.format||t,this.separator)}},onPick(e,t=!1,n){if(this.multiple){const t=e.getTime(),n=this.internalValue.findIndex((e=>e&&e.getTime()===t)),i=[...this.internalValue,e].filter(Boolean).map((e=>e.getTime())).filter(((e,t,i)=>i.indexOf(e)===t&&t!==n));this.internalValue=i.map((e=>new Date(e)))}else e=this.parseDate(e),this.internalValue=Array.isArray(e)?e:[e];this.internalValue[0]&&(this.focusedDate=this.internalValue[0]),this.focusedTime={...this.focusedTime,time:this.internalValue.map(Td)},this.isConfirm||this.onSelectionModeChange(this.type),this.isConfirm||(this.visible=t),this.emitChange(n)},onPickSuccess(){this.visible=!1,this.$emit("on-ok"),this.focus(),this.reset()},focus(){this.$refs.input&&this.$refs.input.focus()},updatePopper(){this.$refs.drop.update()}},render:function(n,i,r,o,s,a){const l=(0,t.up)("Icon"),u=(0,t.up)("i-input"),d=(0,t.up)("Drop"),h=(0,t.Q2)("transfer-dom"),p=(0,t.Q2)("click-outside");return(0,t.wy)(((0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(a.wrapperClasses)},[(0,t._)("div",{ref:"reference",class:(0,c.C_)([s.prefixCls+"-rel"])},[(0,t.WI)(n.$slots,"default",{},(()=>[(0,t.Wm)(u,{key:s.forceInputRerender,ref:"input","element-id":r.elementId,class:(0,c.C_)([s.prefixCls+"-editor"]),readonly:!r.editable||r.readonly,disabled:n.itemDisabled,size:r.size,placeholder:r.placeholder,"model-value":a.visualValue,name:r.name,onOnInputChange:a.handleInputChange,onOnFocus:a.handleFocus,onOnBlur:a.handleBlur,onClick:a.handleFocus,onKeydown:(0,e.D2)(a.handleKeydown,["native"]),onMouseenter:a.handleInputMouseenter,onMouseleave:a.handleInputMouseleave},{suffix:(0,t.w5)((()=>[(0,t.Wm)(l,{type:a.arrowType,custom:a.customArrowType,size:a.arrowSize,onClick:a.handleIconClick},null,8,["type","custom","size","onClick"])])),_:1},8,["element-id","class","readonly","disabled","size","placeholder","model-value","name","onOnInputChange","onOnFocus","onOnBlur","onClick","onKeydown","onMouseenter","onMouseleave"])]))],2),(0,t.Wm)(e.uT,{name:"transition-drop"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(d,{ref:"drop",class:(0,c.C_)(a.dropdownCls),placement:r.placement,"data-transfer":r.transfer,transfer:r.transfer,onClick:a.handleTransferClick},{default:(0,t.w5)((()=>[(0,t._)("div",null,[((0,t.wg)(),(0,t.j4)((0,t.LL)(n.panel),(0,t.dG)({ref:"pickerPanel",visible:s.visible,"show-time":"datetime"===n.type||"datetimerange"===n.type,confirm:a.isConfirm,"selection-mode":s.selectionMode,steps:r.steps,format:r.format,value:s.internalValue,"start-date":r.startDate,"split-panels":r.splitPanels,"show-week-numbers":r.showWeekNumbers,"picker-type":n.type,multiple:r.multiple,"focused-date":s.focusedDate,"time-picker-options":r.timePickerOptions},n.ownPickerProps,{onOnPick:a.onPick,onOnPickClear:a.handleClear,onOnPickSuccess:a.onPickSuccess,onOnPickClick:i[0]||(i[0]=e=>s.disableClickOutSide=!0),onOnSelectionModeChange:a.onSelectionModeChange}),null,16,["visible","show-time","confirm","selection-mode","steps","format","value","start-date","split-panels","show-week-numbers","picker-type","multiple","focused-date","time-picker-options","onOnPick","onOnPickClear","onOnPickSuccess","onOnSelectionModeChange"]))])])),_:1},8,["class","placement","data-transfer","transfer","onClick"]),[[e.F8,a.opened],[h]])])),_:1})],2)),[[p,a.handleClose,r.capture,{mousedown:!0}],[p,a.handleClose,r.capture,{touchstart:!0}],[p,a.handleClose,r.capture]])}},$d=["onClick"],Md=["onClick","onMouseenter"];var Rd=n(7556),Ld=n.n(Rd);const Pd={emits:["on-pick-click","on-pick-success","on-pick-clear","on-pick"],name:"PanelTable",props:{tableDate:{type:Date,required:!0},disabledDate:{type:Function},selectionMode:{type:String,required:!0},value:{type:Array,required:!0},rangeState:{type:Object,default:()=>({from:null,to:null,selecting:!1})},focusedDate:{type:Date,required:!0}},computed:{dates(){const{selectionMode:e,value:t,rangeState:n}=this;return"range"===e&&n.selecting?[n.from]:t}},methods:{handleClick(e,t){if(t.stopPropagation(),e.disabled||"weekLabel"===e.type)return;const n=new Date(hd(e.date));this.$emit("on-pick",n),this.$emit("on-pick-click")},handleMouseMove(e){if(!this.rangeState.selecting)return;if(e.disabled)return;const t=e.date;this.$emit("on-change-range",t)}}},Fd="ivu-date-picker-cells",Id={mixins:[fl.Z,Pd],props:{showWeekNumbers:{type:Boolean,default:!1}},data:()=>({prefixCls:Fd}),computed:{classes(){return[`${Fd}`,{[`${Fd}-show-week-numbers`]:this.showWeekNumbers}]},calendar(){const e=Number(this.t("i.datepicker.weekStartDay"));return new(Ld().Generator)({onlyDays:!this.showWeekNumbers,weekStart:e})},headerDays(){const e=Number(this.t("i.datepicker.weekStartDay")),t=["sun","mon","tue","wed","thu","fri","sat"].map((e=>this.t("i.datepicker.weeks."+e))),n=t.splice(e,7-e).concat(t.splice(0,e));return this.showWeekNumbers?[""].concat(n):n},cells(){const e=this.tableDate.getFullYear(),t=this.tableDate.getMonth(),n=hd(new Date),i=this.dates.filter(Boolean).map(hd),[r,o]=this.dates.map(hd),s=this.rangeState.from&&hd(this.rangeState.from),a=this.rangeState.to&&hd(this.rangeState.to),l="range"===this.selectionMode,c="function"==typeof this.disabledDate&&this.disabledDate;return this.calendar(e,t,(e=>{e.date instanceof Date&&e.date.setTime(e.date.getTime()+6e4*e.date.getTimezoneOffset()+288e5);const u=e.date&&hd(e.date),d=e.date&&t===e.date.getMonth();return{...e,type:u===n?"today":e.type,selected:d&&i.includes(u),disabled:e.date&&c&&c(new Date(u)),range:d&&l&&pd(u,s,a),start:d&&l&&u===r,end:d&&l&&u===o}})).cells.slice(this.showWeekNumbers?8:0)}},methods:{getCellCls(e){return[`${Fd}-cell`,{[`${Fd}-cell-selected`]:e.selected||e.start||e.end,[`${Fd}-cell-disabled`]:e.disabled,[`${Fd}-cell-today`]:"today"===e.type,[`${Fd}-cell-prev-month`]:"prevMonth"===e.type,[`${Fd}-cell-next-month`]:"nextMonth"===e.type,[`${Fd}-cell-week-label`]:"weekLabel"===e.type,[`${Fd}-cell-range`]:e.range&&!e.start&&!e.end,[`${Fd}-focused`]:hd(e.date)===hd(this.focusedDate)}]}},render:function(e,n,i,r,o,s){return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(s.classes)},[(0,t._)("div",{class:(0,c.C_)([o.prefixCls+"-header"])},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.headerDays,(e=>((0,t.wg)(),(0,t.iD)("span",{key:e},(0,c.zw)(e),1)))),128))],2),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.cells,((n,i)=>((0,t.wg)(),(0,t.iD)("span",{key:String(n.date)+i,class:(0,c.C_)(s.getCellCls(n)),onClick:t=>e.handleClick(n,t),onMouseenter:t=>e.handleMouseMove(n)},[(0,t._)("em",null,(0,c.zw)(n.desc),1)],42,Md)))),128))],2)}},jd=["onClick","onMouseenter"],Nd={mixins:[Pd],props:{},computed:{classes:()=>[`${Fd}`,`${Fd}-year`],startYear(){return 10*Math.floor(this.tableDate.getFullYear()/10)},cells(){const e=[],t={text:"",selected:!1,disabled:!1},n=this.dates.filter(Boolean).map((e=>hd(new Date(e.getFullYear(),0,1)))),i=hd(new Date(this.focusedDate.getFullYear(),0,1));for(let r=0;r<10;r++){const o=(0,yl.p$)(t);o.date=new Date(this.startYear+r,0,1),o.disabled="function"==typeof this.disabledDate&&this.disabledDate(o.date)&&"year"===this.selectionMode;const s=hd(o.date);o.selected=n.includes(s),o.focused=s===i,e.push(o)}return e}},methods:{getCellCls:e=>[`${Fd}-cell`,{[`${Fd}-cell-selected`]:e.selected,[`${Fd}-cell-disabled`]:e.disabled,[`${Fd}-cell-focused`]:e.focused,[`${Fd}-cell-range`]:e.range&&!e.start&&!e.end}]},render:function(e,n,i,r,o,s){return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(s.classes)},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.cells,(n=>((0,t.wg)(),(0,t.iD)("span",{class:(0,c.C_)(s.getCellCls(n)),onClick:t=>e.handleClick(n,t),onMouseenter:t=>e.handleMouseMove(n)},[(0,t._)("em",null,(0,c.zw)(n.date.getFullYear()),1)],42,jd)))),256))],2)}},Vd=["onClick","onMouseenter"],Bd={mixins:[fl.Z,Pd],props:{},computed:{classes:()=>[`${Fd}`,`${Fd}-month`],cells(){const e=[],t={text:"",selected:!1,disabled:!1},n=this.tableDate.getFullYear(),i=this.dates.filter(Boolean).map((e=>hd(new Date(e.getFullYear(),e.getMonth(),1)))),r=hd(new Date(this.focusedDate.getFullYear(),this.focusedDate.getMonth(),1));for(let o=0;o<12;o++){const s=(0,yl.p$)(t);s.date=new Date(n,o,1),s.text=this.tCell(o+1);const a=hd(s.date);s.disabled="function"==typeof this.disabledDate&&this.disabledDate(s.date)&&"month"===this.selectionMode,s.selected=i.includes(a),s.focused=a===r,e.push(s)}return e}},methods:{getCellCls:e=>[`${Fd}-cell`,{[`${Fd}-cell-selected`]:e.selected,[`${Fd}-cell-disabled`]:e.disabled,[`${Fd}-cell-focused`]:e.focused,[`${Fd}-cell-range`]:e.range&&!e.start&&!e.end}],tCell(e){return this.t(`i.datepicker.months.m${e}`)}},render:function(e,n,i,r,o,s){return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(s.classes)},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.cells,(n=>((0,t.wg)(),(0,t.iD)("span",{class:(0,c.C_)(s.getCellCls(n)),onClick:t=>e.handleClick(n,t),onMouseenter:t=>e.handleMouseMove(n)},[(0,t._)("em",null,(0,c.zw)(n.text),1)],42,Vd)))),256))],2)}},qd=["onClick"],zd=["onClick"],Wd=["onClick"],Ud={props:{disabledHours:{type:Array,default:()=>[]},disabledMinutes:{type:Array,default:()=>[]},disabledSeconds:{type:Array,default:()=>[]},hideDisabledOptions:{type:Boolean,default:!1}}},Hd=["hours","minutes","seconds"],Kd={name:"TimeSpinner",mixins:[Ud],props:{hours:{type:[Number,String],default:NaN},minutes:{type:[Number,String],default:NaN},seconds:{type:[Number,String],default:NaN},showSeconds:{type:Boolean,default:!0},steps:{type:Array,default:()=>[]}},data(){return{spinerSteps:[1,1,1].map(((e,t)=>Math.abs(this.steps[t])||e)),prefixCls:"ivu-time-picker-cells",compiled:!1,focusedColumn:-1,focusedTime:[0,0,0]}},computed:{classes(){return["ivu-time-picker-cells",{"ivu-time-picker-cells-with-seconds":this.showSeconds}]},hoursList(){const e=[],t=this.spinerSteps[0],n=0===this.focusedColumn&&this.focusedTime[0],i={text:0,selected:!1,disabled:!1,hide:!1};for(let r=0;r<24;r+=t){const t=(0,yl.p$)(i);t.text=r,t.focused=r===n,this.disabledHours.length&&this.disabledHours.indexOf(r)>-1&&(t.disabled=!0,this.hideDisabledOptions&&(t.hide=!0)),this.hours===r&&(t.selected=!0),e.push(t)}return e},minutesList(){const e=[],t=this.spinerSteps[1],n=1===this.focusedColumn&&this.focusedTime[1],i={text:0,selected:!1,disabled:!1,hide:!1};for(let r=0;r<60;r+=t){const t=(0,yl.p$)(i);t.text=r,t.focused=r===n,this.disabledMinutes.length&&this.disabledMinutes.indexOf(r)>-1&&(t.disabled=!0,this.hideDisabledOptions&&(t.hide=!0)),this.minutes===r&&(t.selected=!0),e.push(t)}return e},secondsList(){const e=[],t=this.spinerSteps[2],n=2===this.focusedColumn&&this.focusedTime[2],i={text:0,selected:!1,disabled:!1,hide:!1};for(let r=0;r<60;r+=t){const t=(0,yl.p$)(i);t.text=r,t.focused=r===n,this.disabledSeconds.length&&this.disabledSeconds.indexOf(r)>-1&&(t.disabled=!0,this.hideDisabledOptions&&(t.hide=!0)),this.seconds===r&&(t.selected=!0),e.push(t)}return e}},watch:{hours(e){this.compiled&&this.scroll("hours",this.hoursList.findIndex((t=>t.text==e)))},minutes(e){this.compiled&&this.scroll("minutes",this.minutesList.findIndex((t=>t.text==e)))},seconds(e){this.compiled&&this.scroll("seconds",this.secondsList.findIndex((t=>t.text==e)))},focusedTime(e,t){Hd.forEach(((n,i)=>{if(e[i]===t[i]||void 0===e[i])return;const r=this[`${n}List`].findIndex((t=>t.text===e[i]));this.scroll(n,r)}))}},mounted(){this.$nextTick((()=>this.compiled=!0))},methods:{getCellCls:e=>["ivu-time-picker-cells-cell",{"ivu-time-picker-cells-cell-selected":e.selected,"ivu-time-picker-cells-cell-focused":e.focused,"ivu-time-picker-cells-cell-disabled":e.disabled}],chooseValue(e){const t=Hd.reduce(((t,n,i)=>{const r=e[i];return this[n]===r?t:{...t,[n]:r}}),{});Object.keys(t).length>0&&this.emitChange(t)},handleClick(e,t){if(t.disabled)return;const n={[e]:t.text};this.emitChange(n)},emitChange(e){this.$emit("on-change",e),this.$emit("on-pick-click")},scroll(e,t){const n=this.$refs[e].scrollTop,i=24*this.getScrollIndex(e,t);(0,yl.SM)(this.$refs[e],n,i,500)},getScrollIndex(e,t){const n=this[`disabled${(0,yl.RI)(e)}`];if(n.length&&this.hideDisabledOptions){let e=0;n.forEach((n=>n<=t?e++:"")),t-=e}return t},updateScroll(){this.$nextTick((()=>{Hd.forEach((e=>{this.$refs[e].scrollTop=24*this[`${e}List`].findIndex((t=>t.text==this[e]))}))}))},formatTime:e=>e<10?"0"+e:e,updateFocusedTime(e,t){this.focusedColumn=e,this.focusedTime=t.slice()}},render:function(n,i,r,o,s,a){return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(a.classes)},[(0,t._)("div",{ref:"hours",class:(0,c.C_)([s.prefixCls+"-list"])},[(0,t._)("ul",{class:(0,c.C_)([s.prefixCls+"-ul"])},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.hoursList,(n=>(0,t.wy)(((0,t.wg)(),(0,t.iD)("li",{class:(0,c.C_)(a.getCellCls(n)),onClick:e=>a.handleClick("hours",n)},(0,c.zw)(a.formatTime(n.text)),11,qd)),[[e.F8,!n.hide]]))),256))],2)],2),(0,t._)("div",{ref:"minutes",class:(0,c.C_)([s.prefixCls+"-list"])},[(0,t._)("ul",{class:(0,c.C_)([s.prefixCls+"-ul"])},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.minutesList,(n=>(0,t.wy)(((0,t.wg)(),(0,t.iD)("li",{class:(0,c.C_)(a.getCellCls(n)),onClick:e=>a.handleClick("minutes",n)},(0,c.zw)(a.formatTime(n.text)),11,zd)),[[e.F8,!n.hide]]))),256))],2)],2),(0,t.wy)((0,t._)("div",{ref:"seconds",class:(0,c.C_)([s.prefixCls+"-list"])},[(0,t._)("ul",{class:(0,c.C_)([s.prefixCls+"-ul"])},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.secondsList,(n=>(0,t.wy)(((0,t.wg)(),(0,t.iD)("li",{class:(0,c.C_)(a.getCellCls(n)),onClick:e=>a.handleClick("seconds",n)},(0,c.zw)(a.formatTime(n.text)),11,Wd)),[[e.F8,!n.hide]]))),256))],2)],2),[[e.F8,r.showSeconds]])],2)}},Zd=(0,t.Uk)(" "+(0,c.zw)(" ")+" "),Gd={components:{iButton:hl.Z},mixins:[fl.Z,ml.Z],props:{showTime:!1,isTime:!1,timeDisabled:!1},emits:["on-pick-click","on-pick-success","on-pick-clear","on-pick"],data:()=>({prefixCls:"ivu-picker"}),computed:{timeClasses:()=>"ivu-picker-confirm-time",labels(){const e=[this.isTime?"selectDate":"selectTime","clear","ok"];return["time","clear","ok"].reduce(((t,n,i)=>(t[n]=this.t("i.datepicker."+e[i]),t)),{})}},methods:{handleClear(){this.$emit("on-pick-clear")},handleSuccess(){this.$emit("on-pick-success")},handleToggleTime(){this.timeDisabled||(this.$emit("on-pick-toggle-time"),this.dispatch("CalendarPicker","focus-input"),this.dispatch("CalendarPicker","update-popper"))},handleTab(e){const t=[...this.$el.children][e.shiftKey?"shift":"pop"]();document.activeElement===t&&(e.preventDefault(),e.stopPropagation(),this.dispatch("CalendarPicker","focus-input"))}},render:function(n,i,r,o,s,a){const l=(0,t.up)("i-button");return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)([s.prefixCls+"-confirm"]),onKeydownCapture:i[0]||(i[0]=(0,e.D2)(((...e)=>a.handleTab&&a.handleTab(...e)),["tab"]))},[r.showTime?((0,t.wg)(),(0,t.j4)(l,{key:0,class:(0,c.C_)(a.timeClasses),size:"small",type:"text",disabled:r.timeDisabled,onClick:a.handleToggleTime},{default:(0,t.w5)((()=>[(0,t.Uk)((0,c.zw)(a.labels.time),1)])),_:1},8,["class","disabled","onClick"])):(0,t.kq)("v-if",!0),(0,t.Wm)(l,{size:"small",onClick:a.handleClear,onKeydown:(0,e.D2)(a.handleClear,["enter","native"])},{default:(0,t.w5)((()=>[(0,t.Uk)((0,c.zw)(a.labels.clear),1)])),_:1},8,["onClick","onKeydown"]),Zd,(0,t.Wm)(l,{size:"small",type:"primary",onClick:a.handleSuccess,onKeydown:(0,e.D2)(a.handleSuccess,["enter","native"])},{default:(0,t.w5)((()=>[(0,t.Uk)((0,c.zw)(a.labels.ok),1)])),_:1},8,["onClick","onKeydown"])],34)}},Yd={emits:["on-pick-click","on-pick-success","on-pick-clear","on-pick"],props:{confirm:{type:Boolean,default:!1}},methods:{iconBtnCls:(e,t="")=>["ivu-picker-panel-icon-btn",`ivu-date-picker-${e}-btn`,`ivu-date-picker-${e}-btn-arrow${t}`],handleShortcutClick(e){e.value&&this.$emit("on-pick",e.value()),e.onClick&&e.onClick(this)},handlePickClear(){this.resetView(),this.$emit("on-pick-clear")},handlePickSuccess(){this.resetView(),this.$emit("on-pick-success")},handlePickClick(){this.$emit("on-pick-click")},resetView(){setTimeout((()=>this.currentView=this.selectionMode),500)},handleClear(){this.dates=this.dates.map((()=>null)),this.rangeState={},this.$emit("on-pick",this.dates),this.handleConfirm()},handleConfirm(e,t){this.$emit("on-pick",this.dates,e,t||this.type)},onToggleVisibility(e){const{timeSpinner:t,timeSpinnerEnd:n}=this.$refs;e&&t&&t.updateScroll(),e&&n&&n.updateScroll()}}},Qd=(e,t,n,i)=>{const r=new Date(e.getTime());return r.setHours(t),r.setMinutes(n),r.setSeconds(i),r},Jd=(e,t,n)=>n.indexOf(e)===t,Xd=()=>!1,eh={name:"TimePickerPanel",components:{TimeSpinner:Kd,Confirm:Gd},mixins:[Yd,fl.Z,Ud],props:{disabledDate:{type:Function,default:Xd},steps:{type:Array,default:()=>[]},format:{type:String,default:"HH:mm:ss"},value:{type:Array,required:!0}},emits:["on-pick"],data(){return{prefixCls:"ivu-picker-panel",timePrefixCls:"ivu-time-picker",date:this.value[0]||yd(),showDate:!1}},computed:{showSeconds(){return!!(this.format||"").match(/ss/)},visibleDate(){const e=this.date,t=e.getMonth()+1,n=this.t("i.datepicker.year"),i=this.t(`i.datepicker.month${t}`);return`${e.getFullYear()}${n} ${i}`},timeSlots(){return this.value[0]?["getHours","getMinutes","getSeconds"].map((e=>this.date[e]())):[]},disabledHMS(){const e=["disabledHours","disabledMinutes","disabledSeconds"];if(this.disabledDate!==Xd&&this.value[0]){const t=[24,60,60],n=["Hours","Minutes","Seconds"].map((e=>this[`disabled${e}`])).map(((e,n)=>{const i=t[n],r=e;for(let e=0;e<i;e+=this.steps[n]||1){const t=this.timeSlots.map(((t,i)=>i===n?e:t)),i=Qd(this.date,...t);this.disabledDate(i,!0)&&r.push(e)}return r.filter(Jd)}));return e.reduce(((e,t,i)=>(e[t]=n[i],e)),{})}return e.reduce(((e,t)=>(e[t]=this[t],e)),{})}},watch:{value(e){let t=e[0]||yd();t=new Date(t),this.date=t}},mounted(){this.$parent&&"DatePicker"===this.$parent.$options.name&&(this.showDate=!0)},methods:{handleChange(e,t=!0){const n=new Date(this.date);Object.keys(e).forEach((t=>{return n[`set${i=t,i[0].toUpperCase()+i.slice(1)}`](e[t]);var i})),t&&this.$emit("on-pick",n,"time")}},render:function(n,i,r,o,s,a){const l=(0,t.up)("time-spinner"),u=(0,t.up)("Confirm");return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)([s.prefixCls+"-body-wrapper"]),onMousedown:i[0]||(i[0]=(0,e.iM)((()=>{}),["prevent"]))},[(0,t._)("div",{class:(0,c.C_)([s.prefixCls+"-body"])},[s.showDate?((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,c.C_)([s.timePrefixCls+"-header"])},(0,c.zw)(a.visibleDate),3)):(0,t.kq)("v-if",!0),(0,t._)("div",{class:(0,c.C_)([s.prefixCls+"-content"])},[(0,t.Wm)(l,{ref:"timeSpinner","show-seconds":a.showSeconds,steps:r.steps,hours:a.timeSlots[0],minutes:a.timeSlots[1],seconds:a.timeSlots[2],"disabled-hours":a.disabledHMS.disabledHours,"disabled-minutes":a.disabledHMS.disabledMinutes,"disabled-seconds":a.disabledHMS.disabledSeconds,"hide-disabled-options":n.hideDisabledOptions,onOnChange:a.handleChange,onOnPickClick:n.handlePickClick},null,8,["show-seconds","steps","hours","minutes","seconds","disabled-hours","disabled-minutes","disabled-seconds","hide-disabled-options","onOnChange","onOnPickClick"])],2),n.confirm?((0,t.wg)(),(0,t.j4)(u,{key:1,onOnPickClear:n.handlePickClear,onOnPickSuccess:n.handlePickSuccess},null,8,["onOnPickClear","onOnPickSuccess"])):(0,t.kq)("v-if",!0)],2)],34)}},th={props:{datePanelLabel:Object,currentView:String,datePrefixCls:String},render:function(n,i,r,o,s,a){return(0,t.wg)(),(0,t.iD)("span",null,[r.datePanelLabel?(0,t.wy)(((0,t.wg)(),(0,t.iD)("span",{key:0,class:(0,c.C_)([r.datePrefixCls+"-header-label"]),onClick:i[0]||(i[0]=(...e)=>r.datePanelLabel.labels[0].handler&&r.datePanelLabel.labels[0].handler(...e))},(0,c.zw)(r.datePanelLabel.labels[0].label),3)),[[e.F8,"year"===r.datePanelLabel.labels[0].type||"date"===r.currentView]]):(0,t.kq)("v-if",!0),r.datePanelLabel&&"date"===r.currentView?((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t.Uk)((0,c.zw)(r.datePanelLabel.separator),1)],2112)):(0,t.kq)("v-if",!0),r.datePanelLabel?(0,t.wy)(((0,t.wg)(),(0,t.iD)("span",{key:2,class:(0,c.C_)([r.datePrefixCls+"-header-label"]),onClick:i[1]||(i[1]=(...e)=>r.datePanelLabel.labels[1].handler&&r.datePanelLabel.labels[1].handler(...e))},(0,c.zw)(r.datePanelLabel.labels[1].label),3)),[[e.F8,"year"===r.datePanelLabel.labels[1].type||"date"===r.currentView]]):(0,t.kq)("v-if",!0)])}},nh={props:{showTime:{type:Boolean,default:!1},format:{type:String,default:"yyyy-MM-dd"},selectionMode:{type:String,validator:e=>(0,yl.kw)(e,["year","month","date","time"]),default:"date"},shortcuts:{type:Array,default:()=>[]},disabledDate:{type:Function,default:()=>!1},value:{type:Array,default:()=>[yd(),yd()]},timePickerOptions:{default:()=>({}),type:Object},showWeekNumbers:{type:Boolean,default:!1},startDate:{type:Date},pickerType:{type:String,require:!0},focusedDate:{type:Date,required:!0}},computed:{isTime(){return"time"===this.currentView}},methods:{handleToggleTime(){this.currentView="time"===this.currentView?"date":"time"}}},ih={name:"DatePickerPanel",components:{Icon:dl.Z,DateTable:Id,YearTable:Nd,MonthTable:Bd,TimePicker:eh,Confirm:Gd,datePanelLabel:th},mixins:[Yd,fl.Z,nh],props:{multiple:{type:Boolean,default:!1}},emits:["on-pick","on-selection-mode-change"],data(){const{selectionMode:e,value:t}=this,n=t.slice().sort();return{prefixCls:"ivu-picker-panel",datePrefixCls:"ivu-date-picker",currentView:e||"date",pickerTable:this.getTableType(e),dates:n,panelDate:this.startDate||n[0]||new Date}},computed:{classes(){return["ivu-picker-panel-body-wrapper",{"ivu-picker-panel-with-sidebar":this.shortcuts.length}]},panelPickerHandlers(){return this.pickerTable===`${this.currentView}-table`?this.handlePick:this.handlePreSelection},datePanelLabel(){const e=this.t("i.locale"),t=this.t("i.datepicker.datePanelLabel"),n=this.panelDate,{labels:i,separator:r}=bd(e,t,n),o=e=>()=>this.pickerTable=this.getTableType(e);return{separator:r,labels:i.map((e=>(e.handler=o(e.type),e)))}},timeDisabled(){return!this.dates[0]}},watch:{value(e){this.dates=e;const t=this.multiple?this.dates[this.dates.length-1]:this.startDate||this.dates[0];this.panelDate=t||new Date},currentView(e){this.$emit("on-selection-mode-change",e),"time"===this.currentView&&this.$nextTick((()=>{this.$refs.timePicker.$refs.timeSpinner.updateScroll()}))},selectionMode(e){this.currentView=e,this.pickerTable=this.getTableType(e)},focusedDate(e){const t=e.getFullYear()!==this.panelDate.getFullYear(),n=t||e.getMonth()!==this.panelDate.getMonth();(t||n)&&(this.multiple||(this.panelDate=e))}},methods:{reset(){this.currentView=this.selectionMode,this.pickerTable=this.getTableType(this.currentView)},changeYear(e){"year"===this.selectionMode||"year-table"===this.pickerTable?this.panelDate=new Date(this.panelDate.getFullYear()+10*e,0,1):this.panelDate=vd(this.panelDate,12*e)},getTableType:e=>e.match(/^time/)?"time-picker":`${e}-table`,changeMonth(e){this.panelDate=vd(this.panelDate,e)},handlePreSelection(e){this.panelDate=e,"year-table"===this.pickerTable?this.pickerTable="month-table":this.pickerTable=this.getTableType(this.currentView)},handlePick(e,t){const{selectionMode:n,panelDate:i}=this;e="year"===n?new Date(e.getFullYear(),0,1):"month"===n?new Date(i.getFullYear(),e.getMonth(),1):new Date(e),this.dates=[e],this.$emit("on-pick",e,!1,t||n)}},render:function(n,i,r,o,s,a){const l=(0,t.up)("Icon"),u=(0,t.up)("date-panel-label"),d=(0,t.up)("time-picker"),h=(0,t.up)("Confirm");return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(a.classes),onMousedown:i[4]||(i[4]=(0,e.iM)((()=>{}),["prevent"]))},[n.shortcuts.length?((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,c.C_)([s.prefixCls+"-sidebar"])},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(n.shortcuts,(e=>((0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)([s.prefixCls+"-shortcut"]),onClick:t=>n.handleShortcutClick(e)},(0,c.zw)(e.text),11,$d)))),256))],2)):(0,t.kq)("v-if",!0),(0,t._)("div",{class:(0,c.C_)([s.prefixCls+"-body"])},[(0,t.wy)((0,t._)("div",{class:(0,c.C_)([s.datePrefixCls+"-header"])},[(0,t._)("span",{class:(0,c.C_)(n.iconBtnCls("prev","-double")),onClick:i[0]||(i[0]=e=>a.changeYear(-1))},[(0,t.Wm)(l,{type:"ios-arrow-back"})],2),"date-table"===s.pickerTable?(0,t.wy)(((0,t.wg)(),(0,t.iD)("span",{key:0,class:(0,c.C_)(n.iconBtnCls("prev")),onClick:i[1]||(i[1]=e=>a.changeMonth(-1))},[(0,t.Wm)(l,{type:"ios-arrow-back"})],2)),[[e.F8,"date"===s.currentView]]):(0,t.kq)("v-if",!0),(0,t.Wm)(u,{"date-panel-label":a.datePanelLabel,"current-view":s.pickerTable.split("-").shift(),"date-prefix-cls":s.datePrefixCls},null,8,["date-panel-label","current-view","date-prefix-cls"]),(0,t._)("span",{class:(0,c.C_)(n.iconBtnCls("next","-double")),onClick:i[2]||(i[2]=e=>a.changeYear(1))},[(0,t.Wm)(l,{type:"ios-arrow-forward"})],2),"date-table"===s.pickerTable?(0,t.wy)(((0,t.wg)(),(0,t.iD)("span",{key:1,class:(0,c.C_)(n.iconBtnCls("next")),onClick:i[3]||(i[3]=e=>a.changeMonth(1))},[(0,t.Wm)(l,{type:"ios-arrow-forward"})],2)),[[e.F8,"date"===s.currentView]]):(0,t.kq)("v-if",!0)],2),[[e.F8,"time"!==s.currentView]]),(0,t._)("div",{class:(0,c.C_)([s.prefixCls+"-content"])},["time"!==s.currentView?((0,t.wg)(),(0,t.j4)((0,t.LL)(s.pickerTable),{key:0,ref:"pickerTable","table-date":s.panelDate,"show-week-numbers":n.showWeekNumbers,value:s.dates,"selection-mode":n.selectionMode,"disabled-date":n.disabledDate,"focused-date":n.focusedDate,onOnPick:a.panelPickerHandlers,onOnPickClick:n.handlePickClick},null,8,["table-date","show-week-numbers","value","selection-mode","disabled-date","focused-date","onOnPick","onOnPickClick"])):(0,t.kq)("v-if",!0)],2),(0,t.wy)((0,t._)("div",{class:(0,c.C_)([s.prefixCls+"-content"])},["time"===s.currentView?((0,t.wg)(),(0,t.j4)(d,(0,t.dG)({key:0,ref:"timePicker",value:s.dates,format:n.format,"time-disabled":a.timeDisabled,"disabled-date":n.disabledDate,"focused-date":n.focusedDate},n.timePickerOptions,{onOnPick:a.handlePick,onOnPickClick:n.handlePickClick,onOnPickClear:n.handlePickClear,onOnPickSuccess:n.handlePickSuccess,onOnPickToggleTime:n.handleToggleTime}),null,16,["value","format","time-disabled","disabled-date","focused-date","onOnPick","onOnPickClick","onOnPickClear","onOnPickSuccess","onOnPickToggleTime"])):(0,t.kq)("v-if",!0)],2),[[e.F8,n.isTime]]),n.confirm?((0,t.wg)(),(0,t.j4)(h,{key:0,"show-time":n.showTime,"is-time":n.isTime,onOnPickToggleTime:n.handleToggleTime,onOnPickClear:n.handlePickClear,onOnPickSuccess:n.handlePickSuccess},null,8,["show-time","is-time","onOnPickToggleTime","onOnPickClear","onOnPickSuccess"])):(0,t.kq)("v-if",!0)],2)],34)}},rh=["onClick"],oh=e=>e[0].toUpperCase()+e.slice(1),sh={name:"RangeTimePickerPanel",components:{TimeSpinner:Kd,Confirm:Gd},mixins:[Yd,fl.Z,Ud],props:{steps:{type:Array,default:()=>[]},format:{type:String,default:"HH:mm:ss"},value:{type:Array,required:!0}},emits:["on-pick"],data(){const[e,t]=this.value.slice();return{prefixCls:"ivu-picker-panel",timePrefixCls:"ivu-time-picker",showDate:!1,dateStart:e||yd(),dateEnd:t||yd()}},computed:{classes(){return["ivu-picker-panel-body-wrapper","ivu-time-picker-with-range",{"ivu-time-picker-with-seconds":this.showSeconds}]},showSeconds(){return!!(this.format||"").match(/ss/)},leftDatePanelLabel(){return this.panelLabelConfig(this.date)},rightDatePanelLabel(){return this.panelLabelConfig(this.dateEnd)}},watch:{value(e){const[t,n]=e.slice();this.dateStart=t||yd(),this.dateEnd=n||yd()}},mounted(){this.$parent&&"DatePicker"===this.$parent.$options.name&&(this.showDate=!0)},methods:{panelLabelConfig(e){const t=this.t("i.locale"),n=this.t("i.datepicker.datePanelLabel"),{labels:i,separator:r}=bd(t,n,e||yd());return[i[0].label,r,i[1].label].join("")},handleChange(e,t,n=!0){const i=new Date(this.dateStart);let r=new Date(this.dateEnd);Object.keys(e).forEach((t=>{i[`set${oh(t)}`](e[t])})),Object.keys(t).forEach((e=>{r[`set${oh(e)}`](t[e])})),r<i&&(r=i),n&&this.$emit("on-pick",[i,r],"time")},handleStartChange(e){this.handleChange(e,{})},handleEndChange(e){this.handleChange({},e)},updateScroll(){this.$refs.timeSpinner.updateScroll(),this.$refs.timeSpinnerEnd.updateScroll()}},render:function(n,i,r,o,s,a){const l=(0,t.up)("time-spinner"),u=(0,t.up)("Confirm");return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(a.classes),onMousedown:i[0]||(i[0]=(0,e.iM)((()=>{}),["prevent"]))},[(0,t._)("div",{class:(0,c.C_)([s.prefixCls+"-body"])},[(0,t._)("div",{class:(0,c.C_)([s.prefixCls+"-content",s.prefixCls+"-content-left"])},[(0,t._)("div",{class:(0,c.C_)([s.timePrefixCls+"-header"])},[s.showDate?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t.Uk)((0,c.zw)(a.leftDatePanelLabel),1)],2112)):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t.Uk)((0,c.zw)(n.t("i.datepicker.startTime")),1)],2112))],2),(0,t.Wm)(l,{ref:"timeSpinner",steps:r.steps,"show-seconds":a.showSeconds,hours:r.value[0]&&s.dateStart.getHours(),minutes:r.value[0]&&s.dateStart.getMinutes(),seconds:r.value[0]&&s.dateStart.getSeconds(),"disabled-hours":n.disabledHours,"disabled-minutes":n.disabledMinutes,"disabled-seconds":n.disabledSeconds,"hide-disabled-options":n.hideDisabledOptions,onOnChange:a.handleStartChange,onOnPickClick:n.handlePickClick},null,8,["steps","show-seconds","hours","minutes","seconds","disabled-hours","disabled-minutes","disabled-seconds","hide-disabled-options","onOnChange","onOnPickClick"])],2),(0,t._)("div",{class:(0,c.C_)([s.prefixCls+"-content",s.prefixCls+"-content-right"])},[(0,t._)("div",{class:(0,c.C_)([s.timePrefixCls+"-header"])},[s.showDate?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t.Uk)((0,c.zw)(a.rightDatePanelLabel),1)],2112)):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t.Uk)((0,c.zw)(n.t("i.datepicker.endTime")),1)],2112))],2),(0,t.Wm)(l,{ref:"timeSpinnerEnd",steps:r.steps,"show-seconds":a.showSeconds,hours:r.value[1]&&s.dateEnd.getHours(),minutes:r.value[1]&&s.dateEnd.getMinutes(),seconds:r.value[1]&&s.dateEnd.getSeconds(),"disabled-hours":n.disabledHours,"disabled-minutes":n.disabledMinutes,"disabled-seconds":n.disabledSeconds,"hide-disabled-options":n.hideDisabledOptions,onOnChange:a.handleEndChange,onOnPickClick:n.handlePickClick},null,8,["steps","show-seconds","hours","minutes","seconds","disabled-hours","disabled-minutes","disabled-seconds","hide-disabled-options","onOnChange","onOnPickClick"])],2),n.confirm?((0,t.wg)(),(0,t.j4)(u,{key:0,onOnPickClear:n.handlePickClear,onOnPickSuccess:n.handlePickSuccess},null,8,["onOnPickClear","onOnPickSuccess"])):(0,t.kq)("v-if",!0)],2)],34)}},ah=(e,t)=>e&&t?e.getTime()-t.getTime():0,lh={name:"CalendarPicker",mixins:[Ed],props:{type:{validator:e=>(0,yl.kw)(e,["year","month","date","daterange","datetime","datetimerange"]),default:"date"}},components:{DatePickerPanel:ih,RangeDatePickerPanel:{name:"RangeDatePickerPanel",components:{Icon:dl.Z,DateTable:Id,YearTable:Nd,MonthTable:Bd,TimePicker:sh,Confirm:Gd,datePanelLabel:th},mixins:[Yd,fl.Z,nh],props:{splitPanels:{type:Boolean,default:!1}},data(){const[e,t]=this.value.map((e=>e||yd())),n=this.startDate?this.startDate:e;return{prefixCls:"ivu-picker-panel",datePrefixCls:"ivu-date-picker",dates:this.value,rangeState:{from:this.value[0],to:this.value[1],selecting:e&&!t},currentView:this.selectionMode||"range",leftPickerTable:`${this.selectionMode}-table`,rightPickerTable:`${this.selectionMode}-table`,leftPanelDate:n,rightPanelDate:new Date(n.getFullYear(),n.getMonth()+1,1)}},computed:{classes(){return["ivu-picker-panel-body-wrapper","ivu-date-picker-with-range",{"ivu-picker-panel-with-sidebar":this.shortcuts.length,"ivu-date-picker-with-week-numbers":this.showWeekNumbers}]},panelBodyClasses(){return["ivu-picker-panel-body",{"ivu-picker-panel-body-time":this.showTime,"ivu-picker-panel-body-date":!this.showTime}]},leftDatePanelLabel(){return this.panelLabelConfig("left")},rightDatePanelLabel(){return this.panelLabelConfig("right")},leftDatePanelView(){return this.leftPickerTable.split("-").shift()},rightDatePanelView(){return this.rightPickerTable.split("-").shift()},timeDisabled(){return!(this.dates[0]&&this.dates[1])},preSelecting(){const e=`${this.currentView}-table`;return{left:this.leftPickerTable!==e,right:this.rightPickerTable!==e}},panelPickerHandlers(){return{left:this.preSelecting.left?this.handlePreSelection.bind(this,"left"):this.handleRangePick,right:this.preSelecting.right?this.handlePreSelection.bind(this,"right"):this.handleRangePick}}},watch:{value(e){const t=e[0]?dd(e[0]):null,n=e[1]?dd(e[1]):null;this.dates=[t,n].sort(ah),this.rangeState={from:this.dates[0],to:this.dates[1],selecting:!1},this.setPanelDates(this.startDate||this.dates[0]||new Date)},currentView(e){const t=this.leftPanelDate.getMonth(),n=this.rightPanelDate.getMonth(),i=this.leftPanelDate.getFullYear()===this.rightPanelDate.getFullYear();"date"===e&&i&&t===n&&this.changePanelDate("right","Month",1),"month"===e&&i&&this.changePanelDate("right","FullYear",1),"year"===e&&i&&this.changePanelDate("right","FullYear",10)},selectionMode(e){this.currentView=e||"range"},focusedDate(e){this.setPanelDates(e||new Date)}},methods:{reset(){this.currentView=this.selectionMode,this.leftPickerTable=`${this.currentView}-table`,this.rightPickerTable=`${this.currentView}-table`},setPanelDates(e){this.leftPanelDate=e;const t=new Date(e.getFullYear(),e.getMonth()+1,1),n=this.dates[1]?this.dates[1].getTime():this.dates[1];this.rightPanelDate=this.splitPanels?new Date(Math.max(n,t.getTime())):t},panelLabelConfig(e){const t=this.t("i.locale"),n=this.t("i.datepicker.datePanelLabel"),i=t=>{const n="month"==t?this.showMonthPicker:this.showYearPicker;return()=>n(e)},r=this[`${e}PanelDate`],{labels:o,separator:s}=bd(t,n,r);return{separator:s,labels:o.map((e=>(e.handler=i(e.type),e)))}},prevYear(e){const t="year"===this.currentView?-10:-1;this.changePanelDate(e,"FullYear",t)},nextYear(e){const t="year"===this.currentView?10:1;this.changePanelDate(e,"FullYear",t)},prevMonth(e){this.changePanelDate(e,"Month",-1)},nextMonth(e){this.changePanelDate(e,"Month",1)},changePanelDate(e,t,n,i=!0){const r=new Date(this[`${e}PanelDate`]);if(r[`set${t}`](r[`get${t}`]()+n),this[`${e}PanelDate`]=r,i)if(this.splitPanels){const n="left"===e?"right":"left";"left"===e&&this.leftPanelDate>=this.rightPanelDate&&this.changePanelDate(n,t,1),"right"===e&&this.rightPanelDate<=this.leftPanelDate&&this.changePanelDate(n,t,-1)}else{const i="left"===e?"right":"left",r=this[`${i}PanelDate`],o=new Date(r);if("Month"===t){const e=new Date(o.getFullYear(),o.getMonth()+n+1,0).getDate();o.setDate(Math.min(e,o.getDate()))}o[`set${t}`](o[`get${t}`]()+n),this[`${i}PanelDate`]=o}},showYearPicker(e){this[`${e}PickerTable`]="year-table"},showMonthPicker(e){this[`${e}PickerTable`]="month-table"},handlePreSelection(e,t){this[`${e}PanelDate`]=t;const n=this[`${e}PickerTable`];if(this[`${e}PickerTable`]="year-table"===n?"month-table":`${this.currentView}-table`,!this.splitPanels){const n="left"===e?"right":"left";this[`${n}PanelDate`]=t;const i="left"===n?-1:1;this.changePanelDate(n,"Month",i,!1)}},handleRangePick(e,t){if(this.rangeState.selecting||"time"===this.currentView){if("time"===this.currentView)this.dates=e;else{const[t,n]=[this.rangeState.from,e].sort(ah);this.dates=[t,n],this.rangeState={from:t,to:n,selecting:!1}}this.handleConfirm(!1,t||"date")}else this.rangeState={from:e,to:null,selecting:!0}},handleChangeRange(e){this.rangeState.to=e}},render:function(n,i,r,o,s,a){const l=(0,t.up)("Icon"),u=(0,t.up)("date-panel-label"),d=(0,t.up)("time-picker"),h=(0,t.up)("Confirm");return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(a.classes),onMousedown:i[8]||(i[8]=(0,e.iM)((()=>{}),["prevent"]))},[n.shortcuts.length?((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,c.C_)([s.prefixCls+"-sidebar"])},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(n.shortcuts,(e=>((0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)([s.prefixCls+"-shortcut"]),onClick:t=>n.handleShortcutClick(e)},(0,c.zw)(e.text),11,rh)))),256))],2)):(0,t.kq)("v-if",!0),(0,t._)("div",{class:(0,c.C_)(a.panelBodyClasses)},[(0,t.wy)((0,t._)("div",{class:(0,c.C_)([s.prefixCls+"-content",s.prefixCls+"-content-left"])},[(0,t.wy)((0,t._)("div",{class:(0,c.C_)([s.datePrefixCls+"-header"])},[(0,t._)("span",{class:(0,c.C_)(n.iconBtnCls("prev","-double")),onClick:i[0]||(i[0]=e=>a.prevYear("left"))},[(0,t.Wm)(l,{type:"ios-arrow-back"})],2),"date-table"===s.leftPickerTable?(0,t.wy)(((0,t.wg)(),(0,t.iD)("span",{key:0,class:(0,c.C_)(n.iconBtnCls("prev")),onClick:i[1]||(i[1]=e=>a.prevMonth("left"))},[(0,t.Wm)(l,{type:"ios-arrow-back"})],2)),[[e.F8,"date"===s.currentView]]):(0,t.kq)("v-if",!0),(0,t.Wm)(u,{"date-panel-label":a.leftDatePanelLabel,"current-view":a.leftDatePanelView,"date-prefix-cls":s.datePrefixCls},null,8,["date-panel-label","current-view","date-prefix-cls"]),r.splitPanels||"date-table"!==s.leftPickerTable?((0,t.wg)(),(0,t.iD)("span",{key:1,class:(0,c.C_)(n.iconBtnCls("next","-double")),onClick:i[2]||(i[2]=e=>a.nextYear("left"))},[(0,t.Wm)(l,{type:"ios-arrow-forward"})],2)):(0,t.kq)("v-if",!0),r.splitPanels&&"date-table"===s.leftPickerTable?(0,t.wy)(((0,t.wg)(),(0,t.iD)("span",{key:2,class:(0,c.C_)(n.iconBtnCls("next")),onClick:i[3]||(i[3]=e=>a.nextMonth("left"))},[(0,t.Wm)(l,{type:"ios-arrow-forward"})],2)),[[e.F8,"date"===s.currentView]]):(0,t.kq)("v-if",!0)],2),[[e.F8,"time"!==s.currentView]]),"time"!==s.currentView?((0,t.wg)(),(0,t.j4)((0,t.LL)(s.leftPickerTable),{key:0,ref:"leftYearTable","table-date":s.leftPanelDate,"selection-mode":"range","disabled-date":n.disabledDate,"range-state":s.rangeState,"show-week-numbers":n.showWeekNumbers,value:a.preSelecting.left?[s.dates[0]]:s.dates,"focused-date":n.focusedDate,onOnChangeRange:a.handleChangeRange,onOnPick:a.panelPickerHandlers.left,onOnPickClick:n.handlePickClick},null,8,["table-date","disabled-date","range-state","show-week-numbers","value","focused-date","onOnChangeRange","onOnPick","onOnPickClick"])):(0,t.kq)("v-if",!0)],2),[[e.F8,!n.isTime]]),(0,t.wy)((0,t._)("div",{class:(0,c.C_)([s.prefixCls+"-content",s.prefixCls+"-content-right"])},[(0,t.wy)((0,t._)("div",{class:(0,c.C_)([s.datePrefixCls+"-header"])},[r.splitPanels||"date-table"!==s.rightPickerTable?((0,t.wg)(),(0,t.iD)("span",{key:0,class:(0,c.C_)(n.iconBtnCls("prev","-double")),onClick:i[4]||(i[4]=e=>a.prevYear("right"))},[(0,t.Wm)(l,{type:"ios-arrow-back"})],2)):(0,t.kq)("v-if",!0),r.splitPanels&&"date-table"===s.rightPickerTable?(0,t.wy)(((0,t.wg)(),(0,t.iD)("span",{key:1,class:(0,c.C_)(n.iconBtnCls("prev")),onClick:i[5]||(i[5]=e=>a.prevMonth("right"))},[(0,t.Wm)(l,{type:"ios-arrow-back"})],2)),[[e.F8,"date"===s.currentView]]):(0,t.kq)("v-if",!0),(0,t.Wm)(u,{"date-panel-label":a.rightDatePanelLabel,"current-view":a.rightDatePanelView,"date-prefix-cls":s.datePrefixCls},null,8,["date-panel-label","current-view","date-prefix-cls"]),(0,t._)("span",{class:(0,c.C_)(n.iconBtnCls("next","-double")),onClick:i[6]||(i[6]=e=>a.nextYear("right"))},[(0,t.Wm)(l,{type:"ios-arrow-forward"})],2),"date-table"===s.rightPickerTable?(0,t.wy)(((0,t.wg)(),(0,t.iD)("span",{key:2,class:(0,c.C_)(n.iconBtnCls("next")),onClick:i[7]||(i[7]=e=>a.nextMonth("right"))},[(0,t.Wm)(l,{type:"ios-arrow-forward"})],2)),[[e.F8,"date"===s.currentView]]):(0,t.kq)("v-if",!0)],2),[[e.F8,"time"!==s.currentView]]),"time"!==s.currentView?((0,t.wg)(),(0,t.j4)((0,t.LL)(s.rightPickerTable),{key:0,ref:"rightYearTable","table-date":s.rightPanelDate,"selection-mode":"range","range-state":s.rangeState,"disabled-date":n.disabledDate,"show-week-numbers":n.showWeekNumbers,value:a.preSelecting.right?[s.dates[s.dates.length-1]]:s.dates,"focused-date":n.focusedDate,onOnChangeRange:a.handleChangeRange,onOnPick:a.panelPickerHandlers.right,onOnPickClick:n.handlePickClick},null,8,["table-date","range-state","disabled-date","show-week-numbers","value","focused-date","onOnChangeRange","onOnPick","onOnPickClick"])):(0,t.kq)("v-if",!0)],2),[[e.F8,!n.isTime]]),(0,t.wy)((0,t._)("div",{class:(0,c.C_)([s.prefixCls+"-content"])},["time"===s.currentView?((0,t.wg)(),(0,t.j4)(d,(0,t.dG)({key:0,ref:"timePicker",value:s.dates,format:n.format,"time-disabled":a.timeDisabled},n.timePickerOptions,{onOnPick:a.handleRangePick,onOnPickClick:n.handlePickClick,onOnPickClear:n.handlePickClear,onOnPickSuccess:n.handlePickSuccess,onOnPickToggleTime:n.handleToggleTime}),null,16,["value","format","time-disabled","onOnPick","onOnPickClick","onOnPickClear","onOnPickSuccess","onOnPickToggleTime"])):(0,t.kq)("v-if",!0)],2),[[e.F8,n.isTime]]),n.confirm?((0,t.wg)(),(0,t.j4)(h,{key:0,"show-time":n.showTime,"is-time":n.isTime,"time-disabled":a.timeDisabled,onOnPickToggleTime:n.handleToggleTime,onOnPickClear:n.handlePickClear,onOnPickSuccess:n.handlePickSuccess},null,8,["show-time","is-time","time-disabled","onOnPickToggleTime","onOnPickClear","onOnPickSuccess"])):(0,t.kq)("v-if",!0)],2)],34)}}},computed:{panel(){return"daterange"===this.type||"datetimerange"===this.type?"RangeDatePickerPanel":"DatePickerPanel"},ownPickerProps(){return this.options}}},ch={class:"ivu-badge-status-text"},uh=["blue","green","red","yellow","pink","magenta","volcano","orange","gold","lime","cyan","geekblue","purple"],dh={name:"Badge",props:{count:Number,dot:{type:Boolean,default:!1},overflowCount:{type:[Number,String],default:99},className:String,showZero:{type:Boolean,default:!1},text:{type:String,default:""},status:{validator:e=>(0,yl.kw)(e,["success","processing","default","error","warning"])},type:{validator:e=>(0,yl.kw)(e,["success","primary","normal","error","warning","info"])},offset:{type:Array},color:{type:String}},computed:{classes:()=>"ivu-badge",dotClasses:()=>"ivu-badge-dot",countClasses(){return["ivu-badge-count",{[`${this.className}`]:!!this.className,"ivu-badge-count-alone":this.alone,[`ivu-badge-count-${this.type}`]:!!this.type}]},customCountClasses(){return["ivu-badge-count","ivu-badge-count-custom",{[`${this.className}`]:!!this.className}]},statusClasses(){return["ivu-badge-status-dot",{[`ivu-badge-status-${this.status}`]:!!this.status,[`ivu-badge-status-${this.color}`]:!!this.color&&(0,yl.kw)(this.color,uh)}]},statusStyles(){return(0,yl.kw)(this.color,uh)?{}:{backgroundColor:this.color}},styles(){const e={};return this.offset&&2===this.offset.length&&(e["margin-top"]=`${this.offset[0]}px`,e["margin-right"]=`${this.offset[1]}px`),e},finalCount(){return""!==this.text?this.text:parseInt(this.count)>=parseInt(this.overflowCount)?`${this.overflowCount}+`:this.count},badge(){let e=!1;return this.count&&(e=!(0===parseInt(this.count))),this.dot&&(e=!0,null!==this.count&&0===parseInt(this.count)&&(e=!1)),""!==this.text&&(e=!0),e||this.showZero},hasCount(){return!!(this.count||""!==this.text||this.showZero&&0===parseInt(this.count))},alone(){return void 0===this.$slots.default}},render:function(n,i,r,o,s,a){return r.dot?((0,t.wg)(),(0,t.iD)("span",{key:0,ref:"badge",class:(0,c.C_)(a.classes)},[(0,t.WI)(n.$slots,"default"),(0,t.wy)((0,t._)("sup",{class:(0,c.C_)(a.dotClasses),style:(0,c.j5)(a.styles)},null,6),[[e.F8,a.badge]])],2)):r.status||r.color?((0,t.wg)(),(0,t.iD)("span",{key:1,ref:"badge",class:(0,c.C_)([a.classes,"ivu-badge-status"])},[(0,t._)("span",{class:(0,c.C_)(a.statusClasses),style:(0,c.j5)(a.statusStyles)},null,6),(0,t._)("span",ch,[(0,t.WI)(n.$slots,"text",{},(()=>[(0,t.Uk)((0,c.zw)(r.text),1)]))])],2)):((0,t.wg)(),(0,t.iD)("span",{key:2,ref:"badge",class:(0,c.C_)(a.classes)},[(0,t.WI)(n.$slots,"default"),n.$slots.count?((0,t.wg)(),(0,t.iD)("sup",{key:0,style:(0,c.j5)(a.styles),class:(0,c.C_)(a.customCountClasses)},[(0,t.WI)(n.$slots,"count")],6)):a.hasCount?(0,t.wy)(((0,t.wg)(),(0,t.iD)("sup",{key:1,style:(0,c.j5)(a.styles),class:(0,c.C_)(a.countClasses)},[(0,t.WI)(n.$slots,"text",{},(()=>[(0,t.Uk)((0,c.zw)(a.finalCount),1)]))],6)),[[e.F8,a.badge]]):(0,t.kq)("v-if",!0)],2))}},hh={name:"Collapse",props:{accordion:{type:Boolean,default:!1},modelValue:{type:[Array,String],required:!1,default:null},simple:{type:Boolean,default:!1}},emits:["on-change","update:modelValue"],data(){return{currentValue:this.modelValue,childrens:[]}},computed:{classes(){return["ivu-collapse",{"ivu-collapse-simple":this.simple}]}},watch:{modelValue(e){this.currentValue=e},currentValue(){this.setActive()}},mounted(){this.setActive()},methods:{setActive(){const e=this.getActiveKey();this.childrens=(0,yl.Hj)(this,"Panel"),this.childrens.forEach(((t,n)=>{const i=t.name||n.toString();t.isActive=e.indexOf(i)>-1,t.index=n}))},getActiveKey(){let e=this.currentValue||[];const t=this.accordion;Array.isArray(e)||(e=[e]),t&&e.length>1&&(e=[e[0]]);for(let t=0;t<e.length;t++)e[t]=e[t].toString();return e},toggle(e){const t=e.name.toString();let n=[];if(this.accordion)e.isActive||n.push(t);else{const i=this.getActiveKey(),r=i.indexOf(t);e.isActive?r>-1&&i.splice(r,1):r<0&&i.push(t),n=i}this.currentValue=n,this.setActive(),this.$emit("update:modelValue",n),this.$emit("on-change",n)}},render:function(e,n,i,r,o,s){return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(s.classes)},[(0,t.WI)(e.$slots,"default")],2)}},ph={key:0,class:"ivu-progress-inner-text"},fh={name:"Progress",components:{Icon:dl.Z},props:{percent:{type:Number,default:0},successPercent:{type:Number,default:0},status:{validator:e=>(0,yl.kw)(e,["normal","active","wrong","success"]),default:"normal"},hideInfo:{type:Boolean,default:!1},strokeWidth:{type:Number,default:10},vertical:{type:Boolean,default:!1},strokeColor:{type:[String,Array]},textInside:{type:Boolean,default:!1}},data(){return{currentStatus:this.status}},computed:{isStatus(){return"wrong"==this.currentStatus||"success"==this.currentStatus},statusIcon(){let e="";switch(this.currentStatus){case"wrong":e="ios-close-circle";break;case"success":e="ios-checkmark-circle"}return e},bgStyle(){const e=this.vertical?{height:`${this.percent}%`,width:`${this.strokeWidth}px`}:{width:`${this.percent}%`,height:`${this.strokeWidth}px`};return this.strokeColor&&("string"==typeof this.strokeColor?e["background-color"]=this.strokeColor:e["background-image"]=`linear-gradient(to right, ${this.strokeColor[0]} 0%, ${this.strokeColor[1]} 100%)`),e},successBgStyle(){return this.vertical?{height:`${this.successPercent}%`,width:`${this.strokeWidth}px`}:{width:`${this.successPercent}%`,height:`${this.strokeWidth}px`}},wrapClasses(){return["ivu-progress",`ivu-progress-${this.currentStatus}`,{"ivu-progress-show-info":!this.hideInfo&&!this.textInside,"ivu-progress-vertical":this.vertical}]},textClasses:()=>"ivu-progress-text",textInnerClasses:()=>"ivu-progress-text-inner",outerClasses:()=>"ivu-progress-outer",innerClasses:()=>"ivu-progress-inner",bgClasses:()=>"ivu-progress-bg",successBgClasses:()=>"ivu-progress-success-bg"},watch:{percent(e,t){e<t?this.handleStatus(!0):this.handleStatus()},status(e){this.currentStatus=e}},created(){this.handleStatus()},methods:{handleStatus(e){e?(this.currentStatus="normal",this.$emit("on-status-change","normal")):100==parseInt(this.percent,10)&&(this.currentStatus="success",this.$emit("on-status-change","success"))}},render:function(e,n,i,r,o,s){const a=(0,t.up)("Icon");return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(s.wrapClasses)},[(0,t._)("div",{class:(0,c.C_)(s.outerClasses)},[(0,t._)("div",{class:(0,c.C_)(s.innerClasses)},[(0,t._)("div",{class:(0,c.C_)(s.bgClasses),style:(0,c.j5)(s.bgStyle)},[i.textInside?((0,t.wg)(),(0,t.iD)("div",ph,(0,c.zw)(i.percent)+"% ",1)):(0,t.kq)("v-if",!0)],6),(0,t._)("div",{class:(0,c.C_)(s.successBgClasses),style:(0,c.j5)(s.successBgStyle)},null,6)],2)],2),i.hideInfo||i.textInside?(0,t.kq)("v-if",!0):((0,t.wg)(),(0,t.iD)("span",{key:0,class:(0,c.C_)(s.textClasses)},[(0,t.WI)(e.$slots,"default",{},(()=>[s.isStatus?((0,t.wg)(),(0,t.iD)("span",{key:0,class:(0,c.C_)(s.textInnerClasses)},[(0,t.Wm)(a,{type:s.statusIcon},null,8,["type"])],2)):((0,t.wg)(),(0,t.iD)("span",{key:1,class:(0,c.C_)(s.textInnerClasses)},(0,c.zw)(i.percent)+"% ",3))]))],2))],2)}};function mh(e){return(mh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vh(){return(vh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function yh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){gh(e,t,n[t])}))}return e}function bh(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wh(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var _h=wh(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),xh=wh(/Edge/i),kh=wh(/firefox/i),Ch=wh(/safari/i)&&!wh(/chrome/i)&&!wh(/android/i),Sh=wh(/iP(ad|od|hone)/i),Ah=wh(/chrome/i)&&wh(/android/i),Dh={capture:!1,passive:!1};function Oh(e,t,n){e.addEventListener(t,n,!_h&&Dh)}function Th(e,t,n){e.removeEventListener(t,n,!_h&&Dh)}function Eh(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function $h(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Mh(e,t,n,i){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&Eh(e,t):Eh(e,t))||i&&e===n)return e;if(e===n)break}while(e=$h(e))}return null}var Rh,Lh=/\s+/g;function Ph(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var i=(" "+e.className+" ").replace(Lh," ").replace(" "+t+" "," ");e.className=(i+(n?" "+t:"")).replace(Lh," ")}}function Fh(e,t,n){var i=e&&e.style;if(i){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in i||-1!==t.indexOf("webkit")||(t="-webkit-"+t),i[t]=n+("string"==typeof n?"":"px")}}function Ih(e,t){var n="";if("string"==typeof e)n=e;else do{var i=Fh(e,"transform");i&&"none"!==i&&(n=i+" "+n)}while(!t&&(e=e.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function jh(e,t,n){if(e){var i=e.getElementsByTagName(t),r=0,o=i.length;if(n)for(;r<o;r++)n(i[r],r);return i}return[]}function Nh(){return document.scrollingElement||document.documentElement}function Vh(e,t,n,i,r){if(e.getBoundingClientRect||e===window){var o,s,a,l,c,u,d;if(e!==window&&e.parentNode&&e!==Nh()?(s=(o=e.getBoundingClientRect()).top,a=o.left,l=o.bottom,c=o.right,u=o.height,d=o.width):(s=0,a=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(r=r||e.parentNode,!_h))do{if(r&&r.getBoundingClientRect&&("none"!==Fh(r,"transform")||n&&"static"!==Fh(r,"position"))){var h=r.getBoundingClientRect();s-=h.top+parseInt(Fh(r,"border-top-width")),a-=h.left+parseInt(Fh(r,"border-left-width")),l=s+o.height,c=a+o.width;break}}while(r=r.parentNode);if(i&&e!==window){var p=Ih(r||e),f=p&&p.a,m=p&&p.d;p&&(l=(s/=m)+(u/=m),c=(a/=f)+(d/=f))}return{top:s,left:a,bottom:l,right:c,width:d,height:u}}}function Bh(e,t,n){for(var i=Hh(e,!0),r=Vh(e)[t];i;){var o=Vh(i)[n];if(!("top"===n||"left"===n?r>=o:r<=o))return i;if(i===Nh())break;i=Hh(i,!1)}return!1}function qh(e,t,n){for(var i=0,r=0,o=e.children;r<o.length;){if("none"!==o[r].style.display&&o[r]!==Kp.ghost&&o[r]!==Kp.dragged&&Mh(o[r],n.draggable,e,!1)){if(i===t)return o[r];i++}r++}return null}function zh(e,t){for(var n=e.lastElementChild;n&&(n===Kp.ghost||"none"===Fh(n,"display")||t&&!Eh(n,t));)n=n.previousElementSibling;return n||null}function Wh(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Kp.clone||t&&!Eh(e,t)||n++;return n}function Uh(e){var t=0,n=0,i=Nh();if(e)do{var r=Ih(e),o=r.a,s=r.d;t+=e.scrollLeft*o,n+=e.scrollTop*s}while(e!==i&&(e=e.parentNode));return[t,n]}function Hh(e,t){if(!e||!e.getBoundingClientRect)return Nh();var n=e,i=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=Fh(n);if(n.clientWidth<n.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!n.getBoundingClientRect||n===document.body)return Nh();if(i||t)return n;i=!0}}}while(n=n.parentNode);return Nh()}function Kh(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function Zh(e,t){return function(){if(!Rh){var n=arguments,i=this;1===n.length?e.call(i,n[0]):e.apply(i,n),Rh=setTimeout((function(){Rh=void 0}),t)}}}function Gh(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function Yh(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var Qh="Sortable"+(new Date).getTime();var Jh=[],Xh={initializeByDefault:!0},ep={mount:function(e){for(var t in Xh)Xh.hasOwnProperty(t)&&!(t in e)&&(e[t]=Xh[t]);Jh.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),Jh.push(e)},pluginEvent:function(e,t,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var r=e+"Global";Jh.forEach((function(i){t[i.pluginName]&&(t[i.pluginName][r]&&t[i.pluginName][r](yh({sortable:t},n)),t.options[i.pluginName]&&t[i.pluginName][e]&&t[i.pluginName][e](yh({sortable:t},n)))}))},initializePlugins:function(e,t,n,i){for(var r in Jh.forEach((function(i){var r=i.pluginName;if(e.options[r]||i.initializeByDefault){var o=new i(e,t,e.options);o.sortable=e,o.options=e.options,e[r]=o,vh(n,o.defaults)}})),e.options)if(e.options.hasOwnProperty(r)){var o=this.modifyOption(e,r,e.options[r]);void 0!==o&&(e.options[r]=o)}},getEventProperties:function(e,t){var n={};return Jh.forEach((function(i){"function"==typeof i.eventProperties&&vh(n,i.eventProperties.call(t[i.pluginName],e))})),n},modifyOption:function(e,t,n){var i;return Jh.forEach((function(r){e[r.pluginName]&&r.optionListeners&&"function"==typeof r.optionListeners[t]&&(i=r.optionListeners[t].call(e[r.pluginName],n))})),i}},tp=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.evt,r=bh(n,["evt"]);ep.pluginEvent.bind(Kp)(e,t,yh({dragEl:ip,parentEl:rp,ghostEl:op,rootEl:sp,nextEl:ap,lastDownEl:lp,cloneEl:cp,cloneHidden:up,dragStarted:kp,putSortable:gp,activeSortable:Kp.active,originalEvent:i,oldIndex:dp,oldDraggableIndex:pp,newIndex:hp,newDraggableIndex:fp,hideGhostForTarget:zp,unhideGhostForTarget:Wp,cloneNowHidden:function(){up=!0},cloneNowShown:function(){up=!1},dispatchSortableEvent:function(e){np({sortable:t,name:e,originalEvent:i})}},r))};function np(e){!function(e){var t=e.sortable,n=e.rootEl,i=e.name,r=e.targetEl,o=e.cloneEl,s=e.toEl,a=e.fromEl,l=e.oldIndex,c=e.newIndex,u=e.oldDraggableIndex,d=e.newDraggableIndex,h=e.originalEvent,p=e.putSortable,f=e.extraEventProperties;if(t=t||n&&n[Qh]){var m,g=t.options,v="on"+i.charAt(0).toUpperCase()+i.substr(1);!window.CustomEvent||_h||xh?(m=document.createEvent("Event")).initEvent(i,!0,!0):m=new CustomEvent(i,{bubbles:!0,cancelable:!0}),m.to=s||n,m.from=a||n,m.item=r||n,m.clone=o,m.oldIndex=l,m.newIndex=c,m.oldDraggableIndex=u,m.newDraggableIndex=d,m.originalEvent=h,m.pullMode=p?p.lastPutMode:void 0;var y=yh({},f,ep.getEventProperties(i,t));for(var b in y)m[b]=y[b];n&&n.dispatchEvent(m),g[v]&&g[v].call(t,m)}}(yh({putSortable:gp,cloneEl:cp,targetEl:ip,rootEl:sp,oldIndex:dp,oldDraggableIndex:pp,newIndex:hp,newDraggableIndex:fp},e))}var ip,rp,op,sp,ap,lp,cp,up,dp,hp,pp,fp,mp,gp,vp,yp,bp,wp,_p,xp,kp,Cp,Sp,Ap,Dp,Op=!1,Tp=!1,Ep=[],$p=!1,Mp=!1,Rp=[],Lp=!1,Pp=[],Fp="undefined"!=typeof document,Ip=Sh,jp=xh||_h?"cssFloat":"float",Np=Fp&&!Ah&&!Sh&&"draggable"in document.createElement("div"),Vp=function(){if(Fp){if(_h)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Bp=function(e,t){var n=Fh(e),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=qh(e,0,t),o=qh(e,1,t),s=r&&Fh(r),a=o&&Fh(o),l=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+Vh(r).width,c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Vh(o).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&s.float&&"none"!==s.float){var u="left"===s.float?"left":"right";return!o||"both"!==a.clear&&a.clear!==u?"horizontal":"vertical"}return r&&("block"===s.display||"flex"===s.display||"table"===s.display||"grid"===s.display||l>=i&&"none"===n[jp]||o&&"none"===n[jp]&&l+c>i)?"vertical":"horizontal"},qp=function(e){function t(e,n){return function(i,r,o,s){var a=i.options.group.name&&r.options.group.name&&i.options.group.name===r.options.group.name;if(null==e&&(n||a))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(i,r,o,s),n)(i,r,o,s);var l=(n?i:r).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var n={},i=e.group;i&&"object"==mh(i)||(i={name:i}),n.name=i.name,n.checkPull=t(i.pull,!0),n.checkPut=t(i.put),n.revertClone=i.revertClone,e.group=n},zp=function(){!Vp&&op&&Fh(op,"display","none")},Wp=function(){!Vp&&op&&Fh(op,"display","")};Fp&&document.addEventListener("click",(function(e){if(Tp)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Tp=!1,!1}),!0);var Up=function(e){if(ip){e=e.touches?e.touches[0]:e;var t=(r=e.clientX,o=e.clientY,Ep.some((function(e){if(!zh(e)){var t=Vh(e),n=e[Qh].options.emptyInsertThreshold,i=r>=t.left-n&&r<=t.right+n,a=o>=t.top-n&&o<=t.bottom+n;return n&&i&&a?s=e:void 0}})),s);if(t){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[Qh]._onDragOver(n)}}var r,o,s},Hp=function(e){ip&&ip.parentNode[Qh]._isOutsideThisEl(e.target)};function Kp(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=vh({},t),e[Qh]=this;var n,i,r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Bp(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Kp.supportPointer&&"PointerEvent"in window&&!Ch,emptyInsertThreshold:5};for(var o in ep.initializePlugins(this,e,r),r)!(o in t)&&(t[o]=r[o]);for(var s in qp(t),this)"_"===s.charAt(0)&&"function"==typeof this[s]&&(this[s]=this[s].bind(this));this.nativeDraggable=!t.forceFallback&&Np,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?Oh(e,"pointerdown",this._onTapStart):(Oh(e,"mousedown",this._onTapStart),Oh(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(Oh(e,"dragover",this),Oh(e,"dragenter",this)),Ep.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),vh(this,(i=[],{captureAnimationState:function(){i=[],this.options.animation&&[].slice.call(this.el.children).forEach((function(e){if("none"!==Fh(e,"display")&&e!==Kp.ghost){i.push({target:e,rect:Vh(e)});var t=yh({},i[i.length-1].rect);if(e.thisAnimationDuration){var n=Ih(e,!0);n&&(t.top-=n.f,t.left-=n.e)}e.fromRect=t}}))},addAnimationState:function(e){i.push(e)},removeAnimationState:function(e){i.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var i in t)if(t.hasOwnProperty(i)&&t[i]===e[n][i])return Number(n);return-1}(i,{target:e}),1)},animateAll:function(e){var t=this;if(!this.options.animation)return clearTimeout(n),void("function"==typeof e&&e());var r=!1,o=0;i.forEach((function(e){var n=0,i=e.target,s=i.fromRect,a=Vh(i),l=i.prevFromRect,c=i.prevToRect,u=e.rect,d=Ih(i,!0);d&&(a.top-=d.f,a.left-=d.e),i.toRect=a,i.thisAnimationDuration&&Kh(l,a)&&!Kh(s,a)&&(u.top-a.top)/(u.left-a.left)==(s.top-a.top)/(s.left-a.left)&&(n=function(e,t,n,i){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*i.animation}(u,l,c,t.options)),Kh(a,s)||(i.prevFromRect=s,i.prevToRect=a,n||(n=t.options.animation),t.animate(i,u,a,n)),n&&(r=!0,o=Math.max(o,n),clearTimeout(i.animationResetTimer),i.animationResetTimer=setTimeout((function(){i.animationTime=0,i.prevFromRect=null,i.fromRect=null,i.prevToRect=null,i.thisAnimationDuration=null}),n),i.thisAnimationDuration=n)})),clearTimeout(n),r?n=setTimeout((function(){"function"==typeof e&&e()}),o):"function"==typeof e&&e(),i=[]},animate:function(e,t,n,i){if(i){Fh(e,"transition",""),Fh(e,"transform","");var r=Ih(this.el),o=r&&r.a,s=r&&r.d,a=(t.left-n.left)/(o||1),l=(t.top-n.top)/(s||1);e.animatingX=!!a,e.animatingY=!!l,Fh(e,"transform","translate3d("+a+"px,"+l+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),Fh(e,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),Fh(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){Fh(e,"transition",""),Fh(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),i)}}}))}function Zp(e,t,n,i,r,o,s,a){var l,c,u=e[Qh],d=u.options.onMove;return!window.CustomEvent||_h||xh?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=n,l.draggedRect=i,l.related=r||t,l.relatedRect=o||Vh(t),l.willInsertAfter=a,l.originalEvent=s,e.dispatchEvent(l),d&&(c=d.call(u,l,s)),c}function Gp(e){e.draggable=!1}function Yp(){Lp=!1}function Qp(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,i=0;n--;)i+=t.charCodeAt(n);return i.toString(36)}function Jp(e){return setTimeout(e,0)}function Xp(e){return clearTimeout(e)}Kp.prototype={constructor:Kp,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(Cp=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,ip):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,i=this.options,r=i.preventOnFilter,o=e.type,s=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,a=(s||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||a,c=i.filter;if(function(e){Pp.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var i=t[n];i.checked&&Pp.push(i)}}(n),!ip&&!(/mousedown|pointerdown/.test(o)&&0!==e.button||i.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!Ch||!a||"SELECT"!==a.tagName.toUpperCase())&&!((a=Mh(a,i.draggable,n,!1))&&a.animated||lp===a)){if(dp=Wh(a),pp=Wh(a,i.draggable),"function"==typeof c){if(c.call(this,e,a,this))return np({sortable:t,rootEl:l,name:"filter",targetEl:a,toEl:n,fromEl:n}),tp("filter",t,{evt:e}),void(r&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(i){if(i=Mh(l,i.trim(),n,!1))return np({sortable:t,rootEl:i,name:"filter",targetEl:a,fromEl:n,toEl:n}),tp("filter",t,{evt:e}),!0}))))return void(r&&e.cancelable&&e.preventDefault());i.handle&&!Mh(l,i.handle,n,!1)||this._prepareDragStart(e,s,a)}}},_prepareDragStart:function(e,t,n){var i,r=this,o=r.el,s=r.options,a=o.ownerDocument;if(n&&!ip&&n.parentNode===o){var l=Vh(n);if(sp=o,rp=(ip=n).parentNode,ap=ip.nextSibling,lp=n,mp=s.group,Kp.dragged=ip,vp={target:ip,clientX:(t||e).clientX,clientY:(t||e).clientY},_p=vp.clientX-l.left,xp=vp.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,ip.style["will-change"]="all",i=function(){tp("delayEnded",r,{evt:e}),Kp.eventCanceled?r._onDrop():(r._disableDelayedDragEvents(),!kh&&r.nativeDraggable&&(ip.draggable=!0),r._triggerDragStart(e,t),np({sortable:r,name:"choose",originalEvent:e}),Ph(ip,s.chosenClass,!0))},s.ignore.split(",").forEach((function(e){jh(ip,e.trim(),Gp)})),Oh(a,"dragover",Up),Oh(a,"mousemove",Up),Oh(a,"touchmove",Up),Oh(a,"mouseup",r._onDrop),Oh(a,"touchend",r._onDrop),Oh(a,"touchcancel",r._onDrop),kh&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ip.draggable=!0),tp("delayStart",this,{evt:e}),!s.delay||s.delayOnTouchOnly&&!t||this.nativeDraggable&&(xh||_h))i();else{if(Kp.eventCanceled)return void this._onDrop();Oh(a,"mouseup",r._disableDelayedDrag),Oh(a,"touchend",r._disableDelayedDrag),Oh(a,"touchcancel",r._disableDelayedDrag),Oh(a,"mousemove",r._delayedDragTouchMoveHandler),Oh(a,"touchmove",r._delayedDragTouchMoveHandler),s.supportPointer&&Oh(a,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(i,s.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ip&&Gp(ip),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Th(e,"mouseup",this._disableDelayedDrag),Th(e,"touchend",this._disableDelayedDrag),Th(e,"touchcancel",this._disableDelayedDrag),Th(e,"mousemove",this._delayedDragTouchMoveHandler),Th(e,"touchmove",this._delayedDragTouchMoveHandler),Th(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?Oh(document,"pointermove",this._onTouchMove):Oh(document,t?"touchmove":"mousemove",this._onTouchMove):(Oh(ip,"dragend",this),Oh(sp,"dragstart",this._onDragStart));try{document.selection?Jp((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(Op=!1,sp&&ip){tp("dragStarted",this,{evt:t}),this.nativeDraggable&&Oh(document,"dragover",Hp);var n=this.options;!e&&Ph(ip,n.dragClass,!1),Ph(ip,n.ghostClass,!0),Kp.active=this,e&&this._appendGhost(),np({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(yp){this._lastX=yp.clientX,this._lastY=yp.clientY,zp();for(var e=document.elementFromPoint(yp.clientX,yp.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(yp.clientX,yp.clientY))!==t;)t=e;if(ip.parentNode[Qh]._isOutsideThisEl(e),t)do{if(t[Qh]&&t[Qh]._onDragOver({clientX:yp.clientX,clientY:yp.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break;e=t}while(t=t.parentNode);Wp()}},_onTouchMove:function(e){if(vp){var t=this.options,n=t.fallbackTolerance,i=t.fallbackOffset,r=e.touches?e.touches[0]:e,o=op&&Ih(op,!0),s=op&&o&&o.a,a=op&&o&&o.d,l=Ip&&Dp&&Uh(Dp),c=(r.clientX-vp.clientX+i.x)/(s||1)+(l?l[0]-Rp[0]:0)/(s||1),u=(r.clientY-vp.clientY+i.y)/(a||1)+(l?l[1]-Rp[1]:0)/(a||1);if(!Kp.active&&!Op){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(op){o?(o.e+=c-(bp||0),o.f+=u-(wp||0)):o={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");Fh(op,"webkitTransform",d),Fh(op,"mozTransform",d),Fh(op,"msTransform",d),Fh(op,"transform",d),bp=c,wp=u,yp=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!op){var e=this.options.fallbackOnBody?document.body:sp,t=Vh(ip,!0,Ip,!0,e),n=this.options;if(Ip){for(Dp=e;"static"===Fh(Dp,"position")&&"none"===Fh(Dp,"transform")&&Dp!==document;)Dp=Dp.parentNode;Dp!==document.body&&Dp!==document.documentElement?(Dp===document&&(Dp=Nh()),t.top+=Dp.scrollTop,t.left+=Dp.scrollLeft):Dp=Nh(),Rp=Uh(Dp)}Ph(op=ip.cloneNode(!0),n.ghostClass,!1),Ph(op,n.fallbackClass,!0),Ph(op,n.dragClass,!0),Fh(op,"transition",""),Fh(op,"transform",""),Fh(op,"box-sizing","border-box"),Fh(op,"margin",0),Fh(op,"top",t.top),Fh(op,"left",t.left),Fh(op,"width",t.width),Fh(op,"height",t.height),Fh(op,"opacity","0.8"),Fh(op,"position",Ip?"absolute":"fixed"),Fh(op,"zIndex","100000"),Fh(op,"pointerEvents","none"),Kp.ghost=op,e.appendChild(op),Fh(op,"transform-origin",_p/parseInt(op.style.width)*100+"% "+xp/parseInt(op.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,i=e.dataTransfer,r=n.options;tp("dragStart",this,{evt:e}),Kp.eventCanceled?this._onDrop():(tp("setupClone",this),Kp.eventCanceled||((cp=Yh(ip)).draggable=!1,cp.style["will-change"]="",this._hideClone(),Ph(cp,this.options.chosenClass,!1),Kp.clone=cp),n.cloneId=Jp((function(){tp("clone",n),Kp.eventCanceled||(n.options.removeCloneOnHide||sp.insertBefore(cp,ip),n._hideClone(),np({sortable:n,name:"clone"}))})),!t&&Ph(ip,r.dragClass,!0),t?(Tp=!0,n._loopId=setInterval(n._emulateDragOver,50)):(Th(document,"mouseup",n._onDrop),Th(document,"touchend",n._onDrop),Th(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",r.setData&&r.setData.call(n,i,ip)),Oh(document,"drop",n),Fh(ip,"transform","translateZ(0)")),Op=!0,n._dragStartId=Jp(n._dragStarted.bind(n,t,e)),Oh(document,"selectstart",n),kp=!0,Ch&&Fh(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,i,r,o=this.el,s=e.target,a=this.options,l=a.group,c=Kp.active,u=mp===l,d=a.sort,h=gp||c,p=this,f=!1;if(!Lp){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),s=Mh(s,a.draggable,o,!0),O("dragOver"),Kp.eventCanceled)return f;if(ip.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||p._ignoreWhileAnimating===s)return E(!1);if(Tp=!1,c&&!a.disabled&&(u?d||(i=!sp.contains(ip)):gp===this||(this.lastPutMode=mp.checkPull(this,c,ip,e))&&l.checkPut(this,c,ip,e))){if(r="vertical"===this._getDirection(e,s),t=Vh(ip),O("dragOverValid"),Kp.eventCanceled)return f;if(i)return rp=sp,T(),this._hideClone(),O("revert"),Kp.eventCanceled||(ap?sp.insertBefore(ip,ap):sp.appendChild(ip)),E(!0);var m=zh(o,a.draggable);if(!m||function(e,t,n){var i=Vh(zh(n.el,n.options.draggable));return t?e.clientX>i.right+10||e.clientX<=i.right&&e.clientY>i.bottom&&e.clientX>=i.left:e.clientX>i.right&&e.clientY>i.top||e.clientX<=i.right&&e.clientY>i.bottom+10}(e,r,this)&&!m.animated){if(m===ip)return E(!1);if(m&&o===e.target&&(s=m),s&&(n=Vh(s)),!1!==Zp(sp,o,ip,t,s,n,e,!!s))return T(),o.appendChild(ip),rp=o,$(),E(!0)}else if(s.parentNode===o){n=Vh(s);var g,v,y,b=ip.parentNode!==o,w=!function(e,t,n){var i=n?e.left:e.top,r=n?e.right:e.bottom,o=n?e.width:e.height,s=n?t.left:t.top,a=n?t.right:t.bottom,l=n?t.width:t.height;return i===s||r===a||i+o/2===s+l/2}(ip.animated&&ip.toRect||t,s.animated&&s.toRect||n,r),_=r?"top":"left",x=Bh(s,"top","top")||Bh(ip,"top","top"),k=x?x.scrollTop:void 0;if(Cp!==s&&(v=n[_],$p=!1,Mp=!w&&a.invertSwap||b),0!==(g=function(e,t,n,i,r,o,s,a){var l=i?e.clientY:e.clientX,c=i?n.height:n.width,u=i?n.top:n.left,d=i?n.bottom:n.right,h=!1;if(!s)if(a&&Ap<c*r){if(!$p&&(1===Sp?l>u+c*o/2:l<d-c*o/2)&&($p=!0),$p)h=!0;else if(1===Sp?l<u+Ap:l>d-Ap)return-Sp}else if(l>u+c*(1-r)/2&&l<d-c*(1-r)/2)return function(e){return Wh(ip)<Wh(e)?1:-1}(t);return(h=h||s)&&(l<u+c*o/2||l>d-c*o/2)?l>u+c/2?1:-1:0}(e,s,n,r,w?1:a.swapThreshold,null==a.invertedSwapThreshold?a.swapThreshold:a.invertedSwapThreshold,Mp,Cp===s))){var C=Wh(ip);do{C-=g,y=rp.children[C]}while(y&&("none"===Fh(y,"display")||y===op))}if(0===g||y===s)return E(!1);Cp=s,Sp=g;var S=s.nextElementSibling,A=!1,D=Zp(sp,o,ip,t,s,n,e,A=1===g);if(!1!==D)return 1!==D&&-1!==D||(A=1===D),Lp=!0,setTimeout(Yp,30),T(),A&&!S?o.appendChild(ip):s.parentNode.insertBefore(ip,A?S:s),x&&Gh(x,0,k-x.scrollTop),rp=ip.parentNode,void 0===v||Mp||(Ap=Math.abs(v-Vh(s)[_])),$(),E(!0)}if(o.contains(ip))return E(!1)}return!1}function O(a,l){tp(a,p,yh({evt:e,isOwner:u,axis:r?"vertical":"horizontal",revert:i,dragRect:t,targetRect:n,canSort:d,fromSortable:h,target:s,completed:E,onMove:function(n,i){return Zp(sp,o,ip,t,n,Vh(n),e,i)},changed:$},l))}function T(){O("dragOverAnimationCapture"),p.captureAnimationState(),p!==h&&h.captureAnimationState()}function E(t){return O("dragOverCompleted",{insertion:t}),t&&(u?c._hideClone():c._showClone(p),p!==h&&(Ph(ip,gp?gp.options.ghostClass:c.options.ghostClass,!1),Ph(ip,a.ghostClass,!0)),gp!==p&&p!==Kp.active?gp=p:p===Kp.active&&gp&&(gp=null),h===p&&(p._ignoreWhileAnimating=s),p.animateAll((function(){O("dragOverAnimationComplete"),p._ignoreWhileAnimating=null})),p!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(s===ip&&!ip.animated||s===o&&!s.animated)&&(Cp=null),a.dragoverBubble||e.rootEl||s===document||(ip.parentNode[Qh]._isOutsideThisEl(e.target),!t&&Up(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),f=!0}function $(){hp=Wh(ip),fp=Wh(ip,a.draggable),np({sortable:p,name:"change",toEl:o,newIndex:hp,newDraggableIndex:fp,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){Th(document,"mousemove",this._onTouchMove),Th(document,"touchmove",this._onTouchMove),Th(document,"pointermove",this._onTouchMove),Th(document,"dragover",Up),Th(document,"mousemove",Up),Th(document,"touchmove",Up)},_offUpEvents:function(){var e=this.el.ownerDocument;Th(e,"mouseup",this._onDrop),Th(e,"touchend",this._onDrop),Th(e,"pointerup",this._onDrop),Th(e,"touchcancel",this._onDrop),Th(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;hp=Wh(ip),fp=Wh(ip,n.draggable),tp("drop",this,{evt:e}),rp=ip&&ip.parentNode,hp=Wh(ip),fp=Wh(ip,n.draggable),Kp.eventCanceled||(Op=!1,Mp=!1,$p=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Xp(this.cloneId),Xp(this._dragStartId),this.nativeDraggable&&(Th(document,"drop",this),Th(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Ch&&Fh(document.body,"user-select",""),Fh(ip,"transform",""),e&&(kp&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),op&&op.parentNode&&op.parentNode.removeChild(op),(sp===rp||gp&&"clone"!==gp.lastPutMode)&&cp&&cp.parentNode&&cp.parentNode.removeChild(cp),ip&&(this.nativeDraggable&&Th(ip,"dragend",this),Gp(ip),ip.style["will-change"]="",kp&&!Op&&Ph(ip,gp?gp.options.ghostClass:this.options.ghostClass,!1),Ph(ip,this.options.chosenClass,!1),np({sortable:this,name:"unchoose",toEl:rp,newIndex:null,newDraggableIndex:null,originalEvent:e}),sp!==rp?(hp>=0&&(np({rootEl:rp,name:"add",toEl:rp,fromEl:sp,originalEvent:e}),np({sortable:this,name:"remove",toEl:rp,originalEvent:e}),np({rootEl:rp,name:"sort",toEl:rp,fromEl:sp,originalEvent:e}),np({sortable:this,name:"sort",toEl:rp,originalEvent:e})),gp&&gp.save()):hp!==dp&&hp>=0&&(np({sortable:this,name:"update",toEl:rp,originalEvent:e}),np({sortable:this,name:"sort",toEl:rp,originalEvent:e})),Kp.active&&(null!=hp&&-1!==hp||(hp=dp,fp=pp),np({sortable:this,name:"end",toEl:rp,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){tp("nulling",this),sp=ip=rp=op=ap=cp=lp=up=vp=yp=kp=hp=fp=dp=pp=Cp=Sp=gp=mp=Kp.dragged=Kp.ghost=Kp.clone=Kp.active=null,Pp.forEach((function(e){e.checked=!0})),Pp.length=bp=wp=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":ip&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,i=0,r=n.length,o=this.options;i<r;i++)Mh(e=n[i],o.draggable,this.el,!1)&&t.push(e.getAttribute(o.dataIdAttr)||Qp(e));return t},sort:function(e,t){var n={},i=this.el;this.toArray().forEach((function(e,t){var r=i.children[t];Mh(r,this.options.draggable,i,!1)&&(n[e]=r)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(i.removeChild(n[e]),i.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return Mh(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var i=ep.modifyOption(this,e,t);n[e]=void 0!==i?i:t,"group"===e&&qp(n)},destroy:function(){tp("destroy",this);var e=this.el;e[Qh]=null,Th(e,"mousedown",this._onTapStart),Th(e,"touchstart",this._onTapStart),Th(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Th(e,"dragover",this),Th(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Ep.splice(Ep.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!up){if(tp("hideClone",this),Kp.eventCanceled)return;Fh(cp,"display","none"),this.options.removeCloneOnHide&&cp.parentNode&&cp.parentNode.removeChild(cp),up=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(up){if(tp("showClone",this),Kp.eventCanceled)return;ip.parentNode!=sp||this.options.group.revertClone?ap?sp.insertBefore(cp,ap):sp.appendChild(cp):sp.insertBefore(cp,ip),this.options.group.revertClone&&this.animate(ip,cp),Fh(cp,"display",""),up=!1}}else this._hideClone()}},Fp&&Oh(document,"touchmove",(function(e){(Kp.active||Op)&&e.cancelable&&e.preventDefault()})),Kp.utils={on:Oh,off:Th,css:Fh,find:jh,is:function(e,t){return!!Mh(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:Zh,closest:Mh,toggleClass:Ph,clone:Yh,index:Wh,nextTick:Jp,cancelNextTick:Xp,detectDirection:Bp,getChild:qh},Kp.get=function(e){return e[Qh]},Kp.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Kp.utils=yh({},Kp.utils,e.utils)),ep.mount(e)}))},Kp.create=function(e,t){return new Kp(e,t)},Kp.version="1.13.0";var ef,tf,nf,rf,of,sf,af=[],lf=!1;function cf(){af.forEach((function(e){clearInterval(e.pid)})),af=[]}function uf(){clearInterval(sf)}var df=Zh((function(e,t,n,i){if(t.scroll){var r,o=(e.touches?e.touches[0]:e).clientX,s=(e.touches?e.touches[0]:e).clientY,a=t.scrollSensitivity,l=t.scrollSpeed,c=Nh(),u=!1;tf!==n&&(tf=n,cf(),ef=t.scroll,r=t.scrollFn,!0===ef&&(ef=Hh(n,!0)));var d=0,h=ef;do{var p=h,f=Vh(p),m=f.top,g=f.bottom,v=f.left,y=f.right,b=f.width,w=f.height,_=void 0,x=void 0,k=p.scrollWidth,C=p.scrollHeight,S=Fh(p),A=p.scrollLeft,D=p.scrollTop;p===c?(_=b<k&&("auto"===S.overflowX||"scroll"===S.overflowX||"visible"===S.overflowX),x=w<C&&("auto"===S.overflowY||"scroll"===S.overflowY||"visible"===S.overflowY)):(_=b<k&&("auto"===S.overflowX||"scroll"===S.overflowX),x=w<C&&("auto"===S.overflowY||"scroll"===S.overflowY));var O=_&&(Math.abs(y-o)<=a&&A+b<k)-(Math.abs(v-o)<=a&&!!A),T=x&&(Math.abs(g-s)<=a&&D+w<C)-(Math.abs(m-s)<=a&&!!D);if(!af[d])for(var E=0;E<=d;E++)af[E]||(af[E]={});af[d].vx==O&&af[d].vy==T&&af[d].el===p||(af[d].el=p,af[d].vx=O,af[d].vy=T,clearInterval(af[d].pid),0==O&&0==T||(u=!0,af[d].pid=setInterval(function(){i&&0===this.layer&&Kp.active._onTouchMove(of);var t=af[this.layer].vy?af[this.layer].vy*l:0,n=af[this.layer].vx?af[this.layer].vx*l:0;"function"==typeof r&&"continue"!==r.call(Kp.dragged.parentNode[Qh],n,t,e,of,af[this.layer].el)||Gh(af[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&h!==c&&(h=Hh(h,!1)));lf=u}}),30),hf=function(e){var t=e.originalEvent,n=e.putSortable,i=e.dragEl,r=e.activeSortable,o=e.dispatchSortableEvent,s=e.hideGhostForTarget,a=e.unhideGhostForTarget;if(t){var l=n||r;s();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);a(),l&&!l.el.contains(u)&&(o("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function pf(){}function ff(){}pf.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=qh(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(t,i):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:hf},vh(pf,{pluginName:"revertOnSpill"}),ff.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:hf},vh(ff,{pluginName:"removeOnSpill"}),Kp.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?Oh(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Oh(document,"pointermove",this._handleFallbackAutoScroll):t.touches?Oh(document,"touchmove",this._handleFallbackAutoScroll):Oh(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?Th(document,"dragover",this._handleAutoScroll):(Th(document,"pointermove",this._handleFallbackAutoScroll),Th(document,"touchmove",this._handleFallbackAutoScroll),Th(document,"mousemove",this._handleFallbackAutoScroll)),uf(),cf(),clearTimeout(Rh),Rh=void 0},nulling:function(){of=tf=ef=lf=sf=nf=rf=null,af.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,i=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,o=document.elementFromPoint(i,r);if(of=e,t||xh||_h||Ch){df(e,this.options,o,t);var s=Hh(o,!0);!lf||sf&&i===nf&&r===rf||(sf&&uf(),sf=setInterval((function(){var o=Hh(document.elementFromPoint(i,r),!0);o!==s&&(s=o,cf()),df(e,n.options,o,t)}),10),nf=i,rf=r)}else{if(!this.options.bubbleScroll||Hh(o,!0)===Nh())return void cf();df(e,this.options,Hh(o,!1),!1)}}},vh(e,{pluginName:"scroll",initializeByDefault:!0})}),Kp.mount(ff,pf);const mf="undefined"!=typeof window?window.console:n.g.console,gf=/-(\w)/g,vf=function(e){const t=Object.create(null);return function(e){return t[e]||(t[e]=(e=>e.replace(gf,((e,t)=>t?t.toUpperCase():"")))(e))}}();function yf(e){null!==e.parentElement&&e.parentElement.removeChild(e)}function bf(e,t,n){const i=0===n?e.children[0]:e.children[n-1].nextSibling;e.insertBefore(t,i)}function wf(e,t){this.$nextTick((()=>this.$emit(e.toLowerCase(),t)))}function _f(e){return t=>{null!==this.realList&&this["onDrag"+e](t),wf.call(this,e,t)}}const xf=["Start","Add","Remove","Update","End"],kf=["Choose","Unchoose","Sort","Filter","Clone"],Cf=["Move",...xf,...kf].map((e=>"on"+e));let Sf=null;const Af={options:Object,list:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:e=>e},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null},component:{type:String,default:null},modelValue:{type:Array,required:!1,default:null}},Df=(0,t.aZ)({name:"VueDraggableNext",inheritAttrs:!1,emits:["update:modelValue","move","change",...xf.map((e=>e.toLowerCase())),...kf.map((e=>e.toLowerCase()))],props:Af,data:()=>({transitionMode:!1,noneFunctionalComponentMode:!1,headerOffset:0,footerOffset:0,_sortable:{},visibleIndexes:[],context:{}}),render(){const e=this.$slots.default?this.$slots.default():null,n=(i=this.$attrs,(r=this.componentData)?{...r.props,...r.attrs}:i);var i,r;return e?(this.transitionMode=function(e){if(!e||1!==e.length)return!1;const[{type:t}]=e;return!!t&&(n=t.name,["transition-group","TransitionGroup"].includes(n));var n}(e),(0,t.h)(this.getTag(),n,e)):(0,t.h)(this.getTag(),n,[])},created(){null!==this.list&&null!==this.modelValue&&mf.error("list props are mutually exclusive! Please set one.")},mounted(){const e={};xf.forEach((t=>{e["on"+t]=_f.call(this,t)})),kf.forEach((t=>{e["on"+t]=wf.bind(this,t)}));const t=Object.keys(this.$attrs).reduce(((e,t)=>(e[vf(t)]=this.$attrs[t],e)),{}),n=Object.assign({},t,e,{onMove:(e,t)=>this.onDragMove(e,t)});!("draggable"in n)&&(n.draggable=">*"),this._sortable=new Kp(this.$el,n),this.computeIndexes()},beforeUnmount(){try{void 0!==this._sortable&&this._sortable.destroy()}catch(e){}},computed:{realList(){return this.list?this.list:this.modelValue}},watch:{$attrs:{handler(e){this.updateOptions(e)},deep:!0},realList(){this.computeIndexes()}},methods:{getTag(){return this.component?(0,t.up)(this.component):this.tag},updateOptions(e){for(var t in e){const n=vf(t);-1===Cf.indexOf(n)&&this._sortable.option(n,e[t])}},getChildrenNodes(){return this.$el.children},computeIndexes(){this.$nextTick((()=>{this.visibleIndexes=function(e,t,n,i){if(!e)return[];const r=Object.values(e),o=t.length-i;return[...t].map(((e,t)=>t>=o?r.length:r.indexOf(e)))}(this.getChildrenNodes(),this.$el.children,this.transitionMode,this.footerOffset)}))},getUnderlyingVm(e){const t=(n=this.getChildrenNodes()||[],i=e,Object.values(n).indexOf(i));var n,i;return-1===t?null:{index:t,element:this.realList[t]}},emitChanges(e){this.$nextTick((()=>{this.$emit("change",e)}))},alterList(e){if(this.list)return void e(this.list);const t=[...this.modelValue];e(t),this.$emit("update:modelValue",t)},spliceList(){this.alterList((e=>e.splice(...arguments)))},updatePosition(e,t){this.alterList((n=>n.splice(t,0,n.splice(e,1)[0])))},getVmIndex(e){const t=this.visibleIndexes,n=t.length;return e>n-1?n:t[e]},getComponent(){return this.$slots.default?this.$slots.default()[0].componentInstance:null},resetTransitionData(e){if(!this.noTransitionOnDrag||!this.transitionMode)return;this.getChildrenNodes()[e].data=null;const t=this.getComponent();t.children=[],t.kept=void 0},onDragStart(e){this.context=this.getUnderlyingVm(e.item),this.context&&(e.item._underlying_vm_=this.clone(this.context.element),Sf=e.item)},onDragAdd(e){const t=e.item._underlying_vm_;if(void 0===t)return;yf(e.item);const n=this.getVmIndex(e.newIndex);this.spliceList(n,0,t),this.computeIndexes();const i={element:t,newIndex:n};this.emitChanges({added:i})},onDragRemove(e){if(bf(this.$el,e.item,e.oldIndex),"clone"===e.pullMode)return void yf(e.clone);if(!this.context)return;const t=this.context.index;this.spliceList(t,1);const n={element:this.context.element,oldIndex:t};this.resetTransitionData(t),this.emitChanges({removed:n})},onDragUpdate(e){yf(e.item),bf(e.from,e.item,e.oldIndex);const t=this.context.index,n=this.getVmIndex(e.newIndex);this.updatePosition(t,n);const i={element:this.context.element,oldIndex:t,newIndex:n};this.emitChanges({moved:i})},updateProperty(e,t){e.hasOwnProperty(t)&&(e[t]+=this.headerOffset)},onDragMove(e,t){const n=this.move;if(!n||!this.realList)return!0;const i=this.getRelatedContextFromMoveEvent(e),r=this.context,o=this.computeFutureIndex(i,e);return Object.assign(r,{futureIndex:o}),n(Object.assign({},e,{relatedContext:i,draggedContext:r}),t)},onDragEnd(){this.computeIndexes(),Sf=null},getRelatedContextFromMoveEvent({to:e,related:t}){const n=this;if(!n)return{component:n};const i=n.realList,r={list:i,component:n};if(e!==t&&i&&n.getUnderlyingVm){const e=n.getUnderlyingVm(t);if(e)return Object.assign(e,r)}return r},computeFutureIndex(e,t){if(!e.element)return 0;const n=[...t.to.children].filter((e=>"none"!==e.style.display)),i=n.indexOf(t.related),r=e.component.getVmIndex(i);return-1===n.indexOf(Sf)&&t.willInsertAfter?r+1:r}}});function Of(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(0,t.dD)("data-v-27494ba4");var Tf={class:"ivu-tag-text"},Ef=["onClick"],$f=["placeholder","disabled"],Mf={ref:"dropdown",class:"ivu-select-dropdown"},Rf={key:0,class:"ivu-select-not-found"},Lf={class:"ivu-select-dropdown-list"},Pf=(0,t._)("i",{class:"ion ion-md-return-left ivu-select-item-enter"},null,-1),Ff=["onClick"];function If(e){return function(e){if(Array.isArray(e))return jf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return jf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jf(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}(0,t.Cn)();const Nf={name:"SimpleSelect",directives:{clickOutside:iu.X},props:{modelValue:{type:[String,Number,Array,Boolean],reqired:!1,default:""},options:{type:Array,required:!1,default:function(){return[]}},selectedOptions:{type:Array,required:!1,default:function(){return[]}},selectedOption:{type:[Array,Object],required:!1,default:null},size:{type:String,reqired:!1,default:"default"},icon:{type:String,reqired:!1,default:null},filterable:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!1},allowCreate:{type:Boolean,required:!1,default:!1},withCreateButton:{type:Boolean,required:!1,default:!1},withDeselect:{type:Boolean,required:!1,default:!0},createFunction:{type:Function,required:!1,default:function(e){return Promise.resolve({value:e,label:e})}},border:{type:Boolean,required:!1,default:!0},placeholder:{type:String,reqired:!1,default:Le.cR.select},labelKey:{type:[String,Number],reqired:!1,default:"label"},labelFunction:{type:Function,required:!1,default:null},valueFunction:{type:Function,required:!1,default:null},focusFirst:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},optionComponent:{type:Object,required:!1,default:null},valueKey:{type:[String,Number],reqired:!1,default:"value"},inputValue:{type:String,reqired:!1,default:""},remoteFunction:{type:Function,required:!1,default:null}},emits:["update:modelValue","update:selectedOptions","update:selectedOption","search","select","click-create"],data:function(){return{isLoading:!1,optionsData:[],optionRefs:[],popper:null,selectedOptionData:null,selectedOptionsData:[],focusIndex:-1,searchInput:this.inputValue,isOptionsLoaded:!1,isOpen:!1}},computed:{remoteFunctionThrottled:function(){var e=this;return(0,B.Z)((function(t){return e.remoteFunction(t)}),500)},displayCreate:function(){var e=this;return this.searchInput&&this.allowCreate&&!this.optionsToRender.find((function(t){return e.getValue(t)===e.searchInput}))},withFilter:function(){return this.remoteFunction||this.filterable||this.allowCreate},optionsToRender:function(){var e=this;if(!this.filterable&&!this.allowCreate||this.remoteFunction){if(this.remoteFunction&&!this.multiple&&this.selectedOptionData&&this.searchInput===this.getLabel(this.selectedOptionData)){var t=this.optionsData.filter((function(t){return e.getValue(t)!==e.getValue(e.selectedOptionData)}));return[this.selectedOption].concat(If(t))}return this.optionsData}return this.filteredOptions.slice(0,100)},filteredOptions:function(){var e=this;return this.remoteFunction?[]:this.searchInput&&this.searchInput!==this.getLabel(this.selectedOptionData)?this.optionsData.filter((function(t){return e.getLabel(t).toString().toLowerCase().includes(e.searchInput.toString().toLowerCase())})):this.optionsData},notFound:function(){return!this.allowCreate&&this.withFilter&&(!this.remoteFunction||!!this.searchInput)&&0===this.optionsToRender.length}},watch:{isOptionsLoaded:function(){if(this.assignSelectedFromValue(this.modelValue),!this.multiple){var e=this.getLabel(this.selectedOptionData);e&&(this.searchInput=e)}},selectedOptions:function(e){this.selectedOptionsData=If(e)},selectedOption:function(e){this.selectedOptionData=e,this.searchInput=this.getLabel(this.selectedOptionData)},optionsToRender:function(e,t){var n;e.length!==t.length&&(null===(n=this.popper)||void 0===n||n.update())},modelValue:function(e){var t=this;this.remoteFunction&&!this.multiple?this.searchInput!==this.getLabel(this.selectedOptionData)?this.remoteFunction(this.searchInput||e).then((function(){t.assignSelectedFromValue(e),t.searchInput=t.getLabel(t.selectedOptionData)})):this.remoteFunction(""):(this.assignSelectedFromValue(e),this.searchInput=this.getLabel(this.selectedOptionData))},options:{deep:!0,handler:function(e){this.optionsData=this.normalizeOptions(e),this.remoteFunction||this.assignSelectedFromValue(this.modelValue),this.optionsData.length&&(this.isOptionsLoaded=!0)}},isOpen:function(e){e&&(this.$refs.dropdown.style.minWidth=(0,yl.C2)(this.$el,"width"))}},mounted:function(){this.remoteFunction?(this.remoteFunction(this.multiple?this.searchInput:""),this.multiple||(this.selectedOptionData=this.selectedOption,this.searchInput=this.getLabel(this.selectedOptionData)||this.modelValue)):(this.optionsData=this.normalizeOptions(this.options),this.multiple?(this.selectedOptionsData=If(this.selectedOptions),!this.options.length&&this.allowCreate&&(this.optionsData=If(this.normalizeOptions(this.modelValue))),this.assignSelectedFromValue(this.modelValue)):(this.selectedOptionData=this.selectedOption,this.assignSelectedFromValue(this.modelValue),this.searchInput=this.getLabel(this.selectedOptionData)||this.modelValue))},beforeUpdate:function(){this.optionRefs=[]},methods:{setOptionRef:function(e){e&&this.optionRefs.push(e)},createOption:function(e){var t=this;this.createFunction(e).then((function(e){t.optionsData.unshift(e),t.selectOption(e)}))},onTabKey:function(){if(this.displayCreate&&0===this.focusIndex)this.createOption(this.searchInput);else{var e=this.getLabel(this.optionsToRender[this.focusIndex]);e&&(this.searchInput=e,this.onSearch())}},normalizeOptions:function(e){return null!=e&&e.length?["string","number","boolean"].includes(typeof e[0])?e.map((function(e){return{value:e,label:e.toString()}})):If(e):[]},getLabel:function(e){var t;return e?this.labelFunction?this.labelFunction(e):null!==(t=e[this.labelKey])&&void 0!==t?t:"":""},getValue:function(e){var t;return e?this.valueFunction?this.valueFunction(e):null!==(t=e[this.valueKey])&&void 0!==t?t:"":""},onSearch:function(){var e;this.remoteFunction&&this.remoteFunctionThrottled(this.searchInput);var t=this.optionsToRender.indexOf(this.selectedOptionData);this.focusIndex=-1===t?0:t,this.isOpen=!0,null===(e=this.popper)||void 0===e||e.update(),this.$emit("search",this.searchInput)},moveFocus:(0,B.Z)((function(e){var t=this,n=this.displayCreate||this.withCreateButton?this.optionsToRender.length+1:this.optionsToRender.length,i=this.focusIndex+e;i>=n?this.focusIndex=0:i<0?this.focusIndex=n-1:this.focusIndex+=e,this.$nextTick((function(){var e;null===(e=t.optionRefs[t.focusIndex])||void 0===e||e.scrollIntoView({block:"nearest"})}))}),80),applyFocused:function(){if(this.displayCreate&&0===this.focusIndex)this.createOption(this.searchInput),this.toggleDropdown();else if(this.withCreateButton&&this.focusIndex===this.optionsToRender.length)this.$emit("click-create");else{var e=this.displayCreate?this.focusIndex+1:this.focusIndex,t=this.optionsToRender[e];t&&this.selectOption(t)}},assignSelectedFromValue:function(e){var t=this;if(this.multiple)e&&(this.selectedOptionsData=e.map((function(e){return t.selectedOptionsData.find((function(n){return t.getValue(n).toString()===(null!=e?e:"").toString()}))||t.optionsData.find((function(n){return t.getValue(n).toString()===(null!=e?e:"").toString()}))})));else{this.getValue(this.selectedOption).toString()===(null!=e?e:"").toString()?this.selectedOptionData=this.selectedOption:this.selectedOptionData=this.optionsData.find((function(n){return t.getValue(n).toString()===(null!=e?e:"").toString()}));var n=this.optionsToRender.indexOf(this.selectedOptionData);this.focusIndex=this.focusFirst&&-1===n?0:n,this.$emit("update:selectedOption",this.selectedOptionData)}},isSelected:function(e){var t=this;return!(!this.getValue(e)||!this.selectedOptionData&&!this.selectedOptionsData.length)&&(this.multiple?this.selectedOptionsData:[this.selectedOptionData]).find((function(n){return t.getValue(n)===t.getValue(e)}))},deselect:function(){this.selectedOptionData=null,this.searchInput="",this.$emit("update:modelValue",""),this.$emit("update:selectedOption",null),this.$emit("select",null)},selectOption:function(e){var t=this;if(this.multiple){var n,i,r=this.selectedOptionsData.find((function(n){return t.getValue(n)===t.getValue(e)}));r?this.selectedOptionsData.splice(this.selectedOptionsData.indexOf(r),1):this.selectedOptionsData.push(e),this.searchInput="",this.remoteFunction&&this.remoteFunction(this.searchInput),this.$emit("update:selectedOptions",this.selectedOptionsData),this.$emit("update:modelValue",this.selectedOptionsData.map(this.getValue)),this.$emit("select",this.selectedOptionsData),this.focusIndex=this.optionsToRender.indexOf(e),null===(n=this.popper)||void 0===n||n.update(),null===(i=this.$refs.input)||void 0===i||i.focus()}else this.selectedOptionData=e,this.searchInput=this.getLabel(e),this.focusIndex=this.optionsToRender.indexOf(e),this.$emit("update:modelValue",this.getValue(e)),this.$emit("update:selectedOption",e),this.$emit("select",e),this.closeDropdown()},onOptionMove:function(){this.$emit("update:modelValue",this.selectedOptionsData.map(this.getValue)),this.$emit("update:selectedOptions",this.selectedOptionsData)},removeOption:function(e){this.selectedOptionsData.splice(this.selectedOptionsData.indexOf(e),1),this.$emit("update:modelValue",this.selectedOptionsData.map(this.getValue)),this.$emit("update:selectedOptions",this.selectedOptionsData)},maybeRemoveOption:function(){this.multiple&&""===this.searchInput&&this.removeOption(this.selectedOptions[this.selectedOptionsData.length-1])},closeDropdown:function(){var e=this;this.isOpen=!1,this.selectedOptionData&&(this.searchInput=this.getLabel(this.selectedOptionData)),this.$nextTick((function(){var t;null===(t=e.optionRefs[0])||void 0===t||t.scrollIntoView({block:"nearest"})}))},toggleDropdown:function(){var e;this.disabled||(this.isOpen=!this.isOpen,this.popper||(this.popper=new(Ha())(this.$el,this.$refs.dropdown,{placement:"bottom-start",modifiers:{computeStyle:{gpuAcceleration:!1},preventOverflow:{boundariesElement:"window"}}})),this.popper.update(),null===(e=this.$refs.input)||void 0===e||e.focus())}},render:function(n,i,r,o,s,a){var l,u=(0,t.up)("VueDraggableNext"),d=(0,t.up)("Icon"),h=(0,t.Q2)("click-outside");return(0,t.wy)(((0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(["ivu-select",(l={"ivu-select-visible":s.isOpen},Of(l,"ivu-select-".concat(r.size),!0),Of(l,"ivu-select-multiple",r.multiple),Of(l,"ivu-select-disabled",r.disabled),Of(l,"ivu-select-single",!r.multiple),l)]),onKeydown:[i[10]||(i[10]=(0,e.D2)((0,e.iM)((function(){return a.applyFocused&&a.applyFocused.apply(a,arguments)}),["stop"]),["enter"])),i[11]||(i[11]=(0,e.D2)((0,e.iM)((function(e){return a.moveFocus(-1)}),["prevent"]),["up"])),i[12]||(i[12]=(0,e.D2)((0,e.iM)((function(e){return a.moveFocus(1)}),["prevent"]),["down"]))]},[(0,t._)("div",{ref:"selection",tabindex:"-1",class:(0,c.C_)(r.border?"ivu-select-selection":"ivu-select-no-border"),onClick:i[7]||(i[7]=function(){return a.toggleDropdown&&a.toggleDropdown.apply(a,arguments)})},[(0,t._)("div",null,[r.multiple?((0,t.wg)(),(0,t.j4)(u,{key:0,list:s.selectedOptionsData,class:"d-inline",onEnd:a.onOptionMove},{default:(0,t.w5)((function(){return[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.selectedOptionsData,(function(n){return(0,t.wg)(),(0,t.iD)("div",{key:a.getValue(n),class:"ivu-tag ivu-tag-checked"},[(0,t._)("span",Tf,(0,c.zw)(a.getLabel(n)),1),(0,t._)("i",{class:"ion ion-ios-close",onClick:(0,e.iM)((function(e){return a.removeOption(n)}),["stop"])},null,8,Ef)])})),128))]})),_:1},8,["list","onEnd"])):(0,t.kq)("v-if",!0),r.remoteFunction||r.filterable||r.allowCreate?(0,t.wy)(((0,t.wg)(),(0,t.iD)("input",{key:1,ref:"input","onUpdate:modelValue":i[0]||(i[0]=function(e){return s.searchInput=e}),type:"text",placeholder:s.selectedOptionsData.length?"":r.placeholder,autocomplete:"off",spellcheck:"false",disabled:r.disabled,class:(0,c.C_)(["ivu-select-input",{"ivu-input-no-border":!r.border}]),onKeydown:[i[1]||(i[1]=(0,e.D2)((function(e){return s.isOpen=!0}),["down"])),i[2]||(i[2]=(0,e.D2)((function(e){return s.isOpen=!0}),["up"])),i[3]||(i[3]=(0,e.D2)((0,e.iM)((function(){return a.onTabKey&&a.onTabKey.apply(a,arguments)}),["prevent"]),["tab"])),i[4]||(i[4]=(0,e.D2)((function(){return a.maybeRemoveOption&&a.maybeRemoveOption.apply(a,arguments)}),["backspace"]))],onInput:i[5]||(i[5]=function(){return a.onSearch&&a.onSearch.apply(a,arguments)})},null,42,$f)),[[e.nr,s.searchInput]]):r.optionComponent&&s.selectedOptionData?((0,t.wg)(),(0,t.j4)((0,t.LL)(r.optionComponent),{key:2,class:(0,c.C_)({"ivu-select-placeholder":!s.selectedOptionData,"ivu-select-selected-value":s.selectedOptionData}),option:s.selectedOptionData},null,8,["class","option"])):s.selectedOptionData||!s.selectedOptionsData.length?((0,t.wg)(),(0,t.iD)("span",{key:3,class:(0,c.C_)({"ivu-select-placeholder":!s.selectedOptionData,"ivu-select-selected-value":s.selectedOptionData})},(0,c.zw)(s.selectedOptionData?a.getLabel(s.selectedOptionData):r.placeholder),3)):(0,t.kq)("v-if",!0),r.withDeselect&&s.selectedOptionData?((0,t.wg)(),(0,t.iD)("i",{key:4,class:"ivu-select-icon ion ion-ios-close-circle ivu-select-custom-icon",onClick:i[6]||(i[6]=(0,e.iM)((function(){return a.deselect&&a.deselect.apply(a,arguments)}),["stop"]))})):((0,t.wg)(),(0,t.iD)("i",{key:5,class:(0,c.C_)(["ivu-select-icon",r.icon?"ion ion-".concat(r.icon," ivu-select-custom-icon"):"ion ion-ios-arrow-down ivu-select-arrow"])},null,2))])],2),(0,t.Wm)(e.uT,{name:"transition-drop"},{default:(0,t.w5)((function(){return[(0,t.wy)((0,t._)("div",Mf,[a.notFound&&!r.withCreateButton?((0,t.wg)(),(0,t.iD)("ul",Rf,[(0,t._)("li",null,(0,c.zw)(n.i18n.not_found),1)])):(0,t.kq)("v-if",!0),(0,t._)("ul",Lf,[a.displayCreate?((0,t.wg)(),(0,t.iD)("li",{key:0,class:(0,c.C_)(["ivu-select-item",{"ivu-select-item-focus":0===s.focusIndex}]),onClick:i[8]||(i[8]=(0,e.iM)((function(e){return a.createOption(s.searchInput)}),["stop"]))},[(0,t.Uk)((0,c.zw)(s.searchInput)+" ",1),Pf],2)):(0,t.kq)("v-if",!0),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.optionsToRender,(function(n,i){return(0,t.wg)(),(0,t.iD)("li",{key:i,ref:a.setOptionRef,class:(0,c.C_)(["ivu-select-item",[a.isSelected(n)?"ivu-select-item-selected ivu-select-item-focus":"",s.focusIndex===(a.displayCreate?i+1:i)?"ivu-select-item-focus":""]]),onClick:(0,e.iM)((function(e){return a.selectOption(n)}),["stop"])},[r.optionComponent&&n?((0,t.wg)(),(0,t.j4)((0,t.LL)(r.optionComponent),{key:0,option:n},null,8,["option"])):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t.Uk)((0,c.zw)(a.getLabel(n)),1)],2112))],10,Ff)})),128)),r.withCreateButton?((0,t.wg)(),(0,t.iD)("li",{key:1,class:(0,c.C_)(["ivu-select-item text-center",{"ivu-select-item-focus":s.focusIndex===a.optionsToRender.length}]),onClick:i[9]||(i[9]=(0,e.iM)((function(e){return n.$emit("click-create")}),["stop"]))},[(0,t.Wm)(d,{type:"md-add"}),(0,t.Uk)(" "+(0,c.zw)(n.i18n.create_new),1)],2)):(0,t.kq)("v-if",!0)]),(0,t.wy)((0,t._)("div",{class:"ivu-select-loading"},(0,c.zw)(n.i18n.loading),513),[[e.F8,s.isLoading]])],512),[[e.F8,s.isOpen&&(s.optionsData.length||a.displayCreate||a.notFound)]])]})),_:1})],34)),[[h,a.closeDropdown]])},__scopeId:"data-v-27494ba4"},Vf={name:"Contenteditable",props:{modelValue:{type:String,required:!1,default:""},tag:{type:String,required:!1,default:"p"},contenteditable:{type:Boolean,required:!1,default:!0},withEditButton:{type:Boolean,required:!1,default:!0}},emits:["update:modelValue","change"],data:function(){return{value:this.modelValue,isContentEditable:!1}},watch:{modelValue:function(e){e.trim()!==this.$refs.contenteditable.innerText.trim()&&(this.value=e)}},methods:{updateModelValue:function(e){this.$emit("update:modelValue",e.target.innerText.trim())},onEditClick:function(){var e=this;this.isContentEditable=!0,this.$nextTick((function(){e.$refs.contenteditable.focus(),document.execCommand("selectAll",!1,null),document.getSelection().collapseToEnd()}))},onFocusLost:function(){this.isContentEditable=!1,this.value!==this.modelValue&&(!this.modelValue||this.modelValue.match(/^\s+$/)?(this.$emit("update:modelValue",this.value),this.$refs.contenteditable.innerHTML=this.value):(this.value=this.modelValue,this.$emit("change",this.value)))}},render:function(n,i,r,o,s,a){var l=(0,t.up)("Icon");return(0,t.wg)(),(0,t.iD)(t.HY,null,[((0,t.wg)(),(0,t.j4)((0,t.LL)(r.tag),(0,t.dG)({ref:"contenteditable",contenteditable:r.contenteditable,class:"cursor-text"},n.$attrs,{onInput:a.updateModelValue,onClick:i[0]||(i[0]=function(e){return s.isContentEditable=!0}),onBlur:a.onFocusLost,onKeydown:i[1]||(i[1]=(0,e.D2)((0,e.iM)((function(e){return n.$refs.contenteditable.blur()}),["prevent"]),["enter"]))}),{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(s.value),1)]})),_:1},16,["contenteditable","onInput","onBlur"])),r.withEditButton&&!s.isContentEditable?((0,t.wg)(),(0,t.j4)(l,{key:0,type:"md-create",class:"contenteditable-edit-button ms-2 cursor-pointer",onClick:(0,e.iM)(a.onEditClick,["stop"])},null,8,["onClick"])):(0,t.kq)("v-if",!0)],64)}};var Bf=n(8504);Le.cR.i&&Object.assign(Bf.Z,{i:Le.cR.i});var qf=(0,e.ri)(Ve);qf.config.globalProperties.i18n=Le.cR,qf.directive("popover",ll),qf.component("VButton",hl.Z),qf.component("Menu",Hl),qf.component("Submenu",Ul),qf.component("MenuItem",Zl),qf.component("Icon",dl.Z),qf.component("VHeader",Xl),qf.component("Card",tc),qf.component("VInput",ic.Z),qf.component("VForm",dc),qf.component("FormItem",jc),qf.component("Spin",Uc),qf.component("Checkbox",Gc),qf.component("Tag",Jc),qf.component("Radio",Vc),qf.component("RadioGroup",Wc),qf.component("Panel",eu),qf.component("VSelect",fu),qf.component("VOption",mu),qf.component("Layout",nc),qf.component("Sider",vu),qf.component("Breadcrumb",yu),qf.component("BreadcrumbItem",_u),qf.component("Pagination",Zu),qf.component("Dropdown",Gl),qf.component("DropdownMenu",Ql),qf.component("DropdownItem",Jl),qf.component("InputNumber",cc),qf.component("Split",Gu),qf.component("DatePicker",lh),qf.component("MSelect",Nf),qf.component("Badge",dh),qf.component("Collapse",hh),qf.component("VueDraggableNext",Df),qf.component("Contenteditable",Vf),qf.component("Progress",fh),qf.use(za),qf.use(xl),qf.use(kl.Z),qf.use(ol),qf.use(Sl),qf.use(Vl),qf.use(je.Z),document.addEventListener("DOMContentLoaded",(function(){qf.mount("#app")}))})()})();